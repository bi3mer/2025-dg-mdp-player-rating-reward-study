var VJ=Object.defineProperty;var i6=(Z,Q)=>{for(var J in Q)VJ(Z,J,{get:Q[J],enumerable:!0,configurable:!0,set:($)=>Q[J]=()=>$})};function C6(Z){switch(Z){case"Down":case"ArrowDown":return 2;case"Up":case"ArrowUp":return 3;case"Right":case"ArrowRight":return 1;case"Left":case"ArrowLeft":return 0;case" ":case"Space":return 10;case"Escape":return 11;case"a":case"A":return 5;case"s":case"S":return 6;case"d":case"D":return 7;case"w":case"W":return 4;case"r":case"R":return 9;case"q":case"Q":return 8;case"Enter":return 12;default:return console.warn(`Unhandled key: ${Z}.`),13}}class P8{keyDown=new Set;keyPress=new Set;width;height;delta;clearBackground=!0;displayFPS=!0;scenes=new Array;sceneIndex=0;ctx;blackBoard=new Map;fontSize=20;font="Courier New";running=!0;constructor(){window.addEventListener("keydown",(Q)=>{let J=C6(Q.key);if(J==2||J==3||J==0||J==1)Q.preventDefault();if(!this.keyDown.has(J))this.keyDown.add(J);this.keyPress.add(J)}),window.addEventListener("keyup",(Q)=>{let J=C6(Q.key);this.keyDown.delete(J)});let Z=document.getElementById("canvas");this.ctx=Z.getContext("2d"),this.setFont(),this.width=Z.width,this.height=Z.height,this.delta=0}isKeyDown(Z){return this.keyDown.has(Z)}setBB(Z,Q){this.blackBoard.set(Z,Q)}getBB(Z){return this.blackBoard.get(Z)}addScene(Z){return this.scenes.push(Z),this.scenes.length-1}start(){let Z,Q;this.scenes[this.sceneIndex].onEnter(this);let J=($)=>{if(this.delta=($-Z)/1000,Z=$,Q=Math.round(1/this.delta),this.clearBackground)this.ctx.fillStyle="black",this.ctx.fillRect(0,0,this.width,this.height);if(this.update(),this.displayFPS&&this.clearBackground){let w=this.fontSize,U=this.font;this.setFont(8,"Courier New"),this.drawText(this.width-60,15,`FPS: ${Q}`,"red"),this.setFont(w,U)}if(this.keyPress.clear(),this.running)window.requestAnimationFrame(J)};window.requestAnimationFrame(J)}update(){let Z=this.scenes[this.sceneIndex].update(this);if(Z!==-1)this.scenes[this.sceneIndex].onExit(this),this.sceneIndex=Z,this.scenes[this.sceneIndex].onEnter(this)}setFont(Z=void 0,Q=void 0){if(Z!=null)this.fontSize=Z;if(Q!=null)this.font=Q;this.ctx.font=`${this.fontSize}px ${this.font}`}drawRectOutline(Z,Q,J,$,w,U){this.ctx.lineWidth=w,this.ctx.strokeStyle=U,this.ctx.strokeRect(Z,Q,J,$)}drawRect(Z,Q,J,$,w){this.ctx.fillStyle=w,this.ctx.fillRect(Z,Q,J,$)}drawText(Z,Q,J,$="white",w=!1,U="white"){if(w){let q=this.ctx.measureText(J);this.drawRect(Z-1,Q-this.fontSize*0.7,q.width,this.fontSize-2,U)}this.ctx.fillStyle=$,this.ctx.fillText(J,Z,Q)}shutoff(){this.running=!1}}class Q0{}class r6{map=new Map;add(Z){this.map.set(Z.constructor,Z)}get(Z){return this.map.get(Z)}has(Z){return this.map.has(Z)}hasAll(Z){for(let Q of Z)if(!this.map.has(Q))return!1;return!0}delete(Z){this.map.delete(Z)}}class $0{ecs}class T0{}class m2 extends T0{entities=new Map;priorityToSystem=new Map;priorityToComponents=new Map;priorities=new Array;blackBoard=new Map;nextEntityID=0;entitiesToDestroy=new Array;update(Z){for(let Q of this.priorities){let J=this.priorityToSystem.get(Q),$=this.priorityToComponents.get(Q);J.update(Z,$)}while(this.entitiesToDestroy.length>0)this.destroyEntity(this.entitiesToDestroy.pop());return this.customUpdate(Z)}addEntity(){let Z=this.nextEntityID;return this.nextEntityID++,this.entities.set(Z,new r6),Z}removeEntity(Z){this.entitiesToDestroy.push(Z)}addComponent(Z,Q){this.entities.get(Z).add(Q),this.checkE(Z)}getComponents(Z){return this.entities.get(Z)}removeComponent(Z,Q){this.entities.get(Z)?.delete(Q),this.checkE(Z)}setBB(Z,Q){this.blackBoard.set(Z,Q)}getBB(Z){return this.blackBoard.get(Z)}addSystem(Z,Q){if(this.priorities.includes(Z)){alert("Fatal error. Check the console."),console.error(`${Q} can not be used since priority ${Z} already in use.`);return}Q.ecs=this,this.priorityToSystem.set(Z,Q),this.priorityToComponents.set(Z,new Set),this.priorities.push(Z),this.priorities.sort();for(let J of this.entities.keys())this.checkES(J,Z)}clear(){this.entities.clear(),this.priorityToComponents.clear(),this.priorityToSystem.clear(),this.blackBoard.clear(),this.priorities.length=0,this.nextEntityID=0}destroyEntity(Z){this.entities.delete(Z);for(let Q of this.priorities)this.priorityToComponents.get(Q)?.delete(Z)}checkE(Z){for(let Q of this.priorities)this.checkES(Z,Q)}checkES(Z,Q){let J=this.entities.get(Z),$=this.priorityToSystem.get(Q).componentsRequired;if(J.hasAll($))this.priorityToComponents.get(Q).add(Z);else this.priorityToComponents.get(Q).delete(Z)}}var D={};i6(D,{Position2d:()=>a});class a extends Q0{x;y;oldX;oldY;changed=!1;constructor(Z,Q){super();this.x=Z;this.y=Q;this.x=Z,this.y=Q,this.oldX=Z,this.oldY=Q}toArray(){return[this.x,this.y]}equals(Z){return this.x==Z.x&&this.y==Z.y}hash(){return(this.x+this.y)*(this.x+this.y+1)/2+this.y}oldHash(){return(this.oldX+this.oldY)*(this.oldX+this.oldY+1)/2+this.oldY}updated(){return this.changed}set(Z,Q){this.changed=!0,this.x=Z,this.y=Q}setPos(Z){this.changed=!0,this.x=Z.x,this.y=Z.y}setX(Z){this.changed=!0,this.x=Z}setY(Z){this.changed=!0,this.y=Z}getX(){return this.x}getY(){return this.y}acceptChange(){this.changed=!1,this.oldX=this.x,this.oldY=this.y}rejectChange(){this.changed=!1,this.x=this.oldX,this.y=this.oldY}euclideanDistance(Z){let Q=Math.pow(this.x-Z.x,2),J=Math.pow(this.y-Z.y,2);return Math.sqrt(Q+J)}add(Z){return new a(this.x+Z.x,this.y+Z.y)}}var n2={};i6(n2,{GridCollisions:()=>v1,Cookie:()=>W2});class v1{grid=new Map;get(Z){return this.grid.get(Z.hash())}set(Z,Q){let J=Z.hash();if(this.grid.has(J))return!1;return this.grid.set(J,Q),!0}remove(Z,Q){if(Q)this.grid.delete(Z.hash());else this.grid.delete(Z.oldHash())}acceptChange(Z,Q){this.grid.delete(Z.oldHash()),Z.acceptChange(),this.grid.set(Z.hash(),Q)}}var W2={};i6(W2,{set:()=>zJ,get:()=>UJ});function zJ(Z,Q){let J=new Date;J.setTime(J.getTime()+2678400000),document.cookie=Z+"="+Q+"; expires="+J.toUTCString()+"; path=/"}function UJ(Z){let J=("; "+document.cookie).split("; "+Z+"=");if(J!=null&&J.length==2)return J.pop().split(";").shift();return}class n0 extends Q0{constructor(){super()}}class H2 extends Q0{constructor(){super()}}class H0 extends Q0{stamina;furthestColumn;constructor(Z,Q){super();this.stamina=Z;this.furthestColumn=Q}}class g2 extends Q0{constructor(){super()}}class L0 extends Q0{character;constructor(Z){super();this.character=Z}}class m6 extends Q0{constructor(){super()}}class x2 extends Q0{type;startPosition;constructor(Z,Q){super();this.type=Z;this.startPosition=Q}}class n6 extends Q0{constructor(){super()}}var Y2=11,A0=40,v9=30,d0=-1,f9=1,M8=0,f1=8,g6=7,E0=3;var u0="start",W="death",s6="end",H9="#FF000022",Y9="#FF440011",H1="difficulty",u8="enjoyment",Y1="switch",K1="random",p1="mean",K9=3,i8=performance.now(),C8=600000;class l1 extends Q0{territory;constructor(Z){super();this.territory=[];for(let Q=-E0;Q<=E0;++Q)for(let J=-E0;J<=E0;++J){let $=new D.Position2d(J+Z.getX(),Q+Z.getY());if(Z.euclideanDistance($)<=E0)this.territory.push($)}}}var g={Collider:n0,Enemy:x2,Movable:H2,Player:H0,Portal:g2,Render:L0,Switch:m6,Food:n6,Territory:l1,VisibleText:Text};class u{static playerID="-1";static playerWon=!1;static order=0;static staminaLeft=0;static time=0;static levels=[];static diedFrom="Stamina";static playerGaveUp=!1;static gamesPlayed=0;static director="-1";static version="0.0.1";static tutorialDiedToEnemy=0;static tutorialDiedToStamina=0;static playerPathX=[];static playerPathY=[];static demographicSurveyData={}}class T1 extends $0{componentsRequired=new Set([D.Position2d,g.Enemy,g.Movable]);constructor(){super()}update(Z,Q){if(this.ecs.getBB("time step")%3!=0)return;let J=this.ecs.getBB("player id"),$=this.ecs.getComponents(J),w=$.get(D.Position2d),U=this.ecs.getBB("grid collisions");Z:for(let h of Q){let j=this.ecs.getComponents(h),R=j.get(D.Position2d),f=j.get(x2).startPosition,Y,K=f.euclideanDistance(w),P=R.euclideanDistance(f);if(K<=E0&&P<=E0)Y=w;else Y=f;let A=this.getMoves(R,Y),_=A.length;for(let M=0;M<_;++M){let C=R.add(A[M]);if(C.equals(w)){u.staminaLeft=$.get(H0).stamina,u.diedFrom=j.get(x2).type,this.ecs.setBB("game over",d0);break Z}else if(U.get(C)===void 0){R.setPos(C),U.acceptChange(R,h);break}}}let q=this.ecs.getBB("time step");this.ecs.setBB("time step",q+1)}getMoves(Z,Q){let J=new Array,$=Z.getY()-g6,w=Z.getX()-f1,U=Q.getY()-$-g6,q=Q.getX()-w-f1;if(U==0&&q==0)return J;if(Math.abs(U)>Math.abs(q)){if(U!==0)J.push(new D.Position2d(0,Math.sign(U)));if(q!==0)J.push(new D.Position2d(Math.sign(q),0))}else if(Math.abs(q)>Math.abs(U)){if(q!==0)J.push(new D.Position2d(Math.sign(q),0));if(U!==0)J.push(new D.Position2d(0,Math.sign(U)))}else if((w+$)%2==0){if(U!==0)J.push(new D.Position2d(0,Math.sign(U)));if(q!==0)J.push(new D.Position2d(Math.sign(q),0))}else{if(q!==0)J.push(new D.Position2d(Math.sign(q),0));if(U!==0)J.push(new D.Position2d(0,Math.sign(U)))}return J}}class A1 extends $0{componentsRequired=new Set([]);update(Z,Q){let J=this.ecs.getBB("player id"),$=this.ecs.getComponents(J),w=$.get(D.Position2d);if(!w.updated())return;let U=$.get(g.Player);if(U.stamina<=0)u.diedFrom="Stamina",u.staminaLeft=0,this.ecs.setBB("game over",d0);let q=this.ecs.getBB("grid collisions"),h=q.get(w);if(h==null){q.acceptChange(w,J);return}let j=this.ecs.getComponents(h);if(j.has(g.Switch)){let R=this.ecs.getBB("switch count")-1;this.ecs.setBB("switch count",R),this.ecs.removeEntity(h),q.acceptChange(w,J);return}if(j.has(g.Enemy)){u.diedFrom=j.get(g.Enemy).type,u.staminaLeft=U.stamina,this.ecs.setBB("game over",d0);return}if(j.has(g.Portal)){if(this.ecs.getBB("switch count")==0)u.diedFrom="",u.playerWon=!0,u.staminaLeft=U.stamina,this.ecs.setBB("game over",f9);else w.rejectChange();return}if(j.has(g.Food)){U.stamina=Math.min(U.stamina+v9,A0),this.ecs.removeEntity(h),q.acceptChange(w,J),this.ecs.setBB("game over",M8);return}w.rejectChange()}}class _1 extends $0{componentsRequired=new Set([a,L0,H0]);updateTimeStep(){let Z=this.ecs.getBB("time step");this.ecs.setBB("time step",Z+1)}update(Z,Q){let J=Q.values().next().value,$=this.ecs.getComponents(J),w=$.get(H0),U=$.get(a),q=U.getX(),h=U.getY();for(let j of Z.keyPress){let R=!1;switch(j){case 5:case 0:this.updateTimeStep(),R=!0,w.stamina-=1,U.setX(q-1);break;case 6:case 2:this.updateTimeStep(),R=!0,U.setY(h+1),w.stamina-=1;break;case 7:case 1:this.updateTimeStep(),R=!0,U.setX(q+1),w.stamina-=1;break;case 4:case 3:this.updateTimeStep(),R=!0,U.setY(h-1),w.stamina-=1;break;case 10:if(this.updateTimeStep(),w.stamina-=1,R=!0,w.stamina<=0)u.diedFrom="Stamina",this.ecs.setBB("game over",d0);break}if(R){u.playerPathX.push(U.x),u.playerPathY.push(U.y),w.furthestColumn=Math.max(w.furthestColumn,U.getX()-f1);break}}}}class D6 extends $0{componentsRequired=new Set([g.Portal,g.Render]);update(Z,Q){let[J]=Q;if(this.ecs.getBB("switch count")==0)this.ecs.getComponents(J).get(g.Render).character="O";else this.ecs.getComponents(J).get(g.Render).character="o"}}class P1 extends $0{componentsRequired=new Set([g.Player]);update(Z,Q){let[J]=Q,$=this.ecs.getComponents(J).get(g.Player).stamina,w;if($>20)w="green";else if($>10)w="#8B8000";else w="red";Z.drawRect(20,20,$*8,20,w);let U=A0*8;Z.drawRectOutline(19,18,U+2,22,2,"gray"),Z.drawText(A0*4,35,`${$}`,"white");let q=this.ecs.getBB("time step"),h=q<10?890:875;Z.drawText(h,30,`Turn: ${q}`)}}class M1 extends $0{componentsRequired=new Set([D.Position2d,g.Render]);charToColor={"@":"white","-":"#d9d1d0",X:"#636363","*":"#0ccef0","\\":"#c300d1","/":"#c300d1",o:"#414d42",O:"#19f00a","#":"red","^":"#f0cd0a","&":"#259c2b"};update(Z,Q){let J=this.ecs.getBB("x mod"),$=this.ecs.getBB("y mod");Z.setFont(20);for(let w of Q.values()){let U=this.ecs.getComponents(w),q=U.get(g.Render),h=U.get(D.Position2d),j=q.character,R=this.charToColor[j];Z.drawText(h.getX()*J,h.getY()*$,j,R)}}}class b6 extends $0{componentsRequired=new Set([]);update(Z,Q){this.ecs.setBB("player turn",!0)}}class u1 extends $0{componentsRequired=new Set([g.Territory]);update(Z,Q){let J=(this.ecs.getBB("time step")+1)%3===0?H9:Y9,$=this.ecs.getBB("x mod"),w=this.ecs.getBB("y mod"),U=this.ecs.getBB("player id"),q=this.ecs.getComponents(U).get(D.Position2d);for(let h of Q.values()){let j=this.ecs.getComponents(h);if(j.get(D.Position2d).euclideanDistance(q)>4)continue;let R=j.get(g.Territory).territory,f=R.length;for(let Y=0;Y<f;++Y){let K=R[Y];Z.drawText(K.getX()*$,K.getY()*w," ","#000000",!0,J)}}}}class g0 extends Q0{text;constructor(Z){super();this.text=Z}}var l9=function(Z){let Q=[],J=0;for(let $=0;$<Z.length;$++){let w=Z.charCodeAt($);if(w<128)Q[J++]=w;else if(w<2048)Q[J++]=w>>6|192,Q[J++]=w&63|128;else if((w&64512)===55296&&$+1<Z.length&&(Z.charCodeAt($+1)&64512)===56320)w=65536+((w&1023)<<10)+(Z.charCodeAt(++$)&1023),Q[J++]=w>>18|240,Q[J++]=w>>12&63|128,Q[J++]=w>>6&63|128,Q[J++]=w&63|128;else Q[J++]=w>>12|224,Q[J++]=w>>6&63|128,Q[J++]=w&63|128}return Q},WJ=function(Z){let Q=[],J=0,$=0;while(J<Z.length){let w=Z[J++];if(w<128)Q[$++]=String.fromCharCode(w);else if(w>191&&w<224){let U=Z[J++];Q[$++]=String.fromCharCode((w&31)<<6|U&63)}else if(w>239&&w<365){let U=Z[J++],q=Z[J++],h=Z[J++],j=((w&7)<<18|(U&63)<<12|(q&63)<<6|h&63)-65536;Q[$++]=String.fromCharCode(55296+(j>>10)),Q[$++]=String.fromCharCode(56320+(j&1023))}else{let U=Z[J++],q=Z[J++];Q[$++]=String.fromCharCode((w&15)<<12|(U&63)<<6|q&63)}}return Q.join("")},T9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob==="function",encodeByteArray(Z,Q){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();let J=Q?this.byteToCharMapWebSafe_:this.byteToCharMap_,$=[];for(let w=0;w<Z.length;w+=3){let U=Z[w],q=w+1<Z.length,h=q?Z[w+1]:0,j=w+2<Z.length,R=j?Z[w+2]:0,f=U>>2,Y=(U&3)<<4|h>>4,K=(h&15)<<2|R>>6,P=R&63;if(!j){if(P=64,!q)K=64}$.push(J[f],J[Y],J[K],J[P])}return $.join("")},encodeString(Z,Q){if(this.HAS_NATIVE_SUPPORT&&!Q)return btoa(Z);return this.encodeByteArray(l9(Z),Q)},decodeString(Z,Q){if(this.HAS_NATIVE_SUPPORT&&!Q)return atob(Z);return WJ(this.decodeStringToByteArray(Z,Q))},decodeStringToByteArray(Z,Q){this.init_();let J=Q?this.charToByteMapWebSafe_:this.charToByteMap_,$=[];for(let w=0;w<Z.length;){let U=J[Z.charAt(w++)],h=w<Z.length?J[Z.charAt(w)]:0;++w;let R=w<Z.length?J[Z.charAt(w)]:64;++w;let Y=w<Z.length?J[Z.charAt(w)]:64;if(++w,U==null||h==null||R==null||Y==null)throw new A9;let K=U<<2|h>>4;if($.push(K),R!==64){let P=h<<4&240|R>>2;if($.push(P),Y!==64){let A=R<<6&192|Y;$.push(A)}}}return $},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)if(this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length)this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z}}};class A9 extends Error{constructor(){super(...arguments);this.name="DecodeBase64StringError"}}var xJ=function(Z){let Q=l9(Z);return T9.encodeByteArray(Q,!0)},i1=function(Z){return xJ(Z).replace(/\./g,"")},qJ=function(Z){try{return T9.decodeString(Z,!0)}catch(Q){console.error("base64Decode failed: ",Q)}return null};function BJ(){if(typeof self!=="undefined")return self;if(typeof window!=="undefined")return window;if(typeof global!=="undefined")return global;throw new Error("Unable to locate global object.")}var hJ=()=>BJ().__FIREBASE_DEFAULTS__,FJ=()=>{if(typeof process==="undefined"||typeof process.env==="undefined")return;let Z=process.env.__FIREBASE_DEFAULTS__;if(Z)return JSON.parse(Z)},jJ=()=>{if(typeof document==="undefined")return;let Z;try{Z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(J){return}let Q=Z&&qJ(Z[1]);return Q&&JSON.parse(Q)},c6=()=>{try{return hJ()||FJ()||jJ()}catch(Z){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Z}`);return}},RJ=(Z)=>{var Q,J;return(J=(Q=c6())===null||Q===void 0?void 0:Q.emulatorHosts)===null||J===void 0?void 0:J[Z]},_9=(Z)=>{let Q=RJ(Z);if(!Q)return;let J=Q.lastIndexOf(":");if(J<=0||J+1===Q.length)throw new Error(`Invalid host ${Q} with no separate hostname and port!`);let $=parseInt(Q.substring(J+1),10);if(Q[0]==="[")return[Q.substring(1,J-1),$];else return[Q.substring(0,J),$]},t6=()=>{var Z;return(Z=c6())===null||Z===void 0?void 0:Z.config};class d6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,Q)=>{this.resolve=Z,this.reject=Q})}wrapCallback(Z){return(Q,J)=>{if(Q)this.reject(Q);else this.resolve(J);if(typeof Z==="function")if(this.promise.catch(()=>{}),Z.length===1)Z(Q);else Z(Q,J)}}}function P9(Z,Q){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let J={alg:"none",type:"JWT"},$=Q||"demo-project",w=Z.iat||0,U=Z.sub||Z.user_id;if(!U)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let q=Object.assign({iss:`https://securetoken.google.com/${$}`,aud:$,iat:w,exp:w+3600,auth_time:w,sub:U,user_id:U,firebase:{sign_in_provider:"custom",identities:{}}},Z),h="";return[i1(JSON.stringify(J)),i1(JSON.stringify(q)),h].join(".")}function M9(){if(typeof navigator!=="undefined"&&typeof navigator.userAgent==="string")return navigator.userAgent;else return""}function GJ(){var Z;let Q=(Z=c6())===null||Z===void 0?void 0:Z.forceEnvironment;if(Q==="node")return!0;else if(Q==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(J){return!1}}function u9(){return!GJ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E6(){try{return typeof indexedDB==="object"}catch(Z){return!1}}function i9(){return new Promise((Z,Q)=>{try{let J=!0,$="validate-browser-context-for-indexeddb-analytics-module",w=self.indexedDB.open($);w.onsuccess=()=>{if(w.result.close(),!J)self.indexedDB.deleteDatabase($);Z(!0)},w.onupgradeneeded=()=>{J=!1},w.onerror=()=>{var U;Q(((U=w.error)===null||U===void 0?void 0:U.message)||"")}}catch(J){Q(J)}})}var OJ="FirebaseError";class o0 extends Error{constructor(Z,Q,J){super(Q);if(this.code=Z,this.customData=J,this.name=OJ,Object.setPrototypeOf(this,o0.prototype),Error.captureStackTrace)Error.captureStackTrace(this,r8.prototype.create)}}class r8{constructor(Z,Q,J){this.service=Z,this.serviceName=Q,this.errors=J}create(Z,...Q){let J=Q[0]||{},$=`${this.service}/${Z}`,w=this.errors[Z],U=w?IJ(w,J):"Error",q=`${this.serviceName}: ${U} (${$}).`;return new o0($,q,J)}}function IJ(Z,Q){return Z.replace(kJ,(J,$)=>{let w=Q[$];return w!=null?String(w):`<${$}?>`})}var kJ=/\{\$([^}]+)}/g;function C1(Z,Q){if(Z===Q)return!0;let J=Object.keys(Z),$=Object.keys(Q);for(let w of J){if(!$.includes(w))return!1;let U=Z[w],q=Q[w];if(p9(U)&&p9(q)){if(!C1(U,q))return!1}else if(U!==q)return!1}for(let w of $)if(!J.includes(w))return!1;return!0}function p9(Z){return Z!==null&&typeof Z==="object"}function s2(Z){if(Z&&Z._delegate)return Z._delegate;else return Z}class q2{constructor(Z,Q,J){this.name=Z,this.instanceFactory=Q,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}var K2="[DEFAULT]";class C9{constructor(Z,Q){this.name=Z,this.container=Q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){let Q=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(Q)){let J=new d6;if(this.instancesDeferred.set(Q,J),this.isInitialized(Q)||this.shouldAutoInitialize())try{let $=this.getOrInitializeService({instanceIdentifier:Q});if($)J.resolve($)}catch($){}}return this.instancesDeferred.get(Q).promise}getImmediate(Z){var Q;let J=this.normalizeInstanceIdentifier(Z===null||Z===void 0?void 0:Z.identifier),$=(Q=Z===null||Z===void 0?void 0:Z.optional)!==null&&Q!==void 0?Q:!1;if(this.isInitialized(J)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:J})}catch(w){if($)return null;else throw w}else if($)return null;else throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,!this.shouldAutoInitialize())return;if(SJ(Z))try{this.getOrInitializeService({instanceIdentifier:K2})}catch(Q){}for(let[Q,J]of this.instancesDeferred.entries()){let $=this.normalizeInstanceIdentifier(Q);try{let w=this.getOrInitializeService({instanceIdentifier:$});J.resolve(w)}catch(w){}}}clearInstance(Z=K2){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}async delete(){let Z=Array.from(this.instances.values());await Promise.all([...Z.filter((Q)=>("INTERNAL"in Q)).map((Q)=>Q.INTERNAL.delete()),...Z.filter((Q)=>("_delete"in Q)).map((Q)=>Q._delete())])}isComponentSet(){return this.component!=null}isInitialized(Z=K2){return this.instances.has(Z)}getOptions(Z=K2){return this.instancesOptions.get(Z)||{}}initialize(Z={}){let{options:Q={}}=Z,J=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let $=this.getOrInitializeService({instanceIdentifier:J,options:Q});for(let[w,U]of this.instancesDeferred.entries()){let q=this.normalizeInstanceIdentifier(w);if(J===q)U.resolve($)}return $}onInit(Z,Q){var J;let $=this.normalizeInstanceIdentifier(Q),w=(J=this.onInitCallbacks.get($))!==null&&J!==void 0?J:new Set;w.add(Z),this.onInitCallbacks.set($,w);let U=this.instances.get($);if(U)Z(U,$);return()=>{w.delete(Z)}}invokeOnInitCallbacks(Z,Q){let J=this.onInitCallbacks.get(Q);if(!J)return;for(let $ of J)try{$(Z,Q)}catch(w){}}getOrInitializeService({instanceIdentifier:Z,options:Q={}}){let J=this.instances.get(Z);if(!J&&this.component){if(J=this.component.instanceFactory(this.container,{instanceIdentifier:LJ(Z),options:Q}),this.instances.set(Z,J),this.instancesOptions.set(Z,Q),this.invokeOnInitCallbacks(J,Z),this.component.onInstanceCreated)try{this.component.onInstanceCreated(this.container,Z,J)}catch($){}}return J||null}normalizeInstanceIdentifier(Z=K2){if(this.component)return this.component.multipleInstances?Z:K2;else return Z}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LJ(Z){return Z===K2?void 0:Z}function SJ(Z){return Z.instantiationMode==="EAGER"}class o6{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){let Q=this.getProvider(Z.name);if(Q.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);Q.setComponent(Z)}addOrOverwriteComponent(Z){if(this.getProvider(Z.name).isComponentSet())this.providers.delete(Z.name);this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);let Q=new C9(Z,this);return this.providers.set(Z,Q),Q}getProviders(){return Array.from(this.providers.values())}}var NJ=[],b;(function(Z){Z[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT"})(b||(b={}));var yJ={debug:b.DEBUG,verbose:b.VERBOSE,info:b.INFO,warn:b.WARN,error:b.ERROR,silent:b.SILENT},vJ=b.INFO,fJ={[b.DEBUG]:"log",[b.VERBOSE]:"log",[b.INFO]:"info",[b.WARN]:"warn",[b.ERROR]:"error"},HJ=(Z,Q,...J)=>{if(Q<Z.logLevel)return;let $=new Date().toISOString(),w=fJ[Q];if(w)console[w](`[${$}]  ${Z.name}:`,...J);else throw new Error(`Attempted to log a message with an invalid logType (value: ${Q})`)};class r1{constructor(Z){this.name=Z,this._logLevel=vJ,this._logHandler=HJ,this._userLogHandler=null,NJ.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in b))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel=typeof Z==="string"?yJ[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if(typeof Z!=="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,b.DEBUG,...Z),this._logHandler(this,b.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,b.VERBOSE,...Z),this._logHandler(this,b.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,b.INFO,...Z),this._logHandler(this,b.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,b.WARN,...Z),this._logHandler(this,b.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,b.ERROR,...Z),this._logHandler(this,b.ERROR,...Z)}}var YJ=(Z,Q)=>Q.some((J)=>Z instanceof J),r9,m9;function KJ(){return r9||(r9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pJ(){return m9||(m9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var n9=new WeakMap,e6=new WeakMap,g9=new WeakMap,a6=new WeakMap,Q4=new WeakMap;function lJ(Z){let Q=new Promise((J,$)=>{let w=()=>{Z.removeEventListener("success",U),Z.removeEventListener("error",q)},U=()=>{J(s0(Z.result)),w()},q=()=>{$(Z.error),w()};Z.addEventListener("success",U),Z.addEventListener("error",q)});return Q.then((J)=>{if(J instanceof IDBCursor)n9.set(J,Z)}).catch(()=>{}),Q4.set(Q,Z),Q}function TJ(Z){if(e6.has(Z))return;let Q=new Promise((J,$)=>{let w=()=>{Z.removeEventListener("complete",U),Z.removeEventListener("error",q),Z.removeEventListener("abort",q)},U=()=>{J(),w()},q=()=>{$(Z.error||new DOMException("AbortError","AbortError")),w()};Z.addEventListener("complete",U),Z.addEventListener("error",q),Z.addEventListener("abort",q)});e6.set(Z,Q)}var Z4={get(Z,Q,J){if(Z instanceof IDBTransaction){if(Q==="done")return e6.get(Z);if(Q==="objectStoreNames")return Z.objectStoreNames||g9.get(Z);if(Q==="store")return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return s0(Z[Q])},set(Z,Q,J){return Z[Q]=J,!0},has(Z,Q){if(Z instanceof IDBTransaction&&(Q==="done"||Q==="store"))return!0;return Q in Z}};function s9(Z){Z4=Z(Z4)}function AJ(Z){if(Z===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype))return function(Q,...J){let $=Z.call(m8(this),Q,...J);return g9.set($,Q.sort?Q.sort():[Q]),s0($)};if(pJ().includes(Z))return function(...Q){return Z.apply(m8(this),Q),s0(n9.get(this))};return function(...Q){return s0(Z.apply(m8(this),Q))}}function _J(Z){if(typeof Z==="function")return AJ(Z);if(Z instanceof IDBTransaction)TJ(Z);if(YJ(Z,KJ()))return new Proxy(Z,Z4);return Z}function s0(Z){if(Z instanceof IDBRequest)return lJ(Z);if(a6.has(Z))return a6.get(Z);let Q=_J(Z);if(Q!==Z)a6.set(Z,Q),Q4.set(Q,Z);return Q}var m8=(Z)=>Q4.get(Z);function b9(Z,Q,{blocked:J,upgrade:$,blocking:w,terminated:U}={}){let q=indexedDB.open(Z,Q),h=s0(q);if($)q.addEventListener("upgradeneeded",(j)=>{$(s0(q.result),j.oldVersion,j.newVersion,s0(q.transaction),j)});if(J)q.addEventListener("blocked",(j)=>J(j.oldVersion,j.newVersion,j));return h.then((j)=>{if(U)j.addEventListener("close",()=>U());if(w)j.addEventListener("versionchange",(R)=>w(R.oldVersion,R.newVersion,R))}).catch(()=>{}),h}var PJ=["get","getKey","getAll","getAllKeys","count"],MJ=["put","add","delete","clear"],J4=new Map;function D9(Z,Q){if(!(Z instanceof IDBDatabase&&!(Q in Z)&&typeof Q==="string"))return;if(J4.get(Q))return J4.get(Q);let J=Q.replace(/FromIndex$/,""),$=Q!==J,w=MJ.includes(J);if(!(J in($?IDBIndex:IDBObjectStore).prototype)||!(w||PJ.includes(J)))return;let U=async function(q,...h){let j=this.transaction(q,w?"readwrite":"readonly"),R=j.store;if($)R=R.index(h.shift());return(await Promise.all([R[J](...h),w&&j.done]))[0]};return J4.set(Q,U),U}s9((Z)=>({...Z,get:(Q,J,$)=>D9(Q,J)||Z.get(Q,J,$),has:(Q,J)=>!!D9(Q,J)||Z.has(Q,J)}));class a9{constructor(Z){this.container=Z}getPlatformInfoString(){return this.container.getProviders().map((Q)=>{if(uJ(Q)){let J=Q.getImmediate();return`${J.library}/${J.version}`}else return null}).filter((Q)=>Q).join(" ")}}function uJ(Z){let Q=Z.getComponent();return(Q===null||Q===void 0?void 0:Q.type)==="VERSION"}var $4="@firebase/app",c9="0.10.9",a0=new r1("@firebase/app"),iJ="@firebase/app-compat",CJ="@firebase/analytics-compat",rJ="@firebase/analytics",mJ="@firebase/app-check-compat",nJ="@firebase/app-check",gJ="@firebase/auth",sJ="@firebase/auth-compat",DJ="@firebase/database",bJ="@firebase/database-compat",cJ="@firebase/functions",tJ="@firebase/functions-compat",dJ="@firebase/installations",EJ="@firebase/installations-compat",oJ="@firebase/messaging",aJ="@firebase/messaging-compat",eJ="@firebase/performance",ZX="@firebase/performance-compat",QX="@firebase/remote-config",JX="@firebase/remote-config-compat",XX="@firebase/storage",$X="@firebase/storage-compat",wX="@firebase/firestore",VX="@firebase/vertexai-preview",zX="@firebase/firestore-compat",UX="firebase",WX="10.13.0",w4="[DEFAULT]",xX={[$4]:"fire-core",[iJ]:"fire-core-compat",[rJ]:"fire-analytics",[CJ]:"fire-analytics-compat",[nJ]:"fire-app-check",[mJ]:"fire-app-check-compat",[gJ]:"fire-auth",[sJ]:"fire-auth-compat",[DJ]:"fire-rtdb",[bJ]:"fire-rtdb-compat",[cJ]:"fire-fn",[tJ]:"fire-fn-compat",[dJ]:"fire-iid",[EJ]:"fire-iid-compat",[oJ]:"fire-fcm",[aJ]:"fire-fcm-compat",[eJ]:"fire-perf",[ZX]:"fire-perf-compat",[QX]:"fire-rc",[JX]:"fire-rc-compat",[XX]:"fire-gcs",[$X]:"fire-gcs-compat",[wX]:"fire-fst",[zX]:"fire-fst-compat",[VX]:"fire-vertex","fire-js":"fire-js",[UX]:"fire-js-all"},n8=new Map,qX=new Map,V4=new Map;function t9(Z,Q){try{Z.container.addComponent(Q)}catch(J){a0.debug(`Component ${Q.name} failed to register with FirebaseApp ${Z.name}`,J)}}function m1(Z){let Q=Z.name;if(V4.has(Q))return a0.debug(`There were multiple attempts to register component ${Q}.`),!1;V4.set(Q,Z);for(let J of n8.values())t9(J,Z);for(let J of qX.values())t9(J,Z);return!0}function e9(Z,Q){let J=Z.container.getProvider("heartbeat").getImmediate({optional:!0});if(J)J.triggerHeartbeat();return Z.container.getProvider(Q)}var BX={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}'",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["server-app-deleted"]:"Firebase Server App has been deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",["finalization-registry-not-supported"]:"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",["invalid-server-app-environment"]:"FirebaseServerApp is not for use in browser environments."},B2=new r8("app","Firebase",BX);class ZZ{constructor(Z,Q,J){this._isDeleted=!1,this._options=Object.assign({},Z),this._config=Object.assign({},Q),this._name=Q.name,this._automaticDataCollectionEnabled=Q.automaticDataCollectionEnabled,this._container=J,this.container.addComponent(new q2("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Z){this.checkDestroyed(),this._automaticDataCollectionEnabled=Z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Z){this._isDeleted=Z}checkDestroyed(){if(this.isDeleted)throw B2.create("app-deleted",{appName:this._name})}}var QZ=WX;function z4(Z,Q={}){let J=Z;if(typeof Q!=="object")Q={name:Q};let $=Object.assign({name:w4,automaticDataCollectionEnabled:!1},Q),w=$.name;if(typeof w!=="string"||!w)throw B2.create("bad-app-name",{appName:String(w)});if(J||(J=t6()),!J)throw B2.create("no-options");let U=n8.get(w);if(U)if(C1(J,U.options)&&C1($,U.config))return U;else throw B2.create("duplicate-app",{appName:w});let q=new o6(w);for(let j of V4.values())q.addComponent(j);let h=new ZZ(J,$,q);return n8.set(w,h),h}function JZ(Z=w4){let Q=n8.get(Z);if(!Q&&Z===w4&&t6())return z4();if(!Q)throw B2.create("no-app",{appName:Z});return Q}function h2(Z,Q,J){var $;let w=($=xX[Z])!==null&&$!==void 0?$:Z;if(J)w+=`-${J}`;let U=w.match(/\s|\//),q=Q.match(/\s|\//);if(U||q){let h=[`Unable to register library "${w}" with version "${Q}":`];if(U)h.push(`library name "${w}" contains illegal characters (whitespace or "/")`);if(U&&q)h.push("and");if(q)h.push(`version name "${Q}" contains illegal characters (whitespace or "/")`);a0.warn(h.join(" "));return}m1(new q2(`${w}-version`,()=>({library:w,version:Q}),"VERSION"))}var hX="firebase-heartbeat-database",FX=1,n1="firebase-heartbeat-store",X4=null;function XZ(){if(!X4)X4=b9(hX,FX,{upgrade:(Z,Q)=>{switch(Q){case 0:try{Z.createObjectStore(n1)}catch(J){console.warn(J)}}}}).catch((Z)=>{throw B2.create("idb-open",{originalErrorMessage:Z.message})});return X4}async function jX(Z){try{let J=(await XZ()).transaction(n1),$=await J.objectStore(n1).get($Z(Z));return await J.done,$}catch(Q){if(Q instanceof o0)a0.warn(Q.message);else{let J=B2.create("idb-get",{originalErrorMessage:Q===null||Q===void 0?void 0:Q.message});a0.warn(J.message)}}}async function d9(Z,Q){try{let $=(await XZ()).transaction(n1,"readwrite");await $.objectStore(n1).put(Q,$Z(Z)),await $.done}catch(J){if(J instanceof o0)a0.warn(J.message);else{let $=B2.create("idb-set",{originalErrorMessage:J===null||J===void 0?void 0:J.message});a0.warn($.message)}}}function $Z(Z){return`${Z.name}!${Z.options.appId}`}var RX=1024,GX=2592000000;class wZ{constructor(Z){this.container=Z,this._heartbeatsCache=null;let Q=this.container.getProvider("app").getImmediate();this._storage=new VZ(Q),this._heartbeatsCachePromise=this._storage.read().then((J)=>{return this._heartbeatsCache=J,J})}async triggerHeartbeat(){var Z,Q,J;try{let w=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),U=E9();if(console.log("heartbeats",(Z=this._heartbeatsCache)===null||Z===void 0?void 0:Z.heartbeats),((Q=this._heartbeatsCache)===null||Q===void 0?void 0:Q.heartbeats)==null){if(this._heartbeatsCache=await this._heartbeatsCachePromise,((J=this._heartbeatsCache)===null||J===void 0?void 0:J.heartbeats)==null)return}if(this._heartbeatsCache.lastSentHeartbeatDate===U||this._heartbeatsCache.heartbeats.some((q)=>q.date===U))return;else this._heartbeatsCache.heartbeats.push({date:U,agent:w});return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((q)=>{let h=new Date(q.date).valueOf();return Date.now()-h<=GX}),this._storage.overwrite(this._heartbeatsCache)}catch($){a0.warn($)}}async getHeartbeatsHeader(){var Z;try{if(this._heartbeatsCache===null)await this._heartbeatsCachePromise;if(((Z=this._heartbeatsCache)===null||Z===void 0?void 0:Z.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let Q=E9(),{heartbeatsToSend:J,unsentEntries:$}=OX(this._heartbeatsCache.heartbeats),w=i1(JSON.stringify({version:2,heartbeats:J}));if(this._heartbeatsCache.lastSentHeartbeatDate=Q,$.length>0)this._heartbeatsCache.heartbeats=$,await this._storage.overwrite(this._heartbeatsCache);else this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);return w}catch(Q){return a0.warn(Q),""}}}function E9(){return new Date().toISOString().substring(0,10)}function OX(Z,Q=RX){let J=[],$=Z.slice();for(let w of Z){let U=J.find((q)=>q.agent===w.agent);if(!U){if(J.push({agent:w.agent,dates:[w.date]}),o9(J)>Q){J.pop();break}}else if(U.dates.push(w.date),o9(J)>Q){U.dates.pop();break}$=$.slice(1)}return{heartbeatsToSend:J,unsentEntries:$}}class VZ{constructor(Z){this.app=Z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){if(!E6())return!1;else return i9().then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};else{let Q=await jX(this.app);if(Q===null||Q===void 0?void 0:Q.heartbeats)return Q;else return{heartbeats:[]}}}async overwrite(Z){var Q;if(!await this._canUseIndexedDBPromise)return;else{let $=await this.read();return d9(this.app,{lastSentHeartbeatDate:(Q=Z.lastSentHeartbeatDate)!==null&&Q!==void 0?Q:$.lastSentHeartbeatDate,heartbeats:Z.heartbeats})}}async add(Z){var Q;if(!await this._canUseIndexedDBPromise)return;else{let $=await this.read();return d9(this.app,{lastSentHeartbeatDate:(Q=Z.lastSentHeartbeatDate)!==null&&Q!==void 0?Q:$.lastSentHeartbeatDate,heartbeats:[...$.heartbeats,...Z.heartbeats]})}}}function o9(Z){return i1(JSON.stringify({version:2,heartbeats:Z})).length}function IX(Z){m1(new q2("platform-logger",(Q)=>new a9(Q),"PRIVATE")),m1(new q2("heartbeat",(Q)=>new wZ(Q),"PRIVATE")),h2($4,c9,Z),h2($4,c9,"esm2017"),h2("fire-js","")}IX("");var kX="firebase",LX="10.13.0";h2(kX,LX,"app");var zZ=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{},UZ={},U4,WZ;(function(){var Z;function Q(y,G){function I(){}I.prototype=G.prototype,y.D=G.prototype,y.prototype=new I,y.prototype.constructor=y,y.C=function(k,L,v){for(var O=Array(arguments.length-2),m0=2;m0<arguments.length;m0++)O[m0-2]=arguments[m0];return G.prototype[L].apply(k,O)}}function J(){this.blockSize=-1}function $(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}Q($,J),$.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function w(y,G,I){I||(I=0);var k=Array(16);if(typeof G==="string")for(var L=0;16>L;++L)k[L]=G.charCodeAt(I++)|G.charCodeAt(I++)<<8|G.charCodeAt(I++)<<16|G.charCodeAt(I++)<<24;else for(L=0;16>L;++L)k[L]=G[I++]|G[I++]<<8|G[I++]<<16|G[I++]<<24;G=y.g[0],I=y.g[1],L=y.g[2];var v=y.g[3],O=G+(v^I&(L^v))+k[0]+3614090360&4294967295;G=I+(O<<7&4294967295|O>>>25),O=v+(L^G&(I^L))+k[1]+3905402710&4294967295,v=G+(O<<12&4294967295|O>>>20),O=L+(I^v&(G^I))+k[2]+606105819&4294967295,L=v+(O<<17&4294967295|O>>>15),O=I+(G^L&(v^G))+k[3]+3250441966&4294967295,I=L+(O<<22&4294967295|O>>>10),O=G+(v^I&(L^v))+k[4]+4118548399&4294967295,G=I+(O<<7&4294967295|O>>>25),O=v+(L^G&(I^L))+k[5]+1200080426&4294967295,v=G+(O<<12&4294967295|O>>>20),O=L+(I^v&(G^I))+k[6]+2821735955&4294967295,L=v+(O<<17&4294967295|O>>>15),O=I+(G^L&(v^G))+k[7]+4249261313&4294967295,I=L+(O<<22&4294967295|O>>>10),O=G+(v^I&(L^v))+k[8]+1770035416&4294967295,G=I+(O<<7&4294967295|O>>>25),O=v+(L^G&(I^L))+k[9]+2336552879&4294967295,v=G+(O<<12&4294967295|O>>>20),O=L+(I^v&(G^I))+k[10]+4294925233&4294967295,L=v+(O<<17&4294967295|O>>>15),O=I+(G^L&(v^G))+k[11]+2304563134&4294967295,I=L+(O<<22&4294967295|O>>>10),O=G+(v^I&(L^v))+k[12]+1804603682&4294967295,G=I+(O<<7&4294967295|O>>>25),O=v+(L^G&(I^L))+k[13]+4254626195&4294967295,v=G+(O<<12&4294967295|O>>>20),O=L+(I^v&(G^I))+k[14]+2792965006&4294967295,L=v+(O<<17&4294967295|O>>>15),O=I+(G^L&(v^G))+k[15]+1236535329&4294967295,I=L+(O<<22&4294967295|O>>>10),O=G+(L^v&(I^L))+k[1]+4129170786&4294967295,G=I+(O<<5&4294967295|O>>>27),O=v+(I^L&(G^I))+k[6]+3225465664&4294967295,v=G+(O<<9&4294967295|O>>>23),O=L+(G^I&(v^G))+k[11]+643717713&4294967295,L=v+(O<<14&4294967295|O>>>18),O=I+(v^G&(L^v))+k[0]+3921069994&4294967295,I=L+(O<<20&4294967295|O>>>12),O=G+(L^v&(I^L))+k[5]+3593408605&4294967295,G=I+(O<<5&4294967295|O>>>27),O=v+(I^L&(G^I))+k[10]+38016083&4294967295,v=G+(O<<9&4294967295|O>>>23),O=L+(G^I&(v^G))+k[15]+3634488961&4294967295,L=v+(O<<14&4294967295|O>>>18),O=I+(v^G&(L^v))+k[4]+3889429448&4294967295,I=L+(O<<20&4294967295|O>>>12),O=G+(L^v&(I^L))+k[9]+568446438&4294967295,G=I+(O<<5&4294967295|O>>>27),O=v+(I^L&(G^I))+k[14]+3275163606&4294967295,v=G+(O<<9&4294967295|O>>>23),O=L+(G^I&(v^G))+k[3]+4107603335&4294967295,L=v+(O<<14&4294967295|O>>>18),O=I+(v^G&(L^v))+k[8]+1163531501&4294967295,I=L+(O<<20&4294967295|O>>>12),O=G+(L^v&(I^L))+k[13]+2850285829&4294967295,G=I+(O<<5&4294967295|O>>>27),O=v+(I^L&(G^I))+k[2]+4243563512&4294967295,v=G+(O<<9&4294967295|O>>>23),O=L+(G^I&(v^G))+k[7]+1735328473&4294967295,L=v+(O<<14&4294967295|O>>>18),O=I+(v^G&(L^v))+k[12]+2368359562&4294967295,I=L+(O<<20&4294967295|O>>>12),O=G+(I^L^v)+k[5]+4294588738&4294967295,G=I+(O<<4&4294967295|O>>>28),O=v+(G^I^L)+k[8]+2272392833&4294967295,v=G+(O<<11&4294967295|O>>>21),O=L+(v^G^I)+k[11]+1839030562&4294967295,L=v+(O<<16&4294967295|O>>>16),O=I+(L^v^G)+k[14]+4259657740&4294967295,I=L+(O<<23&4294967295|O>>>9),O=G+(I^L^v)+k[1]+2763975236&4294967295,G=I+(O<<4&4294967295|O>>>28),O=v+(G^I^L)+k[4]+1272893353&4294967295,v=G+(O<<11&4294967295|O>>>21),O=L+(v^G^I)+k[7]+4139469664&4294967295,L=v+(O<<16&4294967295|O>>>16),O=I+(L^v^G)+k[10]+3200236656&4294967295,I=L+(O<<23&4294967295|O>>>9),O=G+(I^L^v)+k[13]+681279174&4294967295,G=I+(O<<4&4294967295|O>>>28),O=v+(G^I^L)+k[0]+3936430074&4294967295,v=G+(O<<11&4294967295|O>>>21),O=L+(v^G^I)+k[3]+3572445317&4294967295,L=v+(O<<16&4294967295|O>>>16),O=I+(L^v^G)+k[6]+76029189&4294967295,I=L+(O<<23&4294967295|O>>>9),O=G+(I^L^v)+k[9]+3654602809&4294967295,G=I+(O<<4&4294967295|O>>>28),O=v+(G^I^L)+k[12]+3873151461&4294967295,v=G+(O<<11&4294967295|O>>>21),O=L+(v^G^I)+k[15]+530742520&4294967295,L=v+(O<<16&4294967295|O>>>16),O=I+(L^v^G)+k[2]+3299628645&4294967295,I=L+(O<<23&4294967295|O>>>9),O=G+(L^(I|~v))+k[0]+4096336452&4294967295,G=I+(O<<6&4294967295|O>>>26),O=v+(I^(G|~L))+k[7]+1126891415&4294967295,v=G+(O<<10&4294967295|O>>>22),O=L+(G^(v|~I))+k[14]+2878612391&4294967295,L=v+(O<<15&4294967295|O>>>17),O=I+(v^(L|~G))+k[5]+4237533241&4294967295,I=L+(O<<21&4294967295|O>>>11),O=G+(L^(I|~v))+k[12]+1700485571&4294967295,G=I+(O<<6&4294967295|O>>>26),O=v+(I^(G|~L))+k[3]+2399980690&4294967295,v=G+(O<<10&4294967295|O>>>22),O=L+(G^(v|~I))+k[10]+4293915773&4294967295,L=v+(O<<15&4294967295|O>>>17),O=I+(v^(L|~G))+k[1]+2240044497&4294967295,I=L+(O<<21&4294967295|O>>>11),O=G+(L^(I|~v))+k[8]+1873313359&4294967295,G=I+(O<<6&4294967295|O>>>26),O=v+(I^(G|~L))+k[15]+4264355552&4294967295,v=G+(O<<10&4294967295|O>>>22),O=L+(G^(v|~I))+k[6]+2734768916&4294967295,L=v+(O<<15&4294967295|O>>>17),O=I+(v^(L|~G))+k[13]+1309151649&4294967295,I=L+(O<<21&4294967295|O>>>11),O=G+(L^(I|~v))+k[4]+4149444226&4294967295,G=I+(O<<6&4294967295|O>>>26),O=v+(I^(G|~L))+k[11]+3174756917&4294967295,v=G+(O<<10&4294967295|O>>>22),O=L+(G^(v|~I))+k[2]+718787259&4294967295,L=v+(O<<15&4294967295|O>>>17),O=I+(v^(L|~G))+k[9]+3951481745&4294967295,y.g[0]=y.g[0]+G&4294967295,y.g[1]=y.g[1]+(L+(O<<21&4294967295|O>>>11))&4294967295,y.g[2]=y.g[2]+L&4294967295,y.g[3]=y.g[3]+v&4294967295}$.prototype.u=function(y,G){G===void 0&&(G=y.length);for(var I=G-this.blockSize,k=this.B,L=this.h,v=0;v<G;){if(L==0)for(;v<=I;)w(this,y,v),v+=this.blockSize;if(typeof y==="string"){for(;v<G;)if(k[L++]=y.charCodeAt(v++),L==this.blockSize){w(this,k),L=0;break}}else for(;v<G;)if(k[L++]=y[v++],L==this.blockSize){w(this,k),L=0;break}}this.h=L,this.o+=G},$.prototype.v=function(){var y=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);y[0]=128;for(var G=1;G<y.length-8;++G)y[G]=0;var I=8*this.o;for(G=y.length-8;G<y.length;++G)y[G]=I&255,I/=256;this.u(y),y=Array(16);for(G=I=0;4>G;++G)for(var k=0;32>k;k+=8)y[I++]=this.g[G]>>>k&255;return y};function U(y,G){var I=h;return Object.prototype.hasOwnProperty.call(I,y)?I[y]:I[y]=G(y)}function q(y,G){this.h=G;for(var I=[],k=!0,L=y.length-1;0<=L;L--){var v=y[L]|0;k&&v==G||(I[L]=v,k=!1)}this.g=I}var h={};function j(y){return-128<=y&&128>y?U(y,function(G){return new q([G|0],0>G?-1:0)}):new q([y|0],0>y?-1:0)}function R(y){if(isNaN(y)||!isFinite(y))return Y;if(0>y)return M(R(-y));for(var G=[],I=1,k=0;y>=I;k++)G[k]=y/I|0,I*=4294967296;return new q(G,0)}function f(y,G){if(y.length==0)throw Error("number format error: empty string");if(G=G||10,2>G||36<G)throw Error("radix out of range: "+G);if(y.charAt(0)=="-")return M(f(y.substring(1),G));if(0<=y.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=R(Math.pow(G,8)),k=Y,L=0;L<y.length;L+=8){var v=Math.min(8,y.length-L),O=parseInt(y.substring(L,L+v),G);8>v?(v=R(Math.pow(G,v)),k=k.j(v).add(R(O))):(k=k.j(I),k=k.add(R(O)))}return k}var Y=j(0),K=j(1),P=j(16777216);Z=q.prototype,Z.m=function(){if(_(this))return-M(this).m();for(var y=0,G=1,I=0;I<this.g.length;I++){var k=this.i(I);y+=(0<=k?k:4294967296+k)*G,G*=4294967296}return y},Z.toString=function(y){if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(A(this))return"0";if(_(this))return"-"+M(this).toString(y);for(var G=R(Math.pow(y,6)),I=this,k="";;){var L=B0(I,G).g;I=C(I,L.j(G));var v=((0<I.g.length?I.g[0]:I.h)>>>0).toString(y);if(I=L,A(I))return v+k;for(;6>v.length;)v="0"+v;k=v+k}},Z.i=function(y){return 0>y?0:y<this.g.length?this.g[y]:this.h};function A(y){if(y.h!=0)return!1;for(var G=0;G<y.g.length;G++)if(y.g[G]!=0)return!1;return!0}function _(y){return y.h==-1}Z.l=function(y){return y=C(this,y),_(y)?-1:A(y)?0:1};function M(y){for(var G=y.g.length,I=[],k=0;k<G;k++)I[k]=~y.g[k];return new q(I,~y.h).add(K)}Z.abs=function(){return _(this)?M(this):this},Z.add=function(y){for(var G=Math.max(this.g.length,y.g.length),I=[],k=0,L=0;L<=G;L++){var v=k+(this.i(L)&65535)+(y.i(L)&65535),O=(v>>>16)+(this.i(L)>>>16)+(y.i(L)>>>16);k=O>>>16,v&=65535,O&=65535,I[L]=O<<16|v}return new q(I,I[I.length-1]&-2147483648?-1:0)};function C(y,G){return y.add(M(G))}Z.j=function(y){if(A(this)||A(y))return Y;if(_(this))return _(y)?M(this).j(M(y)):M(M(this).j(y));if(_(y))return M(this.j(M(y)));if(0>this.l(P)&&0>y.l(P))return R(this.m()*y.m());for(var G=this.g.length+y.g.length,I=[],k=0;k<2*G;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var L=0;L<y.g.length;L++){var v=this.i(k)>>>16,O=this.i(k)&65535,m0=y.i(L)>>>16,V1=y.i(L)&65535;I[2*k+2*L]+=O*V1,n(I,2*k+2*L),I[2*k+2*L+1]+=v*V1,n(I,2*k+2*L+1),I[2*k+2*L+1]+=O*m0,n(I,2*k+2*L+1),I[2*k+2*L+2]+=v*m0,n(I,2*k+2*L+2)}for(k=0;k<G;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=G;k<2*G;k++)I[k]=0;return new q(I,0)};function n(y,G){for(;(y[G]&65535)!=y[G];)y[G+1]+=y[G]>>>16,y[G]&=65535,G++}function d(y,G){this.g=y,this.h=G}function B0(y,G){if(A(G))throw Error("division by zero");if(A(y))return new d(Y,Y);if(_(y))return G=B0(M(y),G),new d(M(G.g),M(G.h));if(_(G))return G=B0(y,M(G)),new d(M(G.g),G.h);if(30<y.g.length){if(_(y)||_(G))throw Error("slowDivide_ only works with positive integers.");for(var I=K,k=G;0>=k.l(y);)I=l0(I),k=l0(k);var L=K0(I,1),v=K0(k,1);k=K0(k,2);for(I=K0(I,2);!A(k);){var O=v.add(k);0>=O.l(y)&&(L=L.add(I),v=O),k=K0(k,1),I=K0(I,1)}return G=C(y,L.j(G)),new d(L,G)}for(L=Y;0<=y.l(G);){I=Math.max(1,Math.floor(y.m()/G.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),v=R(I);for(O=v.j(G);_(O)||0<O.l(y);)I-=k,v=R(I),O=v.j(G);A(v)&&(v=K),L=L.add(v),y=C(y,O)}return new d(L,y)}Z.A=function(y){return B0(this,y).h},Z.and=function(y){for(var G=Math.max(this.g.length,y.g.length),I=[],k=0;k<G;k++)I[k]=this.i(k)&y.i(k);return new q(I,this.h&y.h)},Z.or=function(y){for(var G=Math.max(this.g.length,y.g.length),I=[],k=0;k<G;k++)I[k]=this.i(k)|y.i(k);return new q(I,this.h|y.h)},Z.xor=function(y){for(var G=Math.max(this.g.length,y.g.length),I=[],k=0;k<G;k++)I[k]=this.i(k)^y.i(k);return new q(I,this.h^y.h)};function l0(y){for(var G=y.g.length+1,I=[],k=0;k<G;k++)I[k]=y.i(k)<<1|y.i(k-1)>>>31;return new q(I,y.h)}function K0(y,G){var I=G>>5;G%=32;for(var k=y.g.length-I,L=[],v=0;v<k;v++)L[v]=0<G?y.i(v+I)>>>G|y.i(v+I+1)<<32-G:y.i(v+I);return new q(L,y.h)}$.prototype.digest=$.prototype.v,$.prototype.reset=$.prototype.s,$.prototype.update=$.prototype.u,WZ=UZ.Md5=$,q.prototype.add=q.prototype.add,q.prototype.multiply=q.prototype.j,q.prototype.modulo=q.prototype.A,q.prototype.compare=q.prototype.l,q.prototype.toNumber=q.prototype.m,q.prototype.toString=q.prototype.toString,q.prototype.getBits=q.prototype.i,q.fromNumber=R,q.fromString=f,U4=UZ.Integer=q}).apply(typeof zZ!=="undefined"?zZ:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});var g8=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{},e0={},W4,x4,D2,q4,g1,s8,B4,h4,F4;(function(){var Z,Q=typeof Object.defineProperties=="function"?Object.defineProperty:function(X,z,B){if(X==Array.prototype||X==Object.prototype)return X;return X[z]=B.value,X};function J(X){X=[typeof globalThis=="object"&&globalThis,X,typeof window=="object"&&window,typeof self=="object"&&self,typeof g8=="object"&&g8];for(var z=0;z<X.length;++z){var B=X[z];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var $=J(this);function w(X,z){if(z)Z:{var B=$;X=X.split(".");for(var F=0;F<X.length-1;F++){var N=X[F];if(!(N in B))break Z;B=B[N]}X=X[X.length-1],F=B[X],z=z(F),z!=F&&z!=null&&Q(B,X,{configurable:!0,writable:!0,value:z})}}function U(X,z){X instanceof String&&(X+="");var B=0,F=!1,N={next:function(){if(!F&&B<X.length){var H=B++;return{value:z(H,X[H]),done:!1}}return F=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}w("Array.prototype.values",function(X){return X?X:function(){return U(this,function(z,B){return B})}});var q=q||{},h=this||self;function j(X){var z=typeof X;return z=z!="object"?z:X?Array.isArray(X)?"array":z:"null",z=="array"||z=="object"&&typeof X.length=="number"}function R(X){var z=typeof X;return z=="object"&&X!=null||z=="function"}function f(X,z,B){return X.call.apply(X.bind,arguments)}function Y(X,z,B){if(!X)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,F),X.apply(z,N)}}return function(){return X.apply(z,arguments)}}function K(X,z,B){return K=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:Y,K.apply(null,arguments)}function P(X,z){var B=Array.prototype.slice.call(arguments,1);return function(){var F=B.slice();return F.push.apply(F,arguments),X.apply(this,F)}}function A(X,z){function B(){}B.prototype=z.prototype,X.aa=z.prototype,X.prototype=new B,X.prototype.constructor=X,X.Qb=function(F,N,H){for(var T=Array(arguments.length-2),E=2;E<arguments.length;E++)T[E-2]=arguments[E];return z.prototype[N].apply(F,T)}}function _(X){let z=X.length;if(0<z){let B=Array(z);for(let F=0;F<z;F++)B[F]=X[F];return B}return[]}function M(X,z){for(let B=1;B<arguments.length;B++){let F=arguments[B];if(j(F)){let N=X.length||0,H=F.length||0;X.length=N+H;for(let T=0;T<H;T++)X[N+T]=F[T]}else X.push(F)}}class C{constructor(X,z){this.i=X,this.j=z,this.h=0,this.g=null}get(){let X;return 0<this.h?(this.h--,X=this.g,this.g=X.next,X.next=null):X=this.i(),X}}function n(X){return/^[\s\xa0]*$/.test(X)}function d(){var X=h.navigator;return X&&(X=X.userAgent)?X:""}function B0(X){return B0[" "](X),X}B0[" "]=function(){};var l0=d().indexOf("Gecko")!=-1&&!(d().toLowerCase().indexOf("webkit")!=-1&&d().indexOf("Edge")==-1)&&!(d().indexOf("Trident")!=-1||d().indexOf("MSIE")!=-1)&&d().indexOf("Edge")==-1;function K0(X,z,B){for(let F in X)z.call(B,X[F],F,X)}function y(X,z){for(let B in X)z.call(void 0,X[B],B,X)}function G(X){let z={};for(let B in X)z[B]=X[B];return z}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(X,z){let B,F;for(let N=1;N<arguments.length;N++){F=arguments[N];for(B in F)X[B]=F[B];for(let H=0;H<I.length;H++)B=I[H],Object.prototype.hasOwnProperty.call(F,B)&&(X[B]=F[B])}}function L(X){var z=1;X=X.split(":");let B=[];for(;0<z&&X.length;)B.push(X.shift()),z--;return X.length&&B.push(X.join(":")),B}function v(X){h.setTimeout(()=>{throw X},0)}function O(){var X=h6;let z=null;return X.g&&(z=X.g,X.g=X.g.next,X.g||(X.h=null),z.next=null),z}class m0{constructor(){this.h=this.g=null}add(X,z){let B=V1.get();B.set(X,z),this.h?this.h.next=B:this.g=B,this.h=B}}var V1=new C(()=>new S5,(X)=>X.reset());class S5{constructor(){this.next=this.g=this.h=null}set(X,z){this.h=X,this.g=z,this.next=null}reset(){this.next=this.g=this.h=null}}let z1,U1=!1,h6=new m0,N5=()=>{let X=h.Promise.resolve(void 0);z1=()=>{X.then(YQ)}};var YQ=()=>{for(var X;X=O();){try{X.h.call(X.g)}catch(B){v(B)}var z=V1;z.j(X),100>z.h&&(z.h++,X.next=z.g,z.g=X)}U1=!1};function w2(){this.s=this.s,this.C=this.C}w2.prototype.s=!1,w2.prototype.ma=function(){this.s||(this.s=!0,this.N())},w2.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G0(X,z){this.type=X,this.g=this.target=z,this.defaultPrevented=!1}G0.prototype.h=function(){this.defaultPrevented=!0};var KQ=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var X=!1,z=Object.defineProperty({},"passive",{get:function(){X=!0}});try{let B=()=>{};h.addEventListener("test",B,z),h.removeEventListener("test",B,z)}catch(B){}return X}();function W1(X,z){if(G0.call(this,X?X.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,X){var B=this.type=X.type,F=X.changedTouches&&X.changedTouches.length?X.changedTouches[0]:null;if(this.target=X.target||X.srcElement,this.g=z,z=X.relatedTarget){if(l0){Z:{try{B0(z.nodeName);var N=!0;break Z}catch(H){}N=!1}N||(z=null)}}else B=="mouseover"?z=X.fromElement:B=="mouseout"&&(z=X.toElement);this.relatedTarget=z,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0),this.button=X.button,this.key=X.key||"",this.ctrlKey=X.ctrlKey,this.altKey=X.altKey,this.shiftKey=X.shiftKey,this.metaKey=X.metaKey,this.pointerId=X.pointerId||0,this.pointerType=typeof X.pointerType==="string"?X.pointerType:pQ[X.pointerType]||"",this.state=X.state,this.i=X,X.defaultPrevented&&W1.aa.h.call(this)}}A(W1,G0);var pQ={2:"touch",3:"pen",4:"mouse"};W1.prototype.h=function(){W1.aa.h.call(this);var X=this.i;X.preventDefault?X.preventDefault():X.returnValue=!1};var x1="closure_listenable_"+(1e6*Math.random()|0),lQ=0;function TQ(X,z,B,F,N){this.listener=X,this.proxy=null,this.src=z,this.type=B,this.capture=!!F,this.ha=N,this.key=++lQ,this.da=this.fa=!1}function O8(X){X.da=!0,X.listener=null,X.proxy=null,X.src=null,X.ha=null}function I8(X){this.src=X,this.g={},this.h=0}I8.prototype.add=function(X,z,B,F,N){var H=X.toString();X=this.g[H],X||(X=this.g[H]=[],this.h++);var T=j6(X,z,F,N);return-1<T?(z=X[T],B||(z.fa=!1)):(z=new TQ(z,this.src,H,!!F,N),z.fa=B,X.push(z)),z};function F6(X,z){var B=z.type;if(B in X.g){var F=X.g[B],N=Array.prototype.indexOf.call(F,z,void 0),H;(H=0<=N)&&Array.prototype.splice.call(F,N,1),H&&(O8(z),X.g[B].length==0&&(delete X.g[B],X.h--))}}function j6(X,z,B,F){for(var N=0;N<X.length;++N){var H=X[N];if(!H.da&&H.listener==z&&H.capture==!!B&&H.ha==F)return N}return-1}var R6="closure_lm_"+(1e6*Math.random()|0),G6={};function y5(X,z,B,F,N){if(F&&F.once)return f5(X,z,B,F,N);if(Array.isArray(z)){for(var H=0;H<z.length;H++)y5(X,z[H],B,F,N);return null}return B=L6(B),X&&X[x1]?X.K(z,B,R(F)?!!F.capture:!!F,N):v5(X,z,B,!1,F,N)}function v5(X,z,B,F,N,H){if(!z)throw Error("Invalid event type");var T=R(N)?!!N.capture:!!N,E=I6(X);if(E||(X[R6]=E=new I8(X)),B=E.add(z,B,F,T,H),B.proxy)return B;if(F=AQ(),B.proxy=F,F.src=X,F.listener=B,X.addEventListener)KQ||(N=T),N===void 0&&(N=!1),X.addEventListener(z.toString(),F,N);else if(X.attachEvent)X.attachEvent(Y5(z.toString()),F);else if(X.addListener&&X.removeListener)X.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return B}function AQ(){function X(B){return z.call(X.src,X.listener,B)}let z=_Q;return X}function f5(X,z,B,F,N){if(Array.isArray(z)){for(var H=0;H<z.length;H++)f5(X,z[H],B,F,N);return null}return B=L6(B),X&&X[x1]?X.L(z,B,R(F)?!!F.capture:!!F,N):v5(X,z,B,!0,F,N)}function H5(X,z,B,F,N){if(Array.isArray(z))for(var H=0;H<z.length;H++)H5(X,z[H],B,F,N);else(F=R(F)?!!F.capture:!!F,B=L6(B),X&&X[x1])?(X=X.i,z=String(z).toString(),(z in X.g)&&(H=X.g[z],B=j6(H,B,F,N),-1<B&&(O8(H[B]),Array.prototype.splice.call(H,B,1),H.length==0&&(delete X.g[z],X.h--)))):X&&(X=I6(X))&&(z=X.g[z.toString()],X=-1,z&&(X=j6(z,B,F,N)),(B=-1<X?z[X]:null)&&O6(B))}function O6(X){if(typeof X!=="number"&&X&&!X.da){var z=X.src;if(z&&z[x1])F6(z.i,X);else{var{type:B,proxy:F}=X;z.removeEventListener?z.removeEventListener(B,F,X.capture):z.detachEvent?z.detachEvent(Y5(B),F):z.addListener&&z.removeListener&&z.removeListener(F),(B=I6(z))?(F6(B,X),B.h==0&&(B.src=null,z[R6]=null)):O8(X)}}}function Y5(X){return X in G6?G6[X]:G6[X]="on"+X}function _Q(X,z){if(X.da)X=!0;else{z=new W1(z,this);var B=X.listener,F=X.ha||X.src;X.fa&&O6(X),X=B.call(F,z)}return X}function I6(X){return X=X[R6],X instanceof I8?X:null}var k6="__closure_events_fn_"+(1e9*Math.random()>>>0);function L6(X){if(typeof X==="function")return X;return X[k6]||(X[k6]=function(z){return X.handleEvent(z)}),X[k6]}function O0(){w2.call(this),this.i=new I8(this),this.M=this,this.F=null}A(O0,w2),O0.prototype[x1]=!0,O0.prototype.removeEventListener=function(X,z,B,F){H5(this,X,z,B,F)};function v0(X,z){var B,F=X.F;if(F)for(B=[];F;F=F.F)B.push(F);if(X=X.M,F=z.type||z,typeof z==="string")z=new G0(z,X);else if(z instanceof G0)z.target=z.target||X;else{var N=z;z=new G0(F,X),k(z,N)}if(N=!0,B)for(var H=B.length-1;0<=H;H--){var T=z.g=B[H];N=k8(T,F,!0,z)&&N}if(T=z.g=X,N=k8(T,F,!0,z)&&N,N=k8(T,F,!1,z)&&N,B)for(H=0;H<B.length;H++)T=z.g=B[H],N=k8(T,F,!1,z)&&N}O0.prototype.N=function(){if(O0.aa.N.call(this),this.i){var X=this.i,z;for(z in X.g){for(var B=X.g[z],F=0;F<B.length;F++)O8(B[F]);delete X.g[z],X.h--}}this.F=null},O0.prototype.K=function(X,z,B,F){return this.i.add(String(X),z,!1,B,F)},O0.prototype.L=function(X,z,B,F){return this.i.add(String(X),z,!0,B,F)};function k8(X,z,B,F){if(z=X.i.g[String(z)],!z)return!0;z=z.concat();for(var N=!0,H=0;H<z.length;++H){var T=z[H];if(T&&!T.da&&T.capture==B){var E=T.listener,h0=T.ha||T.src;T.fa&&F6(X.i,T),N=E.call(h0,F)!==!1&&N}}return N&&!F.defaultPrevented}function K5(X,z,B){if(typeof X==="function")B&&(X=K(X,B));else if(X&&typeof X.handleEvent=="function")X=K(X.handleEvent,X);else throw Error("Invalid listener argument");return 2147483647<Number(z)?-1:h.setTimeout(X,z||0)}function p5(X){X.g=K5(()=>{X.g=null,X.i&&(X.i=!1,p5(X))},X.l);let z=X.h;X.h=null,X.m.apply(null,z)}class l5 extends w2{constructor(X,z){super();this.m=X,this.l=z,this.h=null,this.i=!1,this.g=null}j(X){this.h=arguments,this.g?this.i=!0:p5(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function q1(X){w2.call(this),this.h=X,this.g={}}A(q1,w2);var T5=[];function A5(X){K0(X.g,function(z,B){this.g.hasOwnProperty(B)&&O6(z)},X),X.g={}}q1.prototype.N=function(){q1.aa.N.call(this),A5(this)},q1.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var S6=h.JSON.stringify,PQ=h.JSON.parse,MQ=class{stringify(X){return h.JSON.stringify(X,void 0)}parse(X){return h.JSON.parse(X,void 0)}};function N6(){}N6.prototype.h=null;function _5(X){return X.h||(X.h=X.i())}function P5(){}var B1={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function y6(){G0.call(this,"d")}A(y6,G0);function v6(){G0.call(this,"c")}A(v6,G0);var S2={},M5=null;function L8(){return M5=M5||new O0}S2.La="serverreachability";function u5(X){G0.call(this,S2.La,X)}A(u5,G0);function h1(X){let z=L8();v0(z,new u5(z))}S2.STAT_EVENT="statevent";function i5(X,z){G0.call(this,S2.STAT_EVENT,X),this.stat=z}A(i5,G0);function f0(X){let z=L8();v0(z,new i5(z,X))}S2.Ma="timingevent";function C5(X,z){G0.call(this,S2.Ma,X),this.size=z}A(C5,G0);function F1(X,z){if(typeof X!=="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){X()},z)}function j1(){this.g=!0}j1.prototype.xa=function(){this.g=!1};function uQ(X,z,B,F,N,H){X.info(function(){if(X.g)if(H){var T="";for(var E=H.split("&"),h0=0;h0<E.length;h0++){var t=E[h0].split("=");if(1<t.length){var I0=t[0];t=t[1];var k0=I0.split("_");T=2<=k0.length&&k0[1]=="type"?T+(I0+"="+t+"&"):T+(I0+"=redacted&")}}}else T=null;else T=H;return"XMLHTTP REQ ("+F+") [attempt "+N+"]: "+z+`
`+B+`
`+T})}function iQ(X,z,B,F,N,H,T){X.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+N+"]: "+z+`
`+B+`
`+H+" "+T})}function u2(X,z,B,F){X.info(function(){return"XMLHTTP TEXT ("+z+"): "+rQ(X,B)+(F?" "+F:"")})}function CQ(X,z){X.info(function(){return"TIMEOUT: "+z})}j1.prototype.info=function(){};function rQ(X,z){if(!X.g)return z;if(!z)return null;try{var B=JSON.parse(z);if(B){for(X=0;X<B.length;X++)if(Array.isArray(B[X])){var F=B[X];if(!(2>F.length)){var N=F[1];if(Array.isArray(N)&&!(1>N.length)){var H=N[0];if(H!="noop"&&H!="stop"&&H!="close")for(var T=1;T<N.length;T++)N[T]=""}}}}return S6(B)}catch(E){return z}}var S8={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},r5={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},f6;function N8(){}A(N8,N6),N8.prototype.g=function(){return new XMLHttpRequest},N8.prototype.i=function(){return{}},f6=new N8;function V2(X,z,B,F){this.j=X,this.i=z,this.l=B,this.R=F||1,this.U=new q1(this),this.I=45000,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new m5}function m5(){this.i=null,this.g="",this.h=!1}var n5={},H6={};function Y6(X,z,B){X.L=1,X.v=H8(c0(z)),X.m=B,X.P=!0,g5(X,null)}function g5(X,z){X.F=Date.now(),y8(X),X.A=c0(X.v);var{A:B,R:F}=X;Array.isArray(F)||(F=[String(F)]),X9(B.i,"t",F),X.C=0,B=X.j.J,X.h=new m5,X.g=L9(X.j,B?z:null,!X.m),0<X.O&&(X.M=new l5(K(X.Y,X,X.g),X.O)),z=X.U,B=X.g,F=X.ca;var N="readystatechange";Array.isArray(N)||(N&&(T5[0]=N.toString()),N=T5);for(var H=0;H<N.length;H++){var T=y5(B,N[H],F||z.handleEvent,!1,z.h||z);if(!T)break;z.g[T.key]=T}z=X.H?G(X.H):{},X.m?(X.u||(X.u="POST"),z["Content-Type"]="application/x-www-form-urlencoded",X.g.ea(X.A,X.u,X.m,z)):(X.u="GET",X.g.ea(X.A,X.u,null,z)),h1(),uQ(X.i,X.u,X.A,X.l,X.R,X.m)}V2.prototype.ca=function(X){X=X.target;let z=this.M;z&&t0(X)==3?z.j():this.Y(X)},V2.prototype.Y=function(X){try{if(X==this.g)Z:{let k0=t0(this.g);var z=this.g.Ba();let r2=this.g.Z();if(!(3>k0)&&(k0!=3||this.g&&(this.h.h||this.g.oa()||x9(this.g)))){this.J||k0!=4||z==7||(z==8||0>=r2?h1(3):h1(2)),K6(this);var B=this.g.Z();this.X=B;Q:if(s5(this)){var F=x9(this.g);X="";var N=F.length,H=t0(this.g)==4;if(!this.h.i){if(typeof TextDecoder==="undefined"){N2(this),R1(this);var T="";break Q}this.h.i=new h.TextDecoder}for(z=0;z<N;z++)this.h.h=!0,X+=this.h.i.decode(F[z],{stream:!(H&&z==N-1)});F.length=0,this.h.g+=X,this.C=0,T=this.h.g}else T=this.g.oa();if(this.o=B==200,iQ(this.i,this.u,this.A,this.l,this.R,k0,B),this.o){if(this.T&&!this.K){Q:{if(this.g){var E,h0=this.g;if((E=h0.g?h0.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!n(E)){var t=E;break Q}}t=null}if(B=t)u2(this.i,this.l,B,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,p6(this,B);else{this.o=!1,this.s=3,f0(12),N2(this),R1(this);break Z}}if(this.P){B=!0;let M0;for(;!this.J&&this.C<T.length;)if(M0=mQ(this,T),M0==H6){k0==4&&(this.s=4,f0(14),B=!1),u2(this.i,this.l,null,"[Incomplete Response]");break}else if(M0==n5){this.s=4,f0(15),u2(this.i,this.l,T,"[Invalid Chunk]"),B=!1;break}else u2(this.i,this.l,M0,null),p6(this,M0);if(s5(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),k0!=4||T.length!=0||this.h.h||(this.s=1,f0(16),B=!1),this.o=this.o&&B,!B)u2(this.i,this.l,T,"[Invalid Chunked Response]"),N2(this),R1(this);else if(0<T.length&&!this.W){this.W=!0;var I0=this.j;I0.g==this&&I0.ba&&!I0.M&&(I0.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),M6(I0),I0.M=!0,f0(11))}}else u2(this.i,this.l,T,null),p6(this,T);k0==4&&N2(this),this.o&&!this.J&&(k0==4?G9(this.j,this):(this.o=!1,y8(this)))}else $J(this.g),B==400&&0<T.indexOf("Unknown SID")?(this.s=3,f0(12)):(this.s=0,f0(13)),N2(this),R1(this)}}}catch(k0){}finally{}};function s5(X){return X.g?X.u=="GET"&&X.L!=2&&X.j.Ca:!1}function mQ(X,z){var B=X.C,F=z.indexOf(`
`,B);if(F==-1)return H6;if(B=Number(z.substring(B,F)),isNaN(B))return n5;if(F+=1,F+B>z.length)return H6;return z=z.slice(F,F+B),X.C=F+B,z}V2.prototype.cancel=function(){this.J=!0,N2(this)};function y8(X){X.S=Date.now()+X.I,D5(X,X.I)}function D5(X,z){if(X.B!=null)throw Error("WatchDog timer not null");X.B=F1(K(X.ba,X),z)}function K6(X){X.B&&(h.clearTimeout(X.B),X.B=null)}V2.prototype.ba=function(){this.B=null;let X=Date.now();0<=X-this.S?(CQ(this.i,this.A),this.L!=2&&(h1(),f0(17)),N2(this),this.s=2,R1(this)):D5(this,this.S-X)};function R1(X){X.j.G==0||X.J||G9(X.j,X)}function N2(X){K6(X);var z=X.M;z&&typeof z.ma=="function"&&z.ma(),X.M=null,A5(X.U),X.g&&(z=X.g,X.g=null,z.abort(),z.ma())}function p6(X,z){try{var B=X.j;if(B.G!=0&&(B.g==X||l6(B.h,X))){if(!X.K&&l6(B.h,X)&&B.G==3){try{var F=B.Da.g.parse(z)}catch(t){F=null}if(Array.isArray(F)&&F.length==3){var N=F;if(N[0]==0)Z:if(!B.u){if(B.g)if(B.g.F+3000<X.F)T8(B),p8(B);else break Z;P6(B),f0(18)}else B.za=N[1],0<B.za-B.T&&37500>N[2]&&B.F&&B.v==0&&!B.C&&(B.C=F1(K(B.Za,B),6000));if(1>=t5(B.h)&&B.ca){try{B.ca()}catch(t){}B.ca=void 0}}else v2(B,11)}else if((X.K||B.g==X)&&T8(B),!n(z))for(N=B.Da.g.parse(z),z=0;z<N.length;z++){let t=N[z];if(B.T=t[0],t=t[1],B.G==2)if(t[0]=="c"){B.K=t[1],B.ia=t[2];let I0=t[3];I0!=null&&(B.la=I0,B.j.info("VER="+B.la));let k0=t[4];k0!=null&&(B.Aa=k0,B.j.info("SVER="+B.Aa));let r2=t[5];r2!=null&&typeof r2==="number"&&0<r2&&(F=1.5*r2,B.L=F,B.j.info("backChannelRequestTimeoutMs_="+F)),F=B;let M0=X.g;if(M0){let _8=M0.g?M0.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_8){var H=F.h;H.g||_8.indexOf("spdy")==-1&&_8.indexOf("quic")==-1&&_8.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(T6(H,H.h),H.h=null))}if(F.D){let u6=M0.g?M0.g.getResponseHeader("X-HTTP-Session-Id"):null;u6&&(F.ya=u6,Z0(F.I,F.D,u6))}}B.G=3,B.l&&B.l.ua(),B.ba&&(B.R=Date.now()-X.F,B.j.info("Handshake RTT: "+B.R+"ms")),F=B;var T=X;if(F.qa=k9(F,F.J?F.ia:null,F.W),T.K){d5(F.h,T);var E=T,h0=F.L;h0&&(E.I=h0),E.B&&(K6(E),y8(E)),F.g=T}else j9(F);0<B.i.length&&l8(B)}else t[0]!="stop"&&t[0]!="close"||v2(B,7);else B.G==3&&(t[0]=="stop"||t[0]=="close"?t[0]=="stop"?v2(B,7):_6(B):t[0]!="noop"&&B.l&&B.l.ta(t),B.v=0)}}h1(4)}catch(t){}}var nQ=class{constructor(X,z){this.g=X,this.map=z}};function b5(X){this.l=X||10,h.PerformanceNavigationTiming?(X=h.performance.getEntriesByType("navigation"),X=0<X.length&&(X[0].nextHopProtocol=="hq"||X[0].nextHopProtocol=="h2")):X=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=X?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function c5(X){return X.h?!0:X.g?X.g.size>=X.j:!1}function t5(X){return X.h?1:X.g?X.g.size:0}function l6(X,z){return X.h?X.h==z:X.g?X.g.has(z):!1}function T6(X,z){X.g?X.g.add(z):X.h=z}function d5(X,z){X.h&&X.h==z?X.h=null:X.g&&X.g.has(z)&&X.g.delete(z)}b5.prototype.cancel=function(){if(this.i=E5(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let X of this.g.values())X.cancel();this.g.clear()}};function E5(X){if(X.h!=null)return X.i.concat(X.h.D);if(X.g!=null&&X.g.size!==0){let z=X.i;for(let B of X.g.values())z=z.concat(B.D);return z}return _(X.i)}function gQ(X){if(X.V&&typeof X.V=="function")return X.V();if(typeof Map!=="undefined"&&X instanceof Map||typeof Set!=="undefined"&&X instanceof Set)return Array.from(X.values());if(typeof X==="string")return X.split("");if(j(X)){for(var z=[],B=X.length,F=0;F<B;F++)z.push(X[F]);return z}z=[],B=0;for(F in X)z[B++]=X[F];return z}function sQ(X){if(X.na&&typeof X.na=="function")return X.na();if(!X.V||typeof X.V!="function"){if(typeof Map!=="undefined"&&X instanceof Map)return Array.from(X.keys());if(!(typeof Set!=="undefined"&&X instanceof Set)){if(j(X)||typeof X==="string"){var z=[];X=X.length;for(var B=0;B<X;B++)z.push(B);return z}z=[],B=0;for(let F in X)z[B++]=F;return z}}}function o5(X,z){if(X.forEach&&typeof X.forEach=="function")X.forEach(z,void 0);else if(j(X)||typeof X==="string")Array.prototype.forEach.call(X,z,void 0);else for(var B=sQ(X),F=gQ(X),N=F.length,H=0;H<N;H++)z.call(void 0,F[H],B&&B[H],X)}var a5=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function DQ(X,z){if(X){X=X.split("&");for(var B=0;B<X.length;B++){var F=X[B].indexOf("="),N=null;if(0<=F){var H=X[B].substring(0,F);N=X[B].substring(F+1)}else H=X[B];z(H,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function y2(X){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,X instanceof y2){this.h=X.h,v8(this,X.j),this.o=X.o,this.g=X.g,f8(this,X.s),this.l=X.l;var z=X.i,B=new I1;B.i=z.i,z.g&&(B.g=new Map(z.g),B.h=z.h),e5(this,B),this.m=X.m}else X&&(z=String(X).match(a5))?(this.h=!1,v8(this,z[1]||"",!0),this.o=G1(z[2]||""),this.g=G1(z[3]||"",!0),f8(this,z[4]),this.l=G1(z[5]||"",!0),e5(this,z[6]||"",!0),this.m=G1(z[7]||"")):(this.h=!1,this.i=new I1(null,this.h))}y2.prototype.toString=function(){var X=[],z=this.j;z&&X.push(O1(z,Z9,!0),":");var B=this.g;if(B||z=="file")X.push("//"),(z=this.o)&&X.push(O1(z,Z9,!0),"@"),X.push(encodeURIComponent(String(B)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.s,B!=null&&X.push(":",String(B));if(B=this.l)this.g&&B.charAt(0)!="/"&&X.push("/"),X.push(O1(B,B.charAt(0)=="/"?tQ:cQ,!0));return(B=this.i.toString())&&X.push("?",B),(B=this.m)&&X.push("#",O1(B,EQ)),X.join("")};function c0(X){return new y2(X)}function v8(X,z,B){X.j=B?G1(z,!0):z,X.j&&(X.j=X.j.replace(/:$/,""))}function f8(X,z){if(z){if(z=Number(z),isNaN(z)||0>z)throw Error("Bad port number "+z);X.s=z}else X.s=null}function e5(X,z,B){z instanceof I1?(X.i=z,oQ(X.i,X.h)):(B||(z=O1(z,dQ)),X.i=new I1(z,X.h))}function Z0(X,z,B){X.i.set(z,B)}function H8(X){return Z0(X,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),X}function G1(X,z){return X?z?decodeURI(X.replace(/%25/g,"%2525")):decodeURIComponent(X):""}function O1(X,z,B){return typeof X==="string"?(X=encodeURI(X).replace(z,bQ),B&&(X=X.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),X):null}function bQ(X){return X=X.charCodeAt(0),"%"+(X>>4&15).toString(16)+(X&15).toString(16)}var Z9=/[#\/\?@]/g,cQ=/[#\?:]/g,tQ=/[#\?]/g,dQ=/[#\?@]/g,EQ=/#/g;function I1(X,z){this.h=this.g=null,this.i=X||null,this.j=!!z}function z2(X){X.g||(X.g=new Map,X.h=0,X.i&&DQ(X.i,function(z,B){X.add(decodeURIComponent(z.replace(/\+/g," ")),B)}))}Z=I1.prototype,Z.add=function(X,z){z2(this),this.i=null,X=i2(this,X);var B=this.g.get(X);return B||this.g.set(X,B=[]),B.push(z),this.h+=1,this};function Q9(X,z){z2(X),z=i2(X,z),X.g.has(z)&&(X.i=null,X.h-=X.g.get(z).length,X.g.delete(z))}function J9(X,z){return z2(X),z=i2(X,z),X.g.has(z)}Z.forEach=function(X,z){z2(this),this.g.forEach(function(B,F){B.forEach(function(N){X.call(z,N,F,this)},this)},this)},Z.na=function(){z2(this);let X=Array.from(this.g.values()),z=Array.from(this.g.keys()),B=[];for(let F=0;F<z.length;F++){let N=X[F];for(let H=0;H<N.length;H++)B.push(z[F])}return B},Z.V=function(X){z2(this);let z=[];if(typeof X==="string")J9(this,X)&&(z=z.concat(this.g.get(i2(this,X))));else{X=Array.from(this.g.values());for(let B=0;B<X.length;B++)z=z.concat(X[B])}return z},Z.set=function(X,z){return z2(this),this.i=null,X=i2(this,X),J9(this,X)&&(this.h-=this.g.get(X).length),this.g.set(X,[z]),this.h+=1,this},Z.get=function(X,z){if(!X)return z;return X=this.V(X),0<X.length?String(X[0]):z};function X9(X,z,B){Q9(X,z),0<B.length&&(X.i=null,X.g.set(i2(X,z),_(B)),X.h+=B.length)}Z.toString=function(){if(this.i)return this.i;if(!this.g)return"";let X=[],z=Array.from(this.g.keys());for(var B=0;B<z.length;B++){var F=z[B];let H=encodeURIComponent(String(F)),T=this.V(F);for(F=0;F<T.length;F++){var N=H;T[F]!==""&&(N+="="+encodeURIComponent(String(T[F]))),X.push(N)}}return this.i=X.join("&")};function i2(X,z){return z=String(z),X.j&&(z=z.toLowerCase()),z}function oQ(X,z){z&&!X.j&&(z2(X),X.i=null,X.g.forEach(function(B,F){var N=F.toLowerCase();F!=N&&(Q9(this,F),X9(this,N,B))},X)),X.j=z}function aQ(X,z){let B=new j1;if(h.Image){let F=new Image;F.onload=P(U2,B,"TestLoadImage: loaded",!0,z,F),F.onerror=P(U2,B,"TestLoadImage: error",!1,z,F),F.onabort=P(U2,B,"TestLoadImage: abort",!1,z,F),F.ontimeout=P(U2,B,"TestLoadImage: timeout",!1,z,F),h.setTimeout(function(){if(F.ontimeout)F.ontimeout()},1e4),F.src=X}else z(!1)}function eQ(X,z){let B=new j1,F=new AbortController,N=setTimeout(()=>{F.abort(),U2(B,"TestPingServer: timeout",!1,z)},1e4);fetch(X,{signal:F.signal}).then((H)=>{clearTimeout(N),H.ok?U2(B,"TestPingServer: ok",!0,z):U2(B,"TestPingServer: server error",!1,z)}).catch(()=>{clearTimeout(N),U2(B,"TestPingServer: error",!1,z)})}function U2(X,z,B,F,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),F(B)}catch(H){}}function ZJ(){this.g=new MQ}function QJ(X,z,B){let F=B||"";try{o5(X,function(N,H){let T=N;R(N)&&(T=S6(N)),z.push(F+H+"="+encodeURIComponent(T))})}catch(N){throw z.push(F+"type="+encodeURIComponent("_badmap")),N}}function k1(X){this.l=X.Ub||null,this.j=X.eb||!1}A(k1,N6),k1.prototype.g=function(){return new Y8(this.l,this.j)},k1.prototype.i=function(X){return function(){return X}}({});function Y8(X,z){O0.call(this),this.D=X,this.o=z,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Y8,O0),Z=Y8.prototype,Z.open=function(X,z){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=X,this.A=z,this.readyState=1,S1(this)},Z.send=function(X){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let z={headers:this.u,method:this.B,credentials:this.m,cache:void 0};X&&(z.body=X),(this.D||h).fetch(new Request(this.A,z)).then(this.Sa.bind(this),this.ga.bind(this))},Z.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,L1(this)),this.readyState=0},Z.Sa=function(X){if(this.g&&(this.l=X,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=X.headers,this.readyState=2,S1(this)),this.g&&(this.readyState=3,S1(this),this.g)))if(this.responseType==="arraybuffer")X.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream!=="undefined"&&"body"in X){if(this.j=X.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$9(this)}else X.text().then(this.Ra.bind(this),this.ga.bind(this))};function $9(X){X.j.read().then(X.Pa.bind(X)).catch(X.ga.bind(X))}Z.Pa=function(X){if(this.g){if(this.o&&X.value)this.response.push(X.value);else if(!this.o){var z=X.value?X.value:new Uint8Array(0);if(z=this.v.decode(z,{stream:!X.done}))this.response=this.responseText+=z}X.done?L1(this):S1(this),this.readyState==3&&$9(this)}},Z.Ra=function(X){this.g&&(this.response=this.responseText=X,L1(this))},Z.Qa=function(X){this.g&&(this.response=X,L1(this))},Z.ga=function(){this.g&&L1(this)};function L1(X){X.readyState=4,X.l=null,X.j=null,X.v=null,S1(X)}Z.setRequestHeader=function(X,z){this.u.append(X,z)},Z.getResponseHeader=function(X){return this.h?this.h.get(X.toLowerCase())||"":""},Z.getAllResponseHeaders=function(){if(!this.h)return"";let X=[],z=this.h.entries();for(var B=z.next();!B.done;)B=B.value,X.push(B[0]+": "+B[1]),B=z.next();return X.join(`\r
`)};function S1(X){X.onreadystatechange&&X.onreadystatechange.call(X)}Object.defineProperty(Y8.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(X){this.m=X?"include":"same-origin"}});function w9(X){let z="";return K0(X,function(B,F){z+=F,z+=":",z+=B,z+=`\r
`}),z}function A6(X,z,B){Z:{for(F in B){var F=!1;break Z}F=!0}F||(B=w9(B),typeof X==="string"?B!=null&&encodeURIComponent(String(B)):Z0(X,z,B))}function X0(X){O0.call(this),this.headers=new Map,this.o=X||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(X0,O0);var JJ=/^https?$/i,XJ=["POST","PUT"];Z=X0.prototype,Z.Ha=function(X){this.J=X},Z.ea=function(X,z,B,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+X);z=z?z.toUpperCase():"GET",this.D=X,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():f6.g(),this.v=this.o?_5(this.o):_5(f6),this.g.onreadystatechange=K(this.Ea,this);try{this.B=!0,this.g.open(z,String(X),!0),this.B=!1}catch(H){V9(this,H);return}if(X=B||"",B=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var N in F)B.set(N,F[N]);else if(typeof F.keys==="function"&&typeof F.get==="function")for(let H of F.keys())B.set(H,F.get(H));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(B.keys()).find((H)=>H.toLowerCase()=="content-type"),N=h.FormData&&X instanceof h.FormData,!(0<=Array.prototype.indexOf.call(XJ,z,void 0))||F||N||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[H,T]of B)this.g.setRequestHeader(H,T);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{W9(this),this.u=!0,this.g.send(X),this.u=!1}catch(H){V9(this,H)}};function V9(X,z){X.h=!1,X.g&&(X.j=!0,X.g.abort(),X.j=!1),X.l=z,X.m=5,z9(X),K8(X)}function z9(X){X.A||(X.A=!0,v0(X,"complete"),v0(X,"error"))}Z.abort=function(X){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=X||7,v0(this,"complete"),v0(this,"abort"),K8(this))},Z.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),K8(this,!0)),X0.aa.N.call(this)},Z.Ea=function(){this.s||(this.B||this.u||this.j?U9(this):this.bb())},Z.bb=function(){U9(this)};function U9(X){if(X.h&&typeof q!="undefined"&&(!X.v[1]||t0(X)!=4||X.Z()!=2)){if(X.u&&t0(X)==4)K5(X.Ea,0,X);else if(v0(X,"readystatechange"),t0(X)==4){X.h=!1;try{let T=X.Z();Z:switch(T){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var z=!0;break Z;default:z=!1}var B;if(!(B=z)){var F;if(F=T===0){var N=String(X.D).match(a5)[1]||null;!N&&h.self&&h.self.location&&(N=h.self.location.protocol.slice(0,-1)),F=!JJ.test(N?N.toLowerCase():"")}B=F}if(B)v0(X,"complete"),v0(X,"success");else{X.m=6;try{var H=2<t0(X)?X.g.statusText:""}catch(E){H=""}X.l=H+" ["+X.Z()+"]",z9(X)}}finally{K8(X)}}}}function K8(X,z){if(X.g){W9(X);let B=X.g,F=X.v[0]?()=>{}:null;X.g=null,X.v=null,z||v0(X,"ready");try{B.onreadystatechange=F}catch(N){}}}function W9(X){X.I&&(h.clearTimeout(X.I),X.I=null)}Z.isActive=function(){return!!this.g};function t0(X){return X.g?X.g.readyState:0}Z.Z=function(){try{return 2<t0(this)?this.g.status:-1}catch(X){return-1}},Z.oa=function(){try{return this.g?this.g.responseText:""}catch(X){return""}},Z.Oa=function(X){if(this.g){var z=this.g.responseText;return X&&z.indexOf(X)==0&&(z=z.substring(X.length)),PQ(z)}};function x9(X){try{if(!X.g)return null;if("response"in X.g)return X.g.response;switch(X.H){case"":case"text":return X.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in X.g)return X.g.mozResponseArrayBuffer}return null}catch(z){return null}}function $J(X){let z={};X=(X.g&&2<=t0(X)?X.g.getAllResponseHeaders()||"":"").split(`\r
`);for(let F=0;F<X.length;F++){if(n(X[F]))continue;var B=L(X[F]);let N=B[0];if(B=B[1],typeof B!=="string")continue;B=B.trim();let H=z[N]||[];z[N]=H,H.push(B)}y(z,function(F){return F.join(", ")})}Z.Ba=function(){return this.m},Z.Ka=function(){return typeof this.l==="string"?this.l:String(this.l)};function N1(X,z,B){return B&&B.internalChannelParams?B.internalChannelParams[X]||z:z}function q9(X){this.Aa=0,this.i=[],this.j=new j1,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=N1("failFast",!1,X),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=N1("baseRetryDelayMs",5000,X),this.cb=N1("retryDelaySeedMs",1e4,X),this.Wa=N1("forwardChannelMaxRetries",2,X),this.wa=N1("forwardChannelRequestTimeoutMs",20000,X),this.pa=X&&X.xmlHttpFactory||void 0,this.Xa=X&&X.Tb||void 0,this.Ca=X&&X.useFetchStreams||!1,this.L=void 0,this.J=X&&X.supportsCrossDomainXhr||!1,this.K="",this.h=new b5(X&&X.concurrentRequestLimit),this.Da=new ZJ,this.P=X&&X.fastHandshake||!1,this.O=X&&X.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=X&&X.Rb||!1,X&&X.xa&&this.j.xa(),X&&X.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&X&&X.detectBufferingProxy||!1,this.ja=void 0,X&&X.longPollingTimeout&&0<X.longPollingTimeout&&(this.ja=X.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}Z=q9.prototype,Z.la=8,Z.G=1,Z.connect=function(X,z,B,F){f0(0),this.W=X,this.H=z||{},B&&F!==void 0&&(this.H.OSID=B,this.H.OAID=F),this.F=this.X,this.I=k9(this,null,this.W),l8(this)};function _6(X){if(B9(X),X.G==3){var z=X.U++,B=c0(X.I);if(Z0(B,"SID",X.K),Z0(B,"RID",z),Z0(B,"TYPE","terminate"),y1(X,B),z=new V2(X,X.j,z),z.L=2,z.v=H8(c0(B)),B=!1,h.navigator&&h.navigator.sendBeacon)try{B=h.navigator.sendBeacon(z.v.toString(),"")}catch(F){}!B&&h.Image&&(new Image().src=z.v,B=!0),B||(z.g=L9(z.j,null),z.g.ea(z.v)),z.F=Date.now(),y8(z)}I9(X)}function p8(X){X.g&&(M6(X),X.g.cancel(),X.g=null)}function B9(X){p8(X),X.u&&(h.clearTimeout(X.u),X.u=null),T8(X),X.h.cancel(),X.s&&(typeof X.s==="number"&&h.clearTimeout(X.s),X.s=null)}function l8(X){if(!c5(X.h)&&!X.s){X.s=!0;var z=X.Ga;z1||N5(),U1||(z1(),U1=!0),h6.add(z,X),X.B=0}}function wJ(X,z){if(t5(X.h)>=X.h.j-(X.s?1:0))return!1;if(X.s)return X.i=z.D.concat(X.i),!0;if(X.G==1||X.G==2||X.B>=(X.Va?0:X.Wa))return!1;return X.s=F1(K(X.Ga,X,z),O9(X,X.B)),X.B++,!0}Z.Ga=function(X){if(this.s)if(this.s=null,this.G==1){if(!X){this.U=Math.floor(1e5*Math.random()),X=this.U++;let N=new V2(this,this.j,X),H=this.o;if(this.S&&(H?(H=G(H),k(H,this.S)):H=this.S),this.m!==null||this.O||(N.H=H,H=null),this.P)Z:{var z=0;for(var B=0;B<this.i.length;B++){Q:{var F=this.i[B];if("__data__"in F.map&&(F=F.map.__data__,typeof F==="string")){F=F.length;break Q}F=void 0}if(F===void 0)break;if(z+=F,4096<z){z=B;break Z}if(z===4096||B===this.i.length-1){z=B+1;break Z}}z=1000}else z=1000;z=F9(this,N,z),B=c0(this.I),Z0(B,"RID",X),Z0(B,"CVER",22),this.D&&Z0(B,"X-HTTP-Session-Id",this.D),y1(this,B),H&&(this.O?z="headers="+encodeURIComponent(String(w9(H)))+"&"+z:this.m&&A6(B,this.m,H)),T6(this.h,N),this.Ua&&Z0(B,"TYPE","init"),this.P?(Z0(B,"$req",z),Z0(B,"SID","null"),N.T=!0,Y6(N,B,null)):Y6(N,B,z),this.G=2}}else this.G==3&&(X?h9(this,X):this.i.length==0||c5(this.h)||h9(this))};function h9(X,z){var B;z?B=z.l:B=X.U++;let F=c0(X.I);Z0(F,"SID",X.K),Z0(F,"RID",B),Z0(F,"AID",X.T),y1(X,F),X.m&&X.o&&A6(F,X.m,X.o),B=new V2(X,X.j,B,X.B+1),X.m===null&&(B.H=X.o),z&&(X.i=z.D.concat(X.i)),z=F9(X,B,1000),B.I=Math.round(0.5*X.wa)+Math.round(0.5*X.wa*Math.random()),T6(X.h,B),Y6(B,F,z)}function y1(X,z){X.H&&K0(X.H,function(B,F){Z0(z,F,B)}),X.l&&o5({},function(B,F){Z0(z,F,B)})}function F9(X,z,B){B=Math.min(X.i.length,B);var F=X.l?K(X.l.Na,X.l,X):null;Z:{var N=X.i;let H=-1;for(;;){let T=["count="+B];H==-1?0<B?(H=N[0].g,T.push("ofs="+H)):H=0:T.push("ofs="+H);let E=!0;for(let h0=0;h0<B;h0++){let t=N[h0].g,I0=N[h0].map;if(t-=H,0>t)H=Math.max(0,N[h0].g-100),E=!1;else try{QJ(I0,T,"req"+t+"_")}catch(k0){F&&F(I0)}}if(E){F=T.join("&");break Z}}}return X=X.i.splice(0,B),z.D=X,F}function j9(X){if(!X.g&&!X.u){X.Y=1;var z=X.Fa;z1||N5(),U1||(z1(),U1=!0),h6.add(z,X),X.v=0}}function P6(X){if(X.g||X.u||3<=X.v)return!1;return X.Y++,X.u=F1(K(X.Fa,X),O9(X,X.v)),X.v++,!0}Z.Fa=function(){if(this.u=null,R9(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var X=2*this.R;this.j.info("BP detection timer enabled: "+X),this.A=F1(K(this.ab,this),X)}},Z.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,f0(10),p8(this),R9(this))};function M6(X){X.A!=null&&(h.clearTimeout(X.A),X.A=null)}function R9(X){X.g=new V2(X,X.j,"rpc",X.Y),X.m===null&&(X.g.H=X.o),X.g.O=0;var z=c0(X.qa);Z0(z,"RID","rpc"),Z0(z,"SID",X.K),Z0(z,"AID",X.T),Z0(z,"CI",X.F?"0":"1"),!X.F&&X.ja&&Z0(z,"TO",X.ja),Z0(z,"TYPE","xmlhttp"),y1(X,z),X.m&&X.o&&A6(z,X.m,X.o),X.L&&(X.g.I=X.L);var B=X.g;X=X.ia,B.L=1,B.v=H8(c0(z)),B.m=null,B.P=!0,g5(B,X)}Z.Za=function(){this.C!=null&&(this.C=null,p8(this),P6(this),f0(19))};function T8(X){X.C!=null&&(h.clearTimeout(X.C),X.C=null)}function G9(X,z){var B=null;if(X.g==z){T8(X),M6(X),X.g=null;var F=2}else if(l6(X.h,z))B=z.D,d5(X.h,z),F=1;else return;if(X.G!=0){if(z.o)if(F==1){B=z.m?z.m.length:0,z=Date.now()-z.F;var N=X.B;F=L8(),v0(F,new C5(F,B)),l8(X)}else j9(X);else if(N=z.s,N==3||N==0&&0<z.X||!(F==1&&wJ(X,z)||F==2&&P6(X)))switch(B&&0<B.length&&(z=X.h,z.i=z.i.concat(B)),N){case 1:v2(X,5);break;case 4:v2(X,10);break;case 3:v2(X,6);break;default:v2(X,2)}}}function O9(X,z){let B=X.Ta+Math.floor(Math.random()*X.cb);return X.isActive()||(B*=2),B*z}function v2(X,z){if(X.j.info("Error code "+z),z==2){var B=K(X.fb,X),F=X.Xa;let N=!F;F=new y2(F||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||v8(F,"https"),H8(F),N?aQ(F.toString(),B):eQ(F.toString(),B)}else f0(2);X.G=0,X.l&&X.l.sa(z),I9(X),B9(X)}Z.fb=function(X){X?(this.j.info("Successfully pinged google.com"),f0(2)):(this.j.info("Failed to ping google.com"),f0(1))};function I9(X){if(X.G=0,X.ka=[],X.l){let z=E5(X.h);if(z.length!=0||X.i.length!=0)M(X.ka,z),M(X.ka,X.i),X.h.i.length=0,_(X.i),X.i.length=0;X.l.ra()}}function k9(X,z,B){var F=B instanceof y2?c0(B):new y2(B);if(F.g!="")z&&(F.g=z+"."+F.g),f8(F,F.s);else{var N=h.location;F=N.protocol,z=z?z+"."+N.hostname:N.hostname,N=+N.port;var H=new y2(null);F&&v8(H,F),z&&(H.g=z),N&&f8(H,N),B&&(H.l=B),F=H}return B=X.D,z=X.ya,B&&z&&Z0(F,B,z),Z0(F,"VER",X.la),y1(X,F),F}function L9(X,z,B){if(z&&!X.J)throw Error("Can't create secondary domain capable XhrIo object.");return z=X.Ca&&!X.pa?new X0(new k1({eb:B})):new X0(X.pa),z.Ha(X.J),z}Z.isActive=function(){return!!this.l&&this.l.isActive(this)};function S9(){}Z=S9.prototype,Z.ua=function(){},Z.ta=function(){},Z.sa=function(){},Z.ra=function(){},Z.isActive=function(){return!0},Z.Na=function(){};function A8(){}A8.prototype.g=function(X,z){return new p0(X,z)};function p0(X,z){O0.call(this),this.g=new q9(z),this.l=X,this.h=z&&z.messageUrlParams||null,X=z&&z.messageHeaders||null,z&&z.clientProtocolHeaderRequired&&(X?X["X-Client-Protocol"]="webchannel":X={"X-Client-Protocol":"webchannel"}),this.g.o=X,X=z&&z.initMessageHeaders||null,z&&z.messageContentType&&(X?X["X-WebChannel-Content-Type"]=z.messageContentType:X={"X-WebChannel-Content-Type":z.messageContentType}),z&&z.va&&(X?X["X-WebChannel-Client-Profile"]=z.va:X={"X-WebChannel-Client-Profile":z.va}),this.g.S=X,(X=z&&z.Sb)&&!n(X)&&(this.g.m=X),this.v=z&&z.supportsCrossDomainXhr||!1,this.u=z&&z.sendRawJson||!1,(z=z&&z.httpSessionIdParam)&&!n(z)&&(this.g.D=z,X=this.h,X!==null&&(z in X)&&(X=this.h,(z in X)&&delete X[z])),this.j=new C2(this)}A(p0,O0),p0.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},p0.prototype.close=function(){_6(this.g)},p0.prototype.o=function(X){var z=this.g;if(typeof X==="string"){var B={};B.__data__=X,X=B}else this.u&&(B={},B.__data__=S6(X),X=B);z.i.push(new nQ(z.Ya++,X)),z.G==3&&l8(z)},p0.prototype.N=function(){this.g.l=null,delete this.j,_6(this.g),delete this.g,p0.aa.N.call(this)};function N9(X){y6.call(this),X.__headers__&&(this.headers=X.__headers__,this.statusCode=X.__status__,delete X.__headers__,delete X.__status__);var z=X.__sm__;if(z){Z:{for(let B in z){X=B;break Z}X=void 0}if(this.i=X)X=this.i,z=z!==null&&X in z?z[X]:void 0;this.data=z}else this.data=X}A(N9,y6);function y9(){v6.call(this),this.status=1}A(y9,v6);function C2(X){this.g=X}A(C2,S9),C2.prototype.ua=function(){v0(this.g,"a")},C2.prototype.ta=function(X){v0(this.g,new N9(X))},C2.prototype.sa=function(X){v0(this.g,new y9)},C2.prototype.ra=function(){v0(this.g,"b")},A8.prototype.createWebChannel=A8.prototype.g,p0.prototype.send=p0.prototype.o,p0.prototype.open=p0.prototype.m,p0.prototype.close=p0.prototype.close,F4=e0.createWebChannelTransport=function(){return new A8},h4=e0.getStatEventTarget=function(){return L8()},B4=e0.Event=S2,s8=e0.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},S8.NO_ERROR=0,S8.TIMEOUT=8,S8.HTTP_ERROR=6,g1=e0.ErrorCode=S8,r5.COMPLETE="complete",q4=e0.EventType=r5,P5.EventType=B1,B1.OPEN="a",B1.CLOSE="b",B1.ERROR="c",B1.MESSAGE="d",O0.prototype.listen=O0.prototype.K,D2=e0.WebChannel=P5,x4=e0.FetchXmlHttpFactory=k1,X0.prototype.listenOnce=X0.prototype.L,X0.prototype.getLastError=X0.prototype.Ka,X0.prototype.getLastErrorCode=X0.prototype.Ba,X0.prototype.getStatus=X0.prototype.Z,X0.prototype.getResponseJson=X0.prototype.Oa,X0.prototype.getResponseText=X0.prototype.oa,X0.prototype.send=X0.prototype.ea,X0.prototype.setWithCredentials=X0.prototype.Ha,W4=e0.XhrIo=X0}).apply(typeof g8!=="undefined"?g8:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});var xZ="@firebase/firestore";class F0{constructor(Z){this.uid=Z}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(Z){return Z.uid===this.uid}}F0.UNAUTHENTICATED=new F0(null),F0.GOOGLE_CREDENTIALS=new F0("google-credentials-uid"),F0.FIRST_PARTY=new F0("first-party-uid"),F0.MOCK_USER=new F0("mock-user");var J1="10.13.0",T2=new r1("@firebase/firestore");function s1(){return T2.logLevel}function i(Z,...Q){if(T2.logLevel<=b.DEBUG){let J=Q.map(l4);T2.debug(`Firestore (${J1}): ${Z}`,...J)}}function A2(Z,...Q){if(T2.logLevel<=b.ERROR){let J=Q.map(l4);T2.error(`Firestore (${J1}): ${Z}`,...J)}}function E8(Z,...Q){if(T2.logLevel<=b.WARN){let J=Q.map(l4);T2.warn(`Firestore (${J1}): ${Z}`,...J)}}function l4(Z){if(typeof Z=="string")return Z;try{return function Q(J){return JSON.stringify(J)}(Z)}catch(Q){return Z}}function s(Z="Unexpected state"){let Q=`FIRESTORE (${J1}) INTERNAL ASSERTION FAILED: `+Z;throw A2(Q),new Error(Q)}function W0(Z,Q){Z||s()}function e(Z,Q){return Z}var l={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class r extends o0{constructor(Z,Q){super(Z,Q),this.code=Z,this.message=Q,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class F2{constructor(){this.promise=new Promise((Z,Q)=>{this.resolve=Z,this.reject=Q})}}class T4{constructor(Z,Q){this.user=Q,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${Z}`)}}class TZ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(Z,Q){Z.enqueueRetryable(()=>Q(F0.UNAUTHENTICATED))}shutdown(){}}class AZ{constructor(Z){this.token=Z,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(Z,Q){this.changeListener=Q,Z.enqueueRetryable(()=>Q(this.token.user))}shutdown(){this.changeListener=null}}class _Z{constructor(Z){this.t=Z,this.currentUser=F0.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(Z,Q){let J=this.i,$=(h)=>this.i!==J?(J=this.i,Q(h)):Promise.resolve(),w=new F2;this.o=()=>{this.i++,this.currentUser=this.u(),w.resolve(),w=new F2,Z.enqueueRetryable(()=>$(this.currentUser))};let U=()=>{let h=w;Z.enqueueRetryable(async()=>{await h.promise,await $(this.currentUser)})},q=(h)=>{i("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.auth.addAuthTokenListener(this.o),U()};this.t.onInit((h)=>q(h)),setTimeout(()=>{if(!this.auth){let h=this.t.getImmediate({optional:!0});h?q(h):(i("FirebaseAuthCredentialsProvider","Auth not yet detected"),w.resolve(),w=new F2)}},0),U()}getToken(){let Z=this.i,Q=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(Q).then((J)=>this.i!==Z?(i("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):J?(W0(typeof J.accessToken=="string"),new T4(J.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let Z=this.auth&&this.auth.getUid();return W0(Z===null||typeof Z=="string"),new F0(Z)}}class PZ{constructor(Z,Q,J){this.l=Z,this.h=Q,this.P=J,this.type="FirstParty",this.user=F0.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let Z=this.T();return Z&&this.I.set("Authorization",Z),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class MZ{constructor(Z,Q,J){this.l=Z,this.h=Q,this.P=J}getToken(){return Promise.resolve(new PZ(this.l,this.h,this.P))}start(Z,Q){Z.enqueueRetryable(()=>Q(F0.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uZ{constructor(Z){this.value=Z,this.type="AppCheck",this.headers=new Map,Z&&Z.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iZ{constructor(Z){this.A=Z,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(Z,Q){let J=(w)=>{w.error!=null&&i("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${w.error.message}`);let U=w.token!==this.R;return this.R=w.token,i("FirebaseAppCheckTokenProvider",`Received ${U?"new":"existing"} token.`),U?Q(w.token):Promise.resolve()};this.o=(w)=>{Z.enqueueRetryable(()=>J(w))};let $=(w)=>{i("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=w,this.appCheck.addTokenListener(this.o)};this.A.onInit((w)=>$(w)),setTimeout(()=>{if(!this.appCheck){let w=this.A.getImmediate({optional:!0});w?$(w):i("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let Z=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(Z).then((Q)=>Q?(W0(typeof Q.token=="string"),this.R=Q.token,new uZ(Q.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function SX(Z){let Q=typeof self!="undefined"&&(self.crypto||self.msCrypto),J=new Uint8Array(Z);if(Q&&typeof Q.getRandomValues=="function")Q.getRandomValues(J);else for(let $=0;$<Z;$++)J[$]=Math.floor(256*Math.random());return J}class A4{static newId(){let Q=Math.floor(4.129032258064516)*62,J="";for(;J.length<20;){let $=SX(40);for(let w=0;w<$.length;++w)J.length<20&&$[w]<Q&&(J+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt($[w]%62))}return J}}function o(Z,Q){return Z<Q?-1:Z>Q?1:0}function t2(Z,Q,J){return Z.length===Q.length&&Z.every(($,w)=>J($,Q[w]))}class q0{constructor(Z,Q){if(this.seconds=Z,this.nanoseconds=Q,Q<0)throw new r(l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+Q);if(Q>=1e9)throw new r(l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+Q);if(Z<-62135596800)throw new r(l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+Z);if(Z>=253402300800)throw new r(l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+Z)}static now(){return q0.fromMillis(Date.now())}static fromDate(Z){return q0.fromMillis(Z.getTime())}static fromMillis(Z){let Q=Math.floor(Z/1000),J=Math.floor(1e6*(Z-1000*Q));return new q0(Q,J)}toDate(){return new Date(this.toMillis())}toMillis(){return 1000*this.seconds+this.nanoseconds/1e6}_compareTo(Z){return this.seconds===Z.seconds?o(this.nanoseconds,Z.nanoseconds):o(this.seconds,Z.seconds)}isEqual(Z){return Z.seconds===this.seconds&&Z.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let Z=this.seconds- -62135596800;return String(Z).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class J0{constructor(Z){this.timestamp=Z}static fromTimestamp(Z){return new J0(Z)}static min(){return new J0(new q0(0,0))}static max(){return new J0(new q0(253402300799,999999999))}compareTo(Z){return this.timestamp._compareTo(Z.timestamp)}isEqual(Z){return this.timestamp.isEqual(Z.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1000}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class o1{constructor(Z,Q,J){Q===void 0?Q=0:Q>Z.length&&s(),J===void 0?J=Z.length-Q:J>Z.length-Q&&s(),this.segments=Z,this.offset=Q,this.len=J}get length(){return this.len}isEqual(Z){return o1.comparator(this,Z)===0}child(Z){let Q=this.segments.slice(this.offset,this.limit());return Z instanceof o1?Z.forEach((J)=>{Q.push(J)}):Q.push(Z),this.construct(Q)}limit(){return this.offset+this.length}popFirst(Z){return Z=Z===void 0?1:Z,this.construct(this.segments,this.offset+Z,this.length-Z)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(Z){return this.segments[this.offset+Z]}isEmpty(){return this.length===0}isPrefixOf(Z){if(Z.length<this.length)return!1;for(let Q=0;Q<this.length;Q++)if(this.get(Q)!==Z.get(Q))return!1;return!0}isImmediateParentOf(Z){if(this.length+1!==Z.length)return!1;for(let Q=0;Q<this.length;Q++)if(this.get(Q)!==Z.get(Q))return!1;return!0}forEach(Z){for(let Q=this.offset,J=this.limit();Q<J;Q++)Z(this.segments[Q])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(Z,Q){let J=Math.min(Z.length,Q.length);for(let $=0;$<J;$++){let w=Z.get($),U=Q.get($);if(w<U)return-1;if(w>U)return 1}return Z.length<Q.length?-1:Z.length>Q.length?1:0}}class w0 extends o1{construct(Z,Q,J){return new w0(Z,Q,J)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...Z){let Q=[];for(let J of Z){if(J.indexOf("//")>=0)throw new r(l.INVALID_ARGUMENT,`Invalid segment (${J}). Paths must not contain // in them.`);Q.push(...J.split("/").filter(($)=>$.length>0))}return new w0(Q)}static emptyPath(){return new w0([])}}var NX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class R0 extends o1{construct(Z,Q,J){return new R0(Z,Q,J)}static isValidIdentifier(Z){return NX.test(Z)}canonicalString(){return this.toArray().map((Z)=>(Z=Z.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),R0.isValidIdentifier(Z)||(Z="`"+Z+"`"),Z)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new R0(["__name__"])}static fromServerFormat(Z){let Q=[],J="",$=0,w=()=>{if(J.length===0)throw new r(l.INVALID_ARGUMENT,`Invalid field path (${Z}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);Q.push(J),J=""},U=!1;for(;$<Z.length;){let q=Z[$];if(q==="\\"){if($+1===Z.length)throw new r(l.INVALID_ARGUMENT,"Path has trailing escape character: "+Z);let h=Z[$+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new r(l.INVALID_ARGUMENT,"Path has invalid escape sequence: "+Z);J+=h,$+=2}else q==="`"?(U=!U,$++):q!=="."||U?(J+=q,$++):(w(),$++)}if(w(),U)throw new r(l.INVALID_ARGUMENT,"Unterminated ` in path: "+Z);return new R0(Q)}static emptyPath(){return new R0([])}}class m{constructor(Z){this.path=Z}static fromPath(Z){return new m(w0.fromString(Z))}static fromName(Z){return new m(w0.fromString(Z).popFirst(5))}static empty(){return new m(w0.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(Z){return this.path.length>=2&&this.path.get(this.path.length-2)===Z}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(Z){return Z!==null&&w0.comparator(this.path,Z.path)===0}toString(){return this.path.toString()}static comparator(Z,Q){return w0.comparator(Z.path,Q.path)}static isDocumentKey(Z){return Z.length%2==0}static fromSegments(Z){return new m(new w0(Z.slice()))}}class CZ{constructor(Z,Q,J,$){this.indexId=Z,this.collectionGroup=Q,this.fields=J,this.indexState=$}}CZ.UNKNOWN_ID=-1;function yX(Z,Q){let J=Z.toTimestamp().seconds,$=Z.toTimestamp().nanoseconds+1,w=J0.fromTimestamp($===1e9?new q0(J+1,0):new q0(J,$));return new R2(w,m.empty(),Q)}function vX(Z){return new R2(Z.readTime,Z.key,-1)}class R2{constructor(Z,Q,J){this.readTime=Z,this.documentKey=Q,this.largestBatchId=J}static min(){return new R2(J0.min(),m.empty(),-1)}static max(){return new R2(J0.max(),m.empty(),-1)}}function fX(Z,Q){let J=Z.readTime.compareTo(Q.readTime);return J!==0?J:(J=m.comparator(Z.documentKey,Q.documentKey),J!==0?J:o(Z.largestBatchId,Q.largestBatchId))}var HX="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rZ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(Z){this.onCommittedListeners.push(Z)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((Z)=>Z())}}async function mZ(Z){if(Z.code!==l.FAILED_PRECONDITION||Z.message!==HX)throw Z;i("LocalStore","Unexpectedly lost primary lease")}class p{constructor(Z){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,Z((Q)=>{this.isDone=!0,this.result=Q,this.nextCallback&&this.nextCallback(Q)},(Q)=>{this.isDone=!0,this.error=Q,this.catchCallback&&this.catchCallback(Q)})}catch(Z){return this.next(void 0,Z)}next(Z,Q){return this.callbackAttached&&s(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(Q,this.error):this.wrapSuccess(Z,this.result):new p((J,$)=>{this.nextCallback=(w)=>{this.wrapSuccess(Z,w).next(J,$)},this.catchCallback=(w)=>{this.wrapFailure(Q,w).next(J,$)}})}toPromise(){return new Promise((Z,Q)=>{this.next(Z,Q)})}wrapUserFunction(Z){try{let Q=Z();return Q instanceof p?Q:p.resolve(Q)}catch(Q){return p.reject(Q)}}wrapSuccess(Z,Q){return Z?this.wrapUserFunction(()=>Z(Q)):p.resolve(Q)}wrapFailure(Z,Q){return Z?this.wrapUserFunction(()=>Z(Q)):p.reject(Q)}static resolve(Z){return new p((Q,J)=>{Q(Z)})}static reject(Z){return new p((Q,J)=>{J(Z)})}static waitFor(Z){return new p((Q,J)=>{let $=0,w=0,U=!1;Z.forEach((q)=>{++$,q.next(()=>{++w,U&&w===$&&Q()},(h)=>J(h))}),U=!0,w===$&&Q()})}static or(Z){let Q=p.resolve(!1);for(let J of Z)Q=Q.next(($)=>$?p.resolve($):J());return Q}static forEach(Z,Q){let J=[];return Z.forEach(($,w)=>{J.push(Q.call(this,$,w))}),this.waitFor(J)}static mapArray(Z,Q){return new p((J,$)=>{let w=Z.length,U=new Array(w),q=0;for(let h=0;h<w;h++){let j=h;Q(Z[j]).next((R)=>{U[j]=R,++q,q===w&&J(U)},(R)=>$(R))}})}static doWhile(Z,Q){return new p((J,$)=>{let w=()=>{Z()===!0?Q().next(()=>{w()},$):J()};w()})}}function YX(Z){let Q=Z.match(/Android ([\d.]+)/i),J=Q?Q[1].split(".").slice(0,2).join("."):"-1";return Number(J)}function Q6(Z){return Z.name==="IndexedDbTransactionError"}class _4{constructor(Z,Q){this.previousValue=Z,Q&&(Q.sequenceNumberHandler=(J)=>this.ie(J),this.se=(J)=>Q.writeSequenceNumber(J))}ie(Z){return this.previousValue=Math.max(Z,this.previousValue),this.previousValue}next(){let Z=++this.previousValue;return this.se&&this.se(Z),Z}}_4.oe=-1;function P4(Z){return Z==null}function a1(Z){return Z===0&&1/Z==-1/0}function KX(Z){return typeof Z=="number"&&Number.isInteger(Z)&&!a1(Z)&&Z<=Number.MAX_SAFE_INTEGER&&Z>=Number.MIN_SAFE_INTEGER}var pX=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],sV=[...pX,"documentOverlays"],lX=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],TX=lX,AX=[...TX,"indexConfiguration","indexState","indexEntries"];var DV=[...AX,"globals"];function qZ(Z){let Q=0;for(let J in Z)Object.prototype.hasOwnProperty.call(Z,J)&&Q++;return Q}function w8(Z,Q){for(let J in Z)Object.prototype.hasOwnProperty.call(Z,J)&&Q(J,Z[J])}function nZ(Z){for(let Q in Z)if(Object.prototype.hasOwnProperty.call(Z,Q))return!1;return!0}class Y0{constructor(Z,Q){this.comparator=Z,this.root=Q||j0.EMPTY}insert(Z,Q){return new Y0(this.comparator,this.root.insert(Z,Q,this.comparator).copy(null,null,j0.BLACK,null,null))}remove(Z){return new Y0(this.comparator,this.root.remove(Z,this.comparator).copy(null,null,j0.BLACK,null,null))}get(Z){let Q=this.root;for(;!Q.isEmpty();){let J=this.comparator(Z,Q.key);if(J===0)return Q.value;J<0?Q=Q.left:J>0&&(Q=Q.right)}return null}indexOf(Z){let Q=0,J=this.root;for(;!J.isEmpty();){let $=this.comparator(Z,J.key);if($===0)return Q+J.left.size;$<0?J=J.left:(Q+=J.left.size+1,J=J.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(Z){return this.root.inorderTraversal(Z)}forEach(Z){this.inorderTraversal((Q,J)=>(Z(Q,J),!1))}toString(){let Z=[];return this.inorderTraversal((Q,J)=>(Z.push(`${Q}:${J}`),!1)),`{${Z.join(", ")}}`}reverseTraversal(Z){return this.root.reverseTraversal(Z)}getIterator(){return new b1(this.root,null,this.comparator,!1)}getIteratorFrom(Z){return new b1(this.root,Z,this.comparator,!1)}getReverseIterator(){return new b1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(Z){return new b1(this.root,Z,this.comparator,!0)}}class b1{constructor(Z,Q,J,$){this.isReverse=$,this.nodeStack=[];let w=1;for(;!Z.isEmpty();)if(w=Q?J(Z.key,Q):1,Q&&$&&(w*=-1),w<0)Z=this.isReverse?Z.left:Z.right;else{if(w===0){this.nodeStack.push(Z);break}this.nodeStack.push(Z),Z=this.isReverse?Z.right:Z.left}}getNext(){let Z=this.nodeStack.pop(),Q={key:Z.key,value:Z.value};if(this.isReverse)for(Z=Z.left;!Z.isEmpty();)this.nodeStack.push(Z),Z=Z.right;else for(Z=Z.right;!Z.isEmpty();)this.nodeStack.push(Z),Z=Z.left;return Q}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let Z=this.nodeStack[this.nodeStack.length-1];return{key:Z.key,value:Z.value}}}class j0{constructor(Z,Q,J,$,w){this.key=Z,this.value=Q,this.color=J!=null?J:j0.RED,this.left=$!=null?$:j0.EMPTY,this.right=w!=null?w:j0.EMPTY,this.size=this.left.size+1+this.right.size}copy(Z,Q,J,$,w){return new j0(Z!=null?Z:this.key,Q!=null?Q:this.value,J!=null?J:this.color,$!=null?$:this.left,w!=null?w:this.right)}isEmpty(){return!1}inorderTraversal(Z){return this.left.inorderTraversal(Z)||Z(this.key,this.value)||this.right.inorderTraversal(Z)}reverseTraversal(Z){return this.right.reverseTraversal(Z)||Z(this.key,this.value)||this.left.reverseTraversal(Z)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(Z,Q,J){let $=this,w=J(Z,$.key);return $=w<0?$.copy(null,null,null,$.left.insert(Z,Q,J),null):w===0?$.copy(null,Q,null,null,null):$.copy(null,null,null,null,$.right.insert(Z,Q,J)),$.fixUp()}removeMin(){if(this.left.isEmpty())return j0.EMPTY;let Z=this;return Z.left.isRed()||Z.left.left.isRed()||(Z=Z.moveRedLeft()),Z=Z.copy(null,null,null,Z.left.removeMin(),null),Z.fixUp()}remove(Z,Q){let J,$=this;if(Q(Z,$.key)<0)$.left.isEmpty()||$.left.isRed()||$.left.left.isRed()||($=$.moveRedLeft()),$=$.copy(null,null,null,$.left.remove(Z,Q),null);else{if($.left.isRed()&&($=$.rotateRight()),$.right.isEmpty()||$.right.isRed()||$.right.left.isRed()||($=$.moveRedRight()),Q(Z,$.key)===0){if($.right.isEmpty())return j0.EMPTY;J=$.right.min(),$=$.copy(J.key,J.value,null,null,$.right.removeMin())}$=$.copy(null,null,null,null,$.right.remove(Z,Q))}return $.fixUp()}isRed(){return this.color}fixUp(){let Z=this;return Z.right.isRed()&&!Z.left.isRed()&&(Z=Z.rotateLeft()),Z.left.isRed()&&Z.left.left.isRed()&&(Z=Z.rotateRight()),Z.left.isRed()&&Z.right.isRed()&&(Z=Z.colorFlip()),Z}moveRedLeft(){let Z=this.colorFlip();return Z.right.left.isRed()&&(Z=Z.copy(null,null,null,null,Z.right.rotateRight()),Z=Z.rotateLeft(),Z=Z.colorFlip()),Z}moveRedRight(){let Z=this.colorFlip();return Z.left.left.isRed()&&(Z=Z.rotateRight(),Z=Z.colorFlip()),Z}rotateLeft(){let Z=this.copy(null,null,j0.RED,null,this.right.left);return this.right.copy(null,null,this.color,Z,null)}rotateRight(){let Z=this.copy(null,null,j0.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,Z)}colorFlip(){let Z=this.left.copy(null,null,!this.left.color,null,null),Q=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,Z,Q)}checkMaxDepth(){let Z=this.check();return Math.pow(2,Z)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw s();if(this.right.isRed())throw s();let Z=this.left.check();if(Z!==this.right.check())throw s();return Z+(this.isRed()?0:1)}}j0.EMPTY=null,j0.RED=!0,j0.BLACK=!1;j0.EMPTY=new class Z{constructor(){this.size=0}get key(){throw s()}get value(){throw s()}get color(){throw s()}get left(){throw s()}get right(){throw s()}copy(Q,J,$,w,U){return this}insert(Q,J,$){return new j0(Q,J)}remove(Q,J){return this}isEmpty(){return!0}inorderTraversal(Q){return!1}reverseTraversal(Q){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class y0{constructor(Z){this.comparator=Z,this.data=new Y0(this.comparator)}has(Z){return this.data.get(Z)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(Z){return this.data.indexOf(Z)}forEach(Z){this.data.inorderTraversal((Q,J)=>(Z(Q),!1))}forEachInRange(Z,Q){let J=this.data.getIteratorFrom(Z[0]);for(;J.hasNext();){let $=J.getNext();if(this.comparator($.key,Z[1])>=0)return;Q($.key)}}forEachWhile(Z,Q){let J;for(J=Q!==void 0?this.data.getIteratorFrom(Q):this.data.getIterator();J.hasNext();)if(!Z(J.getNext().key))return}firstAfterOrEqual(Z){let Q=this.data.getIteratorFrom(Z);return Q.hasNext()?Q.getNext().key:null}getIterator(){return new O4(this.data.getIterator())}getIteratorFrom(Z){return new O4(this.data.getIteratorFrom(Z))}add(Z){return this.copy(this.data.remove(Z).insert(Z,!0))}delete(Z){return this.has(Z)?this.copy(this.data.remove(Z)):this}isEmpty(){return this.data.isEmpty()}unionWith(Z){let Q=this;return Q.size<Z.size&&(Q=Z,Z=this),Z.forEach((J)=>{Q=Q.add(J)}),Q}isEqual(Z){if(!(Z instanceof y0))return!1;if(this.size!==Z.size)return!1;let Q=this.data.getIterator(),J=Z.data.getIterator();for(;Q.hasNext();){let $=Q.getNext().key,w=J.getNext().key;if(this.comparator($,w)!==0)return!1}return!0}toArray(){let Z=[];return this.forEach((Q)=>{Z.push(Q)}),Z}toString(){let Z=[];return this.forEach((Q)=>Z.push(Q)),"SortedSet("+Z.toString()+")"}copy(Z){let Q=new y0(this.comparator);return Q.data=Z,Q}}class O4{constructor(Z){this.iter=Z}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class r0{constructor(Z){this.fields=Z,Z.sort(R0.comparator)}static empty(){return new r0([])}unionWith(Z){let Q=new y0(R0.comparator);for(let J of this.fields)Q=Q.add(J);for(let J of Z)Q=Q.add(J);return new r0(Q.toArray())}covers(Z){for(let Q of this.fields)if(Q.isPrefixOf(Z))return!0;return!1}isEqual(Z){return t2(this.fields,Z.fields,(Q,J)=>Q.isEqual(J))}}class gZ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class D0{constructor(Z){this.binaryString=Z}static fromBase64String(Z){let Q=function J($){try{return atob($)}catch(w){throw typeof DOMException!="undefined"&&w instanceof DOMException?new gZ("Invalid base64 string: "+w):w}}(Z);return new D0(Q)}static fromUint8Array(Z){let Q=function J($){let w="";for(let U=0;U<$.length;++U)w+=String.fromCharCode($[U]);return w}(Z);return new D0(Q)}[Symbol.iterator](){let Z=0;return{next:()=>Z<this.binaryString.length?{value:this.binaryString.charCodeAt(Z++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function Z(Q){return btoa(Q)}(this.binaryString)}toUint8Array(){return function Z(Q){let J=new Uint8Array(Q.length);for(let $=0;$<Q.length;$++)J[$]=Q.charCodeAt($);return J}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(Z){return o(this.binaryString,Z.binaryString)}isEqual(Z){return this.binaryString===Z.binaryString}}D0.EMPTY_BYTE_STRING=new D0("");var _X=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function G2(Z){if(W0(!!Z),typeof Z=="string"){let Q=0,J=_X.exec(Z);if(W0(!!J),J[1]){let w=J[1];w=(w+"000000000").substr(0,9),Q=Number(w)}let $=new Date(Z);return{seconds:Math.floor($.getTime()/1000),nanos:Q}}return{seconds:z0(Z.seconds),nanos:z0(Z.nanos)}}function z0(Z){return typeof Z=="number"?Z:typeof Z=="string"?Number(Z):0}function d2(Z){return typeof Z=="string"?D0.fromBase64String(Z):D0.fromUint8Array(Z)}function M4(Z){var Q,J;return((J=(((Q=Z==null?void 0:Z.mapValue)===null||Q===void 0?void 0:Q.fields)||{}).__type__)===null||J===void 0?void 0:J.stringValue)==="server_timestamp"}function sZ(Z){let Q=Z.mapValue.fields.__previous_value__;return M4(Q)?sZ(Q):Q}function o8(Z){let Q=G2(Z.mapValue.fields.__local_write_time__.timestampValue);return new q0(Q.seconds,Q.nanos)}class DZ{constructor(Z,Q,J,$,w,U,q,h,j){this.databaseId=Z,this.appId=Q,this.persistenceKey=J,this.host=$,this.ssl=w,this.forceLongPolling=U,this.autoDetectLongPolling=q,this.longPollingOptions=h,this.useFetchStreams=j}}class a8{constructor(Z,Q){this.projectId=Z,this.database=Q||"(default)"}static empty(){return new a8("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(Z){return Z instanceof a8&&Z.projectId===this.projectId&&Z.database===this.database}}var D8={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function E2(Z){return"nullValue"in Z?0:("booleanValue"in Z)?1:("integerValue"in Z)||("doubleValue"in Z)?2:("timestampValue"in Z)?3:("stringValue"in Z)?5:("bytesValue"in Z)?6:("referenceValue"in Z)?7:("geoPointValue"in Z)?8:("arrayValue"in Z)?9:("mapValue"in Z)?M4(Z)?4:cZ(Z)?9007199254740991:bZ(Z)?10:11:s()}function b0(Z,Q){if(Z===Q)return!0;let J=E2(Z);if(J!==E2(Q))return!1;switch(J){case 0:case 9007199254740991:return!0;case 1:return Z.booleanValue===Q.booleanValue;case 4:return o8(Z).isEqual(o8(Q));case 3:return function $(w,U){if(typeof w.timestampValue=="string"&&typeof U.timestampValue=="string"&&w.timestampValue.length===U.timestampValue.length)return w.timestampValue===U.timestampValue;let q=G2(w.timestampValue),h=G2(U.timestampValue);return q.seconds===h.seconds&&q.nanos===h.nanos}(Z,Q);case 5:return Z.stringValue===Q.stringValue;case 6:return function $(w,U){return d2(w.bytesValue).isEqual(d2(U.bytesValue))}(Z,Q);case 7:return Z.referenceValue===Q.referenceValue;case 8:return function $(w,U){return z0(w.geoPointValue.latitude)===z0(U.geoPointValue.latitude)&&z0(w.geoPointValue.longitude)===z0(U.geoPointValue.longitude)}(Z,Q);case 2:return function $(w,U){if("integerValue"in w&&"integerValue"in U)return z0(w.integerValue)===z0(U.integerValue);if("doubleValue"in w&&"doubleValue"in U){let q=z0(w.doubleValue),h=z0(U.doubleValue);return q===h?a1(q)===a1(h):isNaN(q)&&isNaN(h)}return!1}(Z,Q);case 9:return t2(Z.arrayValue.values||[],Q.arrayValue.values||[],b0);case 10:case 11:return function $(w,U){let q=w.mapValue.fields||{},h=U.mapValue.fields||{};if(qZ(q)!==qZ(h))return!1;for(let j in q)if(q.hasOwnProperty(j)&&(h[j]===void 0||!b0(q[j],h[j])))return!1;return!0}(Z,Q);default:return s()}}function e1(Z,Q){return(Z.values||[]).find((J)=>b0(J,Q))!==void 0}function o2(Z,Q){if(Z===Q)return 0;let J=E2(Z),$=E2(Q);if(J!==$)return o(J,$);switch(J){case 0:case 9007199254740991:return 0;case 1:return o(Z.booleanValue,Q.booleanValue);case 2:return function w(U,q){let h=z0(U.integerValue||U.doubleValue),j=z0(q.integerValue||q.doubleValue);return h<j?-1:h>j?1:h===j?0:isNaN(h)?isNaN(j)?0:-1:1}(Z,Q);case 3:return BZ(Z.timestampValue,Q.timestampValue);case 4:return BZ(o8(Z),o8(Q));case 5:return o(Z.stringValue,Q.stringValue);case 6:return function w(U,q){let h=d2(U),j=d2(q);return h.compareTo(j)}(Z.bytesValue,Q.bytesValue);case 7:return function w(U,q){let h=U.split("/"),j=q.split("/");for(let R=0;R<h.length&&R<j.length;R++){let f=o(h[R],j[R]);if(f!==0)return f}return o(h.length,j.length)}(Z.referenceValue,Q.referenceValue);case 8:return function w(U,q){let h=o(z0(U.latitude),z0(q.latitude));if(h!==0)return h;return o(z0(U.longitude),z0(q.longitude))}(Z.geoPointValue,Q.geoPointValue);case 9:return hZ(Z.arrayValue,Q.arrayValue);case 10:return function w(U,q){var h,j,R,f;let Y=U.fields||{},K=q.fields||{},P=(h=Y.value)===null||h===void 0?void 0:h.arrayValue,A=(j=K.value)===null||j===void 0?void 0:j.arrayValue,_=o(((R=P==null?void 0:P.values)===null||R===void 0?void 0:R.length)||0,((f=A==null?void 0:A.values)===null||f===void 0?void 0:f.length)||0);if(_!==0)return _;return hZ(P,A)}(Z.mapValue,Q.mapValue);case 11:return function w(U,q){if(U===D8.mapValue&&q===D8.mapValue)return 0;if(U===D8.mapValue)return 1;if(q===D8.mapValue)return-1;let h=U.fields||{},j=Object.keys(h),R=q.fields||{},f=Object.keys(R);j.sort(),f.sort();for(let Y=0;Y<j.length&&Y<f.length;++Y){let K=o(j[Y],f[Y]);if(K!==0)return K;let P=o2(h[j[Y]],R[f[Y]]);if(P!==0)return P}return o(j.length,f.length)}(Z.mapValue,Q.mapValue);default:throw s()}}function BZ(Z,Q){if(typeof Z=="string"&&typeof Q=="string"&&Z.length===Q.length)return o(Z,Q);let J=G2(Z),$=G2(Q),w=o(J.seconds,$.seconds);return w!==0?w:o(J.nanos,$.nanos)}function hZ(Z,Q){let J=Z.values||[],$=Q.values||[];for(let w=0;w<J.length&&w<$.length;++w){let U=o2(J[w],$[w]);if(U)return U}return o(J.length,$.length)}function a2(Z){return I4(Z)}function I4(Z){return"nullValue"in Z?"null":("booleanValue"in Z)?""+Z.booleanValue:("integerValue"in Z)?""+Z.integerValue:("doubleValue"in Z)?""+Z.doubleValue:("timestampValue"in Z)?function Q(J){let $=G2(J);return`time(${$.seconds},${$.nanos})`}(Z.timestampValue):("stringValue"in Z)?Z.stringValue:("bytesValue"in Z)?function Q(J){return d2(J).toBase64()}(Z.bytesValue):("referenceValue"in Z)?function Q(J){return m.fromName(J).toString()}(Z.referenceValue):("geoPointValue"in Z)?function Q(J){return`geo(${J.latitude},${J.longitude})`}(Z.geoPointValue):("arrayValue"in Z)?function Q(J){let $="[",w=!0;for(let U of J.values||[])w?w=!1:$+=",",$+=I4(U);return $+"]"}(Z.arrayValue):("mapValue"in Z)?function Q(J){let $=Object.keys(J.fields||{}).sort(),w="{",U=!0;for(let q of $)U?U=!1:w+=",",w+=`${q}:${I4(J.fields[q])}`;return w+"}"}(Z.mapValue):s()}function k4(Z){return!!Z&&"integerValue"in Z}function u4(Z){return!!Z&&"arrayValue"in Z}function t8(Z){return!!Z&&"mapValue"in Z}function bZ(Z){var Q,J;return((J=(((Q=Z==null?void 0:Z.mapValue)===null||Q===void 0?void 0:Q.fields)||{}).__type__)===null||J===void 0?void 0:J.stringValue)==="__vector__"}function c1(Z){if(Z.geoPointValue)return{geoPointValue:Object.assign({},Z.geoPointValue)};if(Z.timestampValue&&typeof Z.timestampValue=="object")return{timestampValue:Object.assign({},Z.timestampValue)};if(Z.mapValue){let Q={mapValue:{fields:{}}};return w8(Z.mapValue.fields,(J,$)=>Q.mapValue.fields[J]=c1($)),Q}if(Z.arrayValue){let Q={arrayValue:{values:[]}};for(let J=0;J<(Z.arrayValue.values||[]).length;++J)Q.arrayValue.values[J]=c1(Z.arrayValue.values[J]);return Q}return Object.assign({},Z)}function cZ(Z){return(((Z.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class C0{constructor(Z){this.value=Z}static empty(){return new C0({mapValue:{}})}field(Z){if(Z.isEmpty())return this.value;{let Q=this.value;for(let J=0;J<Z.length-1;++J)if(Q=(Q.mapValue.fields||{})[Z.get(J)],!t8(Q))return null;return Q=(Q.mapValue.fields||{})[Z.lastSegment()],Q||null}}set(Z,Q){this.getFieldsMap(Z.popLast())[Z.lastSegment()]=c1(Q)}setAll(Z){let Q=R0.emptyPath(),J={},$=[];Z.forEach((U,q)=>{if(!Q.isImmediateParentOf(q)){let h=this.getFieldsMap(Q);this.applyChanges(h,J,$),J={},$=[],Q=q.popLast()}U?J[q.lastSegment()]=c1(U):$.push(q.lastSegment())});let w=this.getFieldsMap(Q);this.applyChanges(w,J,$)}delete(Z){let Q=this.field(Z.popLast());t8(Q)&&Q.mapValue.fields&&delete Q.mapValue.fields[Z.lastSegment()]}isEqual(Z){return b0(this.value,Z.value)}getFieldsMap(Z){let Q=this.value;Q.mapValue.fields||(Q.mapValue={fields:{}});for(let J=0;J<Z.length;++J){let $=Q.mapValue.fields[Z.get(J)];t8($)&&$.mapValue.fields||($={mapValue:{fields:{}}},Q.mapValue.fields[Z.get(J)]=$),Q=$}return Q.mapValue.fields}applyChanges(Z,Q,J){w8(Q,($,w)=>Z[$]=w);for(let $ of J)delete Z[$]}clone(){return new C0(c1(this.value))}}function tZ(Z){let Q=[];return w8(Z.fields,(J,$)=>{let w=new R0([J]);if(t8($)){let U=tZ($.mapValue).fields;if(U.length===0)Q.push(w);else for(let q of U)Q.push(w.child(q))}else Q.push(w)}),new r0(Q)}class i0{constructor(Z,Q,J,$,w,U,q){this.key=Z,this.documentType=Q,this.version=J,this.readTime=$,this.createTime=w,this.data=U,this.documentState=q}static newInvalidDocument(Z){return new i0(Z,0,J0.min(),J0.min(),J0.min(),C0.empty(),0)}static newFoundDocument(Z,Q,J,$){return new i0(Z,1,Q,J0.min(),J,$,0)}static newNoDocument(Z,Q){return new i0(Z,2,Q,J0.min(),J0.min(),C0.empty(),0)}static newUnknownDocument(Z,Q){return new i0(Z,3,Q,J0.min(),J0.min(),C0.empty(),2)}convertToFoundDocument(Z,Q){return!this.createTime.isEqual(J0.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=Z),this.version=Z,this.documentType=1,this.data=Q,this.documentState=0,this}convertToNoDocument(Z){return this.version=Z,this.documentType=2,this.data=C0.empty(),this.documentState=0,this}convertToUnknownDocument(Z){return this.version=Z,this.documentType=3,this.data=C0.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J0.min(),this}setReadTime(Z){return this.readTime=Z,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(Z){return Z instanceof i0&&this.key.isEqual(Z.key)&&this.version.isEqual(Z.version)&&this.documentType===Z.documentType&&this.documentState===Z.documentState&&this.data.isEqual(Z.data)}mutableCopy(){return new i0(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Z8{constructor(Z,Q){this.position=Z,this.inclusive=Q}}function FZ(Z,Q,J){let $=0;for(let w=0;w<Z.position.length;w++){let U=Q[w],q=Z.position[w];if(U.field.isKeyField())$=m.comparator(m.fromName(q.referenceValue),J.key);else $=o2(q,J.data.field(U.field));if(U.dir==="desc"&&($*=-1),$!==0)break}return $}function jZ(Z,Q){if(Z===null)return Q===null;if(Q===null)return!1;if(Z.inclusive!==Q.inclusive||Z.position.length!==Q.position.length)return!1;for(let J=0;J<Z.position.length;J++)if(!b0(Z.position[J],Q.position[J]))return!1;return!0}class Q8{constructor(Z,Q="asc"){this.field=Z,this.dir=Q}}function PX(Z,Q){return Z.dir===Q.dir&&Z.field.isEqual(Q.field)}class i4{}class x0 extends i4{constructor(Z,Q,J){super(),this.field=Z,this.op=Q,this.value=J}static create(Z,Q,J){return Z.isKeyField()?Q==="in"||Q==="not-in"?this.createKeyFieldInFilter(Z,Q,J):new eZ(Z,Q,J):Q==="array-contains"?new X7(Z,J):Q==="in"?new $7(Z,J):Q==="not-in"?new w7(Z,J):Q==="array-contains-any"?new V7(Z,J):new x0(Z,Q,J)}static createKeyFieldInFilter(Z,Q,J){return Q==="in"?new Z7(Z,J):new Q7(Z,J)}matches(Z){let Q=Z.data.field(this.field);return this.op==="!="?Q!==null&&this.matchesComparison(o2(Q,this.value)):Q!==null&&E2(this.value)===E2(Q)&&this.matchesComparison(o2(Q,this.value))}matchesComparison(Z){switch(this.op){case"<":return Z<0;case"<=":return Z<=0;case"==":return Z===0;case"!=":return Z!==0;case">":return Z>0;case">=":return Z>=0;default:return s()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class O2 extends i4{constructor(Z,Q){super(),this.filters=Z,this.op=Q,this.ae=null}static create(Z,Q){return new O2(Z,Q)}matches(Z){return dZ(this)?this.filters.find((Q)=>!Q.matches(Z))===void 0:this.filters.find((Q)=>Q.matches(Z))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((Z,Q)=>Z.concat(Q.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function dZ(Z){return Z.op==="and"}function EZ(Z){return MX(Z)&&dZ(Z)}function MX(Z){for(let Q of Z.filters)if(Q instanceof O2)return!1;return!0}function L4(Z){if(Z instanceof x0)return Z.field.canonicalString()+Z.op.toString()+a2(Z.value);if(EZ(Z))return Z.filters.map((Q)=>L4(Q)).join(",");{let Q=Z.filters.map((J)=>L4(J)).join(",");return`${Z.op}(${Q})`}}function oZ(Z,Q){return Z instanceof x0?function J($,w){return w instanceof x0&&$.op===w.op&&$.field.isEqual(w.field)&&b0($.value,w.value)}(Z,Q):Z instanceof O2?function J($,w){if(w instanceof O2&&$.op===w.op&&$.filters.length===w.filters.length)return $.filters.reduce((U,q,h)=>U&&oZ(q,w.filters[h]),!0);return!1}(Z,Q):void s()}function aZ(Z){return Z instanceof x0?function Q(J){return`${J.field.canonicalString()} ${J.op} ${a2(J.value)}`}(Z):Z instanceof O2?function Q(J){return J.op.toString()+" {"+J.getFilters().map(aZ).join(" ,")+"}"}(Z):"Filter"}class eZ extends x0{constructor(Z,Q,J){super(Z,Q,J),this.key=m.fromName(J.referenceValue)}matches(Z){let Q=m.comparator(Z.key,this.key);return this.matchesComparison(Q)}}class Z7 extends x0{constructor(Z,Q){super(Z,"in",Q),this.keys=J7("in",Q)}matches(Z){return this.keys.some((Q)=>Q.isEqual(Z.key))}}class Q7 extends x0{constructor(Z,Q){super(Z,"not-in",Q),this.keys=J7("not-in",Q)}matches(Z){return!this.keys.some((Q)=>Q.isEqual(Z.key))}}function J7(Z,Q){var J;return(((J=Q.arrayValue)===null||J===void 0?void 0:J.values)||[]).map(($)=>m.fromName($.referenceValue))}class X7 extends x0{constructor(Z,Q){super(Z,"array-contains",Q)}matches(Z){let Q=Z.data.field(this.field);return u4(Q)&&e1(Q.arrayValue,this.value)}}class $7 extends x0{constructor(Z,Q){super(Z,"in",Q)}matches(Z){let Q=Z.data.field(this.field);return Q!==null&&e1(this.value.arrayValue,Q)}}class w7 extends x0{constructor(Z,Q){super(Z,"not-in",Q)}matches(Z){if(e1(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let Q=Z.data.field(this.field);return Q!==null&&!e1(this.value.arrayValue,Q)}}class V7 extends x0{constructor(Z,Q){super(Z,"array-contains-any",Q)}matches(Z){let Q=Z.data.field(this.field);return!(!u4(Q)||!Q.arrayValue.values)&&Q.arrayValue.values.some((J)=>e1(this.value.arrayValue,J))}}class z7{constructor(Z,Q=null,J=[],$=[],w=null,U=null,q=null){this.path=Z,this.collectionGroup=Q,this.orderBy=J,this.filters=$,this.limit=w,this.startAt=U,this.endAt=q,this.ue=null}}function RZ(Z,Q=null,J=[],$=[],w=null,U=null,q=null){return new z7(Z,Q,J,$,w,U,q)}function C4(Z){let Q=e(Z);if(Q.ue===null){let J=Q.path.canonicalString();Q.collectionGroup!==null&&(J+="|cg:"+Q.collectionGroup),J+="|f:",J+=Q.filters.map(($)=>L4($)).join(","),J+="|ob:",J+=Q.orderBy.map(($)=>function w(U){return U.field.canonicalString()+U.dir}($)).join(","),P4(Q.limit)||(J+="|l:",J+=Q.limit),Q.startAt&&(J+="|lb:",J+=Q.startAt.inclusive?"b:":"a:",J+=Q.startAt.position.map(($)=>a2($)).join(",")),Q.endAt&&(J+="|ub:",J+=Q.endAt.inclusive?"a:":"b:",J+=Q.endAt.position.map(($)=>a2($)).join(",")),Q.ue=J}return Q.ue}function r4(Z,Q){if(Z.limit!==Q.limit)return!1;if(Z.orderBy.length!==Q.orderBy.length)return!1;for(let J=0;J<Z.orderBy.length;J++)if(!PX(Z.orderBy[J],Q.orderBy[J]))return!1;if(Z.filters.length!==Q.filters.length)return!1;for(let J=0;J<Z.filters.length;J++)if(!oZ(Z.filters[J],Q.filters[J]))return!1;return Z.collectionGroup===Q.collectionGroup&&(!!Z.path.isEqual(Q.path)&&(!!jZ(Z.startAt,Q.startAt)&&jZ(Z.endAt,Q.endAt)))}class V8{constructor(Z,Q=null,J=[],$=[],w=null,U="F",q=null,h=null){this.path=Z,this.collectionGroup=Q,this.explicitOrderBy=J,this.filters=$,this.limit=w,this.limitType=U,this.startAt=q,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function uX(Z,Q,J,$,w,U,q,h){return new V8(Z,Q,J,$,w,U,q,h)}function iX(Z){return new V8(Z)}function GZ(Z){return Z.filters.length===0&&Z.limit===null&&Z.startAt==null&&Z.endAt==null&&(Z.explicitOrderBy.length===0||Z.explicitOrderBy.length===1&&Z.explicitOrderBy[0].field.isKeyField())}function CX(Z){return Z.collectionGroup!==null}function t1(Z){let Q=e(Z);if(Q.ce===null){Q.ce=[];let J=new Set;for(let U of Q.explicitOrderBy)Q.ce.push(U),J.add(U.field.canonicalString());let $=Q.explicitOrderBy.length>0?Q.explicitOrderBy[Q.explicitOrderBy.length-1].dir:"asc";(function U(q){let h=new y0(R0.comparator);return q.filters.forEach((j)=>{j.getFlattenedFilters().forEach((R)=>{R.isInequality()&&(h=h.add(R.field))})}),h})(Q).forEach((U)=>{J.has(U.canonicalString())||U.isKeyField()||Q.ce.push(new Q8(U,$))}),J.has(R0.keyField().canonicalString())||Q.ce.push(new Q8(R0.keyField(),$))}return Q.ce}function l2(Z){let Q=e(Z);return Q.le||(Q.le=rX(Q,t1(Z))),Q.le}function rX(Z,Q){if(Z.limitType==="F")return RZ(Z.path,Z.collectionGroup,Q,Z.filters,Z.limit,Z.startAt,Z.endAt);{Q=Q.map((w)=>{let U=w.dir==="desc"?"asc":"desc";return new Q8(w.field,U)});let J=Z.endAt?new Z8(Z.endAt.position,Z.endAt.inclusive):null,$=Z.startAt?new Z8(Z.startAt.position,Z.startAt.inclusive):null;return RZ(Z.path,Z.collectionGroup,Q,Z.filters,Z.limit,J,$)}}function S4(Z,Q,J){return new V8(Z.path,Z.collectionGroup,Z.explicitOrderBy.slice(),Z.filters.slice(),Q,J,Z.startAt,Z.endAt)}function U7(Z,Q){return r4(l2(Z),l2(Q))&&Z.limitType===Q.limitType}function W7(Z){return`${C4(l2(Z))}|lt:${Z.limitType}`}function D1(Z){return`Query(target=${function Q(J){let $=J.path.canonicalString();return J.collectionGroup!==null&&($+=" collectionGroup="+J.collectionGroup),J.filters.length>0&&($+=`, filters: [${J.filters.map((w)=>aZ(w)).join(", ")}]`),P4(J.limit)||($+=", limit: "+J.limit),J.orderBy.length>0&&($+=`, orderBy: [${J.orderBy.map((w)=>function U(q){return`${q.field.canonicalString()} (${q.dir})`}(w)).join(", ")}]`),J.startAt&&($+=", startAt: ",$+=J.startAt.inclusive?"b:":"a:",$+=J.startAt.position.map((w)=>a2(w)).join(",")),J.endAt&&($+=", endAt: ",$+=J.endAt.inclusive?"a:":"b:",$+=J.endAt.position.map((w)=>a2(w)).join(",")),`Target(${$})`}(l2(Z))}; limitType=${Z.limitType})`}function m4(Z,Q){return Q.isFoundDocument()&&function J($,w){let U=w.key.path;return $.collectionGroup!==null?w.key.hasCollectionId($.collectionGroup)&&$.path.isPrefixOf(U):m.isDocumentKey($.path)?$.path.isEqual(U):$.path.isImmediateParentOf(U)}(Z,Q)&&function J($,w){for(let U of t1($))if(!U.field.isKeyField()&&w.data.field(U.field)===null)return!1;return!0}(Z,Q)&&function J($,w){for(let U of $.filters)if(!U.matches(w))return!1;return!0}(Z,Q)&&function J($,w){if($.startAt&&!function U(q,h,j){let R=FZ(q,h,j);return q.inclusive?R<=0:R<0}($.startAt,t1($),w))return!1;if($.endAt&&!function U(q,h,j){let R=FZ(q,h,j);return q.inclusive?R>=0:R>0}($.endAt,t1($),w))return!1;return!0}(Z,Q)}function mX(Z){return(Q,J)=>{let $=!1;for(let w of t1(Z)){let U=nX(w,Q,J);if(U!==0)return U;$=$||w.field.isKeyField()}return 0}}function nX(Z,Q,J){let $=Z.field.isKeyField()?m.comparator(Q.key,J.key):function w(U,q,h){let j=q.data.field(U),R=h.data.field(U);return j!==null&&R!==null?o2(j,R):s()}(Z.field,Q,J);switch(Z.dir){case"asc":return $;case"desc":return-1*$;default:return s()}}class _2{constructor(Z,Q){this.mapKeyFn=Z,this.equalsFn=Q,this.inner={},this.innerSize=0}get(Z){let Q=this.mapKeyFn(Z),J=this.inner[Q];if(J!==void 0){for(let[$,w]of J)if(this.equalsFn($,Z))return w}}has(Z){return this.get(Z)!==void 0}set(Z,Q){let J=this.mapKeyFn(Z),$=this.inner[J];if($===void 0)return this.inner[J]=[[Z,Q]],void this.innerSize++;for(let w=0;w<$.length;w++)if(this.equalsFn($[w][0],Z))return void($[w]=[Z,Q]);$.push([Z,Q]),this.innerSize++}delete(Z){let Q=this.mapKeyFn(Z),J=this.inner[Q];if(J===void 0)return!1;for(let $=0;$<J.length;$++)if(this.equalsFn(J[$][0],Z))return J.length===1?delete this.inner[Q]:J.splice($,1),this.innerSize--,!0;return!1}forEach(Z){w8(this.inner,(Q,J)=>{for(let[$,w]of J)Z($,w)})}isEmpty(){return nZ(this.inner)}size(){return this.innerSize}}var gX=new Y0(m.comparator);function e8(){return gX}var x7=new Y0(m.comparator);function b8(...Z){let Q=x7;for(let J of Z)Q=Q.insert(J.key,J);return Q}function q7(Z){let Q=x7;return Z.forEach((J,$)=>Q=Q.insert(J,$.overlayedDocument)),Q}function p2(){return d1()}function B7(){return d1()}function d1(){return new _2((Z)=>Z.toString(),(Z,Q)=>Z.isEqual(Q))}var sX=new Y0(m.comparator),DX=new y0(m.comparator);function N0(...Z){let Q=DX;for(let J of Z)Q=Q.add(J);return Q}var bX=new y0(o);function cX(){return bX}function n4(Z,Q){if(Z.useProto3Json){if(isNaN(Q))return{doubleValue:"NaN"};if(Q===1/0)return{doubleValue:"Infinity"};if(Q===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:a1(Q)?"-0":Q}}function h7(Z){return{integerValue:""+Z}}function tX(Z,Q){return KX(Q)?h7(Q):n4(Z,Q)}class z8{constructor(){this._=void 0}}function dX(Z,Q,J){return Z instanceof J8?function $(w,U){let q={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:w.seconds,nanos:w.nanoseconds}}}};return U&&M4(U)&&(U=sZ(U)),U&&(q.fields.__previous_value__=U),{mapValue:q}}(J,Q):Z instanceof e2?j7(Z,Q):Z instanceof Z1?R7(Z,Q):function $(w,U){let q=F7(w,U),h=OZ(q)+OZ(w.Pe);return k4(q)&&k4(w.Pe)?h7(h):n4(w.serializer,h)}(Z,Q)}function EX(Z,Q,J){return Z instanceof e2?j7(Z,Q):Z instanceof Z1?R7(Z,Q):J}function F7(Z,Q){return Z instanceof X8?function J($){return k4($)||function w(U){return!!U&&"doubleValue"in U}($)}(Q)?Q:{integerValue:0}:null}class J8 extends z8{}class e2 extends z8{constructor(Z){super(),this.elements=Z}}function j7(Z,Q){let J=G7(Q);for(let $ of Z.elements)J.some((w)=>b0(w,$))||J.push($);return{arrayValue:{values:J}}}class Z1 extends z8{constructor(Z){super(),this.elements=Z}}function R7(Z,Q){let J=G7(Q);for(let $ of Z.elements)J=J.filter((w)=>!b0(w,$));return{arrayValue:{values:J}}}class X8 extends z8{constructor(Z,Q){super(),this.serializer=Z,this.Pe=Q}}function OZ(Z){return z0(Z.integerValue||Z.doubleValue)}function G7(Z){return u4(Z)&&Z.arrayValue.values?Z.arrayValue.values.slice():[]}function oX(Z,Q){return Z.field.isEqual(Q.field)&&function J($,w){return $ instanceof e2&&w instanceof e2||$ instanceof Z1&&w instanceof Z1?t2($.elements,w.elements,b0):$ instanceof X8&&w instanceof X8?b0($.Pe,w.Pe):$ instanceof J8&&w instanceof J8}(Z.transform,Q.transform)}class O7{constructor(Z,Q){this.version=Z,this.transformResults=Q}}class Z2{constructor(Z,Q){this.updateTime=Z,this.exists=Q}static none(){return new Z2}static exists(Z){return new Z2(void 0,Z)}static updateTime(Z){return new Z2(Z)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(Z){return this.exists===Z.exists&&(this.updateTime?!!Z.updateTime&&this.updateTime.isEqual(Z.updateTime):!Z.updateTime)}}function d8(Z,Q){return Z.updateTime!==void 0?Q.isFoundDocument()&&Q.version.isEqual(Z.updateTime):Z.exists===void 0||Z.exists===Q.isFoundDocument()}class U8{}function I7(Z,Q){if(!Z.hasLocalMutations||Q&&Q.fields.length===0)return null;if(Q===null)return Z.isNoDocument()?new g4(Z.key,Z2.none()):new X1(Z.key,Z.data,Z2.none());{let J=Z.data,$=C0.empty(),w=new y0(R0.comparator);for(let U of Q.fields)if(!w.has(U)){let q=J.field(U);q===null&&U.length>1&&(U=U.popLast(),q=J.field(U)),q===null?$.delete(U):$.set(U,q),w=w.add(U)}return new k2(Z.key,$,new r0(w.toArray()),Z2.none())}}function aX(Z,Q,J){Z instanceof X1?function $(w,U,q){let h=w.value.clone(),j=kZ(w.fieldTransforms,U,q.transformResults);h.setAll(j),U.convertToFoundDocument(q.version,h).setHasCommittedMutations()}(Z,Q,J):Z instanceof k2?function $(w,U,q){if(!d8(w.precondition,U))return void U.convertToUnknownDocument(q.version);let h=kZ(w.fieldTransforms,U,q.transformResults),j=U.data;j.setAll(k7(w)),j.setAll(h),U.convertToFoundDocument(q.version,j).setHasCommittedMutations()}(Z,Q,J):function $(w,U,q){U.convertToNoDocument(q.version).setHasCommittedMutations()}(0,Q,J)}function E1(Z,Q,J,$){return Z instanceof X1?function w(U,q,h,j){if(!d8(U.precondition,q))return h;let R=U.value.clone(),f=LZ(U.fieldTransforms,j,q);return R.setAll(f),q.convertToFoundDocument(q.version,R).setHasLocalMutations(),null}(Z,Q,J,$):Z instanceof k2?function w(U,q,h,j){if(!d8(U.precondition,q))return h;let R=LZ(U.fieldTransforms,j,q),f=q.data;if(f.setAll(k7(U)),f.setAll(R),q.convertToFoundDocument(q.version,f).setHasLocalMutations(),h===null)return null;return h.unionWith(U.fieldMask.fields).unionWith(U.fieldTransforms.map((Y)=>Y.field))}(Z,Q,J,$):function w(U,q,h){if(d8(U.precondition,q))return q.convertToNoDocument(q.version).setHasLocalMutations(),null;return h}(Z,Q,J)}function eX(Z,Q){let J=null;for(let $ of Z.fieldTransforms){let w=Q.data.field($.field),U=F7($.transform,w||null);U!=null&&(J===null&&(J=C0.empty()),J.set($.field,U))}return J||null}function IZ(Z,Q){return Z.type===Q.type&&(!!Z.key.isEqual(Q.key)&&(!!Z.precondition.isEqual(Q.precondition)&&(!!function J($,w){return $===void 0&&w===void 0||!(!$||!w)&&t2($,w,(U,q)=>oX(U,q))}(Z.fieldTransforms,Q.fieldTransforms)&&(Z.type===0?Z.value.isEqual(Q.value):Z.type!==1||Z.data.isEqual(Q.data)&&Z.fieldMask.isEqual(Q.fieldMask)))))}class X1 extends U8{constructor(Z,Q,J,$=[]){super(),this.key=Z,this.value=Q,this.precondition=J,this.fieldTransforms=$,this.type=0}getFieldMask(){return null}}class k2 extends U8{constructor(Z,Q,J,$,w=[]){super(),this.key=Z,this.data=Q,this.fieldMask=J,this.precondition=$,this.fieldTransforms=w,this.type=1}getFieldMask(){return this.fieldMask}}function k7(Z){let Q=new Map;return Z.fieldMask.fields.forEach((J)=>{if(!J.isEmpty()){let $=Z.data.field(J);Q.set(J,$)}}),Q}function kZ(Z,Q,J){let $=new Map;W0(Z.length===J.length);for(let w=0;w<J.length;w++){let U=Z[w],q=U.transform,h=Q.data.field(U.field);$.set(U.field,EX(q,h,J[w]))}return $}function LZ(Z,Q,J){let $=new Map;for(let w of Z){let U=w.transform,q=J.data.field(w.field);$.set(w.field,dX(U,q,Q))}return $}class g4 extends U8{constructor(Z,Q){super(),this.key=Z,this.precondition=Q,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L7 extends U8{constructor(Z,Q){super(),this.key=Z,this.precondition=Q,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class S7{constructor(Z,Q,J,$){this.batchId=Z,this.localWriteTime=Q,this.baseMutations=J,this.mutations=$}applyToRemoteDocument(Z,Q){let J=Q.mutationResults;for(let $=0;$<this.mutations.length;$++){let w=this.mutations[$];if(w.key.isEqual(Z.key))aX(w,Z,J[$])}}applyToLocalView(Z,Q){for(let J of this.baseMutations)J.key.isEqual(Z.key)&&(Q=E1(J,Z,Q,this.localWriteTime));for(let J of this.mutations)J.key.isEqual(Z.key)&&(Q=E1(J,Z,Q,this.localWriteTime));return Q}applyToLocalDocumentSet(Z,Q){let J=B7();return this.mutations.forEach(($)=>{let w=Z.get($.key),U=w.overlayedDocument,q=this.applyToLocalView(U,w.mutatedFields);q=Q.has($.key)?null:q;let h=I7(U,q);h!==null&&J.set($.key,h),U.isValidDocument()||U.convertToNoDocument(J0.min())}),J}keys(){return this.mutations.reduce((Z,Q)=>Z.add(Q.key),N0())}isEqual(Z){return this.batchId===Z.batchId&&t2(this.mutations,Z.mutations,(Q,J)=>IZ(Q,J))&&t2(this.baseMutations,Z.baseMutations,(Q,J)=>IZ(Q,J))}}class s4{constructor(Z,Q,J,$){this.batch=Z,this.commitVersion=Q,this.mutationResults=J,this.docVersions=$}static from(Z,Q,J){W0(Z.mutations.length===J.length);let $=function U(){return sX}(),w=Z.mutations;for(let U=0;U<w.length;U++)$=$.insert(w[U].key,J[U].version);return new s4(Z,Q,J,$)}}class N7{constructor(Z,Q){this.largestBatchId=Z,this.mutation=Q}getKey(){return this.mutation.key}isEqual(Z){return Z!==null&&this.mutation===Z.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}var V0,c;function Z$(Z){switch(Z){default:return s();case l.CANCELLED:case l.UNKNOWN:case l.DEADLINE_EXCEEDED:case l.RESOURCE_EXHAUSTED:case l.INTERNAL:case l.UNAVAILABLE:case l.UNAUTHENTICATED:return!1;case l.INVALID_ARGUMENT:case l.NOT_FOUND:case l.ALREADY_EXISTS:case l.PERMISSION_DENIED:case l.FAILED_PRECONDITION:case l.ABORTED:case l.OUT_OF_RANGE:case l.UNIMPLEMENTED:case l.DATA_LOSS:return!0}}function Q$(Z){if(Z===void 0)return A2("GRPC error has no .code"),l.UNKNOWN;switch(Z){case V0.OK:return l.OK;case V0.CANCELLED:return l.CANCELLED;case V0.UNKNOWN:return l.UNKNOWN;case V0.DEADLINE_EXCEEDED:return l.DEADLINE_EXCEEDED;case V0.RESOURCE_EXHAUSTED:return l.RESOURCE_EXHAUSTED;case V0.INTERNAL:return l.INTERNAL;case V0.UNAVAILABLE:return l.UNAVAILABLE;case V0.UNAUTHENTICATED:return l.UNAUTHENTICATED;case V0.INVALID_ARGUMENT:return l.INVALID_ARGUMENT;case V0.NOT_FOUND:return l.NOT_FOUND;case V0.ALREADY_EXISTS:return l.ALREADY_EXISTS;case V0.PERMISSION_DENIED:return l.PERMISSION_DENIED;case V0.FAILED_PRECONDITION:return l.FAILED_PRECONDITION;case V0.ABORTED:return l.ABORTED;case V0.OUT_OF_RANGE:return l.OUT_OF_RANGE;case V0.UNIMPLEMENTED:return l.UNIMPLEMENTED;case V0.DATA_LOSS:return l.DATA_LOSS;default:return s()}}(c=V0||(V0={}))[c.OK=0]="OK",c[c.CANCELLED=1]="CANCELLED",c[c.UNKNOWN=2]="UNKNOWN",c[c.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",c[c.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",c[c.NOT_FOUND=5]="NOT_FOUND",c[c.ALREADY_EXISTS=6]="ALREADY_EXISTS",c[c.PERMISSION_DENIED=7]="PERMISSION_DENIED",c[c.UNAUTHENTICATED=16]="UNAUTHENTICATED",c[c.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",c[c.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",c[c.ABORTED=10]="ABORTED",c[c.OUT_OF_RANGE=11]="OUT_OF_RANGE",c[c.UNIMPLEMENTED=12]="UNIMPLEMENTED",c[c.INTERNAL=13]="INTERNAL",c[c.UNAVAILABLE=14]="UNAVAILABLE",c[c.DATA_LOSS=15]="DATA_LOSS";var bV=new U4([4294967295,4294967295],0);var cV=(()=>{return{asc:"ASCENDING",desc:"DESCENDING"}})(),tV=(()=>{return{"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}})(),dV=(()=>{return{and:"AND",or:"OR"}})();class y7{constructor(Z,Q){this.databaseId=Z,this.useProto3Json=Q}}function N4(Z,Q){if(Z.useProto3Json)return`${new Date(1000*Q.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+Q.nanoseconds).slice(-9)}Z`;return{seconds:""+Q.seconds,nanos:Q.nanoseconds}}function J$(Z,Q){return Z.useProto3Json?Q.toBase64():Q.toUint8Array()}function X$(Z,Q){return N4(Z,Q.toTimestamp())}function c2(Z){return W0(!!Z),J0.fromTimestamp(function Q(J){let $=G2(J);return new q0($.seconds,$.nanos)}(Z))}function v7(Z,Q){return y4(Z,Q).canonicalString()}function y4(Z,Q){let J=function $(w){return new w0(["projects",w.projectId,"databases",w.database])}(Z).child("documents");return Q===void 0?J:J.child(Q)}function $$(Z){let Q=w0.fromString(Z);return W0(B$(Q)),Q}function v4(Z,Q){return v7(Z.databaseId,Q.path)}function w$(Z){let Q=$$(Z);return Q.length===4?w0.emptyPath():z$(Q)}function V$(Z){return new w0(["projects",Z.databaseId.projectId,"databases",Z.databaseId.database]).canonicalString()}function z$(Z){return W0(Z.length>4&&Z.get(4)==="documents"),Z.popFirst(5)}function SZ(Z,Q,J){return{name:v4(Z,Q),fields:J.value.mapValue.fields}}function U$(Z,Q){let J;if(Q instanceof X1)J={update:SZ(Z,Q.key,Q.value)};else if(Q instanceof g4)J={delete:v4(Z,Q.key)};else if(Q instanceof k2)J={update:SZ(Z,Q.key,Q.data),updateMask:q$(Q.fieldMask)};else{if(!(Q instanceof L7))return s();J={verify:v4(Z,Q.key)}}return Q.fieldTransforms.length>0&&(J.updateTransforms=Q.fieldTransforms.map(($)=>function w(U,q){let h=q.transform;if(h instanceof J8)return{fieldPath:q.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof e2)return{fieldPath:q.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Z1)return{fieldPath:q.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof X8)return{fieldPath:q.field.canonicalString(),increment:h.Pe};throw s()}(0,$))),Q.precondition.isNone||(J.currentDocument=function $(w,U){return U.updateTime!==void 0?{updateTime:X$(w,U.updateTime)}:U.exists!==void 0?{exists:U.exists}:s()}(Z,Q.precondition)),J}function W$(Z,Q){return Z&&Z.length>0?(W0(Q!==void 0),Z.map((J)=>function $(w,U){let q=w.updateTime?c2(w.updateTime):c2(U);return q.isEqual(J0.min())&&(q=c2(U)),new O7(q,w.transformResults||[])}(J,Q))):[]}function x$(Z){let Q=w$(Z.parent),J=Z.structuredQuery,$=J.from?J.from.length:0,w=null;if($>0){W0($===1);let f=J.from[0];f.allDescendants?w=f.collectionId:Q=Q.child(f.collectionId)}let U=[];J.where&&(U=function f(Y){let K=f7(Y);if(K instanceof O2&&EZ(K))return K.getFilters();return[K]}(J.where));let q=[];J.orderBy&&(q=function f(Y){return Y.map((K)=>function P(A){return new Q8(b2(A.field),function _(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(K))}(J.orderBy));let h=null;J.limit&&(h=function f(Y){let K;return K=typeof Y=="object"?Y.value:Y,P4(K)?null:K}(J.limit));let j=null;J.startAt&&(j=function f(Y){let K=!!Y.before,P=Y.values||[];return new Z8(P,K)}(J.startAt));let R=null;return J.endAt&&(R=function f(Y){let K=!Y.before,P=Y.values||[];return new Z8(P,K)}(J.endAt)),uX(Q,w,q,U,h,"F",j,R)}function f7(Z){return Z.unaryFilter!==void 0?function Q(J){switch(J.unaryFilter.op){case"IS_NAN":let $=b2(J.unaryFilter.field);return x0.create($,"==",{doubleValue:NaN});case"IS_NULL":let w=b2(J.unaryFilter.field);return x0.create(w,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let U=b2(J.unaryFilter.field);return x0.create(U,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let q=b2(J.unaryFilter.field);return x0.create(q,"!=",{nullValue:"NULL_VALUE"});default:return s()}}(Z):Z.fieldFilter!==void 0?function Q(J){return x0.create(b2(J.fieldFilter.field),function $(w){switch(w){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return s()}}(J.fieldFilter.op),J.fieldFilter.value)}(Z):Z.compositeFilter!==void 0?function Q(J){return O2.create(J.compositeFilter.filters.map(($)=>f7($)),function $(w){switch(w){case"AND":return"and";case"OR":return"or";default:return s()}}(J.compositeFilter.op))}(Z):s()}function b2(Z){return R0.fromServerFormat(Z.fieldPath)}function q$(Z){let Q=[];return Z.fields.forEach((J)=>Q.push(J.canonicalString())),{fieldPaths:Q}}function B$(Z){return Z.length>=4&&Z.get(0)==="projects"&&Z.get(2)==="databases"}class H7{constructor(Z){this.ct=Z}}function h$(Z){let Q=x$({parent:Z.parent,structuredQuery:Z.structuredQuery});return Z.limitType==="LAST"?S4(Q,Q.limit,"L"):Q}class f4{constructor(){}It(Z,Q){this.Tt(Z,Q),Q.Et()}Tt(Z,Q){if("nullValue"in Z)this.dt(Q,5);else if("booleanValue"in Z)this.dt(Q,10),Q.At(Z.booleanValue?1:0);else if("integerValue"in Z)this.dt(Q,15),Q.At(z0(Z.integerValue));else if("doubleValue"in Z){let J=z0(Z.doubleValue);isNaN(J)?this.dt(Q,13):(this.dt(Q,15),a1(J)?Q.At(0):Q.At(J))}else if("timestampValue"in Z){let J=Z.timestampValue;this.dt(Q,20),typeof J=="string"&&(J=G2(J)),Q.Rt(`${J.seconds||""}`),Q.At(J.nanos||0)}else if("stringValue"in Z)this.Vt(Z.stringValue,Q),this.ft(Q);else if("bytesValue"in Z)this.dt(Q,30),Q.gt(d2(Z.bytesValue)),this.ft(Q);else if("referenceValue"in Z)this.yt(Z.referenceValue,Q);else if("geoPointValue"in Z){let J=Z.geoPointValue;this.dt(Q,45),Q.At(J.latitude||0),Q.At(J.longitude||0)}else"mapValue"in Z?cZ(Z)?this.dt(Q,Number.MAX_SAFE_INTEGER):bZ(Z)?this.wt(Z.mapValue,Q):(this.St(Z.mapValue,Q),this.ft(Q)):("arrayValue"in Z)?(this.bt(Z.arrayValue,Q),this.ft(Q)):s()}Vt(Z,Q){this.dt(Q,25),this.Dt(Z,Q)}Dt(Z,Q){Q.Rt(Z)}St(Z,Q){let J=Z.fields||{};this.dt(Q,55);for(let $ of Object.keys(J))this.Vt($,Q),this.Tt(J[$],Q)}wt(Z,Q){var J,$;let w=Z.fields||{};this.dt(Q,53);let U="value",q=(($=(J=w[U].arrayValue)===null||J===void 0?void 0:J.values)===null||$===void 0?void 0:$.length)||0;this.dt(Q,15),Q.At(z0(q)),this.Vt(U,Q),this.Tt(w[U],Q)}bt(Z,Q){let J=Z.values||[];this.dt(Q,50);for(let $ of J)this.Tt($,Q)}yt(Z,Q){this.dt(Q,37),m.fromName(Z).path.forEach((J)=>{this.dt(Q,60),this.Dt(J,Q)})}dt(Z,Q){Z.At(Q)}ft(Z){Z.At(2)}}f4.vt=new f4;class Y7{constructor(){this.un=new K7}addToCollectionParentIndex(Z,Q){return this.un.add(Q),p.resolve()}getCollectionParents(Z,Q){return p.resolve(this.un.getEntries(Q))}addFieldIndex(Z,Q){return p.resolve()}deleteFieldIndex(Z,Q){return p.resolve()}deleteAllFieldIndexes(Z){return p.resolve()}createTargetIndexes(Z,Q){return p.resolve()}getDocumentsMatchingTarget(Z,Q){return p.resolve(null)}getIndexType(Z,Q){return p.resolve(0)}getFieldIndexes(Z,Q){return p.resolve([])}getNextCollectionGroupToUpdate(Z){return p.resolve(null)}getMinOffset(Z,Q){return p.resolve(R2.min())}getMinOffsetFromCollectionGroup(Z,Q){return p.resolve(R2.min())}updateCollectionGroup(Z,Q,J){return p.resolve()}updateIndexEntries(Z,Q){return p.resolve()}}class K7{constructor(){this.index={}}add(Z){let Q=Z.lastSegment(),J=Z.popLast(),$=this.index[Q]||new y0(w0.comparator),w=!$.has(J);return this.index[Q]=$.add(J),w}has(Z){let Q=Z.lastSegment(),J=Z.popLast(),$=this.index[Q];return $&&$.has(J)}getEntries(Z){return(this.index[Z]||new y0(w0.comparator)).toArray()}}var EV=new Uint8Array(0);class _0{constructor(Z,Q,J){this.cacheSizeCollectionThreshold=Z,this.percentileToCollect=Q,this.maximumSequenceNumbersToCollect=J}static withCacheSize(Z){return new _0(Z,_0.DEFAULT_COLLECTION_PERCENTILE,_0.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}_0.DEFAULT_COLLECTION_PERCENTILE=10,_0.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1000,_0.DEFAULT=new _0(41943040,_0.DEFAULT_COLLECTION_PERCENTILE,_0.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_0.DISABLED=new _0(-1,0,0);class Q1{constructor(Z){this.Ln=Z}next(){return this.Ln+=2,this.Ln}static Bn(){return new Q1(0)}static kn(){return new Q1(-1)}}class p7{constructor(){this.changes=new _2((Z)=>Z.toString(),(Z,Q)=>Z.isEqual(Q)),this.changesApplied=!1}addEntry(Z){this.assertNotApplied(),this.changes.set(Z.key,Z)}removeEntry(Z,Q){this.assertNotApplied(),this.changes.set(Z,i0.newInvalidDocument(Z).setReadTime(Q))}getEntry(Z,Q){this.assertNotApplied();let J=this.changes.get(Q);return J!==void 0?p.resolve(J):this.getFromCache(Z,Q)}getEntries(Z,Q){return this.getAllFromCache(Z,Q)}apply(Z){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(Z)}assertNotApplied(){}}class l7{constructor(Z,Q){this.overlayedDocument=Z,this.mutatedFields=Q}}class T7{constructor(Z,Q,J,$){this.remoteDocumentCache=Z,this.mutationQueue=Q,this.documentOverlayCache=J,this.indexManager=$}getDocument(Z,Q){let J=null;return this.documentOverlayCache.getOverlay(Z,Q).next(($)=>(J=$,this.remoteDocumentCache.getEntry(Z,Q))).next(($)=>(J!==null&&E1(J.mutation,$,r0.empty(),q0.now()),$))}getDocuments(Z,Q){return this.remoteDocumentCache.getEntries(Z,Q).next((J)=>this.getLocalViewOfDocuments(Z,J,N0()).next(()=>J))}getLocalViewOfDocuments(Z,Q,J=N0()){let $=p2();return this.populateOverlays(Z,$,Q).next(()=>this.computeViews(Z,Q,$,J).next((w)=>{let U=b8();return w.forEach((q,h)=>{U=U.insert(q,h.overlayedDocument)}),U}))}getOverlayedDocuments(Z,Q){let J=p2();return this.populateOverlays(Z,J,Q).next(()=>this.computeViews(Z,Q,J,N0()))}populateOverlays(Z,Q,J){let $=[];return J.forEach((w)=>{Q.has(w)||$.push(w)}),this.documentOverlayCache.getOverlays(Z,$).next((w)=>{w.forEach((U,q)=>{Q.set(U,q)})})}computeViews(Z,Q,J,$){let w=e8(),U=d1(),q=function h(){return d1()}();return Q.forEach((h,j)=>{let R=J.get(j.key);$.has(j.key)&&(R===void 0||R.mutation instanceof k2)?w=w.insert(j.key,j):R!==void 0?(U.set(j.key,R.mutation.getFieldMask()),E1(R.mutation,j,R.mutation.getFieldMask(),q0.now())):U.set(j.key,r0.empty())}),this.recalculateAndSaveOverlays(Z,w).next((h)=>(h.forEach((j,R)=>U.set(j,R)),Q.forEach((j,R)=>{var f;return q.set(j,new l7(R,(f=U.get(j))!==null&&f!==void 0?f:null))}),q))}recalculateAndSaveOverlays(Z,Q){let J=d1(),$=new Y0((U,q)=>U-q),w=N0();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(Z,Q).next((U)=>{for(let q of U)q.keys().forEach((h)=>{let j=Q.get(h);if(j===null)return;let R=J.get(h)||r0.empty();R=q.applyToLocalView(j,R),J.set(h,R);let f=($.get(q.batchId)||N0()).add(h);$=$.insert(q.batchId,f)})}).next(()=>{let U=[],q=$.getReverseIterator();for(;q.hasNext();){let h=q.getNext(),j=h.key,R=h.value,f=B7();R.forEach((Y)=>{if(!w.has(Y)){let K=I7(Q.get(Y),J.get(Y));K!==null&&f.set(Y,K),w=w.add(Y)}}),U.push(this.documentOverlayCache.saveOverlays(Z,j,f))}return p.waitFor(U)}).next(()=>J)}recalculateAndSaveOverlaysForDocumentKeys(Z,Q){return this.remoteDocumentCache.getEntries(Z,Q).next((J)=>this.recalculateAndSaveOverlays(Z,J))}getDocumentsMatchingQuery(Z,Q,J,$){return function w(U){return m.isDocumentKey(U.path)&&U.collectionGroup===null&&U.filters.length===0}(Q)?this.getDocumentsMatchingDocumentQuery(Z,Q.path):CX(Q)?this.getDocumentsMatchingCollectionGroupQuery(Z,Q,J,$):this.getDocumentsMatchingCollectionQuery(Z,Q,J,$)}getNextDocuments(Z,Q,J,$){return this.remoteDocumentCache.getAllFromCollectionGroup(Z,Q,J,$).next((w)=>{let U=$-w.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(Z,Q,J.largestBatchId,$-w.size):p.resolve(p2()),q=-1,h=w;return U.next((j)=>p.forEach(j,(R,f)=>(q<f.largestBatchId&&(q=f.largestBatchId),w.get(R)?p.resolve():this.remoteDocumentCache.getEntry(Z,R).next((Y)=>{h=h.insert(R,Y)}))).next(()=>this.populateOverlays(Z,j,w)).next(()=>this.computeViews(Z,h,j,N0())).next((R)=>({batchId:q,changes:q7(R)})))})}getDocumentsMatchingDocumentQuery(Z,Q){return this.getDocument(Z,new m(Q)).next((J)=>{let $=b8();return J.isFoundDocument()&&($=$.insert(J.key,J)),$})}getDocumentsMatchingCollectionGroupQuery(Z,Q,J,$){let w=Q.collectionGroup,U=b8();return this.indexManager.getCollectionParents(Z,w).next((q)=>p.forEach(q,(h)=>{let j=function R(f,Y){return new V8(Y,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(Q,h.child(w));return this.getDocumentsMatchingCollectionQuery(Z,j,J,$).next((R)=>{R.forEach((f,Y)=>{U=U.insert(f,Y)})})}).next(()=>U))}getDocumentsMatchingCollectionQuery(Z,Q,J,$){let w;return this.documentOverlayCache.getOverlaysForCollection(Z,Q.path,J.largestBatchId).next((U)=>(w=U,this.remoteDocumentCache.getDocumentsMatchingQuery(Z,Q,J,w,$))).next((U)=>{w.forEach((h,j)=>{let R=j.getKey();U.get(R)===null&&(U=U.insert(R,i0.newInvalidDocument(R)))});let q=b8();return U.forEach((h,j)=>{let R=w.get(h);R!==void 0&&E1(R.mutation,j,r0.empty(),q0.now()),m4(Q,j)&&(q=q.insert(h,j))}),q})}}class A7{constructor(Z){this.serializer=Z,this.hr=new Map,this.Pr=new Map}getBundleMetadata(Z,Q){return p.resolve(this.hr.get(Q))}saveBundleMetadata(Z,Q){return this.hr.set(Q.id,function J($){return{id:$.id,version:$.version,createTime:c2($.createTime)}}(Q)),p.resolve()}getNamedQuery(Z,Q){return p.resolve(this.Pr.get(Q))}saveNamedQuery(Z,Q){return this.Pr.set(Q.name,function J($){return{name:$.name,query:h$($.bundledQuery),readTime:c2($.readTime)}}(Q)),p.resolve()}}class _7{constructor(){this.overlays=new Y0(m.comparator),this.Ir=new Map}getOverlay(Z,Q){return p.resolve(this.overlays.get(Q))}getOverlays(Z,Q){let J=p2();return p.forEach(Q,($)=>this.getOverlay(Z,$).next((w)=>{w!==null&&J.set($,w)})).next(()=>J)}saveOverlays(Z,Q,J){return J.forEach(($,w)=>{this.ht(Z,Q,w)}),p.resolve()}removeOverlaysForBatchId(Z,Q,J){let $=this.Ir.get(J);return $!==void 0&&($.forEach((w)=>this.overlays=this.overlays.remove(w)),this.Ir.delete(J)),p.resolve()}getOverlaysForCollection(Z,Q,J){let $=p2(),w=Q.length+1,U=new m(Q.child("")),q=this.overlays.getIteratorFrom(U);for(;q.hasNext();){let h=q.getNext().value,j=h.getKey();if(!Q.isPrefixOf(j.path))break;j.path.length===w&&(h.largestBatchId>J&&$.set(h.getKey(),h))}return p.resolve($)}getOverlaysForCollectionGroup(Z,Q,J,$){let w=new Y0((j,R)=>j-R),U=this.overlays.getIterator();for(;U.hasNext();){let j=U.getNext().value;if(j.getKey().getCollectionGroup()===Q&&j.largestBatchId>J){let R=w.get(j.largestBatchId);R===null&&(R=p2(),w=w.insert(j.largestBatchId,R)),R.set(j.getKey(),j)}}let q=p2(),h=w.getIterator();for(;h.hasNext();)if(h.getNext().value.forEach((j,R)=>q.set(j,R)),q.size()>=$)break;return p.resolve(q)}ht(Z,Q,J){let $=this.overlays.get(J.key);if($!==null){let U=this.Ir.get($.largestBatchId).delete(J.key);this.Ir.set($.largestBatchId,U)}this.overlays=this.overlays.insert(J.key,new N7(Q,J));let w=this.Ir.get(Q);w===void 0&&(w=N0(),this.Ir.set(Q,w)),this.Ir.set(Q,w.add(J.key))}}class P7{constructor(){this.sessionToken=D0.EMPTY_BYTE_STRING}getSessionToken(Z){return p.resolve(this.sessionToken)}setSessionToken(Z,Q){return this.sessionToken=Q,p.resolve()}}class J6{constructor(){this.Tr=new y0(U0.Er),this.dr=new y0(U0.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(Z,Q){let J=new U0(Z,Q);this.Tr=this.Tr.add(J),this.dr=this.dr.add(J)}Rr(Z,Q){Z.forEach((J)=>this.addReference(J,Q))}removeReference(Z,Q){this.Vr(new U0(Z,Q))}mr(Z,Q){Z.forEach((J)=>this.removeReference(J,Q))}gr(Z){let Q=new m(new w0([])),J=new U0(Q,Z),$=new U0(Q,Z+1),w=[];return this.dr.forEachInRange([J,$],(U)=>{this.Vr(U),w.push(U.key)}),w}pr(){this.Tr.forEach((Z)=>this.Vr(Z))}Vr(Z){this.Tr=this.Tr.delete(Z),this.dr=this.dr.delete(Z)}yr(Z){let Q=new m(new w0([])),J=new U0(Q,Z),$=new U0(Q,Z+1),w=N0();return this.dr.forEachInRange([J,$],(U)=>{w=w.add(U.key)}),w}containsKey(Z){let Q=new U0(Z,0),J=this.Tr.firstAfterOrEqual(Q);return J!==null&&Z.isEqual(J.key)}}class U0{constructor(Z,Q){this.key=Z,this.wr=Q}static Er(Z,Q){return m.comparator(Z.key,Q.key)||o(Z.wr,Q.wr)}static Ar(Z,Q){return o(Z.wr,Q.wr)||m.comparator(Z.key,Q.key)}}class M7{constructor(Z,Q){this.indexManager=Z,this.referenceDelegate=Q,this.mutationQueue=[],this.Sr=1,this.br=new y0(U0.Er)}checkEmpty(Z){return p.resolve(this.mutationQueue.length===0)}addMutationBatch(Z,Q,J,$){let w=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let U=new S7(w,Q,J,$);this.mutationQueue.push(U);for(let q of $)this.br=this.br.add(new U0(q.key,w)),this.indexManager.addToCollectionParentIndex(Z,q.key.path.popLast());return p.resolve(U)}lookupMutationBatch(Z,Q){return p.resolve(this.Dr(Q))}getNextMutationBatchAfterBatchId(Z,Q){let J=Q+1,$=this.vr(J),w=$<0?0:$;return p.resolve(this.mutationQueue.length>w?this.mutationQueue[w]:null)}getHighestUnacknowledgedBatchId(){return p.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(Z){return p.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(Z,Q){let J=new U0(Q,0),$=new U0(Q,Number.POSITIVE_INFINITY),w=[];return this.br.forEachInRange([J,$],(U)=>{let q=this.Dr(U.wr);w.push(q)}),p.resolve(w)}getAllMutationBatchesAffectingDocumentKeys(Z,Q){let J=new y0(o);return Q.forEach(($)=>{let w=new U0($,0),U=new U0($,Number.POSITIVE_INFINITY);this.br.forEachInRange([w,U],(q)=>{J=J.add(q.wr)})}),p.resolve(this.Cr(J))}getAllMutationBatchesAffectingQuery(Z,Q){let J=Q.path,$=J.length+1,w=J;m.isDocumentKey(w)||(w=w.child(""));let U=new U0(new m(w),0),q=new y0(o);return this.br.forEachWhile((h)=>{let j=h.key.path;return!!J.isPrefixOf(j)&&(j.length===$&&(q=q.add(h.wr)),!0)},U),p.resolve(this.Cr(q))}Cr(Z){let Q=[];return Z.forEach((J)=>{let $=this.Dr(J);$!==null&&Q.push($)}),Q}removeMutationBatch(Z,Q){W0(this.Fr(Q.batchId,"removed")===0),this.mutationQueue.shift();let J=this.br;return p.forEach(Q.mutations,($)=>{let w=new U0($.key,Q.batchId);return J=J.delete(w),this.referenceDelegate.markPotentiallyOrphaned(Z,$.key)}).next(()=>{this.br=J})}On(Z){}containsKey(Z,Q){let J=new U0(Q,0),$=this.br.firstAfterOrEqual(J);return p.resolve(Q.isEqual($&&$.key))}performConsistencyCheck(Z){return this.mutationQueue.length,p.resolve()}Fr(Z,Q){return this.vr(Z)}vr(Z){if(this.mutationQueue.length===0)return 0;return Z-this.mutationQueue[0].batchId}Dr(Z){let Q=this.vr(Z);if(Q<0||Q>=this.mutationQueue.length)return null;return this.mutationQueue[Q]}}class u7{constructor(Z){this.Mr=Z,this.docs=function Q(){return new Y0(m.comparator)}(),this.size=0}setIndexManager(Z){this.indexManager=Z}addEntry(Z,Q){let J=Q.key,$=this.docs.get(J),w=$?$.size:0,U=this.Mr(Q);return this.docs=this.docs.insert(J,{document:Q.mutableCopy(),size:U}),this.size+=U-w,this.indexManager.addToCollectionParentIndex(Z,J.path.popLast())}removeEntry(Z){let Q=this.docs.get(Z);Q&&(this.docs=this.docs.remove(Z),this.size-=Q.size)}getEntry(Z,Q){let J=this.docs.get(Q);return p.resolve(J?J.document.mutableCopy():i0.newInvalidDocument(Q))}getEntries(Z,Q){let J=e8();return Q.forEach(($)=>{let w=this.docs.get($);J=J.insert($,w?w.document.mutableCopy():i0.newInvalidDocument($))}),p.resolve(J)}getDocumentsMatchingQuery(Z,Q,J,$){let w=e8(),U=Q.path,q=new m(U.child("")),h=this.docs.getIteratorFrom(q);for(;h.hasNext();){let{key:j,value:{document:R}}=h.getNext();if(!U.isPrefixOf(j.path))break;j.path.length>U.length+1||(fX(vX(R),J)<=0||($.has(R.key)||m4(Q,R))&&(w=w.insert(R.key,R.mutableCopy())))}return p.resolve(w)}getAllFromCollectionGroup(Z,Q,J,$){s()}Or(Z,Q){return p.forEach(this.docs,(J)=>Q(J))}newChangeBuffer(Z){return new i7(this)}getSize(Z){return p.resolve(this.size)}}class i7 extends p7{constructor(Z){super(),this.cr=Z}applyChanges(Z){let Q=[];return this.changes.forEach((J,$)=>{$.isValidDocument()?Q.push(this.cr.addEntry(Z,$)):this.cr.removeEntry(J)}),p.waitFor(Q)}getFromCache(Z,Q){return this.cr.getEntry(Z,Q)}getAllFromCache(Z,Q){return this.cr.getEntries(Z,Q)}}class C7{constructor(Z){this.persistence=Z,this.Nr=new _2((Q)=>C4(Q),r4),this.lastRemoteSnapshotVersion=J0.min(),this.highestTargetId=0,this.Lr=0,this.Br=new J6,this.targetCount=0,this.kr=Q1.Bn()}forEachTarget(Z,Q){return this.Nr.forEach((J,$)=>Q($)),p.resolve()}getLastRemoteSnapshotVersion(Z){return p.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(Z){return p.resolve(this.Lr)}allocateTargetId(Z){return this.highestTargetId=this.kr.next(),p.resolve(this.highestTargetId)}setTargetsMetadata(Z,Q,J){return J&&(this.lastRemoteSnapshotVersion=J),Q>this.Lr&&(this.Lr=Q),p.resolve()}Kn(Z){this.Nr.set(Z.target,Z);let Q=Z.targetId;Q>this.highestTargetId&&(this.kr=new Q1(Q),this.highestTargetId=Q),Z.sequenceNumber>this.Lr&&(this.Lr=Z.sequenceNumber)}addTargetData(Z,Q){return this.Kn(Q),this.targetCount+=1,p.resolve()}updateTargetData(Z,Q){return this.Kn(Q),p.resolve()}removeTargetData(Z,Q){return this.Nr.delete(Q.target),this.Br.gr(Q.targetId),this.targetCount-=1,p.resolve()}removeTargets(Z,Q,J){let $=0,w=[];return this.Nr.forEach((U,q)=>{q.sequenceNumber<=Q&&J.get(q.targetId)===null&&(this.Nr.delete(U),w.push(this.removeMatchingKeysForTargetId(Z,q.targetId)),$++)}),p.waitFor(w).next(()=>$)}getTargetCount(Z){return p.resolve(this.targetCount)}getTargetData(Z,Q){let J=this.Nr.get(Q)||null;return p.resolve(J)}addMatchingKeys(Z,Q,J){return this.Br.Rr(Q,J),p.resolve()}removeMatchingKeys(Z,Q,J){this.Br.mr(Q,J);let $=this.persistence.referenceDelegate,w=[];return $&&Q.forEach((U)=>{w.push($.markPotentiallyOrphaned(Z,U))}),p.waitFor(w)}removeMatchingKeysForTargetId(Z,Q){return this.Br.gr(Q),p.resolve()}getMatchingKeysForTargetId(Z,Q){let J=this.Br.yr(Q);return p.resolve(J)}containsKey(Z,Q){return p.resolve(this.Br.containsKey(Q))}}class r7{constructor(Z,Q){this.qr={},this.overlays={},this.Qr=new _4(0),this.Kr=!1,this.Kr=!0,this.$r=new P7,this.referenceDelegate=Z(this),this.Ur=new C7(this),this.indexManager=new Y7,this.remoteDocumentCache=function J($){return new u7($)}((J)=>this.referenceDelegate.Wr(J)),this.serializer=new H7(Q),this.Gr=new A7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(Z){return this.indexManager}getDocumentOverlayCache(Z){let Q=this.overlays[Z.toKey()];return Q||(Q=new _7,this.overlays[Z.toKey()]=Q),Q}getMutationQueue(Z,Q){let J=this.qr[Z.toKey()];return J||(J=new M7(Q,this.referenceDelegate),this.qr[Z.toKey()]=J),J}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(Z,Q,J){i("MemoryPersistence","Starting transaction:",Z);let $=new m7(this.Qr.next());return this.referenceDelegate.zr(),J($).next((w)=>this.referenceDelegate.jr($).next(()=>w)).toPromise().then((w)=>($.raiseOnCommittedEvent(),w))}Hr(Z,Q){return p.or(Object.values(this.qr).map((J)=>()=>J.containsKey(Z,Q)))}}class m7 extends rZ{constructor(Z){super(),this.currentSequenceNumber=Z}}class D4{constructor(Z){this.persistence=Z,this.Jr=new J6,this.Yr=null}static Zr(Z){return new D4(Z)}get Xr(){if(this.Yr)return this.Yr;throw s()}addReference(Z,Q,J){return this.Jr.addReference(J,Q),this.Xr.delete(J.toString()),p.resolve()}removeReference(Z,Q,J){return this.Jr.removeReference(J,Q),this.Xr.add(J.toString()),p.resolve()}markPotentiallyOrphaned(Z,Q){return this.Xr.add(Q.toString()),p.resolve()}removeTarget(Z,Q){this.Jr.gr(Q.targetId).forEach(($)=>this.Xr.add($.toString()));let J=this.persistence.getTargetCache();return J.getMatchingKeysForTargetId(Z,Q.targetId).next(($)=>{$.forEach((w)=>this.Xr.add(w.toString()))}).next(()=>J.removeTargetData(Z,Q))}zr(){this.Yr=new Set}jr(Z){let Q=this.persistence.getRemoteDocumentCache().newChangeBuffer();return p.forEach(this.Xr,(J)=>{let $=m.fromPath(J);return this.ei(Z,$).next((w)=>{w||Q.removeEntry($,J0.min())})}).next(()=>(this.Yr=null,Q.apply(Z)))}updateLimboDocument(Z,Q){return this.ei(Z,Q).next((J)=>{J?this.Xr.delete(Q.toString()):this.Xr.add(Q.toString())})}Wr(Z){return 0}ei(Z,Q){return p.or([()=>p.resolve(this.Jr.containsKey(Q)),()=>this.persistence.getTargetCache().containsKey(Z,Q),()=>this.persistence.Hr(Z,Q)])}}class b4{constructor(Z,Q,J,$){this.targetId=Z,this.fromCache=Q,this.$i=J,this.Ui=$}static Wi(Z,Q){let J=N0(),$=N0();for(let w of Q.docChanges)switch(w.type){case 0:J=J.add(w.doc.key);break;case 1:$=$.add(w.doc.key)}return new b4(Z,Q.fromCache,J,$)}}class n7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(Z){this._documentReadCount+=Z}}class g7{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function Z(){return u9()?8:YX(M9())>0?6:4}()}initialize(Z,Q){this.Ji=Z,this.indexManager=Q,this.Gi=!0}getDocumentsMatchingQuery(Z,Q,J,$){let w={result:null};return this.Yi(Z,Q).next((U)=>{w.result=U}).next(()=>{if(!w.result)return this.Zi(Z,Q,$,J).next((U)=>{w.result=U})}).next(()=>{if(w.result)return;let U=new n7;return this.Xi(Z,Q,U).next((q)=>{if(w.result=q,this.zi)return this.es(Z,Q,U,q.size)})}).next(()=>w.result)}es(Z,Q,J,$){return J.documentReadCount<this.ji?(s1()<=b.DEBUG&&i("QueryEngine","SDK will not create cache indexes for query:",D1(Q),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),p.resolve()):(s1()<=b.DEBUG&&i("QueryEngine","Query:",D1(Q),"scans",J.documentReadCount,"local documents and returns",$,"documents as results."),J.documentReadCount>this.Hi*$?(s1()<=b.DEBUG&&i("QueryEngine","The SDK decides to create cache indexes for query:",D1(Q),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(Z,l2(Q))):p.resolve())}Yi(Z,Q){if(GZ(Q))return p.resolve(null);let J=l2(Q);return this.indexManager.getIndexType(Z,J).next(($)=>$===0?null:(Q.limit!==null&&$===1&&(Q=S4(Q,null,"F"),J=l2(Q)),this.indexManager.getDocumentsMatchingTarget(Z,J).next((w)=>{let U=N0(...w);return this.Ji.getDocuments(Z,U).next((q)=>this.indexManager.getMinOffset(Z,J).next((h)=>{let j=this.ts(Q,q);return this.ns(Q,j,U,h.readTime)?this.Yi(Z,S4(Q,null,"F")):this.rs(Z,j,Q,h)}))})))}Zi(Z,Q,J,$){return GZ(Q)||$.isEqual(J0.min())?p.resolve(null):this.Ji.getDocuments(Z,J).next((w)=>{let U=this.ts(Q,w);return this.ns(Q,U,J,$)?p.resolve(null):(s1()<=b.DEBUG&&i("QueryEngine","Re-using previous result from %s to execute query: %s",$.toString(),D1(Q)),this.rs(Z,U,Q,yX($,-1)).next((q)=>q))})}ts(Z,Q){let J=new y0(mX(Z));return Q.forEach(($,w)=>{m4(Z,w)&&(J=J.add(w))}),J}ns(Z,Q,J,$){if(Z.limit===null)return!1;if(J.size!==Q.size)return!0;let w=Z.limitType==="F"?Q.last():Q.first();return!!w&&(w.hasPendingWrites||w.version.compareTo($)>0)}Xi(Z,Q,J){return s1()<=b.DEBUG&&i("QueryEngine","Using full collection scan to execute query:",D1(Q)),this.Ji.getDocumentsMatchingQuery(Z,Q,R2.min(),J)}rs(Z,Q,J,$){return this.Ji.getDocumentsMatchingQuery(Z,J,$).next((w)=>(Q.forEach((U)=>{w=w.insert(U.key,U)}),w))}}class s7{constructor(Z,Q,J,$){this.persistence=Z,this.ss=Q,this.serializer=$,this.os=new Y0(o),this._s=new _2((w)=>C4(w),r4),this.us=new Map,this.cs=Z.getRemoteDocumentCache(),this.Ur=Z.getTargetCache(),this.Gr=Z.getBundleCache(),this.ls(J)}ls(Z){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(Z),this.indexManager=this.persistence.getIndexManager(Z),this.mutationQueue=this.persistence.getMutationQueue(Z,this.indexManager),this.localDocuments=new T7(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(Z){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(Q)=>Z.collect(Q,this.os))}}function F$(Z,Q,J,$){return new s7(Z,Q,J,$)}async function D7(Z,Q){let J=e(Z);return await J.persistence.runTransaction("Handle user change","readonly",($)=>{let w;return J.mutationQueue.getAllMutationBatches($).next((U)=>(w=U,J.ls(Q),J.mutationQueue.getAllMutationBatches($))).next((U)=>{let q=[],h=[],j=N0();for(let R of w){q.push(R.batchId);for(let f of R.mutations)j=j.add(f.key)}for(let R of U){h.push(R.batchId);for(let f of R.mutations)j=j.add(f.key)}return J.localDocuments.getDocuments($,j).next((R)=>({hs:R,removedBatchIds:q,addedBatchIds:h}))})})}function j$(Z,Q){let J=e(Z);return J.persistence.runTransaction("Acknowledge batch","readwrite-primary",($)=>{let w=Q.batch.keys(),U=J.cs.newChangeBuffer({trackRemovals:!0});return function q(h,j,R,f){let Y=R.batch,K=Y.keys(),P=p.resolve();return K.forEach((A)=>{P=P.next(()=>f.getEntry(j,A)).next((_)=>{let M=R.docVersions.get(A);W0(M!==null),_.version.compareTo(M)<0&&(Y.applyToRemoteDocument(_,R),_.isValidDocument()&&(_.setReadTime(R.commitVersion),f.addEntry(_)))})}),P.next(()=>h.mutationQueue.removeMutationBatch(j,Y))}(J,$,Q,U).next(()=>U.apply($)).next(()=>J.mutationQueue.performConsistencyCheck($)).next(()=>J.documentOverlayCache.removeOverlaysForBatchId($,w,Q.batch.batchId)).next(()=>J.localDocuments.recalculateAndSaveOverlaysForDocumentKeys($,function q(h){let j=N0();for(let R=0;R<h.mutationResults.length;++R)h.mutationResults[R].transformResults.length>0&&(j=j.add(h.batch.mutations[R].key));return j}(Q))).next(()=>J.localDocuments.getDocuments($,w))})}function R$(Z){let Q=e(Z);return Q.persistence.runTransaction("Get last remote snapshot version","readonly",(J)=>Q.Ur.getLastRemoteSnapshotVersion(J))}function G$(Z,Q){let J=e(Z);return J.persistence.runTransaction("Get next mutation batch","readonly",($)=>(Q===void 0&&(Q=-1),J.mutationQueue.getNextMutationBatchAfterBatchId($,Q)))}class H4{constructor(){this.activeTargetIds=cX()}fs(Z){this.activeTargetIds=this.activeTargetIds.add(Z)}gs(Z){this.activeTargetIds=this.activeTargetIds.delete(Z)}Vs(){let Z={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(Z)}}class b7{constructor(){this.so=new H4,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(Z){}updateMutationState(Z,Q,J){}addLocalQueryTarget(Z){return this.so.fs(Z),this.oo[Z]||"not-current"}updateQueryState(Z,Q,J){this.oo[Z]=Q}removeLocalQueryTarget(Z){this.so.gs(Z)}isLocalQueryTarget(Z){return this.so.activeTargetIds.has(Z)}clearQueryState(Z){delete this.oo[Z]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(Z){return this.so.activeTargetIds.has(Z)}start(){return this.so=new H4,Promise.resolve()}handleUserChange(Z,Q,J){}setOnlineState(Z){}shutdown(){}writeSequenceNumber(Z){}notifyBundleLoaded(Z){}}class c7{_o(Z){}shutdown(){}}class Y4{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(Z){this.ho.push(Z)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){i("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let Z of this.ho)Z(0)}lo(){i("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let Z of this.ho)Z(1)}static D(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}var c8=null;function j4(){return c8===null?c8=function Z(){return 268435456+Math.round(2147483648*Math.random())}():c8++,"0x"+c8.toString(16)}var O$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class t7{constructor(Z){this.Io=Z.Io,this.To=Z.To}Eo(Z){this.Ao=Z}Ro(Z){this.Vo=Z}mo(Z){this.fo=Z}onMessage(Z){this.po=Z}close(){this.To()}send(Z){this.Io(Z)}yo(){this.Ao()}wo(){this.Vo()}So(Z){this.fo(Z)}bo(Z){this.po(Z)}}var S0="WebChannelConnection";class d7 extends class Z{constructor(Q){this.databaseInfo=Q,this.databaseId=Q.databaseId;let J=Q.ssl?"https":"http",$=encodeURIComponent(this.databaseId.projectId),w=encodeURIComponent(this.databaseId.database);this.Do=J+"://"+Q.host,this.vo=`projects/${$}/databases/${w}`,this.Co=this.databaseId.database==="(default)"?`project_id=${$}`:`project_id=${$}&database_id=${w}`}get Fo(){return!1}Mo(Q,J,$,w,U){let q=j4(),h=this.xo(Q,J.toUriEncodedString());i("RestConnection",`Sending RPC '${Q}' ${q}:`,h,$);let j={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(j,w,U),this.No(Q,h,j,$).then((R)=>(i("RestConnection",`Received RPC '${Q}' ${q}: `,R),R),(R)=>{throw E8("RestConnection",`RPC '${Q}' ${q} failed with error: `,R,"url: ",h,"request:",$),R})}Lo(Q,J,$,w,U,q){return this.Mo(Q,J,$,w,U)}Oo(Q,J,$){Q["X-Goog-Api-Client"]=function w(){return"gl-js/ fire/"+J1}(),Q["Content-Type"]="text/plain",this.databaseInfo.appId&&(Q["X-Firebase-GMPID"]=this.databaseInfo.appId),J&&J.headers.forEach((w,U)=>Q[U]=w),$&&$.headers.forEach((w,U)=>Q[U]=w)}xo(Q,J){let $=O$[Q];return`${this.Do}/v1/${J}:${$}`}terminate(){}}{constructor(Z){super(Z),this.forceLongPolling=Z.forceLongPolling,this.autoDetectLongPolling=Z.autoDetectLongPolling,this.useFetchStreams=Z.useFetchStreams,this.longPollingOptions=Z.longPollingOptions}No(Z,Q,J,$){let w=j4();return new Promise((U,q)=>{let h=new W4;h.setWithCredentials(!0),h.listenOnce(q4.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case g1.NO_ERROR:let R=h.getResponseJson();i(S0,`XHR for RPC '${Z}' ${w} received:`,JSON.stringify(R)),U(R);break;case g1.TIMEOUT:i(S0,`RPC '${Z}' ${w} timed out`),q(new r(l.DEADLINE_EXCEEDED,"Request time out"));break;case g1.HTTP_ERROR:let f=h.getStatus();if(i(S0,`RPC '${Z}' ${w} failed with status:`,f,"response text:",h.getResponseText()),f>0){let Y=h.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);let K=Y==null?void 0:Y.error;if(K&&K.status&&K.message){let P=function A(_){let M=_.toLowerCase().replace(/_/g,"-");return Object.values(l).indexOf(M)>=0?M:l.UNKNOWN}(K.status);q(new r(P,K.message))}else q(new r(l.UNKNOWN,"Server responded with status "+h.getStatus()))}else q(new r(l.UNAVAILABLE,"Connection failed."));break;default:s()}}finally{i(S0,`RPC '${Z}' ${w} completed.`)}});let j=JSON.stringify($);i(S0,`RPC '${Z}' ${w} sending request:`,$),h.send(Q,"POST",j,J,15)})}Bo(Z,Q,J){let $=j4(),w=[this.Do,"/","google.firestore.v1.Firestore","/",Z,"/channel"],U=F4(),q=h4(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:600000},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},j=this.longPollingOptions.timeoutSeconds;j!==void 0&&(h.longPollingTimeout=Math.round(1000*j)),this.useFetchStreams&&(h.xmlHttpFactory=new x4({})),this.Oo(h.initMessageHeaders,Q,J),h.encodeInitMessageHeaders=!0;let R=w.join("");i(S0,`Creating RPC '${Z}' stream ${$}: ${R}`,h);let f=U.createWebChannel(R,h),Y=!1,K=!1,P=new t7({Io:(_)=>{K?i(S0,`Not sending because RPC '${Z}' stream ${$} is closed:`,_):(Y||(i(S0,`Opening RPC '${Z}' stream ${$} transport.`),f.open(),Y=!0),i(S0,`RPC '${Z}' stream ${$} sending:`,_),f.send(_))},To:()=>f.close()}),A=(_,M,C)=>{_.listen(M,(n)=>{try{C(n)}catch(d){setTimeout(()=>{throw d},0)}})};return A(f,D2.EventType.OPEN,()=>{K||(i(S0,`RPC '${Z}' stream ${$} transport opened.`),P.yo())}),A(f,D2.EventType.CLOSE,()=>{K||(K=!0,i(S0,`RPC '${Z}' stream ${$} transport closed`),P.So())}),A(f,D2.EventType.ERROR,(_)=>{K||(K=!0,E8(S0,`RPC '${Z}' stream ${$} transport errored:`,_),P.So(new r(l.UNAVAILABLE,"The operation could not be completed")))}),A(f,D2.EventType.MESSAGE,(_)=>{var M;if(!K){let C=_.data[0];W0(!!C);let n=C,d=n.error||((M=n[0])===null||M===void 0?void 0:M.error);if(d){i(S0,`RPC '${Z}' stream ${$} received error:`,d);let B0=d.status,l0=function y(G){let I=V0[G];if(I!==void 0)return Q$(I)}(B0),K0=d.message;l0===void 0&&(l0=l.INTERNAL,K0="Unknown error status: "+B0+" with message "+d.message),K=!0,P.So(new r(l0,K0)),f.close()}else i(S0,`RPC '${Z}' stream ${$} received:`,C),P.bo(C)}}),A(q,B4.STAT_EVENT,(_)=>{_.stat===s8.PROXY?i(S0,`RPC '${Z}' stream ${$} detected buffering proxy`):_.stat===s8.NOPROXY&&i(S0,`RPC '${Z}' stream ${$} detected no buffering proxy`)}),setTimeout(()=>{P.wo()},0),P}}function R4(){return typeof document!="undefined"?document:null}function X6(Z){return new y7(Z,!0)}class c4{constructor(Z,Q,J=1000,$=1.5,w=60000){this.ui=Z,this.timerId=Q,this.ko=J,this.qo=$,this.Qo=w,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(Z){this.cancel();let Q=Math.floor(this.Ko+this.zo()),J=Math.max(0,Date.now()-this.Uo),$=Math.max(0,Q-J);$>0&&i("ExponentialBackoff",`Backing off for ${$} ms (base delay: ${this.Ko} ms, delay with jitter: ${Q} ms, last attempt: ${J} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,$,()=>(this.Uo=Date.now(),Z())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-0.5)*this.Ko}}class E7{constructor(Z,Q,J,$,w,U,q,h){this.ui=Z,this.Ho=J,this.Jo=$,this.connection=w,this.authCredentialsProvider=U,this.appCheckCredentialsProvider=q,this.listener=h,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new c4(Z,Q)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,60000,()=>this.__()))}a_(Z){this.u_(),this.stream.send(Z)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(Z,Q){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,Z!==4?this.t_.reset():Q&&Q.code===l.RESOURCE_EXHAUSTED?(A2(Q.toString()),A2("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):Q&&Q.code===l.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=Z,await this.listener.mo(Q)}l_(){}auth(){this.state=1;let Z=this.h_(this.Yo),Q=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([J,$])=>{this.Yo===Q&&this.P_(J,$)},(J)=>{Z(()=>{let $=new r(l.UNKNOWN,"Fetching auth token failed: "+J.message);return this.I_($)})})}P_(Z,Q){let J=this.h_(this.Yo);this.stream=this.T_(Z,Q),this.stream.Eo(()=>{J(()=>this.listener.Eo())}),this.stream.Ro(()=>{J(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(($)=>{J(()=>this.I_($))}),this.stream.onMessage(($)=>{J(()=>++this.e_==1?this.E_($):this.onNext($))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(Z){return i("PersistentStream",`close with error: ${Z}`),this.stream=null,this.close(4,Z)}h_(Z){return(Q)=>{this.ui.enqueueAndForget(()=>this.Yo===Z?Q():(i("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class o7 extends E7{constructor(Z,Q,J,$,w,U){super(Z,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",Q,J,$,U),this.serializer=w}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(Z,Q){return this.connection.Bo("Write",Z,Q)}E_(Z){return W0(!!Z.streamToken),this.lastStreamToken=Z.streamToken,W0(!Z.writeResults||Z.writeResults.length===0),this.listener.f_()}onNext(Z){W0(!!Z.streamToken),this.lastStreamToken=Z.streamToken,this.t_.reset();let Q=W$(Z.writeResults,Z.commitTime),J=c2(Z.commitTime);return this.listener.g_(J,Q)}p_(){let Z={};Z.database=V$(this.serializer),this.a_(Z)}m_(Z){let Q={streamToken:this.lastStreamToken,writes:Z.map((J)=>U$(this.serializer,J))};this.a_(Q)}}class a7 extends class Z{}{constructor(Z,Q,J,$){super(),this.authCredentials=Z,this.appCheckCredentials=Q,this.connection=J,this.serializer=$,this.y_=!1}w_(){if(this.y_)throw new r(l.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(Z,Q,J,$){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([w,U])=>this.connection.Mo(Z,y4(Q,J),$,w,U)).catch((w)=>{throw w.name==="FirebaseError"?(w.code===l.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),w):new r(l.UNKNOWN,w.toString())})}Lo(Z,Q,J,$,w){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([U,q])=>this.connection.Lo(Z,y4(Q,J),$,U,q,w)).catch((U)=>{throw U.name==="FirebaseError"?(U.code===l.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),U):new r(l.UNKNOWN,U.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class e7{constructor(Z,Q){this.asyncQueue=Z,this.onlineStateHandler=Q,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(Z){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${Z.toString()}`),this.C_("Offline")))}set(Z){this.x_(),this.S_=0,Z==="Online"&&(this.D_=!1),this.C_(Z)}C_(Z){Z!==this.state&&(this.state=Z,this.onlineStateHandler(Z))}F_(Z){let Q=`Could not reach Cloud Firestore backend. ${Z}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(A2(Q),this.D_=!1):i("OnlineStateTracker",Q)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class ZQ{constructor(Z,Q,J,$,w){this.localStore=Z,this.datastore=Q,this.asyncQueue=J,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=w,this.k_._o((U)=>{J.enqueueAndForget(async()=>{x8(this)&&(i("RemoteStore","Restarting streams for network reachability change."),await async function q(h){let j=e(h);j.L_.add(4),await W8(j),j.q_.set("Unknown"),j.L_.delete(4),await $6(j)}(this))})}),this.q_=new e7(J,$)}}async function $6(Z){if(x8(Z))for(let Q of Z.B_)await Q(!0)}async function W8(Z){for(let Q of Z.B_)await Q(!1)}function x8(Z){return e(Z).L_.size===0}async function QQ(Z,Q,J){if(!Q6(Q))throw Q;Z.L_.add(1),await W8(Z),Z.q_.set("Offline"),J||(J=()=>R$(Z.localStore)),Z.asyncQueue.enqueueRetryable(async()=>{i("RemoteStore","Retrying IndexedDB access"),await J(),Z.L_.delete(1),await $6(Z)})}function JQ(Z,Q){return Q().catch((J)=>QQ(Z,J,Q))}async function w6(Z){let Q=e(Z),J=I2(Q),$=Q.O_.length>0?Q.O_[Q.O_.length-1].batchId:-1;for(;I$(Q);)try{let w=await G$(Q.localStore,$);if(w===null){Q.O_.length===0&&J.o_();break}$=w.batchId,k$(Q,w)}catch(w){await QQ(Q,w)}XQ(Q)&&$Q(Q)}function I$(Z){return x8(Z)&&Z.O_.length<10}function k$(Z,Q){Z.O_.push(Q);let J=I2(Z);J.r_()&&J.V_&&J.m_(Q.mutations)}function XQ(Z){return x8(Z)&&!I2(Z).n_()&&Z.O_.length>0}function $Q(Z){I2(Z).start()}async function L$(Z){I2(Z).p_()}async function S$(Z){let Q=I2(Z);for(let J of Z.O_)Q.m_(J.mutations)}async function N$(Z,Q,J){let $=Z.O_.shift(),w=s4.from($,Q,J);await JQ(Z,()=>Z.remoteSyncer.applySuccessfulWrite(w)),await w6(Z)}async function y$(Z,Q){Q&&I2(Z).V_&&await async function J($,w){if(function U(q){return Z$(q)&&q!==l.ABORTED}(w.code)){let U=$.O_.shift();I2($).s_(),await JQ($,()=>$.remoteSyncer.rejectFailedWrite(U.batchId,w)),await w6($)}}(Z,Q),XQ(Z)&&$Q(Z)}async function NZ(Z,Q){let J=e(Z);J.asyncQueue.verifyOperationInProgress(),i("RemoteStore","RemoteStore received new credentials");let $=x8(J);J.L_.add(3),await W8(J),$&&J.q_.set("Unknown"),await J.remoteSyncer.handleCredentialChange(Q),J.L_.delete(3),await $6(J)}async function v$(Z,Q){let J=e(Z);Q?(J.L_.delete(2),await $6(J)):Q||(J.L_.add(2),await W8(J),J.q_.set("Unknown"))}function I2(Z){return Z.U_||(Z.U_=function Q(J,$,w){let U=e(J);return U.w_(),new o7($,U.connection,U.authCredentials,U.appCheckCredentials,U.serializer,w)}(Z.datastore,Z.asyncQueue,{Eo:()=>Promise.resolve(),Ro:L$.bind(null,Z),mo:y$.bind(null,Z),f_:S$.bind(null,Z),g_:N$.bind(null,Z)}),Z.B_.push(async(Q)=>{Q?(Z.U_.s_(),await w6(Z)):(await Z.U_.stop(),Z.O_.length>0&&(i("RemoteStore",`Stopping write stream with ${Z.O_.length} pending writes`),Z.O_=[]))})),Z.U_}class t4{constructor(Z,Q,J,$,w){this.asyncQueue=Z,this.timerId=Q,this.targetTimeMs=J,this.op=$,this.removalCallback=w,this.deferred=new F2,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((U)=>{})}get promise(){return this.deferred.promise}static createAndSchedule(Z,Q,J,$,w){let U=Date.now()+J,q=new t4(Z,Q,U,$,w);return q.start(J),q}start(Z){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),Z)}skipDelay(){return this.handleDelayElapsed()}cancel(Z){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new r(l.CANCELLED,"Operation cancelled"+(Z?": "+Z:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((Z)=>this.deferred.resolve(Z))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wQ(Z,Q){if(A2("AsyncQueue",`${Q}: ${Z}`),Q6(Z))return new r(l.UNAVAILABLE,`${Q}: ${Z}`);throw Z}class VQ{constructor(){this.queries=yZ(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function Z(Q,J){let $=e(Q),w=$.queries;$.queries=yZ(),w.forEach((U,q)=>{for(let h of q.j_)h.onError(J)})})(this,new r(l.ABORTED,"Firestore shutting down"))}}function yZ(){return new _2((Z)=>W7(Z),U7)}function f$(Z){Z.Y_.forEach((Q)=>{Q.next()})}var vZ,fZ;(fZ=vZ||(vZ={})).ea="default",fZ.Cache="cache";class zQ{constructor(Z,Q,J,$,w,U){this.localStore=Z,this.remoteStore=Q,this.eventManager=J,this.sharedClientState=$,this.currentUser=w,this.maxConcurrentLimboResolutions=U,this.Ca={},this.Fa=new _2((q)=>W7(q),U7),this.Ma=new Map,this.xa=new Set,this.Oa=new Y0(m.comparator),this.Na=new Map,this.La=new J6,this.Ba={},this.ka=new Map,this.qa=Q1.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function H$(Z,Q,J){let $=l$(Z);try{let w=await function U(q,h){let j=e(q),R=q0.now(),f=h.reduce((P,A)=>P.add(A.key),N0()),Y,K;return j.persistence.runTransaction("Locally write mutations","readwrite",(P)=>{let A=e8(),_=N0();return j.cs.getEntries(P,f).next((M)=>{A=M,A.forEach((C,n)=>{n.isValidDocument()||(_=_.add(C))})}).next(()=>j.localDocuments.getOverlayedDocuments(P,A)).next((M)=>{Y=M;let C=[];for(let n of h){let d=eX(n,Y.get(n.key).overlayedDocument);d!=null&&C.push(new k2(n.key,d,tZ(d.value.mapValue),Z2.exists(!0)))}return j.mutationQueue.addMutationBatch(P,R,C,h)}).next((M)=>{K=M;let C=M.applyToLocalDocumentSet(Y,_);return j.documentOverlayCache.saveOverlays(P,M.batchId,C)})}).then(()=>({batchId:K.batchId,changes:q7(Y)}))}($.localStore,Q);$.sharedClientState.addPendingMutation(w.batchId),function U(q,h,j){let R=q.Ba[q.currentUser.toKey()];R||(R=new Y0(o)),R=R.insert(h,j),q.Ba[q.currentUser.toKey()]=R}($,w.batchId,J),await V6($,w.changes),await w6($.remoteStore)}catch(w){let U=wQ(w,"Failed to persist write");J.reject(U)}}function HZ(Z,Q,J){let $=e(Z);if($.isPrimaryClient&&J===0||!$.isPrimaryClient&&J===1){let w=[];$.Fa.forEach((U,q)=>{let h=q.view.Z_(Q);h.snapshot&&w.push(h.snapshot)}),function U(q,h){let j=e(q);j.onlineState=h;let R=!1;j.queries.forEach((f,Y)=>{for(let K of Y.j_)K.Z_(h)&&(R=!0)}),R&&f$(j)}($.eventManager,Q),w.length&&$.Ca.d_(w),$.onlineState=Q,$.isPrimaryClient&&$.sharedClientState.setOnlineState(Q)}}async function Y$(Z,Q){let J=e(Z),$=Q.batch.batchId;try{let w=await j$(J.localStore,Q);WQ(J,$,null),UQ(J,$),J.sharedClientState.updateMutationState($,"acknowledged"),await V6(J,w)}catch(w){await mZ(w)}}async function K$(Z,Q,J){let $=e(Z);try{let w=await function U(q,h){let j=e(q);return j.persistence.runTransaction("Reject batch","readwrite-primary",(R)=>{let f;return j.mutationQueue.lookupMutationBatch(R,h).next((Y)=>(W0(Y!==null),f=Y.keys(),j.mutationQueue.removeMutationBatch(R,Y))).next(()=>j.mutationQueue.performConsistencyCheck(R)).next(()=>j.documentOverlayCache.removeOverlaysForBatchId(R,f,h)).next(()=>j.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(R,f)).next(()=>j.localDocuments.getDocuments(R,f))})}($.localStore,Q);WQ($,Q,J),UQ($,Q),$.sharedClientState.updateMutationState(Q,"rejected",J),await V6($,w)}catch(w){await mZ(w)}}function UQ(Z,Q){(Z.ka.get(Q)||[]).forEach((J)=>{J.resolve()}),Z.ka.delete(Q)}function WQ(Z,Q,J){let $=e(Z),w=$.Ba[$.currentUser.toKey()];if(w){let U=w.get(Q);U&&(J?U.reject(J):U.resolve(),w=w.remove(Q)),$.Ba[$.currentUser.toKey()]=w}}async function V6(Z,Q,J){let $=e(Z),w=[],U=[],q=[];$.Fa.isEmpty()||($.Fa.forEach((h,j)=>{q.push($.Ka(j,Q,J).then((R)=>{var f;if((R||J)&&$.isPrimaryClient){let Y=R?!R.fromCache:(f=J==null?void 0:J.targetChanges.get(j.targetId))===null||f===void 0?void 0:f.current;$.sharedClientState.updateQueryState(j.targetId,Y?"current":"not-current")}if(R){w.push(R);let Y=b4.Wi(j.targetId,R);U.push(Y)}}))}),await Promise.all(q),$.Ca.d_(w),await async function h(j,R){let f=e(j);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(Y)=>p.forEach(R,(K)=>p.forEach(K.$i,(P)=>f.persistence.referenceDelegate.addReference(Y,K.targetId,P)).next(()=>p.forEach(K.Ui,(P)=>f.persistence.referenceDelegate.removeReference(Y,K.targetId,P)))))}catch(Y){if(!Q6(Y))throw Y;i("LocalStore","Failed to update sequence numbers: "+Y)}for(let Y of R){let K=Y.targetId;if(!Y.fromCache){let P=f.os.get(K),A=P.snapshotVersion,_=P.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(K,_)}}}($.localStore,U))}async function p$(Z,Q){let J=e(Z);if(!J.currentUser.isEqual(Q)){i("SyncEngine","User change. New user:",Q.toKey());let $=await D7(J.localStore,Q);J.currentUser=Q,function w(U,q){U.ka.forEach((h)=>{h.forEach((j)=>{j.reject(new r(l.CANCELLED,q))})}),U.ka.clear()}(J,"'waitForPendingWrites' promise is rejected due to a user change."),J.sharedClientState.handleUserChange(Q,$.removedBatchIds,$.addedBatchIds),await V6(J,$.hs)}}function l$(Z){let Q=e(Z);return Q.remoteStore.remoteSyncer.applySuccessfulWrite=Y$.bind(null,Q),Q.remoteStore.remoteSyncer.rejectFailedWrite=K$.bind(null,Q),Q}class K4{constructor(){this.synchronizeTabs=!1}async initialize(Z){this.serializer=X6(Z.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(Z),this.persistence=this.createPersistence(Z),await this.persistence.start(),this.localStore=this.createLocalStore(Z),this.gcScheduler=this.createGarbageCollectionScheduler(Z,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(Z,this.localStore)}createGarbageCollectionScheduler(Z,Q){return null}createIndexBackfillerScheduler(Z,Q){return null}createLocalStore(Z){return F$(this.persistence,new g7,Z.initialUser,this.serializer)}createPersistence(Z){return new r7(D4.Zr,this.serializer)}createSharedClientState(Z){return new b7}async terminate(){var Z,Q;(Z=this.gcScheduler)===null||Z===void 0||Z.stop(),(Q=this.indexBackfillerScheduler)===null||Q===void 0||Q.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class xQ{async initialize(Z,Q){this.localStore||(this.localStore=Z.localStore,this.sharedClientState=Z.sharedClientState,this.datastore=this.createDatastore(Q),this.remoteStore=this.createRemoteStore(Q),this.eventManager=this.createEventManager(Q),this.syncEngine=this.createSyncEngine(Q,!Z.synchronizeTabs),this.sharedClientState.onlineStateHandler=(J)=>HZ(this.syncEngine,J,1),this.remoteStore.remoteSyncer.handleCredentialChange=p$.bind(null,this.syncEngine),await v$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(Z){return function Q(){return new VQ}()}createDatastore(Z){let Q=X6(Z.databaseInfo.databaseId),J=function $(w){return new d7(w)}(Z.databaseInfo);return function $(w,U,q,h){return new a7(w,U,q,h)}(Z.authCredentials,Z.appCheckCredentials,J,Q)}createRemoteStore(Z){return function Q(J,$,w,U,q){return new ZQ(J,$,w,U,q)}(this.localStore,this.datastore,Z.asyncQueue,(Q)=>HZ(this.syncEngine,Q,0),function Q(){return Y4.D()?new Y4:new c7}())}createSyncEngine(Z,Q){return function J($,w,U,q,h,j,R){let f=new zQ($,w,U,q,h,j);return R&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,Z.initialUser,Z.maxConcurrentLimboResolutions,Q)}async terminate(){var Z,Q;await async function J($){let w=e($);i("RemoteStore","RemoteStore shutting down."),w.L_.add(5),await W8(w),w.k_.shutdown(),w.q_.set("Unknown")}(this.remoteStore),(Z=this.datastore)===null||Z===void 0||Z.terminate(),(Q=this.eventManager)===null||Q===void 0||Q.terminate()}}class qQ{constructor(Z,Q,J,$){this.authCredentials=Z,this.appCheckCredentials=Q,this.asyncQueue=J,this.databaseInfo=$,this.user=F0.UNAUTHENTICATED,this.clientId=A4.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(J,async(w)=>{i("FirestoreClient","Received user=",w.uid),await this.authCredentialListener(w),this.user=w}),this.appCheckCredentials.start(J,(w)=>(i("FirestoreClient","Received new app check token=",w),this.appCheckCredentialListener(w,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(Z){this.authCredentialListener=Z}setAppCheckTokenChangeListener(Z){this.appCheckCredentialListener=Z}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new r(l.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let Z=new F2;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),Z.resolve()}catch(Q){let J=wQ(Q,"Failed to shutdown persistence");Z.reject(J)}}),Z.promise}}async function G4(Z,Q){Z.asyncQueue.verifyOperationInProgress(),i("FirestoreClient","Initializing OfflineComponentProvider");let J=Z.configuration;await Q.initialize(J);let $=J.initialUser;Z.setCredentialChangeListener(async(w)=>{$.isEqual(w)||(await D7(Q.localStore,w),$=w)}),Q.persistence.setDatabaseDeletedListener(()=>Z.terminate()),Z._offlineComponents=Q}async function YZ(Z,Q){Z.asyncQueue.verifyOperationInProgress();let J=await A$(Z);i("FirestoreClient","Initializing OnlineComponentProvider"),await Q.initialize(J,Z.configuration),Z.setCredentialChangeListener(($)=>NZ(Q.remoteStore,$)),Z.setAppCheckTokenChangeListener(($,w)=>NZ(Q.remoteStore,w)),Z._onlineComponents=Q}function T$(Z){return Z.name==="FirebaseError"?Z.code===l.FAILED_PRECONDITION||Z.code===l.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&Z instanceof DOMException)||(Z.code===22||Z.code===20||Z.code===11)}async function A$(Z){if(!Z._offlineComponents)if(Z._uninitializedComponentsProvider){i("FirestoreClient","Using user provided OfflineComponentProvider");try{await G4(Z,Z._uninitializedComponentsProvider._offline)}catch(Q){let J=Q;if(!T$(J))throw J;E8("Error using user provided cache. Falling back to memory cache: "+J),await G4(Z,new K4)}}else i("FirestoreClient","Using default OfflineComponentProvider"),await G4(Z,new K4);return Z._offlineComponents}async function _$(Z){return Z._onlineComponents||(Z._uninitializedComponentsProvider?(i("FirestoreClient","Using user provided OnlineComponentProvider"),await YZ(Z,Z._uninitializedComponentsProvider._online)):(i("FirestoreClient","Using default OnlineComponentProvider"),await YZ(Z,new xQ))),Z._onlineComponents}function P$(Z){return _$(Z).then((Q)=>Q.syncEngine)}function BQ(Z){let Q={};return Z.timeoutSeconds!==void 0&&(Q.timeoutSeconds=Z.timeoutSeconds),Q}var KZ=new Map;function hQ(Z,Q,J){if(!J)throw new r(l.INVALID_ARGUMENT,`Function ${Z}() cannot be called with an empty ${Q}.`)}function M$(Z,Q,J,$){if(Q===!0&&$===!0)throw new r(l.INVALID_ARGUMENT,`${Z} and ${J} cannot be used together.`)}function pZ(Z){if(!m.isDocumentKey(Z))throw new r(l.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${Z} has ${Z.length}.`)}function lZ(Z){if(m.isDocumentKey(Z))throw new r(l.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${Z} has ${Z.length}.`)}function d4(Z){if(Z===void 0)return"undefined";if(Z===null)return"null";if(typeof Z=="string")return Z.length>20&&(Z=`${Z.substring(0,20)}...`),JSON.stringify(Z);if(typeof Z=="number"||typeof Z=="boolean")return""+Z;if(typeof Z=="object"){if(Z instanceof Array)return"an array";{let Q=function J($){if($.constructor)return $.constructor.name;return null}(Z);return Q?`a custom ${Q} object`:"an object"}}return typeof Z=="function"?"a function":s()}function FQ(Z,Q){if("_delegate"in Z&&(Z=Z._delegate),!(Z instanceof Q)){if(Q.name===Z.constructor.name)throw new r(l.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let J=d4(Z);throw new r(l.INVALID_ARGUMENT,`Expected type '${Q.name}', but it was: ${J}`)}}return Z}class p4{constructor(Z){var Q,J;if(Z.host===void 0){if(Z.ssl!==void 0)throw new r(l.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=Z.host,this.ssl=(Q=Z.ssl)===null||Q===void 0||Q;if(this.credentials=Z.credentials,this.ignoreUndefinedProperties=!!Z.ignoreUndefinedProperties,this.localCache=Z.localCache,Z.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(Z.cacheSizeBytes!==-1&&Z.cacheSizeBytes<1048576)throw new r(l.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=Z.cacheSizeBytes}M$("experimentalForceLongPolling",Z.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",Z.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!Z.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:Z.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!Z.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BQ((J=Z.experimentalLongPollingOptions)!==null&&J!==void 0?J:{}),function $(w){if(w.timeoutSeconds!==void 0){if(isNaN(w.timeoutSeconds))throw new r(l.INVALID_ARGUMENT,`invalid long polling timeout: ${w.timeoutSeconds} (must not be NaN)`);if(w.timeoutSeconds<5)throw new r(l.INVALID_ARGUMENT,`invalid long polling timeout: ${w.timeoutSeconds} (minimum allowed value is 5)`);if(w.timeoutSeconds>30)throw new r(l.INVALID_ARGUMENT,`invalid long polling timeout: ${w.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!Z.useFetchStreams}isEqual(Z){return this.host===Z.host&&this.ssl===Z.ssl&&this.credentials===Z.credentials&&this.cacheSizeBytes===Z.cacheSizeBytes&&this.experimentalForceLongPolling===Z.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===Z.experimentalAutoDetectLongPolling&&function Q(J,$){return J.timeoutSeconds===$.timeoutSeconds}(this.experimentalLongPollingOptions,Z.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===Z.ignoreUndefinedProperties&&this.useFetchStreams===Z.useFetchStreams}}class q8{constructor(Z,Q,J,$){this._authCredentials=Z,this._appCheckCredentials=Q,this._databaseId=J,this._app=$,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p4({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new r(l.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(Z){if(this._settingsFrozen)throw new r(l.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p4(Z),Z.credentials!==void 0&&(this._authCredentials=function Q(J){if(!J)return new TZ;switch(J.type){case"firstParty":return new MZ(J.sessionIndex||"0",J.iamToken||null,J.authTokenFactory||null);case"provider":return J.client;default:throw new r(l.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(Z.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function Z(Q){let J=KZ.get(Q);J&&(i("ComponentProvider","Removing Datastore"),KZ.delete(Q),J.terminate())}(this),Promise.resolve()}}function u$(Z,Q,J,$={}){var w;let U=(Z=FQ(Z,q8))._getSettings(),q=`${Q}:${J}`;if(U.host!=="firestore.googleapis.com"&&U.host!==q&&E8("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),Z._setSettings(Object.assign(Object.assign({},U),{host:q,ssl:!1})),$.mockUserToken){let h,j;if(typeof $.mockUserToken=="string")h=$.mockUserToken,j=F0.MOCK_USER;else{h=P9($.mockUserToken,(w=Z._app)===null||w===void 0?void 0:w.options.projectId);let R=$.mockUserToken.sub||$.mockUserToken.user_id;if(!R)throw new r(l.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");j=new F0(R)}Z._authCredentials=new AZ(new T4(h,j))}}class E4{constructor(Z,Q,J){this.converter=Q,this._query=J,this.type="query",this.firestore=Z}withConverter(Z){return new E4(this.firestore,Z,this._query)}}class Q2{constructor(Z,Q,J){this.converter=Q,this._key=J,this.type="document",this.firestore=Z}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new j2(this.firestore,this.converter,this._key.path.popLast())}withConverter(Z){return new Q2(this.firestore,Z,this._key)}}class j2 extends E4{constructor(Z,Q,J){super(Z,Q,iX(J)),this._path=J,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let Z=this._path.popLast();return Z.isEmpty()?null:new Q2(this.firestore,null,new m(Z))}withConverter(Z){return new j2(this.firestore,Z,this._path)}}function z6(Z,Q,...J){if(Z=s2(Z),hQ("collection","path",Q),Z instanceof q8){let $=w0.fromString(Q,...J);return lZ($),new j2(Z,null,$)}{if(!(Z instanceof Q2||Z instanceof j2))throw new r(l.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let $=Z._path.child(w0.fromString(Q,...J));return lZ($),new j2(Z.firestore,null,$)}}function i$(Z,Q,...J){if(Z=s2(Z),arguments.length===1&&(Q=A4.newId()),hQ("doc","path",Q),Z instanceof q8){let $=w0.fromString(Q,...J);return pZ($),new Q2(Z,null,new m($))}{if(!(Z instanceof Q2||Z instanceof j2))throw new r(l.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let $=Z._path.child(w0.fromString(Q,...J));return pZ($),new Q2(Z.firestore,Z instanceof j2?Z.converter:null,new m($))}}class jQ{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new c4(this,"async_queue_retry"),this.Eu=()=>{let Q=R4();Q&&i("AsyncQueue","Visibility state changed to "+Q.visibilityState),this.t_.jo()};let Z=R4();Z&&typeof Z.addEventListener=="function"&&Z.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(Z){this.enqueue(Z)}enqueueAndForgetEvenWhileRestricted(Z){this.du(),this.Au(Z)}enterRestrictedMode(Z){if(!this.cu){this.cu=!0,this.Iu=Z||!1;let Q=R4();Q&&typeof Q.removeEventListener=="function"&&Q.removeEventListener("visibilitychange",this.Eu)}}enqueue(Z){if(this.du(),this.cu)return new Promise(()=>{});let Q=new F2;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(Z().then(Q.resolve,Q.reject),Q.promise)).then(()=>Q.promise)}enqueueRetryable(Z){this.enqueueAndForget(()=>(this.uu.push(Z),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(Z){if(!Q6(Z))throw Z;i("AsyncQueue","Operation failed with retryable error: "+Z)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(Z){let Q=this.au.then(()=>(this.Pu=!0,Z().catch((J)=>{this.hu=J,this.Pu=!1;let $=function w(U){let q=U.message||"";return U.stack&&(q=U.stack.includes(U.message)?U.stack:U.message+`
`+U.stack),q}(J);throw A2("INTERNAL UNHANDLED ERROR: ",$),J}).then((J)=>(this.Pu=!1,J))));return this.au=Q,Q}enqueueAfterDelay(Z,Q,J){this.du(),this.Tu.indexOf(Z)>-1&&(Q=0);let $=t4.createAndSchedule(this,Z,Q,J,(w)=>this.Vu(w));return this.lu.push($),$}du(){this.hu&&s()}verifyOperationInProgress(){}async mu(){let Z;do Z=this.au,await Z;while(Z!==this.au)}fu(Z){for(let Q of this.lu)if(Q.timerId===Z)return!0;return!1}gu(Z){return this.mu().then(()=>{this.lu.sort((Q,J)=>Q.targetTimeMs-J.targetTimeMs);for(let Q of this.lu)if(Q.skipDelay(),Z!=="all"&&Q.timerId===Z)break;return this.mu()})}pu(Z){this.Tu.push(Z)}Vu(Z){let Q=this.lu.indexOf(Z);this.lu.splice(Q,1)}}class o4 extends q8{constructor(Z,Q,J,$){super(Z,Q,J,$),this.type="firestore",this._queue=function w(){return new jQ}(),this._persistenceKey=($==null?void 0:$.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||GQ(this),this._firestoreClient.terminate()}}function RQ(Z,Q){let J=typeof Z=="object"?Z:JZ(),$=typeof Z=="string"?Z:Q||"(default)",w=e9(J,"firestore").getImmediate({identifier:$});if(!w._initialized){let U=_9("firestore");U&&u$(w,...U)}return w}function C$(Z){return Z._firestoreClient||GQ(Z),Z._firestoreClient.verifyNotTerminated(),Z._firestoreClient}function GQ(Z){var Q,J,$;let w=Z._freezeSettings(),U=function q(h,j,R,f){return new DZ(h,j,R,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,BQ(f.experimentalLongPollingOptions),f.useFetchStreams)}(Z._databaseId,((Q=Z._app)===null||Q===void 0?void 0:Q.options.appId)||"",Z._persistenceKey,w);Z._firestoreClient=new qQ(Z._authCredentials,Z._appCheckCredentials,Z._queue,U),((J=w.localCache)===null||J===void 0?void 0:J._offlineComponentProvider)&&(($=w.localCache)===null||$===void 0?void 0:$._onlineComponentProvider)&&(Z._firestoreClient._uninitializedComponentsProvider={_offlineKind:w.localCache.kind,_offline:w.localCache._offlineComponentProvider,_online:w.localCache._onlineComponentProvider})}class $8{constructor(Z){this._byteString=Z}static fromBase64String(Z){try{return new $8(D0.fromBase64String(Z))}catch(Q){throw new r(l.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+Q)}}static fromUint8Array(Z){return new $8(D0.fromUint8Array(Z))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(Z){return this._byteString.isEqual(Z._byteString)}}class a4{constructor(...Z){for(let Q=0;Q<Z.length;++Q)if(Z[Q].length===0)throw new r(l.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new R0(Z)}isEqual(Z){return this._internalPath.isEqual(Z._internalPath)}}class e4{constructor(Z){this._methodName=Z}}class Z5{constructor(Z,Q){if(!isFinite(Z)||Z<-90||Z>90)throw new r(l.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+Z);if(!isFinite(Q)||Q<-180||Q>180)throw new r(l.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+Q);this._lat=Z,this._long=Q}get latitude(){return this._lat}get longitude(){return this._long}isEqual(Z){return this._lat===Z._lat&&this._long===Z._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(Z){return o(this._lat,Z._lat)||o(this._long,Z._long)}}class Q5{constructor(Z){this._values=(Z||[]).map((Q)=>Q)}toArray(){return this._values.map((Z)=>Z)}isEqual(Z){return function Q(J,$){if(J.length!==$.length)return!1;for(let w=0;w<J.length;++w)if(J[w]!==$[w])return!1;return!0}(this._values,Z._values)}}var r$=/^__.*__$/;class OQ{constructor(Z,Q,J){this.data=Z,this.fieldMask=Q,this.fieldTransforms=J}toMutation(Z,Q){return this.fieldMask!==null?new k2(Z,this.data,this.fieldMask,Q,this.fieldTransforms):new X1(Z,this.data,Q,this.fieldTransforms)}}function IQ(Z){switch(Z){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw s()}}class J5{constructor(Z,Q,J,$,w,U){this.settings=Z,this.databaseId=Q,this.serializer=J,this.ignoreUndefinedProperties=$,w===void 0&&this.yu(),this.fieldTransforms=w||[],this.fieldMask=U||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(Z){return new J5(Object.assign(Object.assign({},this.settings),Z),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(Z){var Q;let J=(Q=this.path)===null||Q===void 0?void 0:Q.child(Z),$=this.Su({path:J,Du:!1});return $.vu(Z),$}Cu(Z){var Q;let J=(Q=this.path)===null||Q===void 0?void 0:Q.child(Z),$=this.Su({path:J,Du:!1});return $.yu(),$}Fu(Z){return this.Su({path:void 0,Du:!0})}Mu(Z){return Z6(Z,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(Z){return this.fieldMask.find((Q)=>Z.isPrefixOf(Q))!==void 0||this.fieldTransforms.find((Q)=>Z.isPrefixOf(Q.field))!==void 0}yu(){if(this.path)for(let Z=0;Z<this.path.length;Z++)this.vu(this.path.get(Z))}vu(Z){if(Z.length===0)throw this.Mu("Document fields must not be empty");if(IQ(this.wu)&&r$.test(Z))throw this.Mu('Document fields cannot begin and end with "__"')}}class kQ{constructor(Z,Q,J){this.databaseId=Z,this.ignoreUndefinedProperties=Q,this.serializer=J||X6(Z)}Nu(Z,Q,J,$=!1){return new J5({wu:Z,methodName:Q,Ou:J,path:R0.emptyPath(),Du:!1,xu:$},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function m$(Z){let Q=Z._freezeSettings(),J=X6(Z._databaseId);return new kQ(Z._databaseId,!!Q.ignoreUndefinedProperties,J)}function n$(Z,Q,J,$,w,U={}){let q=Z.Nu(U.merge||U.mergeFields?2:0,Q,J,w);yQ("Data must be an object, but it was:",q,$);let h=SQ($,q),j,R;if(U.merge)j=new r0(q.fieldMask),R=q.fieldTransforms;else if(U.mergeFields){let f=[];for(let Y of U.mergeFields){let K=g$(Q,Y,J);if(!q.contains(K))throw new r(l.INVALID_ARGUMENT,`Field '${K}' is specified in your field mask but missing from your input data.`);b$(f,K)||f.push(K)}j=new r0(f),R=q.fieldTransforms.filter((Y)=>j.covers(Y.field))}else j=null,R=q.fieldTransforms;return new OQ(new C0(h),j,R)}function LQ(Z,Q){if(NQ(Z=s2(Z)))return yQ("Unsupported field value:",Q,Z),SQ(Z,Q);if(Z instanceof e4)return function J($,w){if(!IQ(w.wu))throw w.Mu(`${$._methodName}() can only be used with update() and set()`);if(!w.path)throw w.Mu(`${$._methodName}() is not currently supported inside arrays`);let U=$._toFieldTransform(w);U&&w.fieldTransforms.push(U)}(Z,Q),null;if(Z===void 0&&Q.ignoreUndefinedProperties)return null;if(Q.path&&Q.fieldMask.push(Q.path),Z instanceof Array){if(Q.settings.Du&&Q.wu!==4)throw Q.Mu("Nested arrays are not supported");return function J($,w){let U=[],q=0;for(let h of $){let j=LQ(h,w.Fu(q));j==null&&(j={nullValue:"NULL_VALUE"}),U.push(j),q++}return{arrayValue:{values:U}}}(Z,Q)}return function J($,w){if(($=s2($))===null)return{nullValue:"NULL_VALUE"};if(typeof $=="number")return tX(w.serializer,$);if(typeof $=="boolean")return{booleanValue:$};if(typeof $=="string")return{stringValue:$};if($ instanceof Date){let U=q0.fromDate($);return{timestampValue:N4(w.serializer,U)}}if($ instanceof q0){let U=new q0($.seconds,1000*Math.floor($.nanoseconds/1000));return{timestampValue:N4(w.serializer,U)}}if($ instanceof Z5)return{geoPointValue:{latitude:$.latitude,longitude:$.longitude}};if($ instanceof $8)return{bytesValue:J$(w.serializer,$._byteString)};if($ instanceof Q2){let U=w.databaseId,q=$.firestore._databaseId;if(!q.isEqual(U))throw w.Mu(`Document reference is for database ${q.projectId}/${q.database} but should be for database ${U.projectId}/${U.database}`);return{referenceValue:v7($.firestore._databaseId||w.databaseId,$._key.path)}}if($ instanceof Q5)return function U(q,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:q.toArray().map((j)=>{if(typeof j!="number")throw h.Mu("VectorValues must only contain numeric values.");return n4(h.serializer,j)})}}}}}}($,w);throw w.Mu(`Unsupported field value: ${d4($)}`)}(Z,Q)}function SQ(Z,Q){let J={};return nZ(Z)?Q.path&&Q.path.length>0&&Q.fieldMask.push(Q.path):w8(Z,($,w)=>{let U=LQ(w,Q.bu($));U!=null&&(J[$]=U)}),{mapValue:{fields:J}}}function NQ(Z){return!(typeof Z!="object"||Z===null||Z instanceof Array||Z instanceof Date||Z instanceof q0||Z instanceof Z5||Z instanceof $8||Z instanceof Q2||Z instanceof e4||Z instanceof Q5)}function yQ(Z,Q,J){if(!NQ(J)||!function $(w){return typeof w=="object"&&w!==null&&(Object.getPrototypeOf(w)===Object.prototype||Object.getPrototypeOf(w)===null)}(J)){let $=d4(J);throw $==="an object"?Q.Mu(Z+" a custom object"):Q.Mu(Z+" "+$)}}function g$(Z,Q,J){if((Q=s2(Q))instanceof a4)return Q._internalPath;if(typeof Q=="string")return D$(Z,Q);throw Z6("Field path arguments must be of type string or ",Z,!1,void 0,J)}var s$=new RegExp("[~\\*/\\[\\]]");function D$(Z,Q,J){if(Q.search(s$)>=0)throw Z6(`Invalid field path (${Q}). Paths must not contain '~', '*', '/', '[', or ']'`,Z,!1,void 0,J);try{return new a4(...Q.split("."))._internalPath}catch($){throw Z6(`Invalid field path (${Q}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,Z,!1,void 0,J)}}function Z6(Z,Q,J,$,w){let U=$&&!$.isEmpty(),q=w!==void 0,h=`Function ${Q}() called with invalid data`;J&&(h+=" (via `toFirestore()`)"),h+=". ";let j="";return(U||q)&&(j+=" (found",U&&(j+=` in field ${$}`),q&&(j+=` in document ${w}`),j+=")"),new r(l.INVALID_ARGUMENT,h+Z+j)}function b$(Z,Q){return Z.some((J)=>J.isEqual(Q))}function c$(Z,Q,J){let $;return $=Z?J&&(J.merge||J.mergeFields)?Z.toFirestore(Q,J):Z.toFirestore(Q):Q,$}function U6(Z,Q){let J=FQ(Z.firestore,o4),$=i$(Z),w=c$(Z.converter,Q);return t$(J,[n$(m$(Z.firestore),"addDoc",$._key,w,Z.converter!==null,{}).toMutation($._key,Z2.exists(!1))]).then(()=>$)}function t$(Z,Q){return function J($,w){let U=new F2;return $.asyncQueue.enqueueAndForget(async()=>H$(await P$($),w,U)),U.promise}(C$(Z),Q)}(function Z(Q,J=!0){(function $(w){J1=w})(QZ),m1(new q2("firestore",($,{instanceIdentifier:w,options:U})=>{let q=$.getProvider("app").getImmediate(),h=new o4(new _Z($.getProvider("auth-internal")),new iZ($.getProvider("app-check-internal")),function j(R,f){if(!Object.prototype.hasOwnProperty.apply(R.options,["projectId"]))throw new r(l.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new a8(R.options.projectId,f)}(q,w),q);return U=Object.assign({useFetchStreams:J},U),h._setSettings(U),h},"PUBLIC").setMultipleInstances(!0)),h2(xZ,"4.7.0",Q),h2(xZ,"4.7.0","esm2017")})();class P0{static db;static init(){let Z=z4({apiKey:"AIzaSyBsy1sNYcvbKYhD6evfTc-AE9MtgJIVX7I",authDomain:"biemer-rq2-2.firebaseapp.com",projectId:"biemer-rq2-2",storageBucket:"biemer-rq2-2.firebasestorage.app",messagingSenderId:"455291545423",appId:"1:455291545423:web:ff1fb29b0f2aa6146c873a"});P0.db=RQ(Z)}static submitAttempt(){let Z={diedFrom:u.diedFrom,"stamina-left":u.staminaLeft,time:u.time,won:u.playerWon,order:u.order,playerID:u.playerID,levels:u.levels,pathX:u.playerPathX,pathY:u.playerPathY};if(u.playerID==="null")console.log("Data not submitted:",Z);else U6(z6(P0.db,`rq2.2_play_${u.director}_${u.version}`),Z)}static submitSurvey(Z){let Q=Object.keys(u.demographicSurveyData);for(let J=0;J<Q.length;++J){let $=Q[J];Z[$]=u.demographicSurveyData[$]}if(u.playerID==="null")console.log("Data not submitted:",Z);else Z.playerID=u.playerID,U6(z6(P0.db,`rq2.2_survey_${u.director}_${u.version}`),Z),console.log("Survey submitted.")}static submitTutorial(){let Z={diedToEnemy:u.tutorialDiedToEnemy,diedToStamina:u.tutorialDiedToStamina,playerID:u.playerID};if(u.playerID==="null")console.log("Data not submitted:",Z);else U6(z6(P0.db,`rq2.2_tutorial_${u.director}_${u.version}`),Z),console.log("Tutorial data submitted.")}}class B8 extends $0{componentsRequired=new Set([]);steps=[];index=0;playerID;textID;constructor(Z,Q){super();let J=new v1;this.playerID=Z,this.textID=Q,this.steps.push(["Press 'A' to move your character, the '@' symbol, left.",(R,f)=>{if(R.isKeyDown(5)||R.isKeyDown(0)){let Y=this.ecs.getComponents(f).get(a);return Y.setX(Y.getX()-1),!0}return!1}]),this.steps.push(["Press 'D' to move your character right.",(R,f)=>{if(R.isKeyDown(7)||R.isKeyDown(1)){let Y=this.ecs.getComponents(f).get(a);return Y.setX(Y.getX()+1),!0}return!1}]),this.steps.push(["Press 'S' to move your character down.",(R,f)=>{if(R.isKeyDown(6)||R.isKeyDown(2)){let Y=this.ecs.getComponents(f).get(a);return Y.setY(Y.getY()+1),!0}return!1}]),this.steps.push(["Press 'W' to move your character up.",(R,f)=>{if(R.isKeyDown(4)||R.isKeyDown(3)){let Y=this.ecs.getComponents(f).get(a);return Y.setY(Y.getY()-1),!0}return!1}]);let $,w,U,q=new a(20,8),h=new a(30,8),j=new a(28,8);this.steps.push(["Press ' ' (space) to spend one turn and not move.",(R,f)=>{if(R.isKeyDown(10)){for(let _=15;_<35;++_){let M=this.ecs.addEntity();this.ecs.addComponent(M,new a(_,3)),this.ecs.addComponent(M,new n0),this.ecs.addComponent(M,new L0("X")),J.set(new a(_,3),M);let C=this.ecs.addEntity();this.ecs.addComponent(C,new a(_,15)),this.ecs.addComponent(C,new n0),this.ecs.addComponent(C,new L0("X")),J.set(new a(_,15),C)}for(let _=3;_<=15;++_){let M=this.ecs.addEntity();this.ecs.addComponent(M,new a(15,_)),this.ecs.addComponent(M,new n0),this.ecs.addComponent(M,new L0("X")),J.set(new a(15,_),M);let C=this.ecs.addEntity();this.ecs.addComponent(C,new a(35,_)),this.ecs.addComponent(C,new n0),this.ecs.addComponent(C,new L0("X")),J.set(new a(35,_),C)}return $=this.ecs.addEntity(),w=this.ecs.addEntity(),U=this.ecs.addEntity(),this.ecs.addComponent($,q),this.ecs.addComponent($,new L0("*")),this.ecs.addComponent(w,new g2),this.ecs.addComponent(w,h),this.ecs.addComponent(w,new L0("o")),this.ecs.addComponent(w,new g2),this.ecs.setBB("grid collisions",J),this.ecs.addSystem(5,new _1),this.ecs.addSystem(10,new A1),this.ecs.addSystem(50,new T1),this.ecs.addSystem(80,new P1),this.ecs.addSystem(85,new u1),!0}return!1}]),this.steps.push(["That * is a switch. Run into it to open the portal.",(R,f)=>{let Y=this.ecs.getComponents(this.playerID),K=Y.get(a),P=Y.get(H0);if(K.equals(q))return this.ecs.removeEntity($),this.ecs.getComponents(w).get(L0).character="O",this.ecs.addComponent(U,j),this.ecs.addComponent(U,new L0("#")),this.ecs.addComponent(U,new x2("Enemy",new a(j.getX(),j.getY()))),this.ecs.addComponent(U,new l1(j)),this.ecs.addComponent(U,new H2),!0;if(P.stamina<=0)++u.tutorialDiedToStamina,P.stamina=A0,K.setX(25),K.setY(5),this.ecs.getComponents(this.textID).get(g0).text="Try to hit the '*' switch before you run out of stamina.";return!1}]),this.steps.push(["Go through the opened portal, if you can...",(R,f)=>{let Y=this.ecs.getComponents(this.playerID),K=Y.get(a),P=Y.get(H0);if(this.ecs.getBB("game over")==d0||P.stamina<=0||K.equals(j)){if(P.stamina<=0)++u.tutorialDiedToStamina;else if(K.equals(j))++u.tutorialDiedToEnemy;K.setX(q.getX()),K.setY(q.getY()),j.setX(28),j.setY(8),P.stamina=A0,this.ecs.setBB("game over",M8),this.ecs.getComponents(this.textID).get(g0).text="Try to avoid the enemy and not run out of stamina!"}if(K.equals(h))return P0.submitTutorial(),W2.set("completed tutorial","true"),console.log(W2.get("completed tutorial")),!0;return!1}])}update(Z,Q){if(this.steps[this.index][1](Z,this.playerID))if(++this.index,this.index>=this.steps.length)this.ecs.setBB("tutorial over",!0);else this.ecs.getComponents(this.textID).get(g0).text=this.steps[this.index][0]}}class h8 extends $0{componentsRequired=new Set([D.Position2d,g0]);update(Z,Q){let J=this.ecs.getBB("x mod"),$=this.ecs.getBB("y mod");Z.setFont(20);for(let w of Q.values()){let U=this.ecs.getComponents(w),q=U.get(g0),h=U.get(D.Position2d);Z.drawText(h.getX()*J,h.getY()*$,q.text)}}}var J2={EnemyAI:T1,PlayerCollision:A1,PlayerMovement:_1,PortalSystem:D6,RenderSystem:M1,UpdatePlayerTurn:b6,RenderGameInfo:P1,RenderEnemyTerritory:u1,TutorialSystem:B8,TutorialRenderSystem:h8};class F8{src;tgt;probability;constructor(Z,Q,J){this.src=Z,this.tgt=Q,this.probability=J}}class j8{name;reward;utility;isTerminal;neighbors;constructor(Z,Q,J,$,w){this.name=Z,this.reward=Q,this.utility=J,this.isTerminal=$,this.neighbors=w}}class W6{nodes;edges;constructor(){this.nodes={},this.edges={}}getNode(Z){return this.nodes[Z]}hasNode(Z){return Z in this.nodes}addNode(Z){this.nodes[Z.name]=Z}addDefaultNode(Z,Q=1,J=0,$=!1,w=null){if(w==null)w=[];this.nodes[Z]=new j8(Z,Q,J,$,w)}removeNode(Z){let Q=[];for(let J of Object.values(this.edges)){if(J.src==Z||J.tgt==Z)Q.push(J);let $=J.probability,w=-1;for(let j=0;j<$.length;j++){let[R,f]=$[j];if(R==Z){w=j;break}}if(w==-1)continue;let U=$[w][1];$.splice(w,1);let q=$.length,h=U/q;J.probability=$.map(([j,R])=>[j,R+h])}for(let J of Q)this.removeEdge(J.src,J.tgt);delete this.nodes[Z]}getEdge(Z,Q){return this.edges[`${Z},${Q}`]}hasEdge(Z,Q){return`${Z},${Q}`in this.edges}addEdge(Z){this.edges[`${Z.src},${Z.tgt}`]=Z;let Q=this.nodes[Z.src].neighbors;if(!Q.includes(Z.tgt))Q.push(Z.tgt)}addDefaultEdge(Z,Q,J=null){if(J==null)J=[[Q,1]];this.addEdge(new F8(Z,Q,J))}removeEdge(Z,Q){let J=this.nodes[Z],$=J.neighbors.indexOf(Q);J.neighbors.splice($,1),delete this.edges[`${Z},${Q}`]}neighbors(Z){return this.nodes[Z].neighbors}setNodeUtilities(Z){for(let[Q,J]of Object.entries(Z))this.nodes[Q].utility=J}utility(Z){return this.nodes[Z].utility}reward(Z){return this.nodes[Z].reward}isTerminal(Z){return this.nodes[Z].isTerminal}mapNodes(Z){for(let Q of Object.values(this.nodes))Z(Q)}mapEdges(Z){for(let Q of Object.values(this.edges))Z(Q)}}function X2(Z){return Z[Math.floor(Math.random()*Z.length)]}function $1(Z,Q,J,$){let w=Z.getEdge(Q,J).probability,U=w.length,q=0;for(let h=0;h<U;++h){let[j,R]=w[h];q+=R*(Z.reward(j)+$*Z.utility(j))}return q}function x6(Z,Q,J){let $=Z.getNode(Q);if($.isTerminal)return 0;let w=$.neighbors,U=w.length,q=-1/0;for(let h=0;h<U;++h)q=Math.max(q,$1(Z,Q,w[h],J));return q}function X5(Z){for(let Q in Z.nodes)Z.nodes[Q].utility=0}function q6(Z){let Q={};for(let J in Z.nodes)if(!Z.getNode(J).isTerminal)Q[J]=[...Z.neighbors(J)];return Q}function $5(Z,Q){let J={};for(let $ in Z.nodes){if(Z.getNode($).isTerminal)continue;let w=-1/0,U=[];for(let q of Z.neighbors($)){let h=$1(Z,$,q,Q);if(h===w)U.push(q);else if(h>w)w=h,U.length=0,U.push(q)}J[$]=U}return J}function d$(Z,Q,J,$){for(let w=0;w<$;++w)for(let U in Z.nodes){let q=Z.getNode(U);if(!q.isTerminal)q.utility=$1(Z,U,X2(Q[U]),J)}}function E$(Z,Q,J,$){for(let w=0;w<$;++w){let U={};for(let q in Z.nodes)if(!Z.getNode(q).isTerminal)U[q]=$1(Z,q,X2(Q[q]),J);Z.setNodeUtilities(U)}}function o$(Z,Q,J,$){for(let w=0;w<$;++w)for(let U in Z.nodes)Z.getNode(U).utility=x6(Z,U,J)}function a$(Z,Q,J,$){for(let w=0;w<$;++w){let U={};for(let q in Z.nodes)U[q]=x6(Z,q,J);Z.setNodeUtilities(U)}}function vQ(Z,Q,J){let $=!1;for(let w in Z.nodes){if(Z.getNode(w).isTerminal)continue;let U=null,q=-1/0;for(let h of Z.neighbors(w)){let j=$1(Z,w,h,J);if(j===q);else if(j>q)U=h,q=j}if(X2(Q[w])!==U)Q[w].length=0,Q[w].push(U),$=!0}return $}function w5(Z,Q,J=!1,$=!1,w=10,U=!0){if(U)X5(Z);let q=q6(Z),h;if(J&&$)h=d$;else if(J&&!$)h=E$;else if(!J&&$)h=o$;else h=a$;let j=!0;while(j)h(Z,q,Q,w),j=vQ(Z,q,Q);return h(Z,q,Q,w),vQ(Z,q,Q),$5(Z,Q)}function V5(Z){return q6(Z)}class S extends j8{visitedCount;sumPercentCompleted;depth;difficulty;enjoyability;constructor(Z,Q,J,$,w,U,q){super(Z,Q,$,w,U);this.difficulty=Q,this.enjoyability=J,this.depth=q,this.visitedCount=1,this.sumPercentCompleted=1}updateReward(Z){switch(u.director){case H1:this.reward=this.difficulty;break;case u8:this.reward=this.enjoyability;break;case K1:break;case p1:this.reward=(this.difficulty+this.enjoyability)/2;break;case Y1:this.reward=Z?this.difficulty:this.enjoyability;break;default:console.error(`Error: update reward on director "${u.director}" not possible.`);break}this.reward/=this.visitedCount}}class x extends F8{link;constructor(Z,Q,J,$){super(Z,Q,J);this.link=$}}var V=new W6;V.addNode(new S(u0,0,0,0,!1,[],-1));V.addNode(new S(W,-5,-5,0,!0,[],-1));V.addNode(new S("0_0_0",-1,-1,0,!1,[],0));V.addNode(new S("0_1_0",-0.5238095238095237,-0.11904761904761896,0,!1,[],1));V.addNode(new S("0_11_0",-0.6984126984126984,-0.04761904761904756,0,!1,[],27));V.addNode(new S("0_12_0",-0.5306122448979592,-0.12244897959183665,0,!1,[],28));V.addNode(new S("0_13_0",-0.8095238095238095,-0.1428571428571429,0,!1,[],29));V.addNode(new S("0_14_0",-0.5428571428571428,-0.1428571428571429,0,!1,[],29));V.addNode(new S("0_2_0",-0.4693877551020408,-0.16326530612244905,0,!1,[],2));V.addNode(new S("0_3_0",-0.4897959183673469,-0.26530612244897955,0,!1,[],3));V.addNode(new S("0_4_0",-0.4285714285714286,-0.18367346938775508,0,!1,[],4));V.addNode(new S("0_5_0",-0.1428571428571429,-0.2142857142857143,0,!1,[],5));V.addNode(new S("0_6_0",-0.4693877551020408,-0.18367346938775508,0,!1,[],6));V.addNode(new S("10_0_0",-0.3214285714285714,-0.1071428571428571,0,!1,[],10));V.addNode(new S("10_1_0",-0.4571428571428572,-0.22857142857142854,0,!1,[],11));V.addNode(new S("10_2_0",-0.1428571428571429,0,0,!1,[],12));V.addNode(new S("10_3_0",-0.3928571428571429,-0.3928571428571429,0,!1,[],13));V.addNode(new S("10_4_0",-0.6734693877551021,-0.3877551020408163,0,!1,[],14));V.addNode(new S("10_5_0",-0.3928571428571429,-0.0714285714285714,0,!1,[],15));V.addNode(new S("10_6_0",-0.5357142857142857,-0.1607142857142857,0,!1,[],16));V.addNode(new S("10_7_0",-0.4821428571428571,-0.25,0,!1,[],17));V.addNode(new S("11_0_0",-0.3142857142857143,-0.2857142857142857,0,!1,[],11));V.addNode(new S("11_1_0",-0.33333333333333326,-0.2857142857142857,0,!1,[],12));V.addNode(new S("11_2_0",-0.3928571428571429,-0.1964285714285714,0,!1,[],13));V.addNode(new S("11_3_0",-0.375,-0.3928571428571429,0,!1,[],14));V.addNode(new S("11_4_0",-0.2857142857142857,-0.2142857142857143,0,!1,[],15));V.addNode(new S("11_5_0",-0.4464285714285714,-0.1785714285714286,0,!1,[],16));V.addNode(new S("11_6_0",-0.4285714285714286,-0.0714285714285714,0,!1,[],17));V.addNode(new S("12_0_0",-0.3214285714285714,-0.2678571428571429,0,!1,[],12));V.addNode(new S("12_1_0",-0.4285714285714286,-0.04761904761904756,0,!1,[],13));V.addNode(new S("12_2_0",-0.08571428571428563,-0.37142857142857133,0,!1,[],14));V.addNode(new S("12_3_0",-0.26190476190476186,-0.4285714285714286,0,!1,[],15));V.addNode(new S("12_4_0",-0.4,-0.11428571428571421,0,!1,[],16));V.addNode(new S("12_5_0",-0.2857142857142857,-0.09523809523809523,0,!1,[],17));V.addNode(new S("12_6_0",-0.1428571428571429,-0.6190476190476191,0,!1,[],18));V.addNode(new S("13_0_0",-0.3142857142857143,-0.4,0,!1,[],13));V.addNode(new S("13_1_0",-0.23809523809523814,-0.4285714285714286,0,!1,[],14));V.addNode(new S("13_2_0",-0.4285714285714286,-0.20408163265306123,0,!1,[],15));V.addNode(new S("13_3_0",-0.4107142857142857,-0.2678571428571429,0,!1,[],16));V.addNode(new S("13_4_0",-0.5714285714285714,-0.34285714285714286,0,!1,[],17));V.addNode(new S("14_0_0",-0.2857142857142857,-0.2142857142857143,0,!1,[],14));V.addNode(new S("14_1_0",-0.48571428571428565,-0.17142857142857149,0,!1,[],15));V.addNode(new S("14_2_0",-0.1428571428571429,-0.4285714285714286,0,!1,[],16));V.addNode(new S("14_3_0",-0.26190476190476186,-0.16666666666666674,0,!1,[],17));V.addNode(new S("14_4_0",-0.20000000000000007,-0.2571428571428571,0,!1,[],18));V.addNode(new S("15_0_0",-0.5714285714285714,-0.2857142857142857,0,!1,[],15));V.addNode(new S("15_1_0",-0.2142857142857143,-0.2142857142857143,0,!1,[],16));V.addNode(new S("15_2_0",-0.3571428571428571,-0.1071428571428571,0,!1,[],17));V.addNode(new S("15_3_0",-0.37142857142857133,-0.08571428571428563,0,!1,[],18));V.addNode(new S("15_4_0",-0.33333333333333326,-0.1428571428571429,0,!1,[],19));V.addNode(new S("16_1_0",-0.375,-0.1607142857142857,0,!1,[],17));V.addNode(new S("16_2_0",-0.2142857142857143,-0.25,0,!1,[],18));V.addNode(new S("16_3_0",-0.2857142857142857,-0.3571428571428571,0,!1,[],19));V.addNode(new S("16_4_0",-0.2142857142857143,-0.2142857142857143,0,!1,[],20));V.addNode(new S("17_2_0",-0.22857142857142854,-0.2857142857142857,0,!1,[],19));V.addNode(new S("17_4_0",-0.5238095238095237,-0.2063492063492064,0,!1,[],19));V.addNode(new S("17_5_0",-0.1428571428571429,-0.5,0,!1,[],18));V.addNode(new S("18_2_0",-0.16326530612244905,-0.16326530612244905,0,!1,[],20));V.addNode(new S("18_3_0",-0.33333333333333326,-0.1428571428571429,0,!1,[],21));V.addNode(new S("1_0_0",-0.4,-0.2571428571428571,0,!1,[],1));V.addNode(new S("1_1_0",-0.5357142857142857,-0.1071428571428571,0,!1,[],2));V.addNode(new S("1_11_0",-0.0714285714285714,-0.4285714285714286,0,!1,[],26));V.addNode(new S("1_12_0",-0.20000000000000007,-0.3142857142857143,0,!1,[],27));V.addNode(new S("1_13_0",-0.8214285714285714,-0.2142857142857143,0,!1,[],28));V.addNode(new S("1_14_0",-0.34285714285714286,-0.2571428571428571,0,!1,[],28));V.addNode(new S("1_15_0",-0.2142857142857143,-0.3214285714285714,0,!1,[],29));V.addNode(new S("1_16_0",-0.6666666666666666,-0.19047619047619047,0,!1,[],30));V.addNode(new S("1_17_0",-0.4571428571428572,-0.2857142857142857,0,!1,[],31));V.addNode(new S("1_2_0",-0.5238095238095237,-0.38095238095238104,0,!1,[],3));V.addNode(new S("1_3_0",-0.5714285714285714,-0.09523809523809523,0,!1,[],4));V.addNode(new S("1_4_0",-0.2857142857142857,-0.19047619047619047,0,!1,[],5));V.addNode(new S("1_5_0",-0.47619047619047616,-0.40476190476190477,0,!1,[],6));V.addNode(new S("2_0_0",-0.22857142857142854,-0.22857142857142854,0,!1,[],2));V.addNode(new S("2_1_0",-0.2857142857142857,-0.33333333333333326,0,!1,[],3));V.addNode(new S("2_10_0",-0.4693877551020408,-0.2857142857142857,0,!1,[],24));V.addNode(new S("2_11_0",-0.2571428571428571,-0.2571428571428571,0,!1,[],25));V.addNode(new S("2_12_0",-0.2857142857142857,0,0,!1,[],26));V.addNode(new S("2_13_0",-0.34285714285714286,-0.17142857142857149,0,!1,[],27));V.addNode(new S("2_14_0",-0.34693877551020413,-0.1428571428571429,0,!1,[],27));V.addNode(new S("2_15_0",-0.33333333333333326,-0.26190476190476186,0,!1,[],28));V.addNode(new S("2_16_0",-0.5,-0.3571428571428571,0,!1,[],29));V.addNode(new S("2_2_0",-0.5428571428571428,-0.2857142857142857,0,!1,[],4));V.addNode(new S("2_3_0",-0.5142857142857142,-0.2571428571428571,0,!1,[],5));V.addNode(new S("2_4_0",-0.7142857142857143,-0.38095238095238104,0,!1,[],6));V.addNode(new S("3_0_0",-0.40476190476190477,-0.33333333333333326,0,!1,[],3));V.addNode(new S("3_1_0",-0.3571428571428571,-0.2857142857142857,0,!1,[],4));V.addNode(new S("3_10_0",0,-0.8571428571428572,0,!1,[],23));V.addNode(new S("3_11_0",-0.48571428571428565,-0.20000000000000007,0,!1,[],24));V.addNode(new S("3_12_0",-0.7142857142857143,-0.33333333333333326,0,!1,[],25));V.addNode(new S("3_13_0",-0.2857142857142857,-0.1785714285714286,0,!1,[],26));V.addNode(new S("3_14_0",-0.1428571428571429,0,0,!1,[],26));V.addNode(new S("3_15_0",-0.30952380952380953,-0.23809523809523814,0,!1,[],27));V.addNode(new S("3_16_0",-0.16326530612244905,-0.34693877551020413,0,!1,[],28));V.addNode(new S("3_2_0",-0.6938775510204082,-0.12244897959183665,0,!1,[],5));V.addNode(new S("3_3_0",-0.6734693877551021,-0.16326530612244905,0,!1,[],8));V.addNode(new S("3_4_0",-0.4285714285714286,-0.05714285714285716,0,!1,[],9));V.addNode(new S("4_0_0",-0.17142857142857149,-0.22857142857142854,0,!1,[],4));V.addNode(new S("4_1_0",-0.3142857142857143,-0.29999999999999993,0,!1,[],5));V.addNode(new S("4_10_0",-0.3571428571428571,-0.1607142857142857,0,!1,[],22));V.addNode(new S("4_11_0",-0.6326530612244898,-0.34693877551020413,0,!1,[],23));V.addNode(new S("4_12_0",-0.1071428571428571,-0.3571428571428571,0,!1,[],24));V.addNode(new S("4_13_0",-0.2142857142857143,-0.16666666666666674,0,!1,[],25));V.addNode(new S("4_14_0",-0.3214285714285714,-0.3571428571428571,0,!1,[],25));V.addNode(new S("4_15_0",-0.20000000000000007,-0.4285714285714286,0,!1,[],26));V.addNode(new S("4_16_0",-0.2857142857142857,-0.2142857142857143,0,!1,[],27));V.addNode(new S("4_2_0",-0.2857142857142857,-0.1785714285714286,0,!1,[],6));V.addNode(new S("4_3_0",-0.3571428571428571,-0.1428571428571429,0,!1,[],7));V.addNode(new S("4_4_0",-0.47619047619047616,-0.19047619047619047,0,!1,[],8));V.addNode(new S("4_8_0",-0.4571428571428572,-0.1428571428571429,0,!1,[],20));V.addNode(new S("4_9_0",-0.4285714285714286,-0.11428571428571421,0,!1,[],21));V.addNode(new S("5_0_0",0,-0.33333333333333326,0,!1,[],5));V.addNode(new S("5_1_0",-0.1428571428571429,-0.3877551020408163,0,!1,[],6));V.addNode(new S("5_10_0",-0.37142857142857133,-0.3142857142857143,0,!1,[],21));V.addNode(new S("5_11_0",-0.20000000000000007,-0.34285714285714286,0,!1,[],22));V.addNode(new S("5_12_0",-0.3571428571428571,-0.19047619047619047,0,!1,[],23));V.addNode(new S("5_13_0",-0.47619047619047616,-0.47619047619047616,0,!1,[],24));V.addNode(new S("5_14_0",-0.22857142857142854,-0.3142857142857143,0,!1,[],24));V.addNode(new S("5_15_0",-0.5,-0.2857142857142857,0,!1,[],25));V.addNode(new S("5_2_0",-0.75,-0.3214285714285714,0,!1,[],7));V.addNode(new S("5_3_0",-0.38095238095238104,-0.33333333333333326,0,!1,[],8));V.addNode(new S("5_4_0",-0.3877551020408163,-0.40816326530612235,0,!1,[],9));V.addNode(new S("5_5_0",-0.4897959183673469,-0.12244897959183665,0,!1,[],14));V.addNode(new S("5_7_0",-0.5079365079365079,-0.2222222222222222,0,!1,[],18));V.addNode(new S("5_8_0",-0.3214285714285714,-0.3571428571428571,0,!1,[],19));V.addNode(new S("5_9_0",-0.3214285714285714,-0.3571428571428571,0,!1,[],20));V.addNode(new S("6_0_0",-0.326530612244898,-0.30612244897959184,0,!1,[],6));V.addNode(new S("6_1_0",-0.2857142857142857,-0.2678571428571429,0,!1,[],7));V.addNode(new S("6_10_0",-0.2857142857142857,-0.20408163265306123,0,!1,[],20));V.addNode(new S("6_11_0",-0.2857142857142857,-0.1428571428571429,0,!1,[],21));V.addNode(new S("6_12_0",-0.4642857142857143,-0.4642857142857143,0,!1,[],22));V.addNode(new S("6_14_0",-0.2857142857142857,0,0,!1,[],23));V.addNode(new S("6_15_0",-0.1785714285714286,-0.2142857142857143,0,!1,[],24));V.addNode(new S("6_2_0",-0.3928571428571429,-0.3928571428571429,0,!1,[],8));V.addNode(new S("6_3_0",-0.47619047619047616,-0.19047619047619047,0,!1,[],9));V.addNode(new S("6_4_0",-0.2857142857142857,-0.2857142857142857,0,!1,[],12));V.addNode(new S("6_5_0",-0.6428571428571428,-0.1428571428571429,0,!1,[],13));V.addNode(new S("6_7_0",-0.4,-0.1428571428571429,0,!1,[],17));V.addNode(new S("6_8_0",-0.5476190476190477,-0.40476190476190477,0,!1,[],18));V.addNode(new S("6_9_0",-0.4693877551020408,-0.12244897959183665,0,!1,[],19));V.addNode(new S("7_0_0",-0.2857142857142857,-0.20000000000000007,0,!1,[],7));V.addNode(new S("7_1_0",-0.2857142857142857,-0.4571428571428572,0,!1,[],8));V.addNode(new S("7_10_0",-0.04761904761904756,0,0,!1,[],19));V.addNode(new S("7_2_0",-0.38095238095238104,-0.2857142857142857,0,!1,[],9));V.addNode(new S("7_3_0",-0.6122448979591837,-0.26530612244897955,0,!1,[],10));V.addNode(new S("7_4_0",-0.4571428571428572,-0.2857142857142857,0,!1,[],11));V.addNode(new S("7_5_0",-0.4285714285714286,-0.11428571428571421,0,!1,[],12));V.addNode(new S("7_7_0",-0.4285714285714286,-0.1785714285714286,0,!1,[],16));V.addNode(new S("7_8_0",-0.2857142857142857,-0.2142857142857143,0,!1,[],17));V.addNode(new S("7_9_0",-0.38095238095238104,-0.38095238095238104,0,!1,[],18));V.addNode(new S("8_0_0",-0.4642857142857143,-0.1071428571428571,0,!1,[],8));V.addNode(new S("8_1_0",-0.4821428571428571,-0.2321428571428571,0,!1,[],9));V.addNode(new S("8_2_0",-0.5918367346938775,-0.16326530612244905,0,!1,[],10));V.addNode(new S("8_3_0",-0.4571428571428572,-0.22857142857142854,0,!1,[],11));V.addNode(new S("8_4_0",-0.5918367346938775,-0.04081632653061218,0,!1,[],12));V.addNode(new S("8_5_0",-0.5476190476190477,-0.2142857142857143,0,!1,[],13));V.addNode(new S("8_6_0",-0.2571428571428571,-0.11428571428571421,0,!1,[],14));V.addNode(new S("8_7_0",-0.4693877551020408,-0.26530612244897955,0,!1,[],15));V.addNode(new S("8_8_0",-0.38095238095238104,-0.09523809523809523,0,!1,[],16));V.addNode(new S("8_9_0",-0.5357142857142857,-0.1785714285714286,0,!1,[],17));V.addNode(new S("9_0_0",-0.47619047619047616,-0.2142857142857143,0,!1,[],9));V.addNode(new S("9_1_0",-0.48571428571428565,-0.1428571428571429,0,!1,[],10));V.addNode(new S("9_2_0",-0.5142857142857142,-0.02857142857142858,0,!1,[],11));V.addNode(new S("9_3_0",-0.4642857142857143,-0.25,0,!1,[],12));V.addNode(new S("9_4_0",-0.4285714285714286,-0.1428571428571429,0,!1,[],13));V.addNode(new S("9_5_0",-0.45238095238095233,-0.1428571428571429,0,!1,[],14));V.addNode(new S("9_6_0",-0.33333333333333326,-0.23809523809523814,0,!1,[],15));V.addNode(new S("9_7_0",-0.38095238095238104,-0.33333333333333326,0,!1,[],16));V.addNode(new S("end",0,0,0,!0,[],20));V.addEdge(new x(u0,"0_0_0",[["0_0_0",0.99],[W,0.01]],[]));V.addEdge(new x("13_1_0","13_2_0",[["13_2_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("13_1_0","13_0_0",[["13_0_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("13_1_0","14_1_0",[["14_1_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("13_1_0","12_1_0",[["12_1_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("1_5_0","0_5_0",[["0_5_0",0.99],[W,0.01]],[]));V.addEdge(new x("6_4_0","6_5_0",[["6_5_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("6_4_0","7_4_0",[["7_4_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("6_5_0","6_4_0",[["6_4_0",0.99],[W,0.01]],["-----&-----","---------&-"]));V.addEdge(new x("6_5_0","7_5_0",[["7_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));V.addEdge(new x("6_5_0","5_5_0",[["5_5_0",0.99],[W,0.01]],[]));V.addEdge(new x("17_5_0","17_4_0",[["17_4_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("17_5_0","12_5_0",[["12_5_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("4_0_0","4_1_0",[["4_1_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("4_0_0","5_0_0",[["5_0_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("4_0_0","3_0_0",[["3_0_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("12_3_0","12_2_0",[["12_2_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("12_3_0","13_3_0",[["13_3_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("12_3_0","11_3_0",[["11_3_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("2_4_0","2_3_0",[["2_3_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("2_4_0","1_4_0",[["1_4_0",0.99],[W,0.01]],["-----&-----","---------&-"]));V.addEdge(new x("8_3_0","8_4_0",[["8_4_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("8_3_0","8_2_0",[["8_2_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("8_3_0","9_3_0",[["9_3_0",0.99],[W,0.01]],["---------&-","---------&-"]));V.addEdge(new x("8_3_0","7_3_0",[["7_3_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("15_1_0","15_2_0",[["15_2_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("15_1_0","15_0_0",[["15_0_0",0.99],[W,0.01]],[]));V.addEdge(new x("15_1_0","16_1_0",[["16_1_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("15_1_0","14_1_0",[["14_1_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("11_3_0","11_2_0",[["11_2_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("11_3_0","12_3_0",[["12_3_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("11_3_0","10_3_0",[["10_3_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("2_1_0","2_2_0",[["2_2_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("2_1_0","2_0_0",[["2_0_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("2_1_0","3_1_0",[["3_1_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("2_1_0","1_1_0",[["1_1_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("13_3_0","13_4_0",[["13_4_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("13_3_0","13_2_0",[["13_2_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("13_3_0","14_3_0",[["14_3_0",0.99],[W,0.01]],["---------&-","-&---------"]));V.addEdge(new x("13_3_0","12_3_0",[["12_3_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("4_3_0","4_4_0",[["4_4_0",0.99],[W,0.01]],["---------&-","-&---------"]));V.addEdge(new x("4_3_0","4_2_0",[["4_2_0",0.99],[W,0.01]],["---------&-","-&---------"]));V.addEdge(new x("4_3_0","5_3_0",[["5_3_0",0.99],[W,0.01]],["---------&-","-&---------"]));V.addEdge(new x("4_3_0","3_3_0",[["3_3_0",0.99],[W,0.01]],["---------&-","-&---------"]));V.addEdge(new x("14_2_0","14_3_0",[["14_3_0",0.99],[W,0.01]],["-&---------","---------&-"]));V.addEdge(new x("14_2_0","14_1_0",[["14_1_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("14_2_0","15_2_0",[["15_2_0",0.99],[W,0.01]],["-----&-----","-&---------","-----&-----"]));V.addEdge(new x("14_2_0","13_2_0",[["13_2_0",0.99],[W,0.01]],["---------&-","-&---------"]));V.addEdge(new x("1_4_0","1_5_0",[["1_5_0",0.99],[W,0.01]],[]));V.addEdge(new x("1_4_0","1_3_0",[["1_3_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("1_4_0","2_4_0",[["2_4_0",0.99],[W,0.01]],["-----&-----","---------&-"]));V.addEdge(new x("1_4_0","0_4_0",[["0_4_0",0.99],[W,0.01]],["-----&-----","---------&-"]));V.addEdge(new x("5_1_0","5_2_0",[["5_2_0",0.99],[W,0.01]],["---------&-","-&---------"]));V.addEdge(new x("5_1_0","5_0_0",[["5_0_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("5_1_0","6_1_0",[["6_1_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("5_1_0","4_1_0",[["4_1_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("3_12_0","3_13_0",[["3_13_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("3_12_0","3_11_0",[["3_11_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("3_12_0","4_12_0",[["4_12_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("3_12_0","2_12_0",[["2_12_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("3_4_0","4_4_0",[["4_4_0",0.99],[W,0.01]],["-----&-----","---------&-"]));V.addEdge(new x("4_4_0","4_3_0",[["4_3_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("4_4_0","5_4_0",[["5_4_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("4_4_0","3_4_0",[["3_4_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("8_4_0","8_5_0",[["8_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));V.addEdge(new x("8_4_0","8_3_0",[["8_3_0",0.99],[W,0.01]],["-----&-----","---------&-"]));V.addEdge(new x("8_4_0","9_4_0",[["9_4_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("8_4_0","7_4_0",[["7_4_0",0.99],[W,0.01]],["-----&-----","---------&-"]));V.addEdge(new x("6_3_0","6_2_0",[["6_2_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("6_3_0","7_3_0",[["7_3_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("5_3_0","5_2_0",[["5_2_0",0.99],[W,0.01]],["-----&-----","---------&-"]));V.addEdge(new x("5_3_0","4_3_0",[["4_3_0",0.99],[W,0.01]],["-----&-----","---------&-"]));V.addEdge(new x("13_0_0","13_1_0",[["13_1_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("13_0_0","14_0_0",[["14_0_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("13_0_0","12_0_0",[["12_0_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("2_12_0","2_13_0",[["2_13_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("2_12_0","2_11_0",[["2_11_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("2_12_0","3_12_0",[["3_12_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("2_12_0","1_12_0",[["1_12_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("17_4_0","17_5_0",[["17_5_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("17_4_0","16_4_0",[["16_4_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("8_2_0","8_3_0",[["8_3_0",0.99],[W,0.01]],["---------&-","---------&-"]));V.addEdge(new x("8_2_0","8_1_0",[["8_1_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("8_2_0","9_2_0",[["9_2_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("3_1_0","3_2_0",[["3_2_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("3_1_0","3_0_0",[["3_0_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("3_1_0","4_1_0",[["4_1_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("3_1_0","2_1_0",[["2_1_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("0_1_0","0_2_0",[["0_2_0",0.99],[W,0.01]],[]));V.addEdge(new x("0_1_0","0_0_0",[["0_0_0",0.99],[W,0.01]],[]));V.addEdge(new x("0_1_0","1_1_0",[["1_1_0",0.99],[W,0.01]],[]));V.addEdge(new x("9_3_0","9_4_0",[["9_4_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("9_3_0","9_2_0",[["9_2_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("9_3_0","10_3_0",[["10_3_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("9_3_0","8_3_0",[["8_3_0",0.99],[W,0.01]],["---------&-","---------&-"]));V.addEdge(new x("0_4_0","0_5_0",[["0_5_0",0.99],[W,0.01]],[]));V.addEdge(new x("0_4_0","0_3_0",[["0_3_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("0_4_0","1_4_0",[["1_4_0",0.99],[W,0.01]],["-----&-----","---------&-"]));V.addEdge(new x("0_3_0","0_4_0",[["0_4_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("0_3_0","0_2_0",[["0_2_0",0.99],[W,0.01]],[]));V.addEdge(new x("0_3_0","1_3_0",[["1_3_0",0.99],[W,0.01]],[]));V.addEdge(new x("1_2_0","1_3_0",[["1_3_0",0.99],[W,0.01]],[]));V.addEdge(new x("1_2_0","1_1_0",[["1_1_0",0.99],[W,0.01]],[]));V.addEdge(new x("1_2_0","2_2_0",[["2_2_0",0.99],[W,0.01]],[]));V.addEdge(new x("1_2_0","0_2_0",[["0_2_0",0.99],[W,0.01]],[]));V.addEdge(new x("2_3_0","2_2_0",[["2_2_0",0.99],[W,0.01]],[]));V.addEdge(new x("2_3_0","1_3_0",[["1_3_0",0.99],[W,0.01]],[]));V.addEdge(new x("7_7_0","7_8_0",[["7_8_0",0.99],[W,0.01]],["-----&-----","-&---------"]));V.addEdge(new x("7_7_0","8_7_0",[["8_7_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));V.addEdge(new x("7_7_0","6_7_0",[["6_7_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));V.addEdge(new x("13_2_0","13_3_0",[["13_3_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("13_2_0","13_1_0",[["13_1_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("13_2_0","14_2_0",[["14_2_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("13_2_0","12_2_0",[["12_2_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("0_2_0","0_3_0",[["0_3_0",0.99],[W,0.01]],[]));V.addEdge(new x("0_2_0","0_1_0",[["0_1_0",0.99],[W,0.01]],[]));V.addEdge(new x("0_2_0","1_2_0",[["1_2_0",0.99],[W,0.01]],[]));V.addEdge(new x("4_1_0","4_2_0",[["4_2_0",0.99],[W,0.01]],["-----&-----","---------&-"]));V.addEdge(new x("4_1_0","4_0_0",[["4_0_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("4_1_0","5_1_0",[["5_1_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("4_1_0","3_1_0",[["3_1_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("3_2_0","3_1_0",[["3_1_0",0.99],[W,0.01]],[]));V.addEdge(new x("3_2_0","4_2_0",[["4_2_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("3_2_0","2_2_0",[["2_2_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("6_2_0","6_3_0",[["6_3_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("6_2_0","6_1_0",[["6_1_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("6_2_0","7_2_0",[["7_2_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("6_2_0","5_2_0",[["5_2_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("9_0_0","9_1_0",[["9_1_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("9_0_0","10_0_0",[["10_0_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("9_0_0","8_0_0",[["8_0_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("8_0_0","8_1_0",[["8_1_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("8_0_0","9_0_0",[["9_0_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("8_0_0","7_0_0",[["7_0_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("5_8_0","5_9_0",[["5_9_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("5_8_0","5_7_0",[["5_7_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("5_8_0","6_8_0",[["6_8_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("5_8_0","4_8_0",[["4_8_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("2_11_0","2_12_0",[["2_12_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("2_11_0","2_10_0",[["2_10_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("2_11_0","3_11_0",[["3_11_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("2_11_0","1_11_0",[["1_11_0",0.99],[W,0.01]],[]));V.addEdge(new x("0_5_0","0_6_0",[["0_6_0",0.99],[W,0.01]],[]));V.addEdge(new x("0_5_0","0_4_0",[["0_4_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("0_5_0","1_5_0",[["1_5_0",0.99],[W,0.01]],[]));V.addEdge(new x("14_1_0","14_2_0",[["14_2_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("14_1_0","14_0_0",[["14_0_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("14_1_0","15_1_0",[["15_1_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("14_1_0","13_1_0",[["13_1_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("7_1_0","7_2_0",[["7_2_0",0.99],[W,0.01]],["-----&-----","---------&-"]));V.addEdge(new x("7_1_0","7_0_0",[["7_0_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("7_1_0","8_1_0",[["8_1_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("7_1_0","6_1_0",[["6_1_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("1_16_0","1_17_0",[["1_17_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("1_16_0","1_15_0",[["1_15_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("1_16_0","2_16_0",[["2_16_0",0.99],[W,0.01]],[]));V.addEdge(new x("14_0_0","14_1_0",[["14_1_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("14_0_0","15_0_0",[["15_0_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("14_0_0","13_0_0",[["13_0_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("3_3_0","3_4_0",[["3_4_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("3_3_0","3_2_0",[["3_2_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("3_3_0","4_3_0",[["4_3_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("3_3_0","2_3_0",[["2_3_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("1_13_0","1_14_0",[["1_14_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("1_13_0","1_12_0",[["1_12_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("1_13_0","2_13_0",[["2_13_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("1_13_0","0_13_0",[["0_13_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("12_0_0","12_1_0",[["12_1_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("12_0_0","13_0_0",[["13_0_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("12_0_0","11_0_0",[["11_0_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("5_10_0","5_11_0",[["5_11_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("5_10_0","5_9_0",[["5_9_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("5_10_0","6_10_0",[["6_10_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("5_10_0","4_10_0",[["4_10_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("16_2_0","16_3_0",[["16_3_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("16_2_0","16_1_0",[["16_1_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("16_2_0","17_2_0",[["17_2_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("16_2_0","15_2_0",[["15_2_0",0.99],[W,0.01]],["-----&-----","-&---------"]));V.addEdge(new x("11_1_0","11_2_0",[["11_2_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("11_1_0","11_0_0",[["11_0_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("11_1_0","12_1_0",[["12_1_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("11_1_0","10_1_0",[["10_1_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("7_2_0","7_3_0",[["7_3_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("7_2_0","7_1_0",[["7_1_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("7_2_0","8_2_0",[["8_2_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("7_2_0","6_2_0",[["6_2_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("4_10_0","4_11_0",[["4_11_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("4_10_0","4_9_0",[["4_9_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("4_10_0","5_10_0",[["5_10_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("4_10_0","3_10_0",[["3_10_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("1_1_0","1_2_0",[["1_2_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("1_1_0","1_0_0",[["1_0_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("1_1_0","2_1_0",[["2_1_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("1_1_0","0_1_0",[["0_1_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("7_0_0","7_1_0",[["7_1_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("7_0_0","8_0_0",[["8_0_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("7_0_0","6_0_0",[["6_0_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("5_5_0","5_4_0",[["5_4_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("5_5_0","6_5_0",[["6_5_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("0_6_0","0_5_0",[["0_5_0",0.99],[W,0.01]],[]));V.addEdge(new x("1_3_0","1_2_0",[["1_2_0",0.99],[W,0.01]],[]));V.addEdge(new x("1_3_0","2_3_0",[["2_3_0",0.99],[W,0.01]],[]));V.addEdge(new x("1_3_0","0_3_0",[["0_3_0",0.99],[W,0.01]],[]));V.addEdge(new x("5_2_0","5_1_0",[["5_1_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("5_2_0","6_2_0",[["6_2_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("5_2_0","4_2_0",[["4_2_0",0.99],[W,0.01]],["---------&-","---------&-"]));V.addEdge(new x("10_0_0","10_1_0",[["10_1_0",0.99],[W,0.01]],["-----&-----","-&---------"]));V.addEdge(new x("10_0_0","11_0_0",[["11_0_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("10_0_0","9_0_0",[["9_0_0",0.99],[W,0.01]],["-----&-----","-&---------"]));V.addEdge(new x("3_0_0","3_1_0",[["3_1_0",0.99],[W,0.01]],[]));V.addEdge(new x("3_0_0","4_0_0",[["4_0_0",0.99],[W,0.01]],[]));V.addEdge(new x("3_0_0","2_0_0",[["2_0_0",0.99],[W,0.01]],[]));V.addEdge(new x("4_8_0","4_9_0",[["4_9_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("4_8_0","5_8_0",[["5_8_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("7_3_0","7_4_0",[["7_4_0",0.99],[W,0.01]],["---------&-","---------&-"]));V.addEdge(new x("7_3_0","7_2_0",[["7_2_0",0.99],[W,0.01]],["---------&-","---------&-"]));V.addEdge(new x("7_3_0","8_3_0",[["8_3_0",0.99],[W,0.01]],["---------&-","---------&-"]));V.addEdge(new x("7_3_0","6_3_0",[["6_3_0",0.99],[W,0.01]],["-----&-----","-----&-----","---------&-","---------&-"]));V.addEdge(new x("15_0_0","15_1_0",[["15_1_0",0.99],[W,0.01]],[]));V.addEdge(new x("15_0_0","14_0_0",[["14_0_0",0.99],[W,0.01]],[]));V.addEdge(new x("0_12_0","0_13_0",[["0_13_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("0_12_0","0_11_0",[["0_11_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("0_12_0","1_12_0",[["1_12_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("12_1_0","12_2_0",[["12_2_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("12_1_0","12_0_0",[["12_0_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("12_1_0","13_1_0",[["13_1_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("12_1_0","11_1_0",[["11_1_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("4_2_0","4_3_0",[["4_3_0",0.99],[W,0.01]],["---------&-","---------&-"]));V.addEdge(new x("4_2_0","4_1_0",[["4_1_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("4_2_0","5_2_0",[["5_2_0",0.99],[W,0.01]],["---------&-","---------&-"]));V.addEdge(new x("4_2_0","3_2_0",[["3_2_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("5_7_0","5_8_0",[["5_8_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("5_7_0","6_7_0",[["6_7_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("5_0_0","5_1_0",[["5_1_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("5_0_0","6_0_0",[["6_0_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("5_0_0","4_0_0",[["4_0_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("15_2_0","15_3_0",[["15_3_0",0.99],[W,0.01]],["-&---------","---------&-"]));V.addEdge(new x("15_2_0","15_1_0",[["15_1_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("15_2_0","16_2_0",[["16_2_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("15_2_0","14_2_0",[["14_2_0",0.99],[W,0.01]],["-----&-----","-&---------","-----&-----"]));V.addEdge(new x("8_1_0","8_2_0",[["8_2_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("8_1_0","8_0_0",[["8_0_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("8_1_0","9_1_0",[["9_1_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("8_1_0","7_1_0",[["7_1_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("3_10_0","3_11_0",[["3_11_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("3_10_0","4_10_0",[["4_10_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("3_10_0","2_10_0",[["2_10_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("0_0_0","0_1_0",[["0_1_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("0_0_0","1_0_0",[["1_0_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("10_3_0","10_4_0",[["10_4_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("10_3_0","10_2_0",[["10_2_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("10_3_0","11_3_0",[["11_3_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("10_3_0","9_3_0",[["9_3_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("5_4_0","4_4_0",[["4_4_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("2_2_0","2_3_0",[["2_3_0",0.99],[W,0.01]],[]));V.addEdge(new x("2_2_0","2_1_0",[["2_1_0",0.99],[W,0.01]],[]));V.addEdge(new x("2_2_0","3_2_0",[["3_2_0",0.99],[W,0.01]],[]));V.addEdge(new x("2_2_0","1_2_0",[["1_2_0",0.99],[W,0.01]],[]));V.addEdge(new x("6_0_0","6_1_0",[["6_1_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("6_0_0","7_0_0",[["7_0_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("6_0_0","5_0_0",[["5_0_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("15_3_0","15_4_0",[["15_4_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("15_3_0","15_2_0",[["15_2_0",0.99],[W,0.01]],["-----&-----","-&---------","-&---------"]));V.addEdge(new x("15_3_0","16_3_0",[["16_3_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("15_3_0","14_3_0",[["14_3_0",0.99],[W,0.01]],["---------&-","-&---------"]));V.addEdge(new x("4_11_0","4_12_0",[["4_12_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("4_11_0","4_10_0",[["4_10_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("4_11_0","5_11_0",[["5_11_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("4_11_0","3_11_0",[["3_11_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("9_4_0","9_5_0",[["9_5_0",0.99],[W,0.01]],["---------&-","---------&-"]));V.addEdge(new x("9_4_0","9_3_0",[["9_3_0",0.99],[W,0.01]],["---------&-","---------&-"]));V.addEdge(new x("9_4_0","10_4_0",[["10_4_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("9_4_0","8_4_0",[["8_4_0",0.99],[W,0.01]],["---------&-","---------&-"]));V.addEdge(new x("11_0_0","11_1_0",[["11_1_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("11_0_0","12_0_0",[["12_0_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("11_0_0","10_0_0",[["10_0_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("5_9_0","5_10_0",[["5_10_0",0.99],[W,0.01]],[]));V.addEdge(new x("5_9_0","5_8_0",[["5_8_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("5_9_0","6_9_0",[["6_9_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("5_9_0","4_9_0",[["4_9_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("5_12_0","5_13_0",[["5_13_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("5_12_0","5_11_0",[["5_11_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("5_12_0","6_12_0",[["6_12_0",0.99],[W,0.01]],[]));V.addEdge(new x("5_12_0","4_12_0",[["4_12_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("8_5_0","8_6_0",[["8_6_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));V.addEdge(new x("8_5_0","8_4_0",[["8_4_0",0.99],[W,0.01]],["-----&-----","---------&-"]));V.addEdge(new x("8_5_0","9_5_0",[["9_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));V.addEdge(new x("8_5_0","7_5_0",[["7_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));V.addEdge(new x("1_11_0","1_12_0",[["1_12_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("1_11_0","2_11_0",[["2_11_0",0.99],[W,0.01]],[]));V.addEdge(new x("1_11_0","0_11_0",[["0_11_0",0.99],[W,0.01]],[]));V.addEdge(new x("2_0_0","2_1_0",[["2_1_0",0.99],[W,0.01]],[]));V.addEdge(new x("2_0_0","3_0_0",[["3_0_0",0.99],[W,0.01]],[]));V.addEdge(new x("2_0_0","1_0_0",[["1_0_0",0.99],[W,0.01]],[]));V.addEdge(new x("14_3_0","14_4_0",[["14_4_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("14_3_0","14_2_0",[["14_2_0",0.99],[W,0.01]],["-----&-----","-&---------","-&---------"]));V.addEdge(new x("14_3_0","15_3_0",[["15_3_0",0.99],[W,0.01]],["-----&-----","-&---------"]));V.addEdge(new x("14_3_0","13_3_0",[["13_3_0",0.99],[W,0.01]],["---------&-","-&---------"]));V.addEdge(new x("7_8_0","7_9_0",[["7_9_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("7_8_0","7_7_0",[["7_7_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("7_8_0","8_8_0",[["8_8_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("7_8_0","6_8_0",[["6_8_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("1_12_0","1_13_0",[["1_13_0",0.99],[W,0.01]],[]));V.addEdge(new x("1_12_0","1_11_0",[["1_11_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("1_12_0","2_12_0",[["2_12_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("1_12_0","0_12_0",[["0_12_0",0.99],[W,0.01]],[]));V.addEdge(new x("10_1_0","10_2_0",[["10_2_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("10_1_0","10_0_0",[["10_0_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("10_1_0","11_1_0",[["11_1_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("10_1_0","9_1_0",[["9_1_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("0_11_0","0_12_0",[["0_12_0",0.99],[W,0.01]],[]));V.addEdge(new x("0_11_0","1_11_0",[["1_11_0",0.99],[W,0.01]],[]));V.addEdge(new x("16_3_0","16_4_0",[["16_4_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("16_3_0","16_2_0",[["16_2_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("16_3_0","15_3_0",[["15_3_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));V.addEdge(new x("9_2_0","9_3_0",[["9_3_0",0.99],[W,0.01]],["---------&-","---------&-"]));V.addEdge(new x("9_2_0","9_1_0",[["9_1_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("9_2_0","10_2_0",[["10_2_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("9_2_0","8_2_0",[["8_2_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("3_13_0","3_14_0",[["3_14_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("3_13_0","3_12_0",[["3_12_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("3_13_0","4_13_0",[["4_13_0",0.99],[W,0.01]],[]));V.addEdge(new x("3_13_0","2_13_0",[["2_13_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("4_12_0","4_13_0",[["4_13_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("4_12_0","4_11_0",[["4_11_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("4_12_0","5_12_0",[["5_12_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("4_12_0","3_12_0",[["3_12_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("1_0_0","1_1_0",[["1_1_0",0.99],[W,0.01]],[]));V.addEdge(new x("1_0_0","2_0_0",[["2_0_0",0.99],[W,0.01]],[]));V.addEdge(new x("1_0_0","0_0_0",[["0_0_0",0.99],[W,0.01]],[]));V.addEdge(new x("7_4_0","7_5_0",[["7_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));V.addEdge(new x("7_4_0","7_3_0",[["7_3_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("7_4_0","8_4_0",[["8_4_0",0.99],[W,0.01]],["-----&-----","---------&-"]));V.addEdge(new x("7_4_0","6_4_0",[["6_4_0",0.99],[W,0.01]],["-----&-----","---------&-"]));V.addEdge(new x("9_1_0","9_2_0",[["9_2_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("9_1_0","9_0_0",[["9_0_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("9_1_0","10_1_0",[["10_1_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("9_1_0","8_1_0",[["8_1_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("4_9_0","4_10_0",[["4_10_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("4_9_0","4_8_0",[["4_8_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("4_9_0","5_9_0",[["5_9_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("1_14_0","1_15_0",[["1_15_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("1_14_0","1_13_0",[["1_13_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("1_14_0","2_14_0",[["2_14_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("1_14_0","0_14_0",[["0_14_0",0.99],[W,0.01]],[]));V.addEdge(new x("2_10_0","2_11_0",[["2_11_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("2_10_0","3_10_0",[["3_10_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("8_7_0","8_8_0",[["8_8_0",0.99],[W,0.01]],["---------&-","-&---------"]));V.addEdge(new x("8_7_0","8_6_0",[["8_6_0",0.99],[W,0.01]],["---------&-","-&---------"]));V.addEdge(new x("8_7_0","9_7_0",[["9_7_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));V.addEdge(new x("8_7_0","7_7_0",[["7_7_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));V.addEdge(new x("11_2_0","11_3_0",[["11_3_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("11_2_0","11_1_0",[["11_1_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("11_2_0","12_2_0",[["12_2_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("11_2_0","10_2_0",[["10_2_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("6_7_0","6_8_0",[["6_8_0",0.99],[W,0.01]],[]));V.addEdge(new x("6_7_0","7_7_0",[["7_7_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("6_7_0","5_7_0",[["5_7_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("2_13_0","2_14_0",[["2_14_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("2_13_0","2_12_0",[["2_12_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("2_13_0","3_13_0",[["3_13_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("2_13_0","1_13_0",[["1_13_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("6_1_0","6_2_0",[["6_2_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("6_1_0","6_0_0",[["6_0_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("6_1_0","7_1_0",[["7_1_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("6_1_0","5_1_0",[["5_1_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("3_11_0","3_12_0",[["3_12_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("3_11_0","3_10_0",[["3_10_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("3_11_0","4_11_0",[["4_11_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("3_11_0","2_11_0",[["2_11_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("10_2_0","10_3_0",[["10_3_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("10_2_0","10_1_0",[["10_1_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("10_2_0","11_2_0",[["11_2_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("10_2_0","9_2_0",[["9_2_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("17_2_0","18_2_0",[["18_2_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("17_2_0","16_2_0",[["16_2_0",0.99],[W,0.01]],[]));V.addEdge(new x("16_4_0","16_3_0",[["16_3_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("16_4_0","17_4_0",[["17_4_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("16_4_0","15_4_0",[["15_4_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("8_8_0","8_9_0",[["8_9_0",0.99],[W,0.01]],["-&---------","-----&-----"]));V.addEdge(new x("8_8_0","8_7_0",[["8_7_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));V.addEdge(new x("8_8_0","7_8_0",[["7_8_0",0.99],[W,0.01]],["-----&-----","-&---------"]));V.addEdge(new x("10_4_0","10_5_0",[["10_5_0",0.99],[W,0.01]],["---------&-","---------&-"]));V.addEdge(new x("10_4_0","10_3_0",[["10_3_0",0.99],[W,0.01]],[]));V.addEdge(new x("10_4_0","11_4_0",[["11_4_0",0.99],[W,0.01]],[]));V.addEdge(new x("10_4_0","9_4_0",[["9_4_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("0_14_0","0_13_0",[["0_13_0",0.99],[W,0.01]],[]));V.addEdge(new x("0_14_0","1_14_0",[["1_14_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("2_16_0","2_15_0",[["2_15_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("2_16_0","3_16_0",[["3_16_0",0.99],[W,0.01]],[]));V.addEdge(new x("2_16_0","1_16_0",[["1_16_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("15_4_0","15_3_0",[["15_3_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));V.addEdge(new x("15_4_0","16_4_0",[["16_4_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("15_4_0","14_4_0",[["14_4_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("8_6_0","8_7_0",[["8_7_0",0.99],[W,0.01]],["---------&-","-&---------"]));V.addEdge(new x("8_6_0","8_5_0",[["8_5_0",0.99],[W,0.01]],["-&---------","---------&-"]));V.addEdge(new x("8_6_0","9_6_0",[["9_6_0",0.99],[W,0.01]],["-----&-----","-----&-----","-----&-----"]));V.addEdge(new x("7_5_0","7_4_0",[["7_4_0",0.99],[W,0.01]],["-----&-----","---------&-"]));V.addEdge(new x("7_5_0","8_5_0",[["8_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));V.addEdge(new x("7_5_0","6_5_0",[["6_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));V.addEdge(new x("6_10_0","6_11_0",[["6_11_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("6_10_0","6_9_0",[["6_9_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("6_10_0","7_10_0",[["7_10_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("6_10_0","5_10_0",[["5_10_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("6_8_0","6_9_0",[["6_9_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("6_8_0","6_7_0",[["6_7_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("6_8_0","7_8_0",[["7_8_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("6_8_0","5_8_0",[["5_8_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("12_2_0","12_3_0",[["12_3_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("12_2_0","12_1_0",[["12_1_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("12_2_0","13_2_0",[["13_2_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("12_2_0","11_2_0",[["11_2_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("4_13_0","4_14_0",[["4_14_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("4_13_0","4_12_0",[["4_12_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("4_13_0","5_13_0",[["5_13_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("4_13_0","3_13_0",[["3_13_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("3_14_0","3_15_0",[["3_15_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("3_14_0","3_13_0",[["3_13_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("3_14_0","4_14_0",[["4_14_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("3_14_0","2_14_0",[["2_14_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("11_4_0","11_5_0",[["11_5_0",0.99],[W,0.01]],["---------&-","---------&-","-----&-----"]));V.addEdge(new x("11_4_0","11_3_0",[["11_3_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("11_4_0","12_4_0",[["12_4_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("11_4_0","10_4_0",[["10_4_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("10_6_0","10_7_0",[["10_7_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("10_6_0","10_5_0",[["10_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));V.addEdge(new x("10_6_0","11_6_0",[["11_6_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("10_6_0","9_6_0",[["9_6_0",0.99],[W,0.01]],["-----&-----","-&---------"]));V.addEdge(new x("0_13_0","0_14_0",[["0_14_0",0.99],[W,0.01]],[]));V.addEdge(new x("0_13_0","0_12_0",[["0_12_0",0.99],[W,0.01]],[]));V.addEdge(new x("0_13_0","1_13_0",[["1_13_0",0.99],[W,0.01]],[]));V.addEdge(new x("11_5_0","11_6_0",[["11_6_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("11_5_0","11_4_0",[["11_4_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("11_5_0","12_5_0",[["12_5_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("11_5_0","10_5_0",[["10_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));V.addEdge(new x("8_9_0","8_8_0",[["8_8_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("8_9_0","7_9_0",[["7_9_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("9_7_0","9_6_0",[["9_6_0",0.99],[W,0.01]],["-----&-----","-----&-----","---------&-","-----&-----"]));V.addEdge(new x("2_14_0","2_15_0",[["2_15_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("2_14_0","2_13_0",[["2_13_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("2_14_0","3_14_0",[["3_14_0",0.99],[W,0.01]],["-----&-----","-&---------"]));V.addEdge(new x("2_14_0","1_14_0",[["1_14_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("9_5_0","9_6_0",[["9_6_0",0.99],[W,0.01]],["-----&-----","-&---------"]));V.addEdge(new x("9_5_0","9_4_0",[["9_4_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("9_5_0","10_5_0",[["10_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));V.addEdge(new x("9_5_0","8_5_0",[["8_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));V.addEdge(new x("12_5_0","12_6_0",[["12_6_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("12_5_0","12_4_0",[["12_4_0",0.99],[W,0.01]],[]));V.addEdge(new x("12_5_0","17_5_0",[["17_5_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("12_5_0","11_5_0",[["11_5_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("10_5_0","10_6_0",[["10_6_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("10_5_0","10_4_0",[["10_4_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("10_5_0","11_5_0",[["11_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));V.addEdge(new x("10_5_0","9_5_0",[["9_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));V.addEdge(new x("1_15_0","1_16_0",[["1_16_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("1_15_0","1_14_0",[["1_14_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("1_15_0","2_15_0",[["2_15_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("12_4_0","12_5_0",[["12_5_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("12_4_0","12_3_0",[["12_3_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("12_4_0","13_4_0",[["13_4_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));V.addEdge(new x("12_4_0","11_4_0",[["11_4_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("3_16_0","3_15_0",[["3_15_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("3_16_0","4_16_0",[["4_16_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));V.addEdge(new x("3_16_0","2_16_0",[["2_16_0",0.99],[W,0.01]],[]));V.addEdge(new x("9_6_0","9_7_0",[["9_7_0",0.99],[W,0.01]],["-----&-----","---------&-","-----&-----"]));V.addEdge(new x("9_6_0","10_6_0",[["10_6_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("9_6_0","8_6_0",[["8_6_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));V.addEdge(new x("2_15_0","2_16_0",[["2_16_0",0.99],[W,0.01]],[]));V.addEdge(new x("2_15_0","2_14_0",[["2_14_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("2_15_0","3_15_0",[["3_15_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("2_15_0","1_15_0",[["1_15_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("4_16_0","4_15_0",[["4_15_0",0.99],[W,0.01]],[]));V.addEdge(new x("4_16_0","3_16_0",[["3_16_0",0.99],[W,0.01]],[]));V.addEdge(new x("7_9_0","7_10_0",[["7_10_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("7_9_0","7_8_0",[["7_8_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("7_9_0","8_9_0",[["8_9_0",0.99],[W,0.01]],[]));V.addEdge(new x("7_9_0","6_9_0",[["6_9_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("5_14_0","5_15_0",[["5_15_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));V.addEdge(new x("5_14_0","5_13_0",[["5_13_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("5_14_0","6_14_0",[["6_14_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));V.addEdge(new x("5_14_0","4_14_0",[["4_14_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("5_13_0","5_14_0",[["5_14_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("5_13_0","5_12_0",[["5_12_0",0.99],[W,0.01]],[]));V.addEdge(new x("5_13_0","4_13_0",[["4_13_0",0.99],[W,0.01]],[]));V.addEdge(new x("4_14_0","4_15_0",[["4_15_0",0.99],[W,0.01]],[]));V.addEdge(new x("4_14_0","4_13_0",[["4_13_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("4_14_0","5_14_0",[["5_14_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("4_14_0","3_14_0",[["3_14_0",0.99],[W,0.01]],["-----&-----","-&---------"]));V.addEdge(new x("10_7_0","10_6_0",[["10_6_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("10_7_0","9_7_0",[["9_7_0",0.99],[W,0.01]],["---------&-","-&---------"]));V.addEdge(new x("4_15_0","4_16_0",[["4_16_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));V.addEdge(new x("4_15_0","4_14_0",[["4_14_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("4_15_0","5_15_0",[["5_15_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));V.addEdge(new x("4_15_0","3_15_0",[["3_15_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("5_11_0","5_12_0",[["5_12_0",0.99],[W,0.01]],[]));V.addEdge(new x("5_11_0","5_10_0",[["5_10_0",0.99],[W,0.01]],[]));V.addEdge(new x("5_11_0","6_11_0",[["6_11_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("5_11_0","4_11_0",[["4_11_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("16_1_0","16_2_0",[["16_2_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("16_1_0","15_1_0",[["15_1_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("11_6_0","11_5_0",[["11_5_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("11_6_0","12_6_0",[["12_6_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("11_6_0","10_6_0",[["10_6_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("18_2_0","18_3_0",[["18_3_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("18_2_0","17_2_0",[["17_2_0",0.99],[W,0.01]],["-&---------","-----&-----"]));V.addEdge(new x("12_6_0","12_5_0",[["12_5_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("12_6_0","11_6_0",[["11_6_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("6_9_0","6_10_0",[["6_10_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("6_9_0","6_8_0",[["6_8_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("6_9_0","7_9_0",[["7_9_0",0.99],[W,0.01]],[]));V.addEdge(new x("6_9_0","5_9_0",[["5_9_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("3_15_0","3_16_0",[["3_16_0",0.99],[W,0.01]],[]));V.addEdge(new x("3_15_0","3_14_0",[["3_14_0",0.99],[W,0.01]],["-----&-----","-&---------"]));V.addEdge(new x("3_15_0","4_15_0",[["4_15_0",0.99],[W,0.01]],[]));V.addEdge(new x("3_15_0","2_15_0",[["2_15_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("7_10_0","7_9_0",[["7_9_0",0.99],[W,0.01]],[]));V.addEdge(new x("7_10_0","6_10_0",[["6_10_0",0.99],[W,0.01]],["-----&-----","---------&-"]));V.addEdge(new x("6_15_0","6_14_0",[["6_14_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));V.addEdge(new x("6_15_0","5_15_0",[["5_15_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));V.addEdge(new x("5_15_0","5_14_0",[["5_14_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("5_15_0","6_15_0",[["6_15_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));V.addEdge(new x("5_15_0","4_15_0",[["4_15_0",0.99],[W,0.01]],[]));V.addEdge(new x("18_3_0","18_2_0",[["18_2_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("13_4_0","13_3_0",[["13_3_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));V.addEdge(new x("13_4_0","14_4_0",[["14_4_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("13_4_0","12_4_0",[["12_4_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("6_14_0","6_15_0",[["6_15_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("6_14_0","6_12_0",[["6_12_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("6_14_0","5_14_0",[["5_14_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("6_11_0","6_12_0",[["6_12_0",0.99],[W,0.01]],[]));V.addEdge(new x("6_11_0","6_10_0",[["6_10_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("6_11_0","5_11_0",[["5_11_0",0.99],[W,0.01]],["---------&-"]));V.addEdge(new x("14_4_0","14_3_0",[["14_3_0",0.99],[W,0.01]],["---------&-","-&---------"]));V.addEdge(new x("14_4_0","15_4_0",[["15_4_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("14_4_0","13_4_0",[["13_4_0",0.99],[W,0.01]],["-&---------"]));V.addEdge(new x("6_12_0","6_14_0",[["6_14_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("6_12_0","6_11_0",[["6_11_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("6_12_0","5_12_0",[["5_12_0",0.99],[W,0.01]],[]));V.addEdge(new x("1_17_0","1_16_0",[["1_16_0",0.99],[W,0.01]],["-----&-----"]));V.addEdge(new x("7_10_0","end",[["end",0.99],[W,0.01]],[]));var fQ={"2_8_0":["XX----------XXX","XX----------XXX","XX---XX-----XXX","XX-#-XXXX---XXX","XX-----XX------","XXXX---XX------","XXXX---XX-----#","XXXX--#XX---XXX","XXXX---XX---XXX","-------XX---XXX","&------XX---XXX"],"13_1_0":["----^^^^^^^^^^^","---------------","---------------","----------X----","----------X-&-&","----------XXXXX","-#--------X-*#*","----------X----","---------------","---------------","----^^^^^^^^^^^"],"1_5_0":["XX-------------","XX-------------","XX---XX--------","XX-#-XXXX------","XX-----XX------","XXXX---XX---&--","XXXX---XX------","XXXX--#XX------","XXXX---XX------","-------XX------","&------XX------"],"6_4_0":["--------X------","--------X------","X-------X---^--","XXX-----X---^--","-XX---------^--","-XX---------^--","-XX-----#-#-#-#","#XX--#---------","-XX------------","-XX-----XXXXXXX","-XX-----XXXXXXX"],"0_8_0":["XX--------XXX--","XX--------XXX--","XX---XX---XXX--","XX-#-XX---XXX--","XX--------XXX--","XXXX----XXXXXXX","XXXX----XXXXXXX","XXXX----XXXXXXX","XXXX----XXXXXXX","---------------","&----------&---"],"6_5_0":["------X--^^^^^^","------X----X--X","X-----X----X--X","XXX---X----X--X","-XX--------X--X","-XX--------X--X","-XX--------X--X","#XX---X----X--X","-XX---X----X--X","-XX---X--------","-XX---X--^^^^^^"],"17_5_0":["^^^^^^^^^^^^^^^","----X----------","-X--X-------X--","XX--X--XXX--XX-","XX--X--X*X--XXX","#*--X--X&---*#X","XX--X--X*X--XXX","XX--X--XXX--XX-","-X--X-------X--","---------------","^^^^^^^^^^^^^^^"],"4_0_0":["---------------","---------------","---------------","---X--------#--","---X-----------","XXXX-----------","#*-X-----------","---X--#--------","---------#-----","---------------","---------------"],"12_3_0":["-----^^^^^^^^^^","---------------","X--------------","XXX-------X----","-XX-------X-&-&","-XX-------XXXXX","-XX-------X-*#*","#XX-------X----","-XX------------","-XX------------","-XX--^^^^^^^^^^"],"2_4_0":["-------------XX","-------------XX","X------------XX","XXX----------XX","-XX----------XX","-XX----------XX","-XX----------XX","#XX--#-------XX","-XX-----#----XX","-XX------------","-XX------------"],"2_6_0":["XX-------------","XX-------------","XX---XX--------","XX-#-XXXX-----X","XX-----XX-----X","XXXX---XX-----X","XXXX---XX-----X","XXXX--#XX-----X","XXXX---XX--#---","-------XX------","&------XX------"],"8_3_0":["----------^^^^^","---------------","X-----------X--","XXX---------XX-","-XX---------XXX","-XX---------*#X","-XX---------XXX","#XX--#------XX-","-XX---------X--","-XX------------","-XX-------^^^^^"],"15_1_0":["-^^^^^^^^^^^^^^","---------------","---------------","----------X----","----------X-&-&","----------XXXXX","----------X-*#*","----------X----","---------------","---------------","-^^^^^^^^^^^^^^"],"11_3_0":["------^^^^^^^^^","---------------","X--------------","XXX-------X----","-XX-------X-&-&","-XX-------XXXXX","-XX-------X-*#*","#XX-------X----","-XX------------","-XX------------","-XX---^^^^^^^^^"],"2_1_0":["-----------XX--","---------------","---------------","---X-----------","---X-----------","XXXX-----------","#*-X-----------","---X--#--------","---------------","---------------","-----------XX--"],"13_3_0":["----^^^^^^^^^^^","------*#X--X--X","------XXX--X--X","------XX---X--X","------X----X--X","------X----X-#X","-#----X----X--X","------X----X--X","------X----X--X","---------------","----^^^^^^^^^^^"],"4_6_0":["XX----------^^^","XX-------------","XX---XX--------","XX-#-XXXX-----X","XX-----XX-----X","XXXX---XX-----X","XXXX---XX-----X","XXXX--#XX-----X","XXXX---XX------","-------XX------","&------XX---^^^"],"4_3_0":["--------------X","--------------X","X-------------X","XXX-----------X","-XX-----------X","-XX--------#--X","-XX-----------X","#XX--#--------X","-XX-----#-----X","-XX------------","-XX--------*---"],"14_2_0":["---^^^^^^^^^^^^","---------------","--------------X","-----X-----X--X","-----X-&-&-X--X","-----XXXXXXX--*","-----X-*#*-X--X","-----X-----X--X","--------------X","---------------","---^^^^^^^^^^^^"],"1_4_0":["-------------XX","-------------XX","X------------XX","XXX----------XX","-XX----------XX","-XX----------XX","-XX----------XX","#XX--#-------XX","-XX----------XX","-XX------------","-XX------------"],"5_1_0":["---------------","---------------","---------------","---X----------X","---X---------^X","XXXX--------^^X","#*-X---------^X","---X--#-------X","---------#-----","---------------","---------------"],"3_12_0":["-----XXXXXXXXXX","-----XXXXXXXXXX","X----XXXXXXXXXX","XXX--XXXXXXXXXX","-XX----------#X","-XX-----------X","-XX----#--#----","#XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX"],"3_4_0":["------------XX-","------------XX-","X-----------XX-","XXX---------XX#","-XX---------XX-","-XX---------XX-","-XX---------XX-","#XX--#------XXX","-XX-----#-----X","-XX------------","-XX------------"],"4_4_0":["------------X--","---------------","X-----------X--","XXX---------XX-","-XX---------XXX","-XX---------*#X","-XX---------XXX","#XX--#------XX-","-XX-----#---X--","-XX------------","-XX---------X--"],"8_4_0":["---------^^^^^^","-----------X--X","X----------X--X","XXX--------X--X","-XX--------X--X","-XX--------X-#X","-XX--------X--X","#XX--#-----X--X","-XX--------X--X","-XX------------","-XX------^^^^^^"],"6_3_0":["-----------^^^^","-------------X-","X------------X-","XXX----------X-","-XX----------X-","-XX----------X-","-XX----------X-","#XX--#-------X-","-XX-----#----X-","-XX------------","-XX--------^^^^"],"1_10_0":["XX---------XXXX","XX---------XXXX","XX---XX----XXXX","XX-#-XXXX--XXXX","XX-----XX--XXX-","XXXX---XX--XX--","XXXX---XX------","XXXX--#XX--XXXX","XXXX---XX--XXXX","-------XX--XXXX","&------XX--XXXX"],"5_3_0":["------------^^^","--------------X","X-------------X","XXX-----------X","-XX-----------X","-XX-----------X","-XX-----------X","#XX--#--------X","-XX-----#-----X","-XX------------","-XX---------^^^"],"3_5_0":["XX-------------","XX-------------","XX---XX-------&","XX-#-XXXX------","XX-----XX------","XXXX---XX--#---","XXXX---XX------","XXXX--#XX------","XXXX---XX------","-------XX------","&------XX--*---"],"13_0_0":["--^^^^^^^^^^^^^","---------------","---------------","-----------X---","-----------X-&-","-----------XXXX","-----------X-*#","-----------X---","---------------","---------------","--^^^^^^^^^^^^^"],"2_12_0":["------XXXXXXXXX","------XXXXXXXXX","X-----XXXXXXXXX","XXX---XXXXXXXXX","-XX-----#XXXXX-","-XX------XXXXX-","-XX-------*----","#XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX"],"17_4_0":["^^^^^^^^^^^^^^^","--X--X--X--X--X","--X--X--X--X--X","--X--X--X--X--X","--X--X--X--X--X","-#X-#X-#X-#X-#X","--X--X--X--X--X","--X--X--X--X--X","--X--X--X--X--X","---------------","^^^^^^^^^^^^^^^"],"8_2_0":["---------^^^^^^","--------------*","X--------------","XXX----------^^","-XX--------^^^^","-XX-----------&","-XX--------^^^^","#XX--#-------^^","-XX------------","-XX-----------*","-XX------^^^^^^"],"3_1_0":["------------XX-","---------------","---------------","---X-----------","---X-----------","XXXX-----------","#*-X-----------","---X--#--------","---------#-----","---------------","------------XX-"],"0_1_0":["---------------","------------X--","------------X--","------------X--","------------X--","-----------&X-&","------------X--","-*----------X--","------------X--","------------X--","------------X--"],"9_3_0":["--------^^^^^^^","---------------","X-----------X--","XXX---------XX-","-XX---------XXX","-XX---------*#X","-XX---------XXX","#XX--#------XX-","-XX---------X--","-XX------------","-XX-----^^^^^^^"],"0_4_0":["-------------XX","-------------XX","X------------XX","XXX----------XX","-XX----------XX","-XX----------XX","-XX----------XX","#XX----------XX","-XX----------XX","-XX------------","-XX------------"],"0_3_0":["---------------","------------X--","X-----------X--","XXX---------X--","-XX---------X--","-XX--------&X-&","-XX---------X--","#XX---------X--","-XX---------X--","-XX---------X--","-XX---------X--"],"1_2_0":["---------------","---------------","X--------------","XXX------------","-XX------------","-XX-----------&","-XX------------","#XX--#---------","-XX------------","-XX------------","-XX------------"],"2_3_0":["---------------","------------X--","X-----------X--","XXX---------X--","-XX---------X--","-XX--------&X-&","-XX---------X--","#XX--#------X--","-XX-----#---X--","-XX---------X--","-XX---------X--"],"7_7_0":["-*XXXXXXXXXXXXX","--XXXXXXX-----*","--XXXXXX-------","--XXXXX------^^","-----------^^^^","-#------------&","----#------^^^^","--XXXXX------^^","--XXXXXX-------","--XXXXXXX-----*","--XXXXXXXXXXXXX"],"13_2_0":["----^^^^^^^^^^^","---------------","-------------X-","--------XXX--XX","--------X*X--XX","--------X&---*#","--------X*X--XX","-*------XXX--XX","-------------X-","---------------","----^^^^^^^^^^^"],"0_2_0":["---------------","---------------","X--------------","XXX------------","-XX------------","-XX-----------&","-XX------------","#XX------------","-XX------------","-XX------------","-XX------------"],"4_5_0":["XX-------------","XX-------------","XX---XX--------","XX-#-XXXX-----#","XX-----XX------","XXXX---XX--#---","XXXX---XX------","XXXX--#XX------","XXXX---XX------","-------XX------","&------XX--*---"],"4_1_0":["------------XXX","---------------","---------------","---X-----------","---X----------^","XXXX-----------","#*-X----------^","---X--#--------","---------#-----","---------------","------------XXX"],"0_9_0":["XX---------XXXX","XX---------XXXX","XX---XX----XXXX","XX-#-XXXX--XXXX","XX-----XX--XXXX","XXXX---XX--XXXX","XXXX---XX--XXXX","XXXX---XX--XXXX","XXXX---XX------","-------XX------","&------XX--XXXX"],"3_2_0":["---------------","---------------","X--------------","XXX------------","-XX------------","-XX-----------&","-XX------------","#XX--#---------","-XX-----#--#---","-XX------------","-XX------------"],"6_2_0":["-------------&-","------------^^^","X-----------^^^","XXX---------^^^","-XX---------^^^","-XX---------^^^","-XX---------^^^","#XX--#------^^^","-XX-----#---^^^","-XX---------^^^","-XX----------*-"],"9_0_0":["------^^^^^^^^^","---------------","---------------","---X-----------","---X-----------","XXXX-----------","#*-X-----------","---X-----------","---------------","---------------","------^^^^^^^^^"],"8_0_0":["---------^^^^^^","---------------","---------------","---X-----------","---X-----------","XXXX-----------","#*-X-----------","---X--#--------","---------------","---------------","---------^^^^^^"],"5_8_0":["-----XXXXXX---&","-----XXXXXX--^^","X----XXXXXX--^^","XXX--XXXXXX--^^","-XX----*-----^^","-XX----------^^","-XX-----#----^^","#XX--XXXXXX--^^","-XX--XXXXXX--^^","-XX--XXXXXX--^^","-XX--XXXXXX---*"],"1_9_0":["XX---------XXXX","XX---------XXXX","XX---XX----XXXX","XX-#-XXXX--XXXX","XX-----XX--XXXX","XXXX---XX--XXXX","XXXX---XX--XXXX","XXXX--#XX--XXXX","XXXX---XX------","-------XX------","&------XX--XXXX"],"2_11_0":["XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX-#-","XX--XXX--XXX---","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","XXXXXXXXXX*XXX-","---------------","&----&----#----"],"0_5_0":["XX-------------","XX-------------","XX---XX--------","XX-#-XXXX------","XX-----XX------","XXXX---XX-----&","XXXX---XX------","XXXX---XX------","XXXX---XX------","-------XX------","&------XX------"],"14_1_0":["--^^^^^^^^^^^^^","---------------","---------------","----------X----","----------X-&-&","----------XXXXX","----------X-*#*","----------X----","---------------","---------------","--^^^^^^^^^^^^^"],"7_1_0":["----------^^^^^","---------------","---------------","---X----------X","---X----------X","XXXX----------X","#*-X----------X","---X--#-------X","---------------","---------------","----------^^^^^"],"1_16_0":["-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","----#XXXXXXXXXX","-----XXXXXXXXXX","------*--------","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX"],"14_0_0":["-^^^^^^^^^^^^^^","---------------","---------------","-----------X---","-----------X-&-","-----------XXXX","-----------X-*#","-----------X---","---------------","---------------","-^^^^^^^^^^^^^^"],"3_3_0":["---------------","-----------^---","X--------------","XXX--------^--X","-XX-----------X","-XX--------^--X","-XX-----------X","#XX--#-----^--X","-XX-----#-----X","-XX--------^--X","-XX-----------X"],"3_7_0":["XX----------X--","XX-------------","XX---XX-----X--","XX-#-XXXX---XX-","XX-----XX---XXX","XXXX---XX---*#X","XXXX---XX---XXX","XXXX--#XX---XX-","XXXX---XX---X--","-------XX------","&------XX---X--"],"1_13_0":["---XXXXXXXXXXXX","---XXXXXXXXXXXX","---XXXXXXXXXXXX","---XXXXXXXXXXXX","-----#XXXXXXX--","------XXXXXX---","-------*-------","---XXXXXXXXXXXX","---XXXXXXXXXXXX","---XXXXXXXXXXXX","---XXXXXXXXXXXX"],"12_0_0":["----^^^^^^^^^^^","---------------","---------------","-----------X---","-----------X-&-","-----------XXXX","-----------X-*#","-*---------X---","---------------","---------------","----^^^^^^^^^^^"],"5_10_0":["----XXXXXXXXXXX","----XXXXXXXXXXX","----XXXXXXXXXXX","----XXXXXXXXXXX","------*------*-","---------------","-#-----#--#---#","----XXXXXXXXXXX","----XXXXXXXXXXX","----XXXXXXXXXXX","----XXXXXXXXXXX"],"16_2_0":["^^^^^^^^^^^^^^^","---------------","---------------","--------X-----X","--------X-&-&-X","--------XXXXXXX","--------X-*#*-X","X-------X-----X","XX-------------","#X-------------","^^^^^^^^^^^^^^^"],"11_1_0":["------^^^^^^^^^","---------X--X--","---------X--X--","---------X--X--","---#-----X--X--","---------X-#X-#","---------X--X--","-*-------X--X--","---------X--X--","---------------","------^^^^^^^^^"],"0_10_0":["XX---------XXXX","XX---------XXXX","XX---XX----XXXX","XX-#-XXXX--XXXX","XX-----XX--XXX-","XXXX---XX--XX--","XXXX---XX------","XXXX---XX--XXXX","XXXX---XX--XXXX","-------XX--XXXX","&------XX--XXXX"],"7_2_0":["---------^^^^^^","---------------","X--------------","XXX------------","-XX------------","-XX------------","-XX------------","#XX--#---------","-XX------------","-XX------------","-XX------^^^^^^"],"4_10_0":["------XXXXXXXXX","------XXXXXXXXX","X-----XXXXXXXXX","XXX---XXXXXXXXX","-XX-----*---*--","-XX------------","-XX------#---#-","#XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX"],"1_1_0":["-----------XX--","---------------","---------------","---X-----------","---X-----------","XXXX-----------","#*-X-----------","---X-----------","---------------","---------------","-----------XX--"],"7_0_0":["-------------&-","------------^^^","------------^^^","---X--------^^^","---X--------^^^","XXXX--------^^^","#*-X--------^^^","---X--#-----^^^","---------#--^^^","------------^^^","-------------*-"],"5_5_0":["XX-----------&-","XX----------^^^","XX---XX-----^^^","XX-#-XXXX---^^^","XX-----XX---^^^","XXXX---XX---^^^","XXXX---XX---^^^","XXXX--#XX---^^^","XXXX---XX---^^^","-------XX---^^^","&------XX----*-"],"0_6_0":["XX-------------","XX----------X--","XX---XX-----X--","XX-#-XXXX---X--","XX-----XX---X--","XXXX---XX--&X-&","XXXX---XX---X--","XXXX---XX---X--","XXXX---XX---X--","-------XX---X--","&------XX---X--"],"4_7_0":["XX---------X---","XX---------X---","XX---XX----X--^","XX-#-XXXX--X--^","XX-----XX-----^","XXXX---XX-----^","XXXX---XX--#-#-","XXXX--#XX------","XXXX---XX------","-------XX--XXXX","&------XX--XXXX"],"1_3_0":["---------------","------------X--","X-----------X--","XXX---------X--","-XX---------X--","-XX--------&X-&","-XX---------X--","#XX--#------X--","-XX---------X--","-XX---------X--","-XX---------X--"],"6_6_0":["XX---------^^^^","XX-------------","XX---XX-------X","XX-#-XXXX-----X","XX-----XX-----X","XXXX---XX-----*","XXXX---XX-----X","XXXX--#XX-----X","XXXX---XX-----X","-------XX------","&------XX--^^^^"],"1_6_0":["XX-------------","XX----------X--","XX---XX-----X--","XX-#-XXXX---X--","XX-----XX---X--","XXXX---XX--&X-&","XXXX---XX---X--","XXXX--#XX---X--","XXXX---XX---X--","-------XX---X--","&------XX---X--"],"5_2_0":["---------------","---------------","X--------------","XXX-----------#","-XX------------","-XX--------#---","-XX------------","#XX--#---------","-XX-----#------","-XX------------","-XX--------*---"],"10_0_0":["------^^^^^^^^^","--------------*","---------------","---X---------^^","---X-------^^^^","XXXX----------&","#*-X-------^^^^","---X---------^^","---------------","--------------*","------^^^^^^^^^"],"3_0_0":["---------------","---------------","---------------","---X-----------","---X-----------","XXXX--------&--","#*-X-----------","---X--#--------","---------#-----","---------------","---------------"],"4_8_0":["--------XXXXXXX","--------XXXXXXX","X-------XXXXXXX","XXX-----XXXXXXX","-XX----------*-","-XX------------","-XX-------#---#","#XX--#--XXXXXXX","-XX-----XXXXXXX","-XX-----XXXXXXX","-XX-----XXXXXXX"],"7_3_0":["-----------^^^^","---------------","X--------------","XXX----------XX","-XX----------X*","-XX----------X&","-XX----------X*","#XX--#-------XX","-XX-----#------","-XX------------","-XX--------^^^^"],"15_0_0":["^^^^^^^^^^^^^^^","--------------*","---------------","-------------^^","-----------^^^^","--------------&","-----------^^^^","X------------^^","XX-------------","#X------------*","^^^^^^^^^^^^^^^"],"0_12_0":["--XXXXX--XXXXXX","--XXXXX--XXXXXX","--XXXXX--XXXXXX","--XXXXX--XXXXXX","---------XXXXXX","---------XXXXX-","---------------","--XXXXX--XXXXXX","--XXXXX--XXXXXX","--XXXXX--XXXXXX","--XXXXX--XXXXXX"],"12_1_0":["----^^^^^^^^^^^","---------X--X--","---------X--X--","---------X--X--","---------X--X--","---------X-#X-#","---------X--X--","-*-------X--X--","---------X--X--","---------------","----^^^^^^^^^^^"],"2_5_0":["XX-------------","XX-------------","XX---XX--------","XX-#-XXXX------","XX-----XX------","XXXX---XX-----&","XXXX---XX------","XXXX--#XX------","XXXX---XX--#---","-------XX------","&------XX------"],"4_2_0":["---------------","---------------","X--------------","XXX------------","-XX------------","-XX--------#---","-XX------------","#XX--#---------","-XX-----#------","-XX------------","-XX--------*---"],"2_9_0":["XX---------XXXX","XX---------XXXX","XX---XX----XXXX","XX-#-XXXX--XXXX","XX-----XX------","XXXX---XX------","XXXX---XX----#-","XXXX--#XX--XXXX","XXXX---XX--XXXX","-------XX--XXXX","&------XX--XXXX"],"5_7_0":["-----XXXXX---&-","-----XXXXX--^^^","X----XXXXX--^^^","XXX--XXXXX--^^^","-XX---------^^^","-XX---------^^^","-XX----#----^^^","#XX--XXXXX--^^^","-XX--XXXXX--^^^","-XX--XXXXX--^^^","-XX--XXXXX---*-"],"5_0_0":["---------------","---------------","---------------","---X--------#--","---X-----------","XXXX-----#-----","#*-X-----------","---X--#--------","---------------","---------------","---------*-----"],"15_2_0":["--^^^^^^^^^^^^^","---------------","--------------X","-----X-----X--X","-----X-&-&-X--X","-----XXXXXXX--*","-----X-*#*-X--X","-----X-----X--X","--------------X","---------------","--^^^^^^^^^^^^^"],"8_1_0":["----------^^^^^","------------X--","------------X--","---X--------X--","---X--------X--","XXXX--------X-#","#*-X--------X--","---X--#-----X--","------------X--","---------------","----------^^^^^"],"0_7_0":["XX-------------","XX-------------","XX---XX----XX--","XX-#-XX----XXXX","XX-----------XX","XXXX----XX---XX","XXXX----XX---XX","XXXX----XX---XX","XXXX----XX---XX","-------------XX","&------------XX"],"1_7_0":["XX-----------XX","XX-----------XX","XX---XX------XX","XX-#-XXXX----XX","XX-----XX----XX","XXXX---XX----XX","XXXX---XX----XX","XXXX--#XX----XX","XXXX---XX----XX","-------XX------","&------XX------"],"3_10_0":["-------XXXXXXXX","-------XXXXXXXX","X------XXXXXXXX","XXX----XXXXXXXX","-XX---------#XX","-XX----------XX","-XX------#----*","#XX----XXXXXXXX","-XX----XXXXXXXX","-XX----XXXXXXXX","-XX----XXXXXXXX"],"0_0_0":["---------XX----","---------------","---------------","---------------","---------------","---------------","-#-------------","---------------","---------------","---------------","---------XX----"],"10_3_0":["--------^^^^^^^","---------------","X--------------","XXX-------X----","-XX-------X-&-&","-XX-------XXXXX","-XX-------X-*#*","#XX--#----X----","-XX------------","-XX------------","-XX-----^^^^^^^"],"5_4_0":["---------X-----","---------X-----","X--------X---^-","XXX------X---^-","-XX----------^-","-XX----------^-","-XX------#-#-#-","#XX--#---------","-XX------------","-XX------XXXXXX","-XX------XXXXXX"],"2_2_0":["---------------","---------------","X--------------","XXX------------","-XX------------","-XX-----------&","-XX------------","#XX--#---------","-XX-----#------","-XX------------","-XX------------"],"3_9_0":["XX---------XXXX","XX---------XXXX","XX---XX----XXXX","XX-#-XXXX--XXXX","XX-----XX----*-","XXXX---XX------","XXXX---XX-----#","XXXX--#XX--XXXX","XXXX---XX--XXXX","-------XX--XXXX","&------XX--XXXX"],"6_0_0":["--------------&","-------------^^","-------------^^","---X---------^^","---X---------^^","XXXX---------^^","#*-X---------^^","---X--#------^^","---------#---^^","-------------^^","--------------*"],"5_6_0":["XX----------^^^","XX-------------","XX---XX-------X","XX-#-XXXX-----X","XX-----XX-----X","XXXX---XX-----*","XXXX---XX-----X","XXXX--#XX-----X","XXXX---XX-----X","-------XX------","&------XX---^^^"],"3_6_0":["XX------------X","XX------------X","XX---XX-------X","XX-#-XXXX-----X","XX-----XX-----X","XXXX---XX--#--X","XXXX---XX-----X","XXXX--#XX-----X","XXXX---XX-----X","-------XX------","&------XX--*---"],"2_7_0":["XX----------XX-","XX----------XX-","XX---XX-----XX-","XX-#-XXXX---XX#","XX-----XX---XX-","XXXX---XX---XX-","XXXX---XX---XX-","XXXX--#XX---XXX","XXXX---XX-----X","-------XX------","&------XX------"],"15_3_0":["--^^^^^^^^^^^^^","----*#X--X--X--","----XXX--X--X--","----XX---X--X--","----X----X--X--","----X----X-#X-#","----X----X--X--","----X----X--X--","----X----X--X--","---------------","--^^^^^^^^^^^^^"],"4_11_0":["------XXXXXXXXX","------XXXXXXXXX","X-----XXXXXXXXX","XXX---XXXXXXXXX","-XX-----*---#XX","-XX----------XX","-XX------#----*","#XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX"],"9_4_0":["-------^^^^^^^^","---------------","X-------------X","XXX------XXX--X","-XX------X*X--X","-XX------X&---*","-XX------X*X--X","#XX------XXX--X","-XX-----------X","-XX------------","-XX----^^^^^^^^"],"11_0_0":["------^^^^^^^^^","---------------","---------------","-----------X---","---#-------X-&-","-----------XXXX","-----------X-*#","-*---------X---","---------------","---------------","------^^^^^^^^^"],"5_9_0":["-*XXXXXXXXXXXXX","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","-------------^^","-#------------&","----#---#----^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXXXXXX"],"5_12_0":["-*XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","-------------*-","-#-----&-------","----#-----#---#","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"8_5_0":["------^^^^^^^^^","--------X--X--X","X-------X--X--X","XXX-----X--X--X","-XX-----X--X--X","-XX-----X--X--X","-XX-----X--X--X","#XX-----X--X--X","-XX-----X--X--X","-XX------------","-XX---^^^^^^^^^"],"1_11_0":["XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","XXXXXXXXXX*XXX-","---------------","&----&----#----"],"2_0_0":["---------------","---------------","---------------","---X-----------","---X-----------","XXXX----------&","#*-X-----------","---X--#--------","---------------","---------------","---------------"],"14_3_0":["--^^^^^^^^^^^^^","------*#X--X--X","------XXX--X--X","------XX---X--X","------X----X--X","------X----X-#X","------X----X--X","------X----X--X","------X----X--X","---------------","--^^^^^^^^^^^^^"],"7_8_0":["-*XXXXXXXXX---&","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","-------*-----^^","-#-----------^^","----#---#----^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX---*"],"3_8_0":["XX---------XXXX","XX---------XX--","XX---XX----XX--","XX-#-XXXX--XX--","XX-----XX------","XXXX---XX------","XXXX---XX------","XXXX--#XX--XX--","XXXX---XX--XX--","-------XX--XX*#","&------XX--XXXX"],"1_8_0":["XX----------XXX","XX----------XXX","XX---XX-----XXX","XX-#-XXXX---XXX","XX-----XX---XXX","XXXX---XX---XXX","XXXX---XX---XXX","XXXX--#XX---XXX","XXXX---XX------","-------XX------","&------XX---XXX"],"7_6_0":["XX---------^^^^","XX-------------","XX---XX------X-","XX-#-XXXX----XX","XX-----XX----XX","XXXX---XX----*#","XXXX---XX----XX","XXXX--#XX----XX","XXXX---XX----X-","-------XX------","&------XX--^^^^"],"1_12_0":["-----XXXXXXXXXX","-----XXXXXXXXXX","X----XXXXXXXXXX","XXX--XXXXXXXXXX","-XX----&--&--#X","-XX-----------X","-XX------------","#XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX"],"10_1_0":["------^^^^^^^^^","------------X--","------------X--","---X--------X--","---X--------X--","XXXX--------X-#","#*-X--------X--","---X--------X--","------------X--","---------------","------^^^^^^^^^"],"0_11_0":["XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","---------------","&----&----&----"],"16_3_0":["^^^^^^^^^^^^^^^","---------------","-------------X-","--------XXX--XX","--------X*X--XX","--------X&---*#","--------X*X--XX","X-------XXX--XX","XX-----------X-","#X-------------","^^^^^^^^^^^^^^^"],"9_2_0":["------^^^^^^^^^","--------------*","X--------------","XXX----------^^","-XX--------^^^^","-XX-----------&","-XX--------^^^^","#XX----------^^","-XX------------","-XX-----------*","-XX---^^^^^^^^^"],"3_13_0":["-*XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","-----#XXXX-----","-#----XXXX--&--","-------*-------","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"4_12_0":["-----XXXXXXXXXX","-----XXXXXXXXXX","X----XXXXXXXXXX","XXX--XXXXXXXXXX","-XX----*---#XXX","-XX---------XXX","-XX-----#----*-","#XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX"],"1_0_0":["---------------","---------------","---------------","---X-----------","---X-----------","XXXX----------&","#*-X-----------","---X-----------","---------------","---------------","---------------"],"7_4_0":["---------^^^^^^","-----------X--X","X----------X--X","XXX--------X--X","-XX--------X--X","-XX--------X--X","-XX--------X--X","#XX--#-----X--X","-XX--------X--X","-XX------------","-XX------^^^^^^"],"9_1_0":["------^^^^^^^^^","---------------","---------------","---X----------X","---X----------X","XXXX----------X","#*-X----------X","---X----------X","---------------","---------------","------^^^^^^^^^"],"4_9_0":["-------XXXXXXXX","-------XXXXXXXX","X------XXXXXXXX","XXX----XXXXXXXX","-XX------*---*-","-XX------------","-XX-------#---#","#XX----XXXXXXXX","-XX----XXXXXXXX","-XX----XXXXXXXX","-XX----XXXXXXXX"],"1_14_0":["--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","----#XXXXXXXX--","-----XXXXXXX---","------*--------","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"2_10_0":["-------XXXXXXXX","-------XXXXXXXX","X------XXXXXXXX","XXX----XXXXXXXX","-XX---------#XX","-XX------&---XX","-XX-----------*","#XX----XXXXXXXX","-XX----XXXXXXXX","-XX----XXXXXXXX","-XX----XXXXXXXX"],"8_7_0":["-*XXXXXXXXXXXXX","--XXXXXX-----*-","--XXXXXX-------","--XXXXXX----^^^","----------^^^^^","-#-----------&-","----#-----^^^^^","--XXXXXX----^^^","--XXXXXX-------","--XXXXXX-----*-","--XXXXXXXXXXXXX"],"11_2_0":["------^^^^^^^^^","---------X--X--","---------X--X--","---X-----X--X--","---X-----X--X--","XXXX-----X-#X-#","#*-X-----X--X--","---X-----X--X--","---------X--X--","---------------","------^^^^^^^^^"],"6_7_0":["-*XXXXXXXXXXXXX","--XX---&---XXXX","--XX--^^^--XXXX","--XX--^^^--XXXX","------^^^----*-","-#----^^^------","------^^^-----#","--XX--^^^--XXXX","--XX--^^^--XXXX","--XX---&---XXXX","--XXXXXXXXXXXXX"],"2_13_0":["-----XXXXXXXXXX","-----XXXXXXXXXX","X----XXXXXXXXXX","XXX--XXXXXXXXXX","-XX----#XXXXX--","-XX-----XXXXX--","-XX------*-----","#XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX"],"6_1_0":["------------^^^","--------------X","--------------X","---X-----------","---X-----------","XXXX-----------","#*-X-----------","---X--#--------","---------#-----","---------------","------------^^^"],"3_11_0":["------XXXXXXXXX","------XXXXXXXXX","X-----XXXXXXXXX","XXX---XXXXXXXXX","-XX--------#XXX","-XX---------XXX","-XX-----#----*-","#XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX"],"10_2_0":["-----^^^^^^^^^^","--------------*","X--------------","XXX----------^^","-XX--------^^^^","-XX-----------&","-XX--------^^^^","#XX----------^^","-XX------------","-XX-----------*","-XX--^^^^^^^^^^"],"17_2_0":["^^^^^^^^^^^^^^^","---------------","---------------","-----XXX--X----","-----X*X--X-&-&","-----X&---XXXXX","-----X*X--X-*#*","X----XXX--X----","XX-------------","#X-------------","^^^^^^^^^^^^^^^"],"16_4_0":["^^^^^^^^^^^^^^^","-----X--X--X--X","-----X--X--X--X","-----X--X--X--X","-----X--X--X--X","-----X-#X-#X-#X","-----X--X--X--X","X----X--X--X--X","XX---X--X--X--X","#X-------------","^^^^^^^^^^^^^^^"],"8_8_0":["-*XXXXXXXXXXXXX","--XXXXXXX-----*","--XXXXXXX------","--XXXXXXX----^^","----*------^^^^","-#------------&","-----#-----^^^^","--XXXXXXX----^^","--XXXXXXX------","--XXXXXXX-----*","--XXXXXXXXXXXXX"],"10_4_0":["------^^^^^^^^^","---------------","X-------------X","XXX------XXX--X","-XX------X*X--X","-XX------X&---*","-XX------X*X--X","#XX------XXX--X","-XX-----------X","-XX------------","-XX---^^^^^^^^^"],"0_14_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","-------&-------","---------------","----------*----","&-XXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"2_16_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","-------#XXXXXXX","--------XXXXXXX","----#----*-----","&-XXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"15_4_0":["^^^^^^^^^^^^^^^","-----X--X--X--X","-----X--X--X--X","-----X--X--X--X","-----X--X--X--X","-----X-#X-#X--X","-----X--X--X--X","X----X--X--X--X","XX---X--X--X--X","#X-------------","^^^^^^^^^^^^^^^"],"8_6_0":["-*XXXXXXXXXXXXX","--XXXXX-----*--","--XXXXX--------","--XXXXX----^^^-","---------^^^^^^","-#----------&--","----#----^^^^^^","--XXXXX----^^^-","--XXXXX--------","--XXXXX-----*--","--XXXXXXXXXXXXX"],"7_5_0":["------X--^^^^^^","------X----X--X","X-----X----X--X","XXX---X----X--X","-XX--------X--X","-XX--------X-#X","-XX--------X--X","#XX---X----X--X","-XX---X----X--X","-XX---X--------","-XX---X--^^^^^^"],"6_10_0":["-*XXXXXXXXXXXXX","--XXXXXXXXX----","--XXXXXXXXX--X-","--XXXXXXXXX--X-","-------*-----X-","-#-----------X-","----#---#----X-","--XXXXXXXXX--XX","--XXXXXXXXX--XX","--XXXXXXXXX-&*#","--XXXXXXXXXXXXX"],"6_8_0":["-*XXXXXXXX--^^^","--XXXXXXXX-----","--XXXXXXXX----X","--XXXXXXXX----X","--------------X","-#-----&------*","----#---------X","--XXXXXXXX----X","--XXXXXXXX----X","--XXXXXXXX-----","--XXXXXXXX--^^^"],"12_2_0":["------^^^^^^^^^","---------------","-------------X-","--------XXX--XX","---#----X*X--XX","--------X&---*#","--------X*X--XX","-*------XXX--XX","-------------X-","---------------","------^^^^^^^^^"],"4_13_0":["-*XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","----------#XXXX","-#-----&---XXXX","----#-------*--","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"17_3_0":["^^^^^^^^^^^^^^^","---------------","--------------X","-----X-----X--X","-----X-&-&-X--X","-----XXXXXXX--*","-----X-*#*-X--X","X----X-----X--X","XX------------X","#X-------------","^^^^^^^^^^^^^^^"],"3_14_0":["-*XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","-----#XXXXXXX--","-#----XXXXXX---","-------*-------","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"11_4_0":["------^^^^^^^^^","---------------","X--------------","XXX-----X-----X","-XX-----X-&-&-X","-XX-----XXXXXXX","-XX-----X-*#*-X","#XX-----X-----X","-XX------------","-XX------------","-XX---^^^^^^^^^"],"10_6_0":["XXX--^^^^^^^^^^","XXX-----X--X--X","XXX-----X--X--X","XXX-----X--X--X","XXX-----X--X--X","XXX-----X-#X-#X","XXX-----X--X--X","X-------X--X--X","--------X--X--X","-XX------------","XXX--^^^^^^^^^^"],"0_13_0":["-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXX-&-X","---------------","---------------","-------#-------","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX"],"11_5_0":["-----^^^^^^^^^^","--------X--X--X","X-------X--X--X","XXX-----X--X--X","-XX-----X--X--X","-XX-----X-#X-#X","-XX-----X--X--X","#XX-----X--X--X","-XX-----X--X--X","-XX------------","-XX--^^^^^^^^^^"],"8_9_0":["XXXXXXXX--^^^^^","XXXXXXXX-------","XXXXXXXX----X--","XXXXXXXX----XX-","----*-------XXX","------------*#X","-----#------XXX","&-XXXXXX----XX-","XXXXXXXX----X--","XXXXXXXX-------","XXXXXXXX--^^^^^"],"9_7_0":["XXXXXXXXXXXXXXX","----*-----XXXXX","----------XXXXX","---^^^----XXXXX","^^^^^^^^----*--","----&----------","^^^^^^^^-----#-","---^^^----XXXXX","----------XXXXX","----*-----XXXXX","XXXXXXXXXXXXXXX"],"2_14_0":["--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","-------#XXXXXXX","--------XXXXXX-","----#----*-----","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"9_5_0":["------^^^^^^^^^","--------X--X--X","X-------X--X--X","XXX-----X--X--X","-XX-----X--X--X","-XX-----X-#X--X","-XX-----X--X--X","#XX-----X--X--X","-XX-----X--X--X","-XX------------","-XX---^^^^^^^^^"],"12_5_0":["-----^^^^^^^^^^","---------------","X-----------X--","XXX----XXX--XX-","-XX----X*X--XXX","-XX----X&---*#X","-XX----X*X--XXX","#XX----XXX--XX-","-XX---------X--","-XX------------","-XX--^^^^^^^^^^"],"10_5_0":["------^^^^^^^^^","--------X--X--X","X-------X--X--X","XXX-----X--X--X","-XX-----X--X--X","-XX-----X-#X-#X","-XX-----X--X--X","#XX-----X--X--X","-XX-----X--X--X","-XX------------","-XX---^^^^^^^^^"],"1_15_0":["--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","----#XXXXXXXXXX","-----XXXXXXXXXX","------*--------","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"12_4_0":["-----^^^^^^^^^^","---------------","X--------------","XXX-----X-----X","-XX-----X-&-&-X","-XX-----XXXXXXX","-XX-----X-*#*-X","#XX-----X-----X","-XX------------","-XX------------","-XX--^^^^^^^^^^"],"3_16_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","----#XXXX--#XXX","-----XXXX---XXX","------*------*-","&-XXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"9_6_0":["XXXXXXXXXXXXXXX","-----*-----XXXX","-----------XXXX","----^^^----XXXX","^^^^^^^^^------","-----&---------","^^^^^^^^^----#-","----^^^----XXXX","-----------XXXX","-----*-----XXXX","XXXXXXXXXXXXXXX"],"2_15_0":["-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-------#XXXXXXX","--------XXXXXX-","----#----*-----","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX"],"4_16_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","---*---#XXXXXXX","--------XXXXXX-","#---#----*-----","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"7_9_0":["XXXXXXXX--^^^^^","XXXXXXXX-------","XXXXXXXX----X--","XXXXXXXX----XX-","------------XXX","------------*#X","----#-------XXX","&-XXXXXX----XX-","XXXXXXXX----X--","XXXXXXXX-------","XXXXXXXX--^^^^^"],"5_14_0":["-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","---*---*---#XXX","------------XXX","----#---#----*-","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX"],"5_13_0":["-*XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","----*------#XXX","-#------&---XXX","-----#-------*-","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"4_14_0":["-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","---*---#XXXX--#","--------XXXX---","----#----*-----","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX"],"10_7_0":["^^^^^^^^^--XXXX","-----------XXXX","-X---------XXXX","XX--XXX----XXXX","XX--X*X----XXX-","#*--X&-----XX--","XX--X*X--------","XX--XXX----XXXX","-X---------XXXX","-----------XXXX","^^^^^^^^^--XXXX"],"4_15_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","-------*---#XXX","------------XXX","----#---#----*-","&-XXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"5_11_0":["-*XXXXXXXXXXXXX","--XXXXXXXXX*&XX","--XXXXXXXXX--XX","--XXXXXXXXX--XX","-------*-------","-#-------------","----#---#------","--XXXXXXXXX--XX","--XXXXXXXXX--XX","--XXXXXXXXX--XX","--XXXXXXXXXXXXX"],"16_1_0":["^^^^^^^^^^^^^^^","---------------","---------------","----------X----","----------X-&-&","----------XXXXX","----------X-*#*","X---------X----","XX-------------","#X-------------","^^^^^^^^^^^^^^^"],"11_6_0":["XXX--^^^^^^^^^^","XXX------------","XXX---------X--","XXX----XXX--XX-","XXX----X*X--XXX","XXX----X&---*#X","XXX----X*X--XXX","XXX----XXX--XX-","XXX---------X--","---------------","XXX--^^^^^^^^^^"],"18_2_0":["^^^^^^^^^^^^^^^","---------------","---------------","-X-----X--X----","-X-&-&-X--X-&-&","-XXXXXXX--XXXXX","-X-*#*-X--X-*#*","-X-----X--X----","---------------","---------------","^^^^^^^^^^^^^^^"],"12_6_0":["^^^^^^^^^--XXXX","-----------XXXX","-X---------XXXX","XX--XXX----XXXX","XX--X*X------*-","#*--X&---------","XX--X*X-------#","XX--XXX----XXXX","-X---------XXXX","-----------XXXX","^^^^^^^^^--XXXX"],"6_9_0":["-*XXXXXXXXXXXXX","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","-------*-----^^","-#------------&","----#---#----^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXXXXXX"],"3_15_0":["-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","---*---#XXXXXXX","--------XXXXXX-","----#----*-----","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX"],"7_10_0":["XXXXXXXXXXXXXXX","------XXXXXXXXX","------XXXXXXXXX","------XXXXXXXXX","^^^^----*------","------------#--","^^^^-----#----*","------XXXXXXXXX","------XXXXXXXXX","------XXXXXXXXX","XXXXXXXXXXXXXXX"],"6_15_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","---*---*---#XXX","------------XXX","#---#---#----*-","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"5_15_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","---*------#XXXX","-----------XXXX","#---#--#----*--","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"18_3_0":["^^^^^^^^^^^^^^^","---------------","-X-------------","XX---XXX--X----","XX---X*X--X-&-&","#*---X&---XXXXX","XX---X*X--X-*#*","XX---XXX--X----","-X-------------","---------------","^^^^^^^^^^^^^^^"],"13_4_0":["---^^^^^^^^^^^^","-----X--X--X--X","-----X--X--X--X","X----X--X--X--X","X----X--X--X--X","X----X-#X-#X-#X","X----X--X--X--X","X----X--X--X--X","-----X--X--X--X","---------------","---^^^^^^^^^^^^"],"6_14_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","---*---------*-","---------------","#---#--#--#---#","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"6_11_0":["-*XXXXXXXXXXXXX","--XXXXXXXXXX*&X","--XXXXXXXXXX--X","--XXXXXXXXXX--X","----*---*------","-#-------------","-----#---#-----","--XXXXXXXXXX--X","--XXXXXXXXXX--X","--XXXXXXXXXX--X","--XXXXXXXXXXXXX"],"14_4_0":["^^^^^^^^^^^^^^^","-X---------X--X","-X---------X--X","-X--X--X---X--X","-X--X--X---X--X","-X--XXXX---X--X","-X--X--X---X--X","-X--X--X---X--X","-X---------X--X","-#-------------","^^^^^^^^^^^^^^^"],"6_12_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXX----","XXXXXXXXXXX--X-","XXXXXXXXXXX--X-","---*---*-----X-","-------------X-","#---#---#----X-","XXXXXXXXXXX--XX","XXXXXXXXXXX--XX","XXXXXXXXXXX-&*#","XXXXXXXXXXXXXXX"],"1_17_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","X---#XXXXXXXXXX","-----XXXXXXXXXX","------*--------","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"]};class z5{playerIsOnLastLevel=!1;keys=[];columnsPerLevel=[];lossesInARow=0;playerWonLastRound=!1;levelsPlayed=0;optimizeDifficulty;type;constructor(){if(new URLSearchParams(window.location.search).has("default"))this.type=p1;else this.type=X2([K1,H1,u8,Y1,p1]);if(console.log(`Director: ${this.type}`),u.director=this.type,this.type==H1)this.optimizeDifficulty=!0;else this.optimizeDifficulty=!1;for(let Q in V.nodes)V.nodes[Q].updateReward(this.optimizeDifficulty)}update(Z,Q){if(++this.levelsPlayed,console.log(this.levelsPlayed,this.type),this.levelsPlayed%K9==0&&this.type==Y1){console.log("switch!"),this.optimizeDifficulty=!this.optimizeDifficulty;for(let U in V.nodes)V.nodes[U].updateReward(this.optimizeDifficulty)}let J=this.keys.length,$=[];if(Z){this.lossesInARow=0;for(let U=0;U<J;++U)$.push(1)}else{let U=Q;for(let q=0;q<J;++q)if(U>this.columnsPerLevel[q])$[q]=1,U-=this.columnsPerLevel[q];else{$[q]=U/this.columnsPerLevel[q];break}}let w=$.length;for(let U=0;U<w;++U){let q=$[U],h=this.keys[U],j=V.getNode(h);if(q===1){if(!V.hasEdge(u0,h))console.log(`'adding edge: ${u0} -> ${h}`),V.addEdge(new x(u0,h,[[h,1],[W,0]],[]))}++j.visitedCount,j.sumPercentCompleted+=q,j.updateReward(this.optimizeDifficulty);let R=j.sumPercentCompleted/j.visitedCount,f=1-R;V.mapEdges((Y)=>{if(Y.tgt===h)Y.probability[0][1]=R,Y.probability[1][1]=f})}if(!Z){++this.lossesInARow;for(let U=0;U<this.lossesInARow;++U){let q=V.getNode(u0).neighbors,h=q.length;if(h===1)break;let j="",R=1e4,f=0;for(let Y=0;Y<h;++Y){let K=q[Y];if(K==="0_0_0")continue;let P=V.getNode(K),A=P.depth;if(A<R||A===R&&f<P.difficulty)j=K,R=A,f=P.difficulty}console.log("removing edge:",j,R,f),V.removeEdge(u0,j)}}this.playerWonLastRound=Z}get(Z){let Q;if(this.type==K1)Q=V5(V),console.log(Q);else Q=w5(V,0.95,!0,!0,20);if(this.columnsPerLevel=[],this.playerWonLastRound)this.keys=[X2(Q[u0])];else this.keys=[u0];for(let U=0;U<Z;++U){let q=X2(Q[this.keys[U]]);if(this.keys.push(q),q===s6)break}this.keys.splice(0,1),this.playerIsOnLastLevel=this.keys.includes(s6);let J,$=new Array(Y2).fill(""),w=this.keys.length;for(let U=0;U<w;++U){let q=fQ[this.keys[U]].slice();if(U>0){let j=V.getEdge(this.keys[U-1],this.keys[U]).link,R=j.length;if(R>0)for(let f=0;f<R;++f){let Y=j[f];for(J=0;J<Y2;++J)q[J]=Y[J]+q[J]}}this.columnsPerLevel.push(q[0].length);for(J=0;J<Y2;++J)$[J]+=q[J]}return console.log($.join(`
`)),$}}class U5 extends m2{playerWonIndex=0;playerLostIndex=0;selfIndex=0;mainMenuIndex=0;director;start=0;constructor(){super();this.director=new z5,this.setBB("game over",0),this.setBB("restart",!1)}onEnter(Z){let U=1000,q=0,h=1000,j=0,R=new n2.GridCollisions,f=0,Y=this.director.get(2),P=Y[0].length+4;for(let A=0;A<Y2;++A){let _=[...`--${Y[A]}--`];if(A==0)_[0]="@";else if(A==Y2-1)_[P-1]="O";for(let M=0;M<P;++M){let C=_[M],n=this.addEntity(),d=8+M,B0=7+A;if(U=Math.min(U,d),q=Math.max(q,d),h=Math.min(h,B0),j=Math.max(j,B0),C=="-")continue;this.addComponent(n,new g.Render(C));let l0=new D.Position2d(d,B0);if(this.addComponent(n,l0),R.set(l0,n),C=="O")this.addComponent(n,new g.Portal),this.setBB("portal id",n);else if(C=="@")this.addComponent(n,new g.Player(A0,0)),this.addComponent(n,new g.Movable),this.setBB("player id",n);else if(C=="*")this.addComponent(n,new g.Switch),f+=1;else if(C=="#")this.addComponent(n,new g.Movable),this.addComponent(n,new g.Enemy("Enemy",new D.Position2d(d,B0))),this.addComponent(n,new g.Territory(l0));else if(C=="^")this.addComponent(n,new g.Enemy("Spike",new D.Position2d(d,B0)));else if(C=="/"||C=="\\"||C=="X")this.addComponent(n,new n0);else if(C=="&")this.addComponent(n,new g.Food)}}for(let A=3;A<Z.height/20-1;++A)for(let _=1;_<Z.width/20-1;++_)if(_<U||_>q||A<h||A>j){let M=this.addEntity();this.addComponent(M,new g.Render("X"));let C=new D.Position2d(_,A);if(this.addComponent(M,C),_==U-1||A==h-1||_==q+1||A==j+1)R.set(C,M),this.addComponent(M,new g.Collider)}this.setBB("switch count",f),this.setBB("offset x",8),this.setBB("offset y",7),this.setBB("x mod",20),this.setBB("y mod",20),this.setBB("grid collisions",R),this.setBB("time step",0),this.addSystem(0,new J2.PlayerMovement),this.addSystem(10,new J2.PlayerCollision),this.addSystem(20,new J2.EnemyAI),this.addSystem(90,new J2.PortalSystem),this.addSystem(95,new J2.RenderEnemyTerritory),this.addSystem(100,new J2.RenderSystem),this.addSystem(110,new J2.RenderGameInfo),this.addSystem(900,new J2.UpdatePlayerTurn),u.diedFrom="",u.playerWon=!1,u.levels=this.director.keys,this.start=Date.now()}onExit(Z){let Q=this.getBB("game over"),J=this.getBB("player id"),$=this.getComponents(J).get(H0).furthestColumn;this.director.update(Q===1,$),++u.order,u.playerPathX.length=0,u.playerPathY.length=0,this.clear()}customUpdate(Z){let Q=this.getBB("game over");if(Q===-1||Q===1){let $=(Date.now()-this.start)/1000;return u.time=$,P0.submitAttempt(),Q==1?this.playerWonIndex:this.playerLostIndex}else if(Z.keyDown.has(9))return this.selfIndex;else if(Z.keyDown.has(8))return this.mainMenuIndex;return-1}}class W5 extends T0{gameSceneIndex=0;surveySceneIndex=0;timer=0;constructor(){super()}onEnter(Z){this.timer=0}onExit(Z){}update(Z){if(performance.now()-i8>C8)return this.surveySceneIndex;if(this.timer+=Z.delta,this.timer>2||Z.keyDown.has(12))return this.gameSceneIndex;else return Z.setFont(40),Z.drawText(360,240,"You lost! :/","red"),-1}}class x5 extends T0{gameSceneIndex=0;surveySceneIndex=0;timer=0;constructor(){super()}onEnter(Z){this.timer=0}onExit(Z){}update(Z){if(performance.now()-i8>C8)return this.surveySceneIndex;if(this.timer+=Z.delta,this.timer>2||Z.keyDown.has(12))return n2.Cookie.set(Z.getBB("level"),"b"),this.gameSceneIndex;else return Z.setFont(40),Z.drawText(420,240,"You won!","green"),-1}}class q5 extends T0{sceneIndex=0;gameIndex=0;tutorialIndex=0;surveyIndex=0;timer=0;constructor(){super()}onEnter(Z){}onExit(Z){}update(Z){if(Z.keyDown.has(12)){if(Z.keyDown.clear(),W2.get("completed tutorial"))return this.gameIndex;return this.tutorialIndex}else return Z.setFont(40),Z.drawText(360,100,"DungeonGrams"),Z.setFont(20),Z.drawText(385,150,"Press Enter to Start"),Z.drawText(250,200,"& gives you stamina","yellow"),Z.drawText(250,222,"Collect all * to open the portal.","yellow"),Z.drawText(250,244,"Step through the portal O to win!","yellow"),Z.drawText(250,266,"But make sure to avoid the enemies # and traps ^","yellow"),Z.drawText(250,350,"WASD or Arrows to move","green"),Z.drawText(250,375,"Space to do nothing for a turn","green"),Z.drawText(250,400,"R to restart","green"),Z.drawText(250,425,"Q to quit","green"),-1}}class B5 extends m2{gameSceneIndex=0;constructor(){super();this.setBB("x mod",20),this.setBB("y mod",20),this.setBB("turn",0),this.setBB("tutorial over",!1),this.setBB("time step",0);let Z=this.addEntity();this.setBB("player id",Z),this.addComponent(Z,new D.Position2d(25,5)),this.addComponent(Z,new H2),this.addComponent(Z,new H0(A0,0)),this.addComponent(Z,new L0("@"));let Q=this.addEntity();this.addComponent(Q,new D.Position2d(5,20)),this.addComponent(Q,new g0("Press 'A' to move left.")),this.addSystem(0,new B8(Z,Q)),this.addSystem(90,new h8),this.addSystem(100,new M1)}customUpdate(Z){if(this.getBB("tutorial over"))return console.log(this.gameSceneIndex,"done"),this.gameSceneIndex;return-1}onEnter(Z){}onExit(Z){}}class h5 extends T0{constructor(){super()}onEnter(Z){document.getElementById("game").style.display="none",document.getElementById("demographic").style.display="block",Z.shutoff()}onExit(Z){}update(Z){return-1}}var P2={Game:U5,PlayerLost:W5,PlayerWon:x5,StartMenu:q5,Tutorial:B5,Survey:h5};var L2=["I liked the look and feel of the game.","The game was not too easy and not too hard to play.","It was easy to know how to perform actions in the game.","The goals of the game were clear to me.","The game gave clear feedback on my progress towards the goals.","I felt free to play the game in my own way.","I wanted to explore how the game evolved.","I was fully focused on the game.","I felt I was good at playing this game.","Playing the game was meaningful to me.","I had a good time playing this game."];function F5(Z){let Q=Z.length-1;for(;Q>0;--Q){let J=Math.floor(Math.random()*(Q+1)),$=Z[Q];Z[Q]=Z[J],Z[J]=$}}P0.init();if(location.hostname==="localhost"||location.hostname==="127.0.0.1"||location.hostname==="")u.playerID="-1";else if(new URLSearchParams(window.location.search).has("id"))u.playerID=crypto.randomUUID();else u.playerID="-1";console.log(`Player ID: ${u.playerID}`);var $2=new P8;$2.displayFPS=!1;var B6=new P2.StartMenu,R8=new P2.Game,G5=new P2.PlayerLost,O5=new P2.PlayerWon,HQ=new P2.Tutorial,e$=new P2.Survey,Z3=$2.addScene(B6),G8=$2.addScene(R8),Q3=$2.addScene(G5),J3=$2.addScene(O5),X3=$2.addScene(HQ),I5=$2.addScene(e$);B6.tutorialIndex=X3;B6.gameIndex=G8;B6.surveyIndex=I5;R8.playerLostIndex=Q3;R8.playerWonIndex=J3;R8.selfIndex=G8;R8.mainMenuIndex=Z3;G5.gameSceneIndex=G8;G5.surveySceneIndex=I5;O5.gameSceneIndex=G8;O5.surveySceneIndex=I5;HQ.gameSceneIndex=G8;$2.start();F5(L2);F5(L2);var k5=document.getElementById("questionnaire"),M2=0;for(;M2<L2.length;++M2){let Z=L2[M2],Q=Z.split(" ").join("_"),J=`<fieldset id="${Q}" style="margin-left:15%; margin-right:15%">
  <label for="${Q}" required><b>${Z}</b></label>
    <br/>
    <br/>
    <table>
      <tr>
        <td></td>
        <td>-3</td>
        <td>-2</td>
        <td>-1</td>
        <td>&#20;0</td>
        <td>&#20;1</td>
        <td>&#20;2</td>
        <td>&#20;3</td>
        <td></td>
      </tr>
      <tr>
        <td>Strongly disagree</td>
        <td><input type="radio" name="${Q}" value="-3"/></td>
        <td><input type="radio" name="${Q}" value="-2"/></td>
        <td><input type="radio" name="${Q}" value="-1"/></td>
        <td><input type="radio" name="${Q}" value="0"/></td>
        <td><input type="radio" name="${Q}" value="1"/></td>
        <td><input type="radio" name="${Q}" value="2"/></td>
        <td><input type="radio" name="${Q}" value="3"/></td>
        <td>Strongly agree</td>
      </tr>
    </table>
  </fieldset>
  <br/>`;k5.innerHTML+=J}var L5=document.createElement("button");L5.type="submit";L5.innerText="Submit";k5.appendChild(L5);k5.onsubmit=(Z)=>{Z.preventDefault();let Q={};for(M2=0;M2<L2.length;++M2){let J=L2[M2],$=J.split(" ").join("_"),w=document.getElementsByName($),U=!1;for(let q=0;q<7;++q){let h=w[q];if(h.checked){Q[J]=Number(h.value),U=!0;break}}document.getElementById($).style.borderColor=U?"white":"red"}if(Object.keys(Q).length==L2.length)P0.submitSurvey(Q),document.getElementById("survey").style.display="none",document.getElementById("complete").style.display="block";else document.getElementById("errorText").innerText="Please fill in the whole questionnaire. Red boxes indicate missed answers."};var w1="demo-games",$3=document.getElementById("demo-submit"),j5=["demo-age","demo-time"];$3.onclick=()=>{let Z={};console.log(j5);for(let $=0;$<j5.length;++$){let w=j5[$],U=document.getElementsByName(w);for(let q=0;q<U.length;++q)if(U[q].checked){Z[w]=U[q].value;break}if(w in Z)document.getElementById(w).style.borderColor="white";else document.getElementById(w).style.borderColor="red"}let Q=document.getElementsByName(w1),J=[];for(let $=0;$<Q.length;++$){let w=Q[$];if(w.checked)J.push(w.value)}if(J.length>0)Z[w1]=J,document.getElementById(w1).style.borderColor="white";else document.getElementById(w1).style.borderColor="red",document.getElementById("demoErrorText").innerText="Please fill in the whole questionnaire. Red boxes indicate missed answers.";if(console.log(Z),Object.keys(Z).length===3)u.demographicSurveyData=Z,document.getElementById("demographic").style.display="none",document.getElementById("survey").style.display="block"};document.getElementById("demo-none").onclick=()=>{let Z=document.getElementsByName(w1);for(let Q=0;Q<Z.length;++Q)Z[Q].checked=Z[Q].value==="None of the above"};var R5=document.getElementsByName(w1);for(let Z=0;Z<R5.length;++Z)if(R5[Z].value!=="None of the above")R5[Z].onclick=()=>{document.getElementById("demo-none").checked=!1};document.getElementById("done").onclick=()=>{$2.shutoff(),document.getElementById("game").style.display="none",document.getElementById("demographic").style.display="block"};
