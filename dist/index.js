var JJ=Object.defineProperty;var A6=(Z,Q)=>{for(var J in Q)JJ(Z,J,{get:Q[J],enumerable:!0,configurable:!0,set:($)=>Q[J]=()=>$})};function _6(Z){switch(Z){case"Down":case"ArrowDown":return 2;case"Up":case"ArrowUp":return 3;case"Right":case"ArrowRight":return 1;case"Left":case"ArrowLeft":return 0;case" ":case"Space":return 10;case"Escape":return 11;case"a":case"A":return 5;case"s":case"S":return 6;case"d":case"D":return 7;case"w":case"W":return 4;case"r":case"R":return 9;case"q":case"Q":return 8;case"Enter":return 12;default:return console.warn(`Unhandled key: ${Z}.`),13}}class l8{keyDown=new Set;keyPress=new Set;width;height;delta;clearBackground=!0;displayFPS=!0;scenes=new Array;sceneIndex=0;ctx;blackBoard=new Map;fontSize=20;font="Courier New";running=!0;constructor(){window.addEventListener("keydown",(Q)=>{let J=_6(Q.key);if(J==2||J==3||J==0||J==1)Q.preventDefault();if(!this.keyDown.has(J))this.keyDown.add(J);this.keyPress.add(J)}),window.addEventListener("keyup",(Q)=>{let J=_6(Q.key);this.keyDown.delete(J)});let Z=document.getElementById("canvas");this.ctx=Z.getContext("2d"),this.setFont(),this.width=Z.width,this.height=Z.height,this.delta=0}isKeyDown(Z){return this.keyDown.has(Z)}setBB(Z,Q){this.blackBoard.set(Z,Q)}getBB(Z){return this.blackBoard.get(Z)}addScene(Z){return this.scenes.push(Z),this.scenes.length-1}start(){let Z,Q;this.scenes[this.sceneIndex].onEnter(this);let J=($)=>{if(this.delta=($-Z)/1000,Z=$,Q=Math.round(1/this.delta),this.clearBackground)this.ctx.fillStyle="black",this.ctx.fillRect(0,0,this.width,this.height);if(this.update(),this.displayFPS&&this.clearBackground){let V=this.fontSize,U=this.font;this.setFont(8,"Courier New"),this.drawText(this.width-60,15,`FPS: ${Q}`,"red"),this.setFont(V,U)}if(this.keyPress.clear(),this.running)window.requestAnimationFrame(J)};window.requestAnimationFrame(J)}update(){let Z=this.scenes[this.sceneIndex].update(this);if(Z!==-1)this.scenes[this.sceneIndex].onExit(this),this.sceneIndex=Z,this.scenes[this.sceneIndex].onEnter(this)}setFont(Z=void 0,Q=void 0){if(Z!=null)this.fontSize=Z;if(Q!=null)this.font=Q;this.ctx.font=`${this.fontSize}px ${this.font}`}drawRectOutline(Z,Q,J,$,V,U){this.ctx.lineWidth=V,this.ctx.strokeStyle=U,this.ctx.strokeRect(Z,Q,J,$)}drawRect(Z,Q,J,$,V){this.ctx.fillStyle=V,this.ctx.fillRect(Z,Q,J,$)}drawText(Z,Q,J,$="white",V=!1,U="white"){if(V){let B=this.ctx.measureText(J);this.drawRect(Z-1,Q-this.fontSize*0.7,B.width,this.fontSize-2,U)}this.ctx.fillStyle=$,this.ctx.fillText(J,Z,Q)}shutoff(){this.running=!1}}class Q0{}class P6{map=new Map;add(Z){this.map.set(Z.constructor,Z)}get(Z){return this.map.get(Z)}has(Z){return this.map.has(Z)}hasAll(Z){for(let Q of Z)if(!this.map.has(Q))return!1;return!0}delete(Z){this.map.delete(Z)}}class $0{ecs}class T0{}class m2 extends T0{entities=new Map;priorityToSystem=new Map;priorityToComponents=new Map;priorities=new Array;blackBoard=new Map;nextEntityID=0;entitiesToDestroy=new Array;update(Z){for(let Q of this.priorities){let J=this.priorityToSystem.get(Q),$=this.priorityToComponents.get(Q);J.update(Z,$)}while(this.entitiesToDestroy.length>0)this.destroyEntity(this.entitiesToDestroy.pop());return this.customUpdate(Z)}addEntity(){let Z=this.nextEntityID;return this.nextEntityID++,this.entities.set(Z,new P6),Z}removeEntity(Z){this.entitiesToDestroy.push(Z)}addComponent(Z,Q){this.entities.get(Z).add(Q),this.checkE(Z)}getComponents(Z){return this.entities.get(Z)}removeComponent(Z,Q){this.entities.get(Z)?.delete(Q),this.checkE(Z)}setBB(Z,Q){this.blackBoard.set(Z,Q)}getBB(Z){return this.blackBoard.get(Z)}addSystem(Z,Q){if(this.priorities.includes(Z)){alert("Fatal error. Check the console."),console.error(`${Q} can not be used since priority ${Z} already in use.`);return}Q.ecs=this,this.priorityToSystem.set(Z,Q),this.priorityToComponents.set(Z,new Set),this.priorities.push(Z),this.priorities.sort();for(let J of this.entities.keys())this.checkES(J,Z)}clear(){this.entities.clear(),this.priorityToComponents.clear(),this.priorityToSystem.clear(),this.blackBoard.clear(),this.priorities.length=0,this.nextEntityID=0}destroyEntity(Z){this.entities.delete(Z);for(let Q of this.priorities)this.priorityToComponents.get(Q)?.delete(Z)}checkE(Z){for(let Q of this.priorities)this.checkES(Z,Q)}checkES(Z,Q){let J=this.entities.get(Z),$=this.priorityToSystem.get(Q).componentsRequired;if(J.hasAll($))this.priorityToComponents.get(Q).add(Z);else this.priorityToComponents.get(Q).delete(Z)}}var D={};A6(D,{Position2d:()=>e});class e extends Q0{x;y;oldX;oldY;changed=!1;constructor(Z,Q){super();this.x=Z;this.y=Q;this.x=Z,this.y=Q,this.oldX=Z,this.oldY=Q}equals(Z){return this.x==Z.x&&this.y==Z.y}hash(){return(this.x+this.y)*(this.x+this.y+1)/2+this.y}oldHash(){return(this.oldX+this.oldY)*(this.oldX+this.oldY+1)/2+this.oldY}updated(){return this.changed}set(Z,Q){this.changed=!0,this.x=Z,this.y=Q}setPos(Z){this.changed=!0,this.x=Z.x,this.y=Z.y}setX(Z){this.changed=!0,this.x=Z}setY(Z){this.changed=!0,this.y=Z}getX(){return this.x}getY(){return this.y}acceptChange(){this.changed=!1,this.oldX=this.x,this.oldY=this.y}rejectChange(){this.changed=!1,this.x=this.oldX,this.y=this.oldY}euclideanDistance(Z){let Q=Math.pow(this.x-Z.x,2),J=Math.pow(this.y-Z.y,2);return Math.sqrt(Q+J)}add(Z){return new e(this.x+Z.x,this.y+Z.y)}}var n2={};A6(n2,{GridCollisions:()=>y1,Cookie:()=>W2});class y1{grid=new Map;get(Z){return this.grid.get(Z.hash())}set(Z,Q){let J=Z.hash();if(this.grid.has(J))return!1;return this.grid.set(J,Q),!0}remove(Z,Q){if(Q)this.grid.delete(Z.hash());else this.grid.delete(Z.oldHash())}acceptChange(Z,Q){this.grid.delete(Z.oldHash()),Z.acceptChange(),this.grid.set(Z.hash(),Q)}}var W2={};A6(W2,{set:()=>XJ,get:()=>$J});function XJ(Z,Q){let J=new Date;J.setTime(J.getTime()+2678400000),document.cookie=Z+"="+Q+"; expires="+J.toUTCString()+"; path=/"}function $J(Z){let J=("; "+document.cookie).split("; "+Z+"=");if(J!=null&&J.length==2)return J.pop().split(";").shift();return}class n0 extends Q0{constructor(){super()}}class H2 extends Q0{constructor(){super()}}class H0 extends Q0{stamina;furthestColumn;constructor(Z,Q){super();this.stamina=Z;this.furthestColumn=Q}}class g2 extends Q0{constructor(){super()}}class S0 extends Q0{character;constructor(Z){super();this.character=Z}}class M6 extends Q0{constructor(){super()}}class x2 extends Q0{type;startPosition;constructor(Z,Q){super();this.type=Z;this.startPosition=Q}}class i6 extends Q0{constructor(){super()}}var Y2=11,A0=40,k9=30,d0=-1,S9=1,p8=0,v1=8,u6=7,E0=3;var i0="start",W="death",C6="end",L9="#FF000022",N9="#FF440011",r6="random",y9="enjoyment",m6="difficulty",T8="both",v9=3,A8=performance.now(),_8=600000;class f1 extends Q0{territory;constructor(Z){super();this.territory=[];for(let Q=-E0;Q<=E0;++Q)for(let J=-E0;J<=E0;++J){let $=new D.Position2d(J+Z.getX(),Q+Z.getY());if(Z.euclideanDistance($)<=E0)this.territory.push($)}}}var g={Collider:n0,Enemy:x2,Movable:H2,Player:H0,Portal:g2,Render:S0,Switch:M6,Food:i6,Territory:f1,VisibleText:Text};class u{static playerID="-1";static playerWon=!1;static order=0;static staminaLeft=0;static time=0;static levels=[];static diedFrom="Stamina";static playerGaveUp=!1;static gamesPlayed=0;static director="-1";static version="0.0.1";static tutorialDiedToEnemy=0;static tutorialDiedToStamina=0}class H1 extends $0{componentsRequired=new Set([D.Position2d,g.Enemy,g.Movable]);constructor(){super()}update(Z,Q){if(this.ecs.getBB("time step")%3!=0)return;let J=this.ecs.getBB("player id"),$=this.ecs.getComponents(J),V=$.get(D.Position2d),U=this.ecs.getBB("grid collisions");Z:for(let F of Q){let j=this.ecs.getComponents(F),R=j.get(D.Position2d),f=j.get(x2).startPosition,Y,K=f.euclideanDistance(V),P=R.euclideanDistance(f);if(K<=E0&&P<=E0)Y=V;else Y=f;let A=this.getMoves(R,Y),_=A.length;for(let M=0;M<_;++M){let C=R.add(A[M]);if(C.equals(V)){u.staminaLeft=$.get(H0).stamina,u.diedFrom=j.get(x2).type,this.ecs.setBB("game over",d0);break Z}else if(U.get(C)===void 0){R.setPos(C),U.acceptChange(R,F);break}}}let B=this.ecs.getBB("time step");this.ecs.setBB("time step",B+1)}getMoves(Z,Q){let J=new Array,$=Z.getY()-u6,V=Z.getX()-v1,U=Q.getY()-$-u6,B=Q.getX()-V-v1;if(U==0&&B==0)return J;if(Math.abs(U)>Math.abs(B)){if(U!==0)J.push(new D.Position2d(0,Math.sign(U)));if(B!==0)J.push(new D.Position2d(Math.sign(B),0))}else if(Math.abs(B)>Math.abs(U)){if(B!==0)J.push(new D.Position2d(Math.sign(B),0));if(U!==0)J.push(new D.Position2d(0,Math.sign(U)))}else if((V+$)%2==0){if(U!==0)J.push(new D.Position2d(0,Math.sign(U)));if(B!==0)J.push(new D.Position2d(Math.sign(B),0))}else{if(B!==0)J.push(new D.Position2d(Math.sign(B),0));if(U!==0)J.push(new D.Position2d(0,Math.sign(U)))}return J}}class Y1 extends $0{componentsRequired=new Set([]);update(Z,Q){let J=this.ecs.getBB("player id"),$=this.ecs.getComponents(J),V=$.get(D.Position2d);if(!V.updated())return;let U=$.get(g.Player);if(U.stamina<=0)u.diedFrom="Stamina",u.staminaLeft=0,this.ecs.setBB("game over",d0);let B=this.ecs.getBB("grid collisions"),F=B.get(V);if(F==null){B.acceptChange(V,J);return}let j=this.ecs.getComponents(F);if(j.has(g.Switch)){let R=this.ecs.getBB("switch count")-1;this.ecs.setBB("switch count",R),this.ecs.removeEntity(F),B.acceptChange(V,J);return}if(j.has(g.Enemy)){u.diedFrom=j.get(g.Enemy).type,u.staminaLeft=U.stamina,this.ecs.setBB("game over",d0);return}if(j.has(g.Portal)){if(this.ecs.getBB("switch count")==0)u.diedFrom="",u.playerWon=!0,u.staminaLeft=U.stamina,this.ecs.setBB("game over",S9);else V.rejectChange();return}if(j.has(g.Food)){U.stamina=Math.min(U.stamina+k9,A0),this.ecs.removeEntity(F),B.acceptChange(V,J),this.ecs.setBB("game over",p8);return}V.rejectChange()}}class K1 extends $0{componentsRequired=new Set([e,S0,H0]);updateTimeStep(){let Z=this.ecs.getBB("time step");this.ecs.setBB("time step",Z+1)}update(Z,Q){let J=Q.values().next().value,$=this.ecs.getComponents(J),V=$.get(H0),U=$.get(e),B=U.getX(),F=U.getY();for(let j of Z.keyPress){let R=!1;switch(j){case 5:case 0:this.updateTimeStep(),R=!0,V.stamina-=1,U.setX(B-1);break;case 6:case 2:this.updateTimeStep(),R=!0,U.setY(F+1),V.stamina-=1;break;case 7:case 1:this.updateTimeStep(),R=!0,U.setX(B+1),V.stamina-=1;break;case 4:case 3:this.updateTimeStep(),R=!0,U.setY(F-1),V.stamina-=1;break;case 10:if(this.updateTimeStep(),V.stamina-=1,R=!0,V.stamina<=0)u.diedFrom="Stamina",this.ecs.setBB("game over",d0);break}if(R){V.furthestColumn=Math.max(V.furthestColumn,U.getX()-v1);break}}}}class n6 extends $0{componentsRequired=new Set([g.Portal,g.Render]);update(Z,Q){let[J]=Q;if(this.ecs.getBB("switch count")==0)this.ecs.getComponents(J).get(g.Render).character="O";else this.ecs.getComponents(J).get(g.Render).character="o"}}class l1 extends $0{componentsRequired=new Set([g.Player]);update(Z,Q){let[J]=Q,$=this.ecs.getComponents(J).get(g.Player).stamina,V;if($>20)V="green";else if($>10)V="#8B8000";else V="red";Z.drawRect(20,20,$*8,20,V);let U=A0*8;Z.drawRectOutline(19,18,U+2,22,2,"gray"),Z.drawText(A0*4,35,`${$}`,"white");let B=this.ecs.getBB("time step"),F=B<10?890:875;Z.drawText(F,30,`Turn: ${B}`)}}class p1 extends $0{componentsRequired=new Set([D.Position2d,g.Render]);charToColor={"@":"white","-":"#d9d1d0",X:"#636363","*":"#0ccef0","\\":"#c300d1","/":"#c300d1",o:"#414d42",O:"#19f00a","#":"red","^":"#f0cd0a","&":"#259c2b"};update(Z,Q){let J=this.ecs.getBB("x mod"),$=this.ecs.getBB("y mod");Z.setFont(20);for(let V of Q.values()){let U=this.ecs.getComponents(V),B=U.get(g.Render),F=U.get(D.Position2d),j=B.character,R=this.charToColor[j];Z.drawText(F.getX()*J,F.getY()*$,j,R)}}}class g6 extends $0{componentsRequired=new Set([]);update(Z,Q){this.ecs.setBB("player turn",!0)}}class T1 extends $0{componentsRequired=new Set([g.Territory]);update(Z,Q){let J=(this.ecs.getBB("time step")+1)%3===0?L9:N9,$=this.ecs.getBB("x mod"),V=this.ecs.getBB("y mod"),U=this.ecs.getBB("player id"),B=this.ecs.getComponents(U).get(D.Position2d);for(let F of Q.values()){let j=this.ecs.getComponents(F);if(j.get(D.Position2d).euclideanDistance(B)>4)continue;let R=j.get(g.Territory).territory,f=R.length;for(let Y=0;Y<f;++Y){let K=R[Y];Z.drawText(K.getX()*$,K.getY()*V," ","#000000",!0,J)}}}}class g0 extends Q0{text;constructor(Z){super();this.text=Z}}var H9=function(Z){let Q=[],J=0;for(let $=0;$<Z.length;$++){let V=Z.charCodeAt($);if(V<128)Q[J++]=V;else if(V<2048)Q[J++]=V>>6|192,Q[J++]=V&63|128;else if((V&64512)===55296&&$+1<Z.length&&(Z.charCodeAt($+1)&64512)===56320)V=65536+((V&1023)<<10)+(Z.charCodeAt(++$)&1023),Q[J++]=V>>18|240,Q[J++]=V>>12&63|128,Q[J++]=V>>6&63|128,Q[J++]=V&63|128;else Q[J++]=V>>12|224,Q[J++]=V>>6&63|128,Q[J++]=V&63|128}return Q},VJ=function(Z){let Q=[],J=0,$=0;while(J<Z.length){let V=Z[J++];if(V<128)Q[$++]=String.fromCharCode(V);else if(V>191&&V<224){let U=Z[J++];Q[$++]=String.fromCharCode((V&31)<<6|U&63)}else if(V>239&&V<365){let U=Z[J++],B=Z[J++],F=Z[J++],j=((V&7)<<18|(U&63)<<12|(B&63)<<6|F&63)-65536;Q[$++]=String.fromCharCode(55296+(j>>10)),Q[$++]=String.fromCharCode(56320+(j&1023))}else{let U=Z[J++],B=Z[J++];Q[$++]=String.fromCharCode((V&15)<<12|(U&63)<<6|B&63)}}return Q.join("")},Y9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob==="function",encodeByteArray(Z,Q){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();let J=Q?this.byteToCharMapWebSafe_:this.byteToCharMap_,$=[];for(let V=0;V<Z.length;V+=3){let U=Z[V],B=V+1<Z.length,F=B?Z[V+1]:0,j=V+2<Z.length,R=j?Z[V+2]:0,f=U>>2,Y=(U&3)<<4|F>>4,K=(F&15)<<2|R>>6,P=R&63;if(!j){if(P=64,!B)K=64}$.push(J[f],J[Y],J[K],J[P])}return $.join("")},encodeString(Z,Q){if(this.HAS_NATIVE_SUPPORT&&!Q)return btoa(Z);return this.encodeByteArray(H9(Z),Q)},decodeString(Z,Q){if(this.HAS_NATIVE_SUPPORT&&!Q)return atob(Z);return VJ(this.decodeStringToByteArray(Z,Q))},decodeStringToByteArray(Z,Q){this.init_();let J=Q?this.charToByteMapWebSafe_:this.charToByteMap_,$=[];for(let V=0;V<Z.length;){let U=J[Z.charAt(V++)],F=V<Z.length?J[Z.charAt(V)]:0;++V;let R=V<Z.length?J[Z.charAt(V)]:64;++V;let Y=V<Z.length?J[Z.charAt(V)]:64;if(++V,U==null||F==null||R==null||Y==null)throw new K9;let K=U<<2|F>>4;if($.push(K),R!==64){let P=F<<4&240|R>>2;if($.push(P),Y!==64){let A=R<<6&192|Y;$.push(A)}}}return $},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)if(this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length)this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z}}};class K9 extends Error{constructor(){super(...arguments);this.name="DecodeBase64StringError"}}var zJ=function(Z){let Q=H9(Z);return Y9.encodeByteArray(Q,!0)},A1=function(Z){return zJ(Z).replace(/\./g,"")},wJ=function(Z){try{return Y9.decodeString(Z,!0)}catch(Q){console.error("base64Decode failed: ",Q)}return null};function UJ(){if(typeof self!=="undefined")return self;if(typeof window!=="undefined")return window;if(typeof global!=="undefined")return global;throw new Error("Unable to locate global object.")}var WJ=()=>UJ().__FIREBASE_DEFAULTS__,xJ=()=>{if(typeof process==="undefined"||typeof process.env==="undefined")return;let Z=process.env.__FIREBASE_DEFAULTS__;if(Z)return JSON.parse(Z)},qJ=()=>{if(typeof document==="undefined")return;let Z;try{Z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(J){return}let Q=Z&&wJ(Z[1]);return Q&&JSON.parse(Q)},s6=()=>{try{return WJ()||xJ()||qJ()}catch(Z){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Z}`);return}},BJ=(Z)=>{var Q,J;return(J=(Q=s6())===null||Q===void 0?void 0:Q.emulatorHosts)===null||J===void 0?void 0:J[Z]},l9=(Z)=>{let Q=BJ(Z);if(!Q)return;let J=Q.lastIndexOf(":");if(J<=0||J+1===Q.length)throw new Error(`Invalid host ${Q} with no separate hostname and port!`);let $=parseInt(Q.substring(J+1),10);if(Q[0]==="[")return[Q.substring(1,J-1),$];else return[Q.substring(0,J),$]},D6=()=>{var Z;return(Z=s6())===null||Z===void 0?void 0:Z.config};class b6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,Q)=>{this.resolve=Z,this.reject=Q})}wrapCallback(Z){return(Q,J)=>{if(Q)this.reject(Q);else this.resolve(J);if(typeof Z==="function")if(this.promise.catch(()=>{}),Z.length===1)Z(Q);else Z(Q,J)}}}function p9(Z,Q){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let J={alg:"none",type:"JWT"},$=Q||"demo-project",V=Z.iat||0,U=Z.sub||Z.user_id;if(!U)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let B=Object.assign({iss:`https://securetoken.google.com/${$}`,aud:$,iat:V,exp:V+3600,auth_time:V,sub:U,user_id:U,firebase:{sign_in_provider:"custom",identities:{}}},Z),F="";return[A1(JSON.stringify(J)),A1(JSON.stringify(B)),F].join(".")}function T9(){if(typeof navigator!=="undefined"&&typeof navigator.userAgent==="string")return navigator.userAgent;else return""}function FJ(){var Z;let Q=(Z=s6())===null||Z===void 0?void 0:Z.forceEnvironment;if(Q==="node")return!0;else if(Q==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(J){return!1}}function A9(){return!FJ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function c6(){try{return typeof indexedDB==="object"}catch(Z){return!1}}function _9(){return new Promise((Z,Q)=>{try{let J=!0,$="validate-browser-context-for-indexeddb-analytics-module",V=self.indexedDB.open($);V.onsuccess=()=>{if(V.result.close(),!J)self.indexedDB.deleteDatabase($);Z(!0)},V.onupgradeneeded=()=>{J=!1},V.onerror=()=>{var U;Q(((U=V.error)===null||U===void 0?void 0:U.message)||"")}}catch(J){Q(J)}})}var hJ="FirebaseError";class o0 extends Error{constructor(Z,Q,J){super(Q);if(this.code=Z,this.customData=J,this.name=hJ,Object.setPrototypeOf(this,o0.prototype),Error.captureStackTrace)Error.captureStackTrace(this,P8.prototype.create)}}class P8{constructor(Z,Q,J){this.service=Z,this.serviceName=Q,this.errors=J}create(Z,...Q){let J=Q[0]||{},$=`${this.service}/${Z}`,V=this.errors[Z],U=V?jJ(V,J):"Error",B=`${this.serviceName}: ${U} (${$}).`;return new o0($,B,J)}}function jJ(Z,Q){return Z.replace(RJ,(J,$)=>{let V=Q[$];return V!=null?String(V):`<${$}?>`})}var RJ=/\{\$([^}]+)}/g;function _1(Z,Q){if(Z===Q)return!0;let J=Object.keys(Z),$=Object.keys(Q);for(let V of J){if(!$.includes(V))return!1;let U=Z[V],B=Q[V];if(f9(U)&&f9(B)){if(!_1(U,B))return!1}else if(U!==B)return!1}for(let V of $)if(!J.includes(V))return!1;return!0}function f9(Z){return Z!==null&&typeof Z==="object"}function s2(Z){if(Z&&Z._delegate)return Z._delegate;else return Z}class q2{constructor(Z,Q,J){this.name=Z,this.instanceFactory=Q,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}var K2="[DEFAULT]";class P9{constructor(Z,Q){this.name=Z,this.container=Q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){let Q=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(Q)){let J=new b6;if(this.instancesDeferred.set(Q,J),this.isInitialized(Q)||this.shouldAutoInitialize())try{let $=this.getOrInitializeService({instanceIdentifier:Q});if($)J.resolve($)}catch($){}}return this.instancesDeferred.get(Q).promise}getImmediate(Z){var Q;let J=this.normalizeInstanceIdentifier(Z===null||Z===void 0?void 0:Z.identifier),$=(Q=Z===null||Z===void 0?void 0:Z.optional)!==null&&Q!==void 0?Q:!1;if(this.isInitialized(J)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:J})}catch(V){if($)return null;else throw V}else if($)return null;else throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,!this.shouldAutoInitialize())return;if(IJ(Z))try{this.getOrInitializeService({instanceIdentifier:K2})}catch(Q){}for(let[Q,J]of this.instancesDeferred.entries()){let $=this.normalizeInstanceIdentifier(Q);try{let V=this.getOrInitializeService({instanceIdentifier:$});J.resolve(V)}catch(V){}}}clearInstance(Z=K2){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}async delete(){let Z=Array.from(this.instances.values());await Promise.all([...Z.filter((Q)=>("INTERNAL"in Q)).map((Q)=>Q.INTERNAL.delete()),...Z.filter((Q)=>("_delete"in Q)).map((Q)=>Q._delete())])}isComponentSet(){return this.component!=null}isInitialized(Z=K2){return this.instances.has(Z)}getOptions(Z=K2){return this.instancesOptions.get(Z)||{}}initialize(Z={}){let{options:Q={}}=Z,J=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let $=this.getOrInitializeService({instanceIdentifier:J,options:Q});for(let[V,U]of this.instancesDeferred.entries()){let B=this.normalizeInstanceIdentifier(V);if(J===B)U.resolve($)}return $}onInit(Z,Q){var J;let $=this.normalizeInstanceIdentifier(Q),V=(J=this.onInitCallbacks.get($))!==null&&J!==void 0?J:new Set;V.add(Z),this.onInitCallbacks.set($,V);let U=this.instances.get($);if(U)Z(U,$);return()=>{V.delete(Z)}}invokeOnInitCallbacks(Z,Q){let J=this.onInitCallbacks.get(Q);if(!J)return;for(let $ of J)try{$(Z,Q)}catch(V){}}getOrInitializeService({instanceIdentifier:Z,options:Q={}}){let J=this.instances.get(Z);if(!J&&this.component){if(J=this.component.instanceFactory(this.container,{instanceIdentifier:GJ(Z),options:Q}),this.instances.set(Z,J),this.instancesOptions.set(Z,Q),this.invokeOnInitCallbacks(J,Z),this.component.onInstanceCreated)try{this.component.onInstanceCreated(this.container,Z,J)}catch($){}}return J||null}normalizeInstanceIdentifier(Z=K2){if(this.component)return this.component.multipleInstances?Z:K2;else return Z}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GJ(Z){return Z===K2?void 0:Z}function IJ(Z){return Z.instantiationMode==="EAGER"}class t6{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){let Q=this.getProvider(Z.name);if(Q.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);Q.setComponent(Z)}addOrOverwriteComponent(Z){if(this.getProvider(Z.name).isComponentSet())this.providers.delete(Z.name);this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);let Q=new P9(Z,this);return this.providers.set(Z,Q),Q}getProviders(){return Array.from(this.providers.values())}}var OJ=[],b;(function(Z){Z[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT"})(b||(b={}));var kJ={debug:b.DEBUG,verbose:b.VERBOSE,info:b.INFO,warn:b.WARN,error:b.ERROR,silent:b.SILENT},SJ=b.INFO,LJ={[b.DEBUG]:"log",[b.VERBOSE]:"log",[b.INFO]:"info",[b.WARN]:"warn",[b.ERROR]:"error"},NJ=(Z,Q,...J)=>{if(Q<Z.logLevel)return;let $=new Date().toISOString(),V=LJ[Q];if(V)console[V](`[${$}]  ${Z.name}:`,...J);else throw new Error(`Attempted to log a message with an invalid logType (value: ${Q})`)};class P1{constructor(Z){this.name=Z,this._logLevel=SJ,this._logHandler=NJ,this._userLogHandler=null,OJ.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in b))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel=typeof Z==="string"?kJ[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if(typeof Z!=="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,b.DEBUG,...Z),this._logHandler(this,b.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,b.VERBOSE,...Z),this._logHandler(this,b.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,b.INFO,...Z),this._logHandler(this,b.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,b.WARN,...Z),this._logHandler(this,b.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,b.ERROR,...Z),this._logHandler(this,b.ERROR,...Z)}}var yJ=(Z,Q)=>Q.some((J)=>Z instanceof J),M9,i9;function vJ(){return M9||(M9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fJ(){return i9||(i9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var u9=new WeakMap,E6=new WeakMap,C9=new WeakMap,d6=new WeakMap,e6=new WeakMap;function HJ(Z){let Q=new Promise((J,$)=>{let V=()=>{Z.removeEventListener("success",U),Z.removeEventListener("error",B)},U=()=>{J(s0(Z.result)),V()},B=()=>{$(Z.error),V()};Z.addEventListener("success",U),Z.addEventListener("error",B)});return Q.then((J)=>{if(J instanceof IDBCursor)u9.set(J,Z)}).catch(()=>{}),e6.set(Q,Z),Q}function YJ(Z){if(E6.has(Z))return;let Q=new Promise((J,$)=>{let V=()=>{Z.removeEventListener("complete",U),Z.removeEventListener("error",B),Z.removeEventListener("abort",B)},U=()=>{J(),V()},B=()=>{$(Z.error||new DOMException("AbortError","AbortError")),V()};Z.addEventListener("complete",U),Z.addEventListener("error",B),Z.addEventListener("abort",B)});E6.set(Z,Q)}var o6={get(Z,Q,J){if(Z instanceof IDBTransaction){if(Q==="done")return E6.get(Z);if(Q==="objectStoreNames")return Z.objectStoreNames||C9.get(Z);if(Q==="store")return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return s0(Z[Q])},set(Z,Q,J){return Z[Q]=J,!0},has(Z,Q){if(Z instanceof IDBTransaction&&(Q==="done"||Q==="store"))return!0;return Q in Z}};function r9(Z){o6=Z(o6)}function KJ(Z){if(Z===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype))return function(Q,...J){let $=Z.call(M8(this),Q,...J);return C9.set($,Q.sort?Q.sort():[Q]),s0($)};if(fJ().includes(Z))return function(...Q){return Z.apply(M8(this),Q),s0(u9.get(this))};return function(...Q){return s0(Z.apply(M8(this),Q))}}function lJ(Z){if(typeof Z==="function")return KJ(Z);if(Z instanceof IDBTransaction)YJ(Z);if(yJ(Z,vJ()))return new Proxy(Z,o6);return Z}function s0(Z){if(Z instanceof IDBRequest)return HJ(Z);if(d6.has(Z))return d6.get(Z);let Q=lJ(Z);if(Q!==Z)d6.set(Z,Q),e6.set(Q,Z);return Q}var M8=(Z)=>e6.get(Z);function n9(Z,Q,{blocked:J,upgrade:$,blocking:V,terminated:U}={}){let B=indexedDB.open(Z,Q),F=s0(B);if($)B.addEventListener("upgradeneeded",(j)=>{$(s0(B.result),j.oldVersion,j.newVersion,s0(B.transaction),j)});if(J)B.addEventListener("blocked",(j)=>J(j.oldVersion,j.newVersion,j));return F.then((j)=>{if(U)j.addEventListener("close",()=>U());if(V)j.addEventListener("versionchange",(R)=>V(R.oldVersion,R.newVersion,R))}).catch(()=>{}),F}var pJ=["get","getKey","getAll","getAllKeys","count"],TJ=["put","add","delete","clear"],a6=new Map;function m9(Z,Q){if(!(Z instanceof IDBDatabase&&!(Q in Z)&&typeof Q==="string"))return;if(a6.get(Q))return a6.get(Q);let J=Q.replace(/FromIndex$/,""),$=Q!==J,V=TJ.includes(J);if(!(J in($?IDBIndex:IDBObjectStore).prototype)||!(V||pJ.includes(J)))return;let U=async function(B,...F){let j=this.transaction(B,V?"readwrite":"readonly"),R=j.store;if($)R=R.index(F.shift());return(await Promise.all([R[J](...F),V&&j.done]))[0]};return a6.set(Q,U),U}r9((Z)=>({...Z,get:(Q,J,$)=>m9(Q,J)||Z.get(Q,J,$),has:(Q,J)=>!!m9(Q,J)||Z.has(Q,J)}));class t9{constructor(Z){this.container=Z}getPlatformInfoString(){return this.container.getProviders().map((Q)=>{if(AJ(Q)){let J=Q.getImmediate();return`${J.library}/${J.version}`}else return null}).filter((Q)=>Q).join(" ")}}function AJ(Z){let Q=Z.getComponent();return(Q===null||Q===void 0?void 0:Q.type)==="VERSION"}var Q4="@firebase/app",g9="0.10.9",e0=new P1("@firebase/app"),_J="@firebase/app-compat",PJ="@firebase/analytics-compat",MJ="@firebase/analytics",iJ="@firebase/app-check-compat",uJ="@firebase/app-check",CJ="@firebase/auth",rJ="@firebase/auth-compat",mJ="@firebase/database",nJ="@firebase/database-compat",gJ="@firebase/functions",sJ="@firebase/functions-compat",DJ="@firebase/installations",bJ="@firebase/installations-compat",cJ="@firebase/messaging",tJ="@firebase/messaging-compat",dJ="@firebase/performance",EJ="@firebase/performance-compat",oJ="@firebase/remote-config",eJ="@firebase/remote-config-compat",aJ="@firebase/storage",ZX="@firebase/storage-compat",QX="@firebase/firestore",JX="@firebase/vertexai-preview",XX="@firebase/firestore-compat",$X="firebase",VX="10.13.0",J4="[DEFAULT]",zX={[Q4]:"fire-core",[_J]:"fire-core-compat",[MJ]:"fire-analytics",[PJ]:"fire-analytics-compat",[uJ]:"fire-app-check",[iJ]:"fire-app-check-compat",[CJ]:"fire-auth",[rJ]:"fire-auth-compat",[mJ]:"fire-rtdb",[nJ]:"fire-rtdb-compat",[gJ]:"fire-fn",[sJ]:"fire-fn-compat",[DJ]:"fire-iid",[bJ]:"fire-iid-compat",[cJ]:"fire-fcm",[tJ]:"fire-fcm-compat",[dJ]:"fire-perf",[EJ]:"fire-perf-compat",[oJ]:"fire-rc",[eJ]:"fire-rc-compat",[aJ]:"fire-gcs",[ZX]:"fire-gcs-compat",[QX]:"fire-fst",[XX]:"fire-fst-compat",[JX]:"fire-vertex","fire-js":"fire-js",[$X]:"fire-js-all"},i8=new Map,wX=new Map,X4=new Map;function s9(Z,Q){try{Z.container.addComponent(Q)}catch(J){e0.debug(`Component ${Q.name} failed to register with FirebaseApp ${Z.name}`,J)}}function M1(Z){let Q=Z.name;if(X4.has(Q))return e0.debug(`There were multiple attempts to register component ${Q}.`),!1;X4.set(Q,Z);for(let J of i8.values())s9(J,Z);for(let J of wX.values())s9(J,Z);return!0}function d9(Z,Q){let J=Z.container.getProvider("heartbeat").getImmediate({optional:!0});if(J)J.triggerHeartbeat();return Z.container.getProvider(Q)}var UX={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}'",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["server-app-deleted"]:"Firebase Server App has been deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",["finalization-registry-not-supported"]:"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",["invalid-server-app-environment"]:"FirebaseServerApp is not for use in browser environments."},B2=new P8("app","Firebase",UX);class E9{constructor(Z,Q,J){this._isDeleted=!1,this._options=Object.assign({},Z),this._config=Object.assign({},Q),this._name=Q.name,this._automaticDataCollectionEnabled=Q.automaticDataCollectionEnabled,this._container=J,this.container.addComponent(new q2("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Z){this.checkDestroyed(),this._automaticDataCollectionEnabled=Z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Z){this._isDeleted=Z}checkDestroyed(){if(this.isDeleted)throw B2.create("app-deleted",{appName:this._name})}}var o9=VX;function $4(Z,Q={}){let J=Z;if(typeof Q!=="object")Q={name:Q};let $=Object.assign({name:J4,automaticDataCollectionEnabled:!1},Q),V=$.name;if(typeof V!=="string"||!V)throw B2.create("bad-app-name",{appName:String(V)});if(J||(J=D6()),!J)throw B2.create("no-options");let U=i8.get(V);if(U)if(_1(J,U.options)&&_1($,U.config))return U;else throw B2.create("duplicate-app",{appName:V});let B=new t6(V);for(let j of X4.values())B.addComponent(j);let F=new E9(J,$,B);return i8.set(V,F),F}function e9(Z=J4){let Q=i8.get(Z);if(!Q&&Z===J4&&D6())return $4();if(!Q)throw B2.create("no-app",{appName:Z});return Q}function F2(Z,Q,J){var $;let V=($=zX[Z])!==null&&$!==void 0?$:Z;if(J)V+=`-${J}`;let U=V.match(/\s|\//),B=Q.match(/\s|\//);if(U||B){let F=[`Unable to register library "${V}" with version "${Q}":`];if(U)F.push(`library name "${V}" contains illegal characters (whitespace or "/")`);if(U&&B)F.push("and");if(B)F.push(`version name "${Q}" contains illegal characters (whitespace or "/")`);e0.warn(F.join(" "));return}M1(new q2(`${V}-version`,()=>({library:V,version:Q}),"VERSION"))}var WX="firebase-heartbeat-database",xX=1,i1="firebase-heartbeat-store",Z4=null;function a9(){if(!Z4)Z4=n9(WX,xX,{upgrade:(Z,Q)=>{switch(Q){case 0:try{Z.createObjectStore(i1)}catch(J){console.warn(J)}}}}).catch((Z)=>{throw B2.create("idb-open",{originalErrorMessage:Z.message})});return Z4}async function qX(Z){try{let J=(await a9()).transaction(i1),$=await J.objectStore(i1).get(ZZ(Z));return await J.done,$}catch(Q){if(Q instanceof o0)e0.warn(Q.message);else{let J=B2.create("idb-get",{originalErrorMessage:Q===null||Q===void 0?void 0:Q.message});e0.warn(J.message)}}}async function D9(Z,Q){try{let $=(await a9()).transaction(i1,"readwrite");await $.objectStore(i1).put(Q,ZZ(Z)),await $.done}catch(J){if(J instanceof o0)e0.warn(J.message);else{let $=B2.create("idb-set",{originalErrorMessage:J===null||J===void 0?void 0:J.message});e0.warn($.message)}}}function ZZ(Z){return`${Z.name}!${Z.options.appId}`}var BX=1024,FX=2592000000;class QZ{constructor(Z){this.container=Z,this._heartbeatsCache=null;let Q=this.container.getProvider("app").getImmediate();this._storage=new JZ(Q),this._heartbeatsCachePromise=this._storage.read().then((J)=>{return this._heartbeatsCache=J,J})}async triggerHeartbeat(){var Z,Q,J;try{let V=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),U=b9();if(console.log("heartbeats",(Z=this._heartbeatsCache)===null||Z===void 0?void 0:Z.heartbeats),((Q=this._heartbeatsCache)===null||Q===void 0?void 0:Q.heartbeats)==null){if(this._heartbeatsCache=await this._heartbeatsCachePromise,((J=this._heartbeatsCache)===null||J===void 0?void 0:J.heartbeats)==null)return}if(this._heartbeatsCache.lastSentHeartbeatDate===U||this._heartbeatsCache.heartbeats.some((B)=>B.date===U))return;else this._heartbeatsCache.heartbeats.push({date:U,agent:V});return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((B)=>{let F=new Date(B.date).valueOf();return Date.now()-F<=FX}),this._storage.overwrite(this._heartbeatsCache)}catch($){e0.warn($)}}async getHeartbeatsHeader(){var Z;try{if(this._heartbeatsCache===null)await this._heartbeatsCachePromise;if(((Z=this._heartbeatsCache)===null||Z===void 0?void 0:Z.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let Q=b9(),{heartbeatsToSend:J,unsentEntries:$}=hX(this._heartbeatsCache.heartbeats),V=A1(JSON.stringify({version:2,heartbeats:J}));if(this._heartbeatsCache.lastSentHeartbeatDate=Q,$.length>0)this._heartbeatsCache.heartbeats=$,await this._storage.overwrite(this._heartbeatsCache);else this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);return V}catch(Q){return e0.warn(Q),""}}}function b9(){return new Date().toISOString().substring(0,10)}function hX(Z,Q=BX){let J=[],$=Z.slice();for(let V of Z){let U=J.find((B)=>B.agent===V.agent);if(!U){if(J.push({agent:V.agent,dates:[V.date]}),c9(J)>Q){J.pop();break}}else if(U.dates.push(V.date),c9(J)>Q){U.dates.pop();break}$=$.slice(1)}return{heartbeatsToSend:J,unsentEntries:$}}class JZ{constructor(Z){this.app=Z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){if(!c6())return!1;else return _9().then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};else{let Q=await qX(this.app);if(Q===null||Q===void 0?void 0:Q.heartbeats)return Q;else return{heartbeats:[]}}}async overwrite(Z){var Q;if(!await this._canUseIndexedDBPromise)return;else{let $=await this.read();return D9(this.app,{lastSentHeartbeatDate:(Q=Z.lastSentHeartbeatDate)!==null&&Q!==void 0?Q:$.lastSentHeartbeatDate,heartbeats:Z.heartbeats})}}async add(Z){var Q;if(!await this._canUseIndexedDBPromise)return;else{let $=await this.read();return D9(this.app,{lastSentHeartbeatDate:(Q=Z.lastSentHeartbeatDate)!==null&&Q!==void 0?Q:$.lastSentHeartbeatDate,heartbeats:[...$.heartbeats,...Z.heartbeats]})}}}function c9(Z){return A1(JSON.stringify({version:2,heartbeats:Z})).length}function jX(Z){M1(new q2("platform-logger",(Q)=>new t9(Q),"PRIVATE")),M1(new q2("heartbeat",(Q)=>new QZ(Q),"PRIVATE")),F2(Q4,g9,Z),F2(Q4,g9,"esm2017"),F2("fire-js","")}jX("");var RX="firebase",GX="10.13.0";F2(RX,GX,"app");var XZ=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{},$Z={},V4,VZ;(function(){var Z;function Q(y,G){function O(){}O.prototype=G.prototype,y.D=G.prototype,y.prototype=new O,y.prototype.constructor=y,y.C=function(k,S,v){for(var I=Array(arguments.length-2),m0=2;m0<arguments.length;m0++)I[m0-2]=arguments[m0];return G.prototype[S].apply(k,I)}}function J(){this.blockSize=-1}function $(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}Q($,J),$.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function V(y,G,O){O||(O=0);var k=Array(16);if(typeof G==="string")for(var S=0;16>S;++S)k[S]=G.charCodeAt(O++)|G.charCodeAt(O++)<<8|G.charCodeAt(O++)<<16|G.charCodeAt(O++)<<24;else for(S=0;16>S;++S)k[S]=G[O++]|G[O++]<<8|G[O++]<<16|G[O++]<<24;G=y.g[0],O=y.g[1],S=y.g[2];var v=y.g[3],I=G+(v^O&(S^v))+k[0]+3614090360&4294967295;G=O+(I<<7&4294967295|I>>>25),I=v+(S^G&(O^S))+k[1]+3905402710&4294967295,v=G+(I<<12&4294967295|I>>>20),I=S+(O^v&(G^O))+k[2]+606105819&4294967295,S=v+(I<<17&4294967295|I>>>15),I=O+(G^S&(v^G))+k[3]+3250441966&4294967295,O=S+(I<<22&4294967295|I>>>10),I=G+(v^O&(S^v))+k[4]+4118548399&4294967295,G=O+(I<<7&4294967295|I>>>25),I=v+(S^G&(O^S))+k[5]+1200080426&4294967295,v=G+(I<<12&4294967295|I>>>20),I=S+(O^v&(G^O))+k[6]+2821735955&4294967295,S=v+(I<<17&4294967295|I>>>15),I=O+(G^S&(v^G))+k[7]+4249261313&4294967295,O=S+(I<<22&4294967295|I>>>10),I=G+(v^O&(S^v))+k[8]+1770035416&4294967295,G=O+(I<<7&4294967295|I>>>25),I=v+(S^G&(O^S))+k[9]+2336552879&4294967295,v=G+(I<<12&4294967295|I>>>20),I=S+(O^v&(G^O))+k[10]+4294925233&4294967295,S=v+(I<<17&4294967295|I>>>15),I=O+(G^S&(v^G))+k[11]+2304563134&4294967295,O=S+(I<<22&4294967295|I>>>10),I=G+(v^O&(S^v))+k[12]+1804603682&4294967295,G=O+(I<<7&4294967295|I>>>25),I=v+(S^G&(O^S))+k[13]+4254626195&4294967295,v=G+(I<<12&4294967295|I>>>20),I=S+(O^v&(G^O))+k[14]+2792965006&4294967295,S=v+(I<<17&4294967295|I>>>15),I=O+(G^S&(v^G))+k[15]+1236535329&4294967295,O=S+(I<<22&4294967295|I>>>10),I=G+(S^v&(O^S))+k[1]+4129170786&4294967295,G=O+(I<<5&4294967295|I>>>27),I=v+(O^S&(G^O))+k[6]+3225465664&4294967295,v=G+(I<<9&4294967295|I>>>23),I=S+(G^O&(v^G))+k[11]+643717713&4294967295,S=v+(I<<14&4294967295|I>>>18),I=O+(v^G&(S^v))+k[0]+3921069994&4294967295,O=S+(I<<20&4294967295|I>>>12),I=G+(S^v&(O^S))+k[5]+3593408605&4294967295,G=O+(I<<5&4294967295|I>>>27),I=v+(O^S&(G^O))+k[10]+38016083&4294967295,v=G+(I<<9&4294967295|I>>>23),I=S+(G^O&(v^G))+k[15]+3634488961&4294967295,S=v+(I<<14&4294967295|I>>>18),I=O+(v^G&(S^v))+k[4]+3889429448&4294967295,O=S+(I<<20&4294967295|I>>>12),I=G+(S^v&(O^S))+k[9]+568446438&4294967295,G=O+(I<<5&4294967295|I>>>27),I=v+(O^S&(G^O))+k[14]+3275163606&4294967295,v=G+(I<<9&4294967295|I>>>23),I=S+(G^O&(v^G))+k[3]+4107603335&4294967295,S=v+(I<<14&4294967295|I>>>18),I=O+(v^G&(S^v))+k[8]+1163531501&4294967295,O=S+(I<<20&4294967295|I>>>12),I=G+(S^v&(O^S))+k[13]+2850285829&4294967295,G=O+(I<<5&4294967295|I>>>27),I=v+(O^S&(G^O))+k[2]+4243563512&4294967295,v=G+(I<<9&4294967295|I>>>23),I=S+(G^O&(v^G))+k[7]+1735328473&4294967295,S=v+(I<<14&4294967295|I>>>18),I=O+(v^G&(S^v))+k[12]+2368359562&4294967295,O=S+(I<<20&4294967295|I>>>12),I=G+(O^S^v)+k[5]+4294588738&4294967295,G=O+(I<<4&4294967295|I>>>28),I=v+(G^O^S)+k[8]+2272392833&4294967295,v=G+(I<<11&4294967295|I>>>21),I=S+(v^G^O)+k[11]+1839030562&4294967295,S=v+(I<<16&4294967295|I>>>16),I=O+(S^v^G)+k[14]+4259657740&4294967295,O=S+(I<<23&4294967295|I>>>9),I=G+(O^S^v)+k[1]+2763975236&4294967295,G=O+(I<<4&4294967295|I>>>28),I=v+(G^O^S)+k[4]+1272893353&4294967295,v=G+(I<<11&4294967295|I>>>21),I=S+(v^G^O)+k[7]+4139469664&4294967295,S=v+(I<<16&4294967295|I>>>16),I=O+(S^v^G)+k[10]+3200236656&4294967295,O=S+(I<<23&4294967295|I>>>9),I=G+(O^S^v)+k[13]+681279174&4294967295,G=O+(I<<4&4294967295|I>>>28),I=v+(G^O^S)+k[0]+3936430074&4294967295,v=G+(I<<11&4294967295|I>>>21),I=S+(v^G^O)+k[3]+3572445317&4294967295,S=v+(I<<16&4294967295|I>>>16),I=O+(S^v^G)+k[6]+76029189&4294967295,O=S+(I<<23&4294967295|I>>>9),I=G+(O^S^v)+k[9]+3654602809&4294967295,G=O+(I<<4&4294967295|I>>>28),I=v+(G^O^S)+k[12]+3873151461&4294967295,v=G+(I<<11&4294967295|I>>>21),I=S+(v^G^O)+k[15]+530742520&4294967295,S=v+(I<<16&4294967295|I>>>16),I=O+(S^v^G)+k[2]+3299628645&4294967295,O=S+(I<<23&4294967295|I>>>9),I=G+(S^(O|~v))+k[0]+4096336452&4294967295,G=O+(I<<6&4294967295|I>>>26),I=v+(O^(G|~S))+k[7]+1126891415&4294967295,v=G+(I<<10&4294967295|I>>>22),I=S+(G^(v|~O))+k[14]+2878612391&4294967295,S=v+(I<<15&4294967295|I>>>17),I=O+(v^(S|~G))+k[5]+4237533241&4294967295,O=S+(I<<21&4294967295|I>>>11),I=G+(S^(O|~v))+k[12]+1700485571&4294967295,G=O+(I<<6&4294967295|I>>>26),I=v+(O^(G|~S))+k[3]+2399980690&4294967295,v=G+(I<<10&4294967295|I>>>22),I=S+(G^(v|~O))+k[10]+4293915773&4294967295,S=v+(I<<15&4294967295|I>>>17),I=O+(v^(S|~G))+k[1]+2240044497&4294967295,O=S+(I<<21&4294967295|I>>>11),I=G+(S^(O|~v))+k[8]+1873313359&4294967295,G=O+(I<<6&4294967295|I>>>26),I=v+(O^(G|~S))+k[15]+4264355552&4294967295,v=G+(I<<10&4294967295|I>>>22),I=S+(G^(v|~O))+k[6]+2734768916&4294967295,S=v+(I<<15&4294967295|I>>>17),I=O+(v^(S|~G))+k[13]+1309151649&4294967295,O=S+(I<<21&4294967295|I>>>11),I=G+(S^(O|~v))+k[4]+4149444226&4294967295,G=O+(I<<6&4294967295|I>>>26),I=v+(O^(G|~S))+k[11]+3174756917&4294967295,v=G+(I<<10&4294967295|I>>>22),I=S+(G^(v|~O))+k[2]+718787259&4294967295,S=v+(I<<15&4294967295|I>>>17),I=O+(v^(S|~G))+k[9]+3951481745&4294967295,y.g[0]=y.g[0]+G&4294967295,y.g[1]=y.g[1]+(S+(I<<21&4294967295|I>>>11))&4294967295,y.g[2]=y.g[2]+S&4294967295,y.g[3]=y.g[3]+v&4294967295}$.prototype.u=function(y,G){G===void 0&&(G=y.length);for(var O=G-this.blockSize,k=this.B,S=this.h,v=0;v<G;){if(S==0)for(;v<=O;)V(this,y,v),v+=this.blockSize;if(typeof y==="string"){for(;v<G;)if(k[S++]=y.charCodeAt(v++),S==this.blockSize){V(this,k),S=0;break}}else for(;v<G;)if(k[S++]=y[v++],S==this.blockSize){V(this,k),S=0;break}}this.h=S,this.o+=G},$.prototype.v=function(){var y=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);y[0]=128;for(var G=1;G<y.length-8;++G)y[G]=0;var O=8*this.o;for(G=y.length-8;G<y.length;++G)y[G]=O&255,O/=256;this.u(y),y=Array(16);for(G=O=0;4>G;++G)for(var k=0;32>k;k+=8)y[O++]=this.g[G]>>>k&255;return y};function U(y,G){var O=F;return Object.prototype.hasOwnProperty.call(O,y)?O[y]:O[y]=G(y)}function B(y,G){this.h=G;for(var O=[],k=!0,S=y.length-1;0<=S;S--){var v=y[S]|0;k&&v==G||(O[S]=v,k=!1)}this.g=O}var F={};function j(y){return-128<=y&&128>y?U(y,function(G){return new B([G|0],0>G?-1:0)}):new B([y|0],0>y?-1:0)}function R(y){if(isNaN(y)||!isFinite(y))return Y;if(0>y)return M(R(-y));for(var G=[],O=1,k=0;y>=O;k++)G[k]=y/O|0,O*=4294967296;return new B(G,0)}function f(y,G){if(y.length==0)throw Error("number format error: empty string");if(G=G||10,2>G||36<G)throw Error("radix out of range: "+G);if(y.charAt(0)=="-")return M(f(y.substring(1),G));if(0<=y.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=R(Math.pow(G,8)),k=Y,S=0;S<y.length;S+=8){var v=Math.min(8,y.length-S),I=parseInt(y.substring(S,S+v),G);8>v?(v=R(Math.pow(G,v)),k=k.j(v).add(R(I))):(k=k.j(O),k=k.add(R(I)))}return k}var Y=j(0),K=j(1),P=j(16777216);Z=B.prototype,Z.m=function(){if(_(this))return-M(this).m();for(var y=0,G=1,O=0;O<this.g.length;O++){var k=this.i(O);y+=(0<=k?k:4294967296+k)*G,G*=4294967296}return y},Z.toString=function(y){if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(A(this))return"0";if(_(this))return"-"+M(this).toString(y);for(var G=R(Math.pow(y,6)),O=this,k="";;){var S=B0(O,G).g;O=C(O,S.j(G));var v=((0<O.g.length?O.g[0]:O.h)>>>0).toString(y);if(O=S,A(O))return v+k;for(;6>v.length;)v="0"+v;k=v+k}},Z.i=function(y){return 0>y?0:y<this.g.length?this.g[y]:this.h};function A(y){if(y.h!=0)return!1;for(var G=0;G<y.g.length;G++)if(y.g[G]!=0)return!1;return!0}function _(y){return y.h==-1}Z.l=function(y){return y=C(this,y),_(y)?-1:A(y)?0:1};function M(y){for(var G=y.g.length,O=[],k=0;k<G;k++)O[k]=~y.g[k];return new B(O,~y.h).add(K)}Z.abs=function(){return _(this)?M(this):this},Z.add=function(y){for(var G=Math.max(this.g.length,y.g.length),O=[],k=0,S=0;S<=G;S++){var v=k+(this.i(S)&65535)+(y.i(S)&65535),I=(v>>>16)+(this.i(S)>>>16)+(y.i(S)>>>16);k=I>>>16,v&=65535,I&=65535,O[S]=I<<16|v}return new B(O,O[O.length-1]&-2147483648?-1:0)};function C(y,G){return y.add(M(G))}Z.j=function(y){if(A(this)||A(y))return Y;if(_(this))return _(y)?M(this).j(M(y)):M(M(this).j(y));if(_(y))return M(this.j(M(y)));if(0>this.l(P)&&0>y.l(P))return R(this.m()*y.m());for(var G=this.g.length+y.g.length,O=[],k=0;k<2*G;k++)O[k]=0;for(k=0;k<this.g.length;k++)for(var S=0;S<y.g.length;S++){var v=this.i(k)>>>16,I=this.i(k)&65535,m0=y.i(S)>>>16,V1=y.i(S)&65535;O[2*k+2*S]+=I*V1,n(O,2*k+2*S),O[2*k+2*S+1]+=v*V1,n(O,2*k+2*S+1),O[2*k+2*S+1]+=I*m0,n(O,2*k+2*S+1),O[2*k+2*S+2]+=v*m0,n(O,2*k+2*S+2)}for(k=0;k<G;k++)O[k]=O[2*k+1]<<16|O[2*k];for(k=G;k<2*G;k++)O[k]=0;return new B(O,0)};function n(y,G){for(;(y[G]&65535)!=y[G];)y[G+1]+=y[G]>>>16,y[G]&=65535,G++}function d(y,G){this.g=y,this.h=G}function B0(y,G){if(A(G))throw Error("division by zero");if(A(y))return new d(Y,Y);if(_(y))return G=B0(M(y),G),new d(M(G.g),M(G.h));if(_(G))return G=B0(y,M(G)),new d(M(G.g),G.h);if(30<y.g.length){if(_(y)||_(G))throw Error("slowDivide_ only works with positive integers.");for(var O=K,k=G;0>=k.l(y);)O=p0(O),k=p0(k);var S=K0(O,1),v=K0(k,1);k=K0(k,2);for(O=K0(O,2);!A(k);){var I=v.add(k);0>=I.l(y)&&(S=S.add(O),v=I),k=K0(k,1),O=K0(O,1)}return G=C(y,S.j(G)),new d(S,G)}for(S=Y;0<=y.l(G);){O=Math.max(1,Math.floor(y.m()/G.m())),k=Math.ceil(Math.log(O)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),v=R(O);for(I=v.j(G);_(I)||0<I.l(y);)O-=k,v=R(O),I=v.j(G);A(v)&&(v=K),S=S.add(v),y=C(y,I)}return new d(S,y)}Z.A=function(y){return B0(this,y).h},Z.and=function(y){for(var G=Math.max(this.g.length,y.g.length),O=[],k=0;k<G;k++)O[k]=this.i(k)&y.i(k);return new B(O,this.h&y.h)},Z.or=function(y){for(var G=Math.max(this.g.length,y.g.length),O=[],k=0;k<G;k++)O[k]=this.i(k)|y.i(k);return new B(O,this.h|y.h)},Z.xor=function(y){for(var G=Math.max(this.g.length,y.g.length),O=[],k=0;k<G;k++)O[k]=this.i(k)^y.i(k);return new B(O,this.h^y.h)};function p0(y){for(var G=y.g.length+1,O=[],k=0;k<G;k++)O[k]=y.i(k)<<1|y.i(k-1)>>>31;return new B(O,y.h)}function K0(y,G){var O=G>>5;G%=32;for(var k=y.g.length-O,S=[],v=0;v<k;v++)S[v]=0<G?y.i(v+O)>>>G|y.i(v+O+1)<<32-G:y.i(v+O);return new B(S,y.h)}$.prototype.digest=$.prototype.v,$.prototype.reset=$.prototype.s,$.prototype.update=$.prototype.u,VZ=$Z.Md5=$,B.prototype.add=B.prototype.add,B.prototype.multiply=B.prototype.j,B.prototype.modulo=B.prototype.A,B.prototype.compare=B.prototype.l,B.prototype.toNumber=B.prototype.m,B.prototype.toString=B.prototype.toString,B.prototype.getBits=B.prototype.i,B.fromNumber=R,B.fromString=f,V4=$Z.Integer=B}).apply(typeof XZ!=="undefined"?XZ:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});var u8=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{},a0={},z4,w4,D2,U4,u1,C8,W4,x4,q4;(function(){var Z,Q=typeof Object.defineProperties=="function"?Object.defineProperty:function(X,w,q){if(X==Array.prototype||X==Object.prototype)return X;return X[w]=q.value,X};function J(X){X=[typeof globalThis=="object"&&globalThis,X,typeof window=="object"&&window,typeof self=="object"&&self,typeof u8=="object"&&u8];for(var w=0;w<X.length;++w){var q=X[w];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}var $=J(this);function V(X,w){if(w)Z:{var q=$;X=X.split(".");for(var h=0;h<X.length-1;h++){var N=X[h];if(!(N in q))break Z;q=q[N]}X=X[X.length-1],h=q[X],w=w(h),w!=h&&w!=null&&Q(q,X,{configurable:!0,writable:!0,value:w})}}function U(X,w){X instanceof String&&(X+="");var q=0,h=!1,N={next:function(){if(!h&&q<X.length){var H=q++;return{value:w(H,X[H]),done:!1}}return h=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}V("Array.prototype.values",function(X){return X?X:function(){return U(this,function(w,q){return q})}});var B=B||{},F=this||self;function j(X){var w=typeof X;return w=w!="object"?w:X?Array.isArray(X)?"array":w:"null",w=="array"||w=="object"&&typeof X.length=="number"}function R(X){var w=typeof X;return w=="object"&&X!=null||w=="function"}function f(X,w,q){return X.call.apply(X.bind,arguments)}function Y(X,w,q){if(!X)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,h),X.apply(w,N)}}return function(){return X.apply(w,arguments)}}function K(X,w,q){return K=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:Y,K.apply(null,arguments)}function P(X,w){var q=Array.prototype.slice.call(arguments,1);return function(){var h=q.slice();return h.push.apply(h,arguments),X.apply(this,h)}}function A(X,w){function q(){}q.prototype=w.prototype,X.aa=w.prototype,X.prototype=new q,X.prototype.constructor=X,X.Qb=function(h,N,H){for(var T=Array(arguments.length-2),E=2;E<arguments.length;E++)T[E-2]=arguments[E];return w.prototype[N].apply(h,T)}}function _(X){let w=X.length;if(0<w){let q=Array(w);for(let h=0;h<w;h++)q[h]=X[h];return q}return[]}function M(X,w){for(let q=1;q<arguments.length;q++){let h=arguments[q];if(j(h)){let N=X.length||0,H=h.length||0;X.length=N+H;for(let T=0;T<H;T++)X[N+T]=h[T]}else X.push(h)}}class C{constructor(X,w){this.i=X,this.j=w,this.h=0,this.g=null}get(){let X;return 0<this.h?(this.h--,X=this.g,this.g=X.next,X.next=null):X=this.i(),X}}function n(X){return/^[\s\xa0]*$/.test(X)}function d(){var X=F.navigator;return X&&(X=X.userAgent)?X:""}function B0(X){return B0[" "](X),X}B0[" "]=function(){};var p0=d().indexOf("Gecko")!=-1&&!(d().toLowerCase().indexOf("webkit")!=-1&&d().indexOf("Edge")==-1)&&!(d().indexOf("Trident")!=-1||d().indexOf("MSIE")!=-1)&&d().indexOf("Edge")==-1;function K0(X,w,q){for(let h in X)w.call(q,X[h],h,X)}function y(X,w){for(let q in X)w.call(void 0,X[q],q,X)}function G(X){let w={};for(let q in X)w[q]=X[q];return w}let O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(X,w){let q,h;for(let N=1;N<arguments.length;N++){h=arguments[N];for(q in h)X[q]=h[q];for(let H=0;H<O.length;H++)q=O[H],Object.prototype.hasOwnProperty.call(h,q)&&(X[q]=h[q])}}function S(X){var w=1;X=X.split(":");let q=[];for(;0<w&&X.length;)q.push(X.shift()),w--;return X.length&&q.push(X.join(":")),q}function v(X){F.setTimeout(()=>{throw X},0)}function I(){var X=U6;let w=null;return X.g&&(w=X.g,X.g=X.g.next,X.g||(X.h=null),w.next=null),w}class m0{constructor(){this.h=this.g=null}add(X,w){let q=V1.get();q.set(X,w),this.h?this.h.next=q:this.g=q,this.h=q}}var V1=new C(()=>new G5,(X)=>X.reset());class G5{constructor(){this.next=this.g=this.h=null}set(X,w){this.h=X,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let z1,w1=!1,U6=new m0,I5=()=>{let X=F.Promise.resolve(void 0);z1=()=>{X.then(yQ)}};var yQ=()=>{for(var X;X=I();){try{X.h.call(X.g)}catch(q){v(q)}var w=V1;w.j(X),100>w.h&&(w.h++,X.next=w.g,w.g=X)}w1=!1};function V2(){this.s=this.s,this.C=this.C}V2.prototype.s=!1,V2.prototype.ma=function(){this.s||(this.s=!0,this.N())},V2.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G0(X,w){this.type=X,this.g=this.target=w,this.defaultPrevented=!1}G0.prototype.h=function(){this.defaultPrevented=!0};var vQ=function(){if(!F.addEventListener||!Object.defineProperty)return!1;var X=!1,w=Object.defineProperty({},"passive",{get:function(){X=!0}});try{let q=()=>{};F.addEventListener("test",q,w),F.removeEventListener("test",q,w)}catch(q){}return X}();function U1(X,w){if(G0.call(this,X?X.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,X){var q=this.type=X.type,h=X.changedTouches&&X.changedTouches.length?X.changedTouches[0]:null;if(this.target=X.target||X.srcElement,this.g=w,w=X.relatedTarget){if(p0){Z:{try{B0(w.nodeName);var N=!0;break Z}catch(H){}N=!1}N||(w=null)}}else q=="mouseover"?w=X.fromElement:q=="mouseout"&&(w=X.toElement);this.relatedTarget=w,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0),this.button=X.button,this.key=X.key||"",this.ctrlKey=X.ctrlKey,this.altKey=X.altKey,this.shiftKey=X.shiftKey,this.metaKey=X.metaKey,this.pointerId=X.pointerId||0,this.pointerType=typeof X.pointerType==="string"?X.pointerType:fQ[X.pointerType]||"",this.state=X.state,this.i=X,X.defaultPrevented&&U1.aa.h.call(this)}}A(U1,G0);var fQ={2:"touch",3:"pen",4:"mouse"};U1.prototype.h=function(){U1.aa.h.call(this);var X=this.i;X.preventDefault?X.preventDefault():X.returnValue=!1};var W1="closure_listenable_"+(1e6*Math.random()|0),HQ=0;function YQ(X,w,q,h,N){this.listener=X,this.proxy=null,this.src=w,this.type=q,this.capture=!!h,this.ha=N,this.key=++HQ,this.da=this.fa=!1}function F8(X){X.da=!0,X.listener=null,X.proxy=null,X.src=null,X.ha=null}function h8(X){this.src=X,this.g={},this.h=0}h8.prototype.add=function(X,w,q,h,N){var H=X.toString();X=this.g[H],X||(X=this.g[H]=[],this.h++);var T=x6(X,w,h,N);return-1<T?(w=X[T],q||(w.fa=!1)):(w=new YQ(w,this.src,H,!!h,N),w.fa=q,X.push(w)),w};function W6(X,w){var q=w.type;if(q in X.g){var h=X.g[q],N=Array.prototype.indexOf.call(h,w,void 0),H;(H=0<=N)&&Array.prototype.splice.call(h,N,1),H&&(F8(w),X.g[q].length==0&&(delete X.g[q],X.h--))}}function x6(X,w,q,h){for(var N=0;N<X.length;++N){var H=X[N];if(!H.da&&H.listener==w&&H.capture==!!q&&H.ha==h)return N}return-1}var q6="closure_lm_"+(1e6*Math.random()|0),B6={};function O5(X,w,q,h,N){if(h&&h.once)return S5(X,w,q,h,N);if(Array.isArray(w)){for(var H=0;H<w.length;H++)O5(X,w[H],q,h,N);return null}return q=R6(q),X&&X[W1]?X.K(w,q,R(h)?!!h.capture:!!h,N):k5(X,w,q,!1,h,N)}function k5(X,w,q,h,N,H){if(!w)throw Error("Invalid event type");var T=R(N)?!!N.capture:!!N,E=h6(X);if(E||(X[q6]=E=new h8(X)),q=E.add(w,q,h,T,H),q.proxy)return q;if(h=KQ(),q.proxy=h,h.src=X,h.listener=q,X.addEventListener)vQ||(N=T),N===void 0&&(N=!1),X.addEventListener(w.toString(),h,N);else if(X.attachEvent)X.attachEvent(N5(w.toString()),h);else if(X.addListener&&X.removeListener)X.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.");return q}function KQ(){function X(q){return w.call(X.src,X.listener,q)}let w=lQ;return X}function S5(X,w,q,h,N){if(Array.isArray(w)){for(var H=0;H<w.length;H++)S5(X,w[H],q,h,N);return null}return q=R6(q),X&&X[W1]?X.L(w,q,R(h)?!!h.capture:!!h,N):k5(X,w,q,!0,h,N)}function L5(X,w,q,h,N){if(Array.isArray(w))for(var H=0;H<w.length;H++)L5(X,w[H],q,h,N);else(h=R(h)?!!h.capture:!!h,q=R6(q),X&&X[W1])?(X=X.i,w=String(w).toString(),(w in X.g)&&(H=X.g[w],q=x6(H,q,h,N),-1<q&&(F8(H[q]),Array.prototype.splice.call(H,q,1),H.length==0&&(delete X.g[w],X.h--)))):X&&(X=h6(X))&&(w=X.g[w.toString()],X=-1,w&&(X=x6(w,q,h,N)),(q=-1<X?w[X]:null)&&F6(q))}function F6(X){if(typeof X!=="number"&&X&&!X.da){var w=X.src;if(w&&w[W1])W6(w.i,X);else{var{type:q,proxy:h}=X;w.removeEventListener?w.removeEventListener(q,h,X.capture):w.detachEvent?w.detachEvent(N5(q),h):w.addListener&&w.removeListener&&w.removeListener(h),(q=h6(w))?(W6(q,X),q.h==0&&(q.src=null,w[q6]=null)):F8(X)}}}function N5(X){return X in B6?B6[X]:B6[X]="on"+X}function lQ(X,w){if(X.da)X=!0;else{w=new U1(w,this);var q=X.listener,h=X.ha||X.src;X.fa&&F6(X),X=q.call(h,w)}return X}function h6(X){return X=X[q6],X instanceof h8?X:null}var j6="__closure_events_fn_"+(1e9*Math.random()>>>0);function R6(X){if(typeof X==="function")return X;return X[j6]||(X[j6]=function(w){return X.handleEvent(w)}),X[j6]}function I0(){V2.call(this),this.i=new h8(this),this.M=this,this.F=null}A(I0,V2),I0.prototype[W1]=!0,I0.prototype.removeEventListener=function(X,w,q,h){L5(this,X,w,q,h)};function v0(X,w){var q,h=X.F;if(h)for(q=[];h;h=h.F)q.push(h);if(X=X.M,h=w.type||w,typeof w==="string")w=new G0(w,X);else if(w instanceof G0)w.target=w.target||X;else{var N=w;w=new G0(h,X),k(w,N)}if(N=!0,q)for(var H=q.length-1;0<=H;H--){var T=w.g=q[H];N=j8(T,h,!0,w)&&N}if(T=w.g=X,N=j8(T,h,!0,w)&&N,N=j8(T,h,!1,w)&&N,q)for(H=0;H<q.length;H++)T=w.g=q[H],N=j8(T,h,!1,w)&&N}I0.prototype.N=function(){if(I0.aa.N.call(this),this.i){var X=this.i,w;for(w in X.g){for(var q=X.g[w],h=0;h<q.length;h++)F8(q[h]);delete X.g[w],X.h--}}this.F=null},I0.prototype.K=function(X,w,q,h){return this.i.add(String(X),w,!1,q,h)},I0.prototype.L=function(X,w,q,h){return this.i.add(String(X),w,!0,q,h)};function j8(X,w,q,h){if(w=X.i.g[String(w)],!w)return!0;w=w.concat();for(var N=!0,H=0;H<w.length;++H){var T=w[H];if(T&&!T.da&&T.capture==q){var E=T.listener,F0=T.ha||T.src;T.fa&&W6(X.i,T),N=E.call(F0,h)!==!1&&N}}return N&&!h.defaultPrevented}function y5(X,w,q){if(typeof X==="function")q&&(X=K(X,q));else if(X&&typeof X.handleEvent=="function")X=K(X.handleEvent,X);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:F.setTimeout(X,w||0)}function v5(X){X.g=y5(()=>{X.g=null,X.i&&(X.i=!1,v5(X))},X.l);let w=X.h;X.h=null,X.m.apply(null,w)}class f5 extends V2{constructor(X,w){super();this.m=X,this.l=w,this.h=null,this.i=!1,this.g=null}j(X){this.h=arguments,this.g?this.i=!0:v5(this)}N(){super.N(),this.g&&(F.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function x1(X){V2.call(this),this.h=X,this.g={}}A(x1,V2);var H5=[];function Y5(X){K0(X.g,function(w,q){this.g.hasOwnProperty(q)&&F6(w)},X),X.g={}}x1.prototype.N=function(){x1.aa.N.call(this),Y5(this)},x1.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var G6=F.JSON.stringify,pQ=F.JSON.parse,TQ=class{stringify(X){return F.JSON.stringify(X,void 0)}parse(X){return F.JSON.parse(X,void 0)}};function I6(){}I6.prototype.h=null;function K5(X){return X.h||(X.h=X.i())}function l5(){}var q1={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function O6(){G0.call(this,"d")}A(O6,G0);function k6(){G0.call(this,"c")}A(k6,G0);var L2={},p5=null;function R8(){return p5=p5||new I0}L2.La="serverreachability";function T5(X){G0.call(this,L2.La,X)}A(T5,G0);function B1(X){let w=R8();v0(w,new T5(w))}L2.STAT_EVENT="statevent";function A5(X,w){G0.call(this,L2.STAT_EVENT,X),this.stat=w}A(A5,G0);function f0(X){let w=R8();v0(w,new A5(w,X))}L2.Ma="timingevent";function _5(X,w){G0.call(this,L2.Ma,X),this.size=w}A(_5,G0);function F1(X,w){if(typeof X!=="function")throw Error("Fn must not be null and must be a function");return F.setTimeout(function(){X()},w)}function h1(){this.g=!0}h1.prototype.xa=function(){this.g=!1};function AQ(X,w,q,h,N,H){X.info(function(){if(X.g)if(H){var T="";for(var E=H.split("&"),F0=0;F0<E.length;F0++){var t=E[F0].split("=");if(1<t.length){var O0=t[0];t=t[1];var k0=O0.split("_");T=2<=k0.length&&k0[1]=="type"?T+(O0+"="+t+"&"):T+(O0+"=redacted&")}}}else T=null;else T=H;return"XMLHTTP REQ ("+h+") [attempt "+N+"]: "+w+`
`+q+`
`+T})}function _Q(X,w,q,h,N,H,T){X.info(function(){return"XMLHTTP RESP ("+h+") [ attempt "+N+"]: "+w+`
`+q+`
`+H+" "+T})}function i2(X,w,q,h){X.info(function(){return"XMLHTTP TEXT ("+w+"): "+MQ(X,q)+(h?" "+h:"")})}function PQ(X,w){X.info(function(){return"TIMEOUT: "+w})}h1.prototype.info=function(){};function MQ(X,w){if(!X.g)return w;if(!w)return null;try{var q=JSON.parse(w);if(q){for(X=0;X<q.length;X++)if(Array.isArray(q[X])){var h=q[X];if(!(2>h.length)){var N=h[1];if(Array.isArray(N)&&!(1>N.length)){var H=N[0];if(H!="noop"&&H!="stop"&&H!="close")for(var T=1;T<N.length;T++)N[T]=""}}}}return G6(q)}catch(E){return w}}var G8={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},P5={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},S6;function I8(){}A(I8,I6),I8.prototype.g=function(){return new XMLHttpRequest},I8.prototype.i=function(){return{}},S6=new I8;function z2(X,w,q,h){this.j=X,this.i=w,this.l=q,this.R=h||1,this.U=new x1(this),this.I=45000,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new M5}function M5(){this.i=null,this.g="",this.h=!1}var i5={},L6={};function N6(X,w,q){X.L=1,X.v=L8(c0(w)),X.m=q,X.P=!0,u5(X,null)}function u5(X,w){X.F=Date.now(),O8(X),X.A=c0(X.v);var{A:q,R:h}=X;Array.isArray(h)||(h=[String(h)]),e5(q.i,"t",h),X.C=0,q=X.j.J,X.h=new M5,X.g=R9(X.j,q?w:null,!X.m),0<X.O&&(X.M=new f5(K(X.Y,X,X.g),X.O)),w=X.U,q=X.g,h=X.ca;var N="readystatechange";Array.isArray(N)||(N&&(H5[0]=N.toString()),N=H5);for(var H=0;H<N.length;H++){var T=O5(q,N[H],h||w.handleEvent,!1,w.h||w);if(!T)break;w.g[T.key]=T}w=X.H?G(X.H):{},X.m?(X.u||(X.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",X.g.ea(X.A,X.u,X.m,w)):(X.u="GET",X.g.ea(X.A,X.u,null,w)),B1(),AQ(X.i,X.u,X.A,X.l,X.R,X.m)}z2.prototype.ca=function(X){X=X.target;let w=this.M;w&&t0(X)==3?w.j():this.Y(X)},z2.prototype.Y=function(X){try{if(X==this.g)Z:{let k0=t0(this.g);var w=this.g.Ba();let r2=this.g.Z();if(!(3>k0)&&(k0!=3||this.g&&(this.h.h||this.g.oa()||V9(this.g)))){this.J||k0!=4||w==7||(w==8||0>=r2?B1(3):B1(2)),y6(this);var q=this.g.Z();this.X=q;Q:if(C5(this)){var h=V9(this.g);X="";var N=h.length,H=t0(this.g)==4;if(!this.h.i){if(typeof TextDecoder==="undefined"){N2(this),j1(this);var T="";break Q}this.h.i=new F.TextDecoder}for(w=0;w<N;w++)this.h.h=!0,X+=this.h.i.decode(h[w],{stream:!(H&&w==N-1)});h.length=0,this.h.g+=X,this.C=0,T=this.h.g}else T=this.g.oa();if(this.o=q==200,_Q(this.i,this.u,this.A,this.l,this.R,k0,q),this.o){if(this.T&&!this.K){Q:{if(this.g){var E,F0=this.g;if((E=F0.g?F0.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!n(E)){var t=E;break Q}}t=null}if(q=t)i2(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,v6(this,q);else{this.o=!1,this.s=3,f0(12),N2(this),j1(this);break Z}}if(this.P){q=!0;let M0;for(;!this.J&&this.C<T.length;)if(M0=iQ(this,T),M0==L6){k0==4&&(this.s=4,f0(14),q=!1),i2(this.i,this.l,null,"[Incomplete Response]");break}else if(M0==i5){this.s=4,f0(15),i2(this.i,this.l,T,"[Invalid Chunk]"),q=!1;break}else i2(this.i,this.l,M0,null),v6(this,M0);if(C5(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),k0!=4||T.length!=0||this.h.h||(this.s=1,f0(16),q=!1),this.o=this.o&&q,!q)i2(this.i,this.l,T,"[Invalid Chunked Response]"),N2(this),j1(this);else if(0<T.length&&!this.W){this.W=!0;var O0=this.j;O0.g==this&&O0.ba&&!O0.M&&(O0.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),p6(O0),O0.M=!0,f0(11))}}else i2(this.i,this.l,T,null),v6(this,T);k0==4&&N2(this),this.o&&!this.J&&(k0==4?B9(this.j,this):(this.o=!1,O8(this)))}else ZJ(this.g),q==400&&0<T.indexOf("Unknown SID")?(this.s=3,f0(12)):(this.s=0,f0(13)),N2(this),j1(this)}}}catch(k0){}finally{}};function C5(X){return X.g?X.u=="GET"&&X.L!=2&&X.j.Ca:!1}function iQ(X,w){var q=X.C,h=w.indexOf(`
`,q);if(h==-1)return L6;if(q=Number(w.substring(q,h)),isNaN(q))return i5;if(h+=1,h+q>w.length)return L6;return w=w.slice(h,h+q),X.C=h+q,w}z2.prototype.cancel=function(){this.J=!0,N2(this)};function O8(X){X.S=Date.now()+X.I,r5(X,X.I)}function r5(X,w){if(X.B!=null)throw Error("WatchDog timer not null");X.B=F1(K(X.ba,X),w)}function y6(X){X.B&&(F.clearTimeout(X.B),X.B=null)}z2.prototype.ba=function(){this.B=null;let X=Date.now();0<=X-this.S?(PQ(this.i,this.A),this.L!=2&&(B1(),f0(17)),N2(this),this.s=2,j1(this)):r5(this,this.S-X)};function j1(X){X.j.G==0||X.J||B9(X.j,X)}function N2(X){y6(X);var w=X.M;w&&typeof w.ma=="function"&&w.ma(),X.M=null,Y5(X.U),X.g&&(w=X.g,X.g=null,w.abort(),w.ma())}function v6(X,w){try{var q=X.j;if(q.G!=0&&(q.g==X||f6(q.h,X))){if(!X.K&&f6(q.h,X)&&q.G==3){try{var h=q.Da.g.parse(w)}catch(t){h=null}if(Array.isArray(h)&&h.length==3){var N=h;if(N[0]==0)Z:if(!q.u){if(q.g)if(q.g.F+3000<X.F)H8(q),v8(q);else break Z;l6(q),f0(18)}else q.za=N[1],0<q.za-q.T&&37500>N[2]&&q.F&&q.v==0&&!q.C&&(q.C=F1(K(q.Za,q),6000));if(1>=g5(q.h)&&q.ca){try{q.ca()}catch(t){}q.ca=void 0}}else v2(q,11)}else if((X.K||q.g==X)&&H8(q),!n(w))for(N=q.Da.g.parse(w),w=0;w<N.length;w++){let t=N[w];if(q.T=t[0],t=t[1],q.G==2)if(t[0]=="c"){q.K=t[1],q.ia=t[2];let O0=t[3];O0!=null&&(q.la=O0,q.j.info("VER="+q.la));let k0=t[4];k0!=null&&(q.Aa=k0,q.j.info("SVER="+q.Aa));let r2=t[5];r2!=null&&typeof r2==="number"&&0<r2&&(h=1.5*r2,q.L=h,q.j.info("backChannelRequestTimeoutMs_="+h)),h=q;let M0=X.g;if(M0){let K8=M0.g?M0.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(K8){var H=h.h;H.g||K8.indexOf("spdy")==-1&&K8.indexOf("quic")==-1&&K8.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(H6(H,H.h),H.h=null))}if(h.D){let T6=M0.g?M0.g.getResponseHeader("X-HTTP-Session-Id"):null;T6&&(h.ya=T6,Z0(h.I,h.D,T6))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-X.F,q.j.info("Handshake RTT: "+q.R+"ms")),h=q;var T=X;if(h.qa=j9(h,h.J?h.ia:null,h.W),T.K){s5(h.h,T);var E=T,F0=h.L;F0&&(E.I=F0),E.B&&(y6(E),O8(E)),h.g=T}else x9(h);0<q.i.length&&f8(q)}else t[0]!="stop"&&t[0]!="close"||v2(q,7);else q.G==3&&(t[0]=="stop"||t[0]=="close"?t[0]=="stop"?v2(q,7):K6(q):t[0]!="noop"&&q.l&&q.l.ta(t),q.v=0)}}B1(4)}catch(t){}}var uQ=class{constructor(X,w){this.g=X,this.map=w}};function m5(X){this.l=X||10,F.PerformanceNavigationTiming?(X=F.performance.getEntriesByType("navigation"),X=0<X.length&&(X[0].nextHopProtocol=="hq"||X[0].nextHopProtocol=="h2")):X=!!(F.chrome&&F.chrome.loadTimes&&F.chrome.loadTimes()&&F.chrome.loadTimes().wasFetchedViaSpdy),this.j=X?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function n5(X){return X.h?!0:X.g?X.g.size>=X.j:!1}function g5(X){return X.h?1:X.g?X.g.size:0}function f6(X,w){return X.h?X.h==w:X.g?X.g.has(w):!1}function H6(X,w){X.g?X.g.add(w):X.h=w}function s5(X,w){X.h&&X.h==w?X.h=null:X.g&&X.g.has(w)&&X.g.delete(w)}m5.prototype.cancel=function(){if(this.i=D5(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let X of this.g.values())X.cancel();this.g.clear()}};function D5(X){if(X.h!=null)return X.i.concat(X.h.D);if(X.g!=null&&X.g.size!==0){let w=X.i;for(let q of X.g.values())w=w.concat(q.D);return w}return _(X.i)}function CQ(X){if(X.V&&typeof X.V=="function")return X.V();if(typeof Map!=="undefined"&&X instanceof Map||typeof Set!=="undefined"&&X instanceof Set)return Array.from(X.values());if(typeof X==="string")return X.split("");if(j(X)){for(var w=[],q=X.length,h=0;h<q;h++)w.push(X[h]);return w}w=[],q=0;for(h in X)w[q++]=X[h];return w}function rQ(X){if(X.na&&typeof X.na=="function")return X.na();if(!X.V||typeof X.V!="function"){if(typeof Map!=="undefined"&&X instanceof Map)return Array.from(X.keys());if(!(typeof Set!=="undefined"&&X instanceof Set)){if(j(X)||typeof X==="string"){var w=[];X=X.length;for(var q=0;q<X;q++)w.push(q);return w}w=[],q=0;for(let h in X)w[q++]=h;return w}}}function b5(X,w){if(X.forEach&&typeof X.forEach=="function")X.forEach(w,void 0);else if(j(X)||typeof X==="string")Array.prototype.forEach.call(X,w,void 0);else for(var q=rQ(X),h=CQ(X),N=h.length,H=0;H<N;H++)w.call(void 0,h[H],q&&q[H],X)}var c5=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mQ(X,w){if(X){X=X.split("&");for(var q=0;q<X.length;q++){var h=X[q].indexOf("="),N=null;if(0<=h){var H=X[q].substring(0,h);N=X[q].substring(h+1)}else H=X[q];w(H,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function y2(X){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,X instanceof y2){this.h=X.h,k8(this,X.j),this.o=X.o,this.g=X.g,S8(this,X.s),this.l=X.l;var w=X.i,q=new I1;q.i=w.i,w.g&&(q.g=new Map(w.g),q.h=w.h),t5(this,q),this.m=X.m}else X&&(w=String(X).match(c5))?(this.h=!1,k8(this,w[1]||"",!0),this.o=R1(w[2]||""),this.g=R1(w[3]||"",!0),S8(this,w[4]),this.l=R1(w[5]||"",!0),t5(this,w[6]||"",!0),this.m=R1(w[7]||"")):(this.h=!1,this.i=new I1(null,this.h))}y2.prototype.toString=function(){var X=[],w=this.j;w&&X.push(G1(w,d5,!0),":");var q=this.g;if(q||w=="file")X.push("//"),(w=this.o)&&X.push(G1(w,d5,!0),"@"),X.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),q=this.s,q!=null&&X.push(":",String(q));if(q=this.l)this.g&&q.charAt(0)!="/"&&X.push("/"),X.push(G1(q,q.charAt(0)=="/"?sQ:gQ,!0));return(q=this.i.toString())&&X.push("?",q),(q=this.m)&&X.push("#",G1(q,bQ)),X.join("")};function c0(X){return new y2(X)}function k8(X,w,q){X.j=q?R1(w,!0):w,X.j&&(X.j=X.j.replace(/:$/,""))}function S8(X,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);X.s=w}else X.s=null}function t5(X,w,q){w instanceof I1?(X.i=w,cQ(X.i,X.h)):(q||(w=G1(w,DQ)),X.i=new I1(w,X.h))}function Z0(X,w,q){X.i.set(w,q)}function L8(X){return Z0(X,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),X}function R1(X,w){return X?w?decodeURI(X.replace(/%25/g,"%2525")):decodeURIComponent(X):""}function G1(X,w,q){return typeof X==="string"?(X=encodeURI(X).replace(w,nQ),q&&(X=X.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),X):null}function nQ(X){return X=X.charCodeAt(0),"%"+(X>>4&15).toString(16)+(X&15).toString(16)}var d5=/[#\/\?@]/g,gQ=/[#\?:]/g,sQ=/[#\?]/g,DQ=/[#\?@]/g,bQ=/#/g;function I1(X,w){this.h=this.g=null,this.i=X||null,this.j=!!w}function w2(X){X.g||(X.g=new Map,X.h=0,X.i&&mQ(X.i,function(w,q){X.add(decodeURIComponent(w.replace(/\+/g," ")),q)}))}Z=I1.prototype,Z.add=function(X,w){w2(this),this.i=null,X=u2(this,X);var q=this.g.get(X);return q||this.g.set(X,q=[]),q.push(w),this.h+=1,this};function E5(X,w){w2(X),w=u2(X,w),X.g.has(w)&&(X.i=null,X.h-=X.g.get(w).length,X.g.delete(w))}function o5(X,w){return w2(X),w=u2(X,w),X.g.has(w)}Z.forEach=function(X,w){w2(this),this.g.forEach(function(q,h){q.forEach(function(N){X.call(w,N,h,this)},this)},this)},Z.na=function(){w2(this);let X=Array.from(this.g.values()),w=Array.from(this.g.keys()),q=[];for(let h=0;h<w.length;h++){let N=X[h];for(let H=0;H<N.length;H++)q.push(w[h])}return q},Z.V=function(X){w2(this);let w=[];if(typeof X==="string")o5(this,X)&&(w=w.concat(this.g.get(u2(this,X))));else{X=Array.from(this.g.values());for(let q=0;q<X.length;q++)w=w.concat(X[q])}return w},Z.set=function(X,w){return w2(this),this.i=null,X=u2(this,X),o5(this,X)&&(this.h-=this.g.get(X).length),this.g.set(X,[w]),this.h+=1,this},Z.get=function(X,w){if(!X)return w;return X=this.V(X),0<X.length?String(X[0]):w};function e5(X,w,q){E5(X,w),0<q.length&&(X.i=null,X.g.set(u2(X,w),_(q)),X.h+=q.length)}Z.toString=function(){if(this.i)return this.i;if(!this.g)return"";let X=[],w=Array.from(this.g.keys());for(var q=0;q<w.length;q++){var h=w[q];let H=encodeURIComponent(String(h)),T=this.V(h);for(h=0;h<T.length;h++){var N=H;T[h]!==""&&(N+="="+encodeURIComponent(String(T[h]))),X.push(N)}}return this.i=X.join("&")};function u2(X,w){return w=String(w),X.j&&(w=w.toLowerCase()),w}function cQ(X,w){w&&!X.j&&(w2(X),X.i=null,X.g.forEach(function(q,h){var N=h.toLowerCase();h!=N&&(E5(this,h),e5(this,N,q))},X)),X.j=w}function tQ(X,w){let q=new h1;if(F.Image){let h=new Image;h.onload=P(U2,q,"TestLoadImage: loaded",!0,w,h),h.onerror=P(U2,q,"TestLoadImage: error",!1,w,h),h.onabort=P(U2,q,"TestLoadImage: abort",!1,w,h),h.ontimeout=P(U2,q,"TestLoadImage: timeout",!1,w,h),F.setTimeout(function(){if(h.ontimeout)h.ontimeout()},1e4),h.src=X}else w(!1)}function dQ(X,w){let q=new h1,h=new AbortController,N=setTimeout(()=>{h.abort(),U2(q,"TestPingServer: timeout",!1,w)},1e4);fetch(X,{signal:h.signal}).then((H)=>{clearTimeout(N),H.ok?U2(q,"TestPingServer: ok",!0,w):U2(q,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(N),U2(q,"TestPingServer: error",!1,w)})}function U2(X,w,q,h,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),h(q)}catch(H){}}function EQ(){this.g=new TQ}function oQ(X,w,q){let h=q||"";try{b5(X,function(N,H){let T=N;R(N)&&(T=G6(N)),w.push(h+H+"="+encodeURIComponent(T))})}catch(N){throw w.push(h+"type="+encodeURIComponent("_badmap")),N}}function O1(X){this.l=X.Ub||null,this.j=X.eb||!1}A(O1,I6),O1.prototype.g=function(){return new N8(this.l,this.j)},O1.prototype.i=function(X){return function(){return X}}({});function N8(X,w){I0.call(this),this.D=X,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(N8,I0),Z=N8.prototype,Z.open=function(X,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=X,this.A=w,this.readyState=1,S1(this)},Z.send=function(X){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};X&&(w.body=X),(this.D||F).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},Z.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,k1(this)),this.readyState=0},Z.Sa=function(X){if(this.g&&(this.l=X,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=X.headers,this.readyState=2,S1(this)),this.g&&(this.readyState=3,S1(this),this.g)))if(this.responseType==="arraybuffer")X.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof F.ReadableStream!=="undefined"&&"body"in X){if(this.j=X.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;a5(this)}else X.text().then(this.Ra.bind(this),this.ga.bind(this))};function a5(X){X.j.read().then(X.Pa.bind(X)).catch(X.ga.bind(X))}Z.Pa=function(X){if(this.g){if(this.o&&X.value)this.response.push(X.value);else if(!this.o){var w=X.value?X.value:new Uint8Array(0);if(w=this.v.decode(w,{stream:!X.done}))this.response=this.responseText+=w}X.done?k1(this):S1(this),this.readyState==3&&a5(this)}},Z.Ra=function(X){this.g&&(this.response=this.responseText=X,k1(this))},Z.Qa=function(X){this.g&&(this.response=X,k1(this))},Z.ga=function(){this.g&&k1(this)};function k1(X){X.readyState=4,X.l=null,X.j=null,X.v=null,S1(X)}Z.setRequestHeader=function(X,w){this.u.append(X,w)},Z.getResponseHeader=function(X){return this.h?this.h.get(X.toLowerCase())||"":""},Z.getAllResponseHeaders=function(){if(!this.h)return"";let X=[],w=this.h.entries();for(var q=w.next();!q.done;)q=q.value,X.push(q[0]+": "+q[1]),q=w.next();return X.join(`\r
`)};function S1(X){X.onreadystatechange&&X.onreadystatechange.call(X)}Object.defineProperty(N8.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(X){this.m=X?"include":"same-origin"}});function Z9(X){let w="";return K0(X,function(q,h){w+=h,w+=":",w+=q,w+=`\r
`}),w}function Y6(X,w,q){Z:{for(h in q){var h=!1;break Z}h=!0}h||(q=Z9(q),typeof X==="string"?q!=null&&encodeURIComponent(String(q)):Z0(X,w,q))}function X0(X){I0.call(this),this.headers=new Map,this.o=X||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(X0,I0);var eQ=/^https?$/i,aQ=["POST","PUT"];Z=X0.prototype,Z.Ha=function(X){this.J=X},Z.ea=function(X,w,q,h){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+X);w=w?w.toUpperCase():"GET",this.D=X,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():S6.g(),this.v=this.o?K5(this.o):K5(S6),this.g.onreadystatechange=K(this.Ea,this);try{this.B=!0,this.g.open(w,String(X),!0),this.B=!1}catch(H){Q9(this,H);return}if(X=q||"",q=new Map(this.headers),h)if(Object.getPrototypeOf(h)===Object.prototype)for(var N in h)q.set(N,h[N]);else if(typeof h.keys==="function"&&typeof h.get==="function")for(let H of h.keys())q.set(H,h.get(H));else throw Error("Unknown input type for opt_headers: "+String(h));h=Array.from(q.keys()).find((H)=>H.toLowerCase()=="content-type"),N=F.FormData&&X instanceof F.FormData,!(0<=Array.prototype.indexOf.call(aQ,w,void 0))||h||N||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[H,T]of q)this.g.setRequestHeader(H,T);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$9(this),this.u=!0,this.g.send(X),this.u=!1}catch(H){Q9(this,H)}};function Q9(X,w){X.h=!1,X.g&&(X.j=!0,X.g.abort(),X.j=!1),X.l=w,X.m=5,J9(X),y8(X)}function J9(X){X.A||(X.A=!0,v0(X,"complete"),v0(X,"error"))}Z.abort=function(X){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=X||7,v0(this,"complete"),v0(this,"abort"),y8(this))},Z.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),y8(this,!0)),X0.aa.N.call(this)},Z.Ea=function(){this.s||(this.B||this.u||this.j?X9(this):this.bb())},Z.bb=function(){X9(this)};function X9(X){if(X.h&&typeof B!="undefined"&&(!X.v[1]||t0(X)!=4||X.Z()!=2)){if(X.u&&t0(X)==4)y5(X.Ea,0,X);else if(v0(X,"readystatechange"),t0(X)==4){X.h=!1;try{let T=X.Z();Z:switch(T){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break Z;default:w=!1}var q;if(!(q=w)){var h;if(h=T===0){var N=String(X.D).match(c5)[1]||null;!N&&F.self&&F.self.location&&(N=F.self.location.protocol.slice(0,-1)),h=!eQ.test(N?N.toLowerCase():"")}q=h}if(q)v0(X,"complete"),v0(X,"success");else{X.m=6;try{var H=2<t0(X)?X.g.statusText:""}catch(E){H=""}X.l=H+" ["+X.Z()+"]",J9(X)}}finally{y8(X)}}}}function y8(X,w){if(X.g){$9(X);let q=X.g,h=X.v[0]?()=>{}:null;X.g=null,X.v=null,w||v0(X,"ready");try{q.onreadystatechange=h}catch(N){}}}function $9(X){X.I&&(F.clearTimeout(X.I),X.I=null)}Z.isActive=function(){return!!this.g};function t0(X){return X.g?X.g.readyState:0}Z.Z=function(){try{return 2<t0(this)?this.g.status:-1}catch(X){return-1}},Z.oa=function(){try{return this.g?this.g.responseText:""}catch(X){return""}},Z.Oa=function(X){if(this.g){var w=this.g.responseText;return X&&w.indexOf(X)==0&&(w=w.substring(X.length)),pQ(w)}};function V9(X){try{if(!X.g)return null;if("response"in X.g)return X.g.response;switch(X.H){case"":case"text":return X.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in X.g)return X.g.mozResponseArrayBuffer}return null}catch(w){return null}}function ZJ(X){let w={};X=(X.g&&2<=t0(X)?X.g.getAllResponseHeaders()||"":"").split(`\r
`);for(let h=0;h<X.length;h++){if(n(X[h]))continue;var q=S(X[h]);let N=q[0];if(q=q[1],typeof q!=="string")continue;q=q.trim();let H=w[N]||[];w[N]=H,H.push(q)}y(w,function(h){return h.join(", ")})}Z.Ba=function(){return this.m},Z.Ka=function(){return typeof this.l==="string"?this.l:String(this.l)};function L1(X,w,q){return q&&q.internalChannelParams?q.internalChannelParams[X]||w:w}function z9(X){this.Aa=0,this.i=[],this.j=new h1,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=L1("failFast",!1,X),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=L1("baseRetryDelayMs",5000,X),this.cb=L1("retryDelaySeedMs",1e4,X),this.Wa=L1("forwardChannelMaxRetries",2,X),this.wa=L1("forwardChannelRequestTimeoutMs",20000,X),this.pa=X&&X.xmlHttpFactory||void 0,this.Xa=X&&X.Tb||void 0,this.Ca=X&&X.useFetchStreams||!1,this.L=void 0,this.J=X&&X.supportsCrossDomainXhr||!1,this.K="",this.h=new m5(X&&X.concurrentRequestLimit),this.Da=new EQ,this.P=X&&X.fastHandshake||!1,this.O=X&&X.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=X&&X.Rb||!1,X&&X.xa&&this.j.xa(),X&&X.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&X&&X.detectBufferingProxy||!1,this.ja=void 0,X&&X.longPollingTimeout&&0<X.longPollingTimeout&&(this.ja=X.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}Z=z9.prototype,Z.la=8,Z.G=1,Z.connect=function(X,w,q,h){f0(0),this.W=X,this.H=w||{},q&&h!==void 0&&(this.H.OSID=q,this.H.OAID=h),this.F=this.X,this.I=j9(this,null,this.W),f8(this)};function K6(X){if(w9(X),X.G==3){var w=X.U++,q=c0(X.I);if(Z0(q,"SID",X.K),Z0(q,"RID",w),Z0(q,"TYPE","terminate"),N1(X,q),w=new z2(X,X.j,w),w.L=2,w.v=L8(c0(q)),q=!1,F.navigator&&F.navigator.sendBeacon)try{q=F.navigator.sendBeacon(w.v.toString(),"")}catch(h){}!q&&F.Image&&(new Image().src=w.v,q=!0),q||(w.g=R9(w.j,null),w.g.ea(w.v)),w.F=Date.now(),O8(w)}h9(X)}function v8(X){X.g&&(p6(X),X.g.cancel(),X.g=null)}function w9(X){v8(X),X.u&&(F.clearTimeout(X.u),X.u=null),H8(X),X.h.cancel(),X.s&&(typeof X.s==="number"&&F.clearTimeout(X.s),X.s=null)}function f8(X){if(!n5(X.h)&&!X.s){X.s=!0;var w=X.Ga;z1||I5(),w1||(z1(),w1=!0),U6.add(w,X),X.B=0}}function QJ(X,w){if(g5(X.h)>=X.h.j-(X.s?1:0))return!1;if(X.s)return X.i=w.D.concat(X.i),!0;if(X.G==1||X.G==2||X.B>=(X.Va?0:X.Wa))return!1;return X.s=F1(K(X.Ga,X,w),F9(X,X.B)),X.B++,!0}Z.Ga=function(X){if(this.s)if(this.s=null,this.G==1){if(!X){this.U=Math.floor(1e5*Math.random()),X=this.U++;let N=new z2(this,this.j,X),H=this.o;if(this.S&&(H?(H=G(H),k(H,this.S)):H=this.S),this.m!==null||this.O||(N.H=H,H=null),this.P)Z:{var w=0;for(var q=0;q<this.i.length;q++){Q:{var h=this.i[q];if("__data__"in h.map&&(h=h.map.__data__,typeof h==="string")){h=h.length;break Q}h=void 0}if(h===void 0)break;if(w+=h,4096<w){w=q;break Z}if(w===4096||q===this.i.length-1){w=q+1;break Z}}w=1000}else w=1000;w=W9(this,N,w),q=c0(this.I),Z0(q,"RID",X),Z0(q,"CVER",22),this.D&&Z0(q,"X-HTTP-Session-Id",this.D),N1(this,q),H&&(this.O?w="headers="+encodeURIComponent(String(Z9(H)))+"&"+w:this.m&&Y6(q,this.m,H)),H6(this.h,N),this.Ua&&Z0(q,"TYPE","init"),this.P?(Z0(q,"$req",w),Z0(q,"SID","null"),N.T=!0,N6(N,q,null)):N6(N,q,w),this.G=2}}else this.G==3&&(X?U9(this,X):this.i.length==0||n5(this.h)||U9(this))};function U9(X,w){var q;w?q=w.l:q=X.U++;let h=c0(X.I);Z0(h,"SID",X.K),Z0(h,"RID",q),Z0(h,"AID",X.T),N1(X,h),X.m&&X.o&&Y6(h,X.m,X.o),q=new z2(X,X.j,q,X.B+1),X.m===null&&(q.H=X.o),w&&(X.i=w.D.concat(X.i)),w=W9(X,q,1000),q.I=Math.round(0.5*X.wa)+Math.round(0.5*X.wa*Math.random()),H6(X.h,q),N6(q,h,w)}function N1(X,w){X.H&&K0(X.H,function(q,h){Z0(w,h,q)}),X.l&&b5({},function(q,h){Z0(w,h,q)})}function W9(X,w,q){q=Math.min(X.i.length,q);var h=X.l?K(X.l.Na,X.l,X):null;Z:{var N=X.i;let H=-1;for(;;){let T=["count="+q];H==-1?0<q?(H=N[0].g,T.push("ofs="+H)):H=0:T.push("ofs="+H);let E=!0;for(let F0=0;F0<q;F0++){let t=N[F0].g,O0=N[F0].map;if(t-=H,0>t)H=Math.max(0,N[F0].g-100),E=!1;else try{oQ(O0,T,"req"+t+"_")}catch(k0){h&&h(O0)}}if(E){h=T.join("&");break Z}}}return X=X.i.splice(0,q),w.D=X,h}function x9(X){if(!X.g&&!X.u){X.Y=1;var w=X.Fa;z1||I5(),w1||(z1(),w1=!0),U6.add(w,X),X.v=0}}function l6(X){if(X.g||X.u||3<=X.v)return!1;return X.Y++,X.u=F1(K(X.Fa,X),F9(X,X.v)),X.v++,!0}Z.Fa=function(){if(this.u=null,q9(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var X=2*this.R;this.j.info("BP detection timer enabled: "+X),this.A=F1(K(this.ab,this),X)}},Z.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,f0(10),v8(this),q9(this))};function p6(X){X.A!=null&&(F.clearTimeout(X.A),X.A=null)}function q9(X){X.g=new z2(X,X.j,"rpc",X.Y),X.m===null&&(X.g.H=X.o),X.g.O=0;var w=c0(X.qa);Z0(w,"RID","rpc"),Z0(w,"SID",X.K),Z0(w,"AID",X.T),Z0(w,"CI",X.F?"0":"1"),!X.F&&X.ja&&Z0(w,"TO",X.ja),Z0(w,"TYPE","xmlhttp"),N1(X,w),X.m&&X.o&&Y6(w,X.m,X.o),X.L&&(X.g.I=X.L);var q=X.g;X=X.ia,q.L=1,q.v=L8(c0(w)),q.m=null,q.P=!0,u5(q,X)}Z.Za=function(){this.C!=null&&(this.C=null,v8(this),l6(this),f0(19))};function H8(X){X.C!=null&&(F.clearTimeout(X.C),X.C=null)}function B9(X,w){var q=null;if(X.g==w){H8(X),p6(X),X.g=null;var h=2}else if(f6(X.h,w))q=w.D,s5(X.h,w),h=1;else return;if(X.G!=0){if(w.o)if(h==1){q=w.m?w.m.length:0,w=Date.now()-w.F;var N=X.B;h=R8(),v0(h,new _5(h,q)),f8(X)}else x9(X);else if(N=w.s,N==3||N==0&&0<w.X||!(h==1&&QJ(X,w)||h==2&&l6(X)))switch(q&&0<q.length&&(w=X.h,w.i=w.i.concat(q)),N){case 1:v2(X,5);break;case 4:v2(X,10);break;case 3:v2(X,6);break;default:v2(X,2)}}}function F9(X,w){let q=X.Ta+Math.floor(Math.random()*X.cb);return X.isActive()||(q*=2),q*w}function v2(X,w){if(X.j.info("Error code "+w),w==2){var q=K(X.fb,X),h=X.Xa;let N=!h;h=new y2(h||"//www.google.com/images/cleardot.gif"),F.location&&F.location.protocol=="http"||k8(h,"https"),L8(h),N?tQ(h.toString(),q):dQ(h.toString(),q)}else f0(2);X.G=0,X.l&&X.l.sa(w),h9(X),w9(X)}Z.fb=function(X){X?(this.j.info("Successfully pinged google.com"),f0(2)):(this.j.info("Failed to ping google.com"),f0(1))};function h9(X){if(X.G=0,X.ka=[],X.l){let w=D5(X.h);if(w.length!=0||X.i.length!=0)M(X.ka,w),M(X.ka,X.i),X.h.i.length=0,_(X.i),X.i.length=0;X.l.ra()}}function j9(X,w,q){var h=q instanceof y2?c0(q):new y2(q);if(h.g!="")w&&(h.g=w+"."+h.g),S8(h,h.s);else{var N=F.location;h=N.protocol,w=w?w+"."+N.hostname:N.hostname,N=+N.port;var H=new y2(null);h&&k8(H,h),w&&(H.g=w),N&&S8(H,N),q&&(H.l=q),h=H}return q=X.D,w=X.ya,q&&w&&Z0(h,q,w),Z0(h,"VER",X.la),N1(X,h),h}function R9(X,w,q){if(w&&!X.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=X.Ca&&!X.pa?new X0(new O1({eb:q})):new X0(X.pa),w.Ha(X.J),w}Z.isActive=function(){return!!this.l&&this.l.isActive(this)};function G9(){}Z=G9.prototype,Z.ua=function(){},Z.ta=function(){},Z.sa=function(){},Z.ra=function(){},Z.isActive=function(){return!0},Z.Na=function(){};function Y8(){}Y8.prototype.g=function(X,w){return new l0(X,w)};function l0(X,w){I0.call(this),this.g=new z9(w),this.l=X,this.h=w&&w.messageUrlParams||null,X=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(X?X["X-Client-Protocol"]="webchannel":X={"X-Client-Protocol":"webchannel"}),this.g.o=X,X=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(X?X["X-WebChannel-Content-Type"]=w.messageContentType:X={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(X?X["X-WebChannel-Client-Profile"]=w.va:X={"X-WebChannel-Client-Profile":w.va}),this.g.S=X,(X=w&&w.Sb)&&!n(X)&&(this.g.m=X),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!n(w)&&(this.g.D=w,X=this.h,X!==null&&(w in X)&&(X=this.h,(w in X)&&delete X[w])),this.j=new C2(this)}A(l0,I0),l0.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},l0.prototype.close=function(){K6(this.g)},l0.prototype.o=function(X){var w=this.g;if(typeof X==="string"){var q={};q.__data__=X,X=q}else this.u&&(q={},q.__data__=G6(X),X=q);w.i.push(new uQ(w.Ya++,X)),w.G==3&&f8(w)},l0.prototype.N=function(){this.g.l=null,delete this.j,K6(this.g),delete this.g,l0.aa.N.call(this)};function I9(X){O6.call(this),X.__headers__&&(this.headers=X.__headers__,this.statusCode=X.__status__,delete X.__headers__,delete X.__status__);var w=X.__sm__;if(w){Z:{for(let q in w){X=q;break Z}X=void 0}if(this.i=X)X=this.i,w=w!==null&&X in w?w[X]:void 0;this.data=w}else this.data=X}A(I9,O6);function O9(){k6.call(this),this.status=1}A(O9,k6);function C2(X){this.g=X}A(C2,G9),C2.prototype.ua=function(){v0(this.g,"a")},C2.prototype.ta=function(X){v0(this.g,new I9(X))},C2.prototype.sa=function(X){v0(this.g,new O9)},C2.prototype.ra=function(){v0(this.g,"b")},Y8.prototype.createWebChannel=Y8.prototype.g,l0.prototype.send=l0.prototype.o,l0.prototype.open=l0.prototype.m,l0.prototype.close=l0.prototype.close,q4=a0.createWebChannelTransport=function(){return new Y8},x4=a0.getStatEventTarget=function(){return R8()},W4=a0.Event=L2,C8=a0.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},G8.NO_ERROR=0,G8.TIMEOUT=8,G8.HTTP_ERROR=6,u1=a0.ErrorCode=G8,P5.COMPLETE="complete",U4=a0.EventType=P5,l5.EventType=q1,q1.OPEN="a",q1.CLOSE="b",q1.ERROR="c",q1.MESSAGE="d",I0.prototype.listen=I0.prototype.K,D2=a0.WebChannel=l5,w4=a0.FetchXmlHttpFactory=O1,X0.prototype.listenOnce=X0.prototype.L,X0.prototype.getLastError=X0.prototype.Ka,X0.prototype.getLastErrorCode=X0.prototype.Ba,X0.prototype.getStatus=X0.prototype.Z,X0.prototype.getResponseJson=X0.prototype.Oa,X0.prototype.getResponseText=X0.prototype.oa,X0.prototype.send=X0.prototype.ea,X0.prototype.setWithCredentials=X0.prototype.Ha,z4=a0.XhrIo=X0}).apply(typeof u8!=="undefined"?u8:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});var zZ="@firebase/firestore";class h0{constructor(Z){this.uid=Z}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(Z){return Z.uid===this.uid}}h0.UNAUTHENTICATED=new h0(null),h0.GOOGLE_CREDENTIALS=new h0("google-credentials-uid"),h0.FIRST_PARTY=new h0("first-party-uid"),h0.MOCK_USER=new h0("mock-user");var J1="10.13.0",T2=new P1("@firebase/firestore");function C1(){return T2.logLevel}function i(Z,...Q){if(T2.logLevel<=b.DEBUG){let J=Q.map(Y4);T2.debug(`Firestore (${J1}): ${Z}`,...J)}}function A2(Z,...Q){if(T2.logLevel<=b.ERROR){let J=Q.map(Y4);T2.error(`Firestore (${J1}): ${Z}`,...J)}}function D8(Z,...Q){if(T2.logLevel<=b.WARN){let J=Q.map(Y4);T2.warn(`Firestore (${J1}): ${Z}`,...J)}}function Y4(Z){if(typeof Z=="string")return Z;try{return function Q(J){return JSON.stringify(J)}(Z)}catch(Q){return Z}}function s(Z="Unexpected state"){let Q=`FIRESTORE (${J1}) INTERNAL ASSERTION FAILED: `+Z;throw A2(Q),new Error(Q)}function W0(Z,Q){Z||s()}function a(Z,Q){return Z}var p={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class r extends o0{constructor(Z,Q){super(Z,Q),this.code=Z,this.message=Q,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class h2{constructor(){this.promise=new Promise((Z,Q)=>{this.resolve=Z,this.reject=Q})}}class K4{constructor(Z,Q){this.user=Q,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${Z}`)}}class YZ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(Z,Q){Z.enqueueRetryable(()=>Q(h0.UNAUTHENTICATED))}shutdown(){}}class KZ{constructor(Z){this.token=Z,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(Z,Q){this.changeListener=Q,Z.enqueueRetryable(()=>Q(this.token.user))}shutdown(){this.changeListener=null}}class lZ{constructor(Z){this.t=Z,this.currentUser=h0.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(Z,Q){let J=this.i,$=(F)=>this.i!==J?(J=this.i,Q(F)):Promise.resolve(),V=new h2;this.o=()=>{this.i++,this.currentUser=this.u(),V.resolve(),V=new h2,Z.enqueueRetryable(()=>$(this.currentUser))};let U=()=>{let F=V;Z.enqueueRetryable(async()=>{await F.promise,await $(this.currentUser)})},B=(F)=>{i("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=F,this.auth.addAuthTokenListener(this.o),U()};this.t.onInit((F)=>B(F)),setTimeout(()=>{if(!this.auth){let F=this.t.getImmediate({optional:!0});F?B(F):(i("FirebaseAuthCredentialsProvider","Auth not yet detected"),V.resolve(),V=new h2)}},0),U()}getToken(){let Z=this.i,Q=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(Q).then((J)=>this.i!==Z?(i("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):J?(W0(typeof J.accessToken=="string"),new K4(J.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let Z=this.auth&&this.auth.getUid();return W0(Z===null||typeof Z=="string"),new h0(Z)}}class pZ{constructor(Z,Q,J){this.l=Z,this.h=Q,this.P=J,this.type="FirstParty",this.user=h0.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let Z=this.T();return Z&&this.I.set("Authorization",Z),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class TZ{constructor(Z,Q,J){this.l=Z,this.h=Q,this.P=J}getToken(){return Promise.resolve(new pZ(this.l,this.h,this.P))}start(Z,Q){Z.enqueueRetryable(()=>Q(h0.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AZ{constructor(Z){this.value=Z,this.type="AppCheck",this.headers=new Map,Z&&Z.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _Z{constructor(Z){this.A=Z,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(Z,Q){let J=(V)=>{V.error!=null&&i("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${V.error.message}`);let U=V.token!==this.R;return this.R=V.token,i("FirebaseAppCheckTokenProvider",`Received ${U?"new":"existing"} token.`),U?Q(V.token):Promise.resolve()};this.o=(V)=>{Z.enqueueRetryable(()=>J(V))};let $=(V)=>{i("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=V,this.appCheck.addTokenListener(this.o)};this.A.onInit((V)=>$(V)),setTimeout(()=>{if(!this.appCheck){let V=this.A.getImmediate({optional:!0});V?$(V):i("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let Z=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(Z).then((Q)=>Q?(W0(typeof Q.token=="string"),this.R=Q.token,new AZ(Q.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function IX(Z){let Q=typeof self!="undefined"&&(self.crypto||self.msCrypto),J=new Uint8Array(Z);if(Q&&typeof Q.getRandomValues=="function")Q.getRandomValues(J);else for(let $=0;$<Z;$++)J[$]=Math.floor(256*Math.random());return J}class l4{static newId(){let Q=Math.floor(4.129032258064516)*62,J="";for(;J.length<20;){let $=IX(40);for(let V=0;V<$.length;++V)J.length<20&&$[V]<Q&&(J+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt($[V]%62))}return J}}function o(Z,Q){return Z<Q?-1:Z>Q?1:0}function t2(Z,Q,J){return Z.length===Q.length&&Z.every(($,V)=>J($,Q[V]))}class q0{constructor(Z,Q){if(this.seconds=Z,this.nanoseconds=Q,Q<0)throw new r(p.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+Q);if(Q>=1e9)throw new r(p.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+Q);if(Z<-62135596800)throw new r(p.INVALID_ARGUMENT,"Timestamp seconds out of range: "+Z);if(Z>=253402300800)throw new r(p.INVALID_ARGUMENT,"Timestamp seconds out of range: "+Z)}static now(){return q0.fromMillis(Date.now())}static fromDate(Z){return q0.fromMillis(Z.getTime())}static fromMillis(Z){let Q=Math.floor(Z/1000),J=Math.floor(1e6*(Z-1000*Q));return new q0(Q,J)}toDate(){return new Date(this.toMillis())}toMillis(){return 1000*this.seconds+this.nanoseconds/1e6}_compareTo(Z){return this.seconds===Z.seconds?o(this.nanoseconds,Z.nanoseconds):o(this.seconds,Z.seconds)}isEqual(Z){return Z.seconds===this.seconds&&Z.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let Z=this.seconds- -62135596800;return String(Z).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class J0{constructor(Z){this.timestamp=Z}static fromTimestamp(Z){return new J0(Z)}static min(){return new J0(new q0(0,0))}static max(){return new J0(new q0(253402300799,999999999))}compareTo(Z){return this.timestamp._compareTo(Z.timestamp)}isEqual(Z){return this.timestamp.isEqual(Z.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1000}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class b1{constructor(Z,Q,J){Q===void 0?Q=0:Q>Z.length&&s(),J===void 0?J=Z.length-Q:J>Z.length-Q&&s(),this.segments=Z,this.offset=Q,this.len=J}get length(){return this.len}isEqual(Z){return b1.comparator(this,Z)===0}child(Z){let Q=this.segments.slice(this.offset,this.limit());return Z instanceof b1?Z.forEach((J)=>{Q.push(J)}):Q.push(Z),this.construct(Q)}limit(){return this.offset+this.length}popFirst(Z){return Z=Z===void 0?1:Z,this.construct(this.segments,this.offset+Z,this.length-Z)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(Z){return this.segments[this.offset+Z]}isEmpty(){return this.length===0}isPrefixOf(Z){if(Z.length<this.length)return!1;for(let Q=0;Q<this.length;Q++)if(this.get(Q)!==Z.get(Q))return!1;return!0}isImmediateParentOf(Z){if(this.length+1!==Z.length)return!1;for(let Q=0;Q<this.length;Q++)if(this.get(Q)!==Z.get(Q))return!1;return!0}forEach(Z){for(let Q=this.offset,J=this.limit();Q<J;Q++)Z(this.segments[Q])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(Z,Q){let J=Math.min(Z.length,Q.length);for(let $=0;$<J;$++){let V=Z.get($),U=Q.get($);if(V<U)return-1;if(V>U)return 1}return Z.length<Q.length?-1:Z.length>Q.length?1:0}}class V0 extends b1{construct(Z,Q,J){return new V0(Z,Q,J)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...Z){let Q=[];for(let J of Z){if(J.indexOf("//")>=0)throw new r(p.INVALID_ARGUMENT,`Invalid segment (${J}). Paths must not contain // in them.`);Q.push(...J.split("/").filter(($)=>$.length>0))}return new V0(Q)}static emptyPath(){return new V0([])}}var OX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class R0 extends b1{construct(Z,Q,J){return new R0(Z,Q,J)}static isValidIdentifier(Z){return OX.test(Z)}canonicalString(){return this.toArray().map((Z)=>(Z=Z.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),R0.isValidIdentifier(Z)||(Z="`"+Z+"`"),Z)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new R0(["__name__"])}static fromServerFormat(Z){let Q=[],J="",$=0,V=()=>{if(J.length===0)throw new r(p.INVALID_ARGUMENT,`Invalid field path (${Z}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);Q.push(J),J=""},U=!1;for(;$<Z.length;){let B=Z[$];if(B==="\\"){if($+1===Z.length)throw new r(p.INVALID_ARGUMENT,"Path has trailing escape character: "+Z);let F=Z[$+1];if(F!=="\\"&&F!=="."&&F!=="`")throw new r(p.INVALID_ARGUMENT,"Path has invalid escape sequence: "+Z);J+=F,$+=2}else B==="`"?(U=!U,$++):B!=="."||U?(J+=B,$++):(V(),$++)}if(V(),U)throw new r(p.INVALID_ARGUMENT,"Unterminated ` in path: "+Z);return new R0(Q)}static emptyPath(){return new R0([])}}class m{constructor(Z){this.path=Z}static fromPath(Z){return new m(V0.fromString(Z))}static fromName(Z){return new m(V0.fromString(Z).popFirst(5))}static empty(){return new m(V0.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(Z){return this.path.length>=2&&this.path.get(this.path.length-2)===Z}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(Z){return Z!==null&&V0.comparator(this.path,Z.path)===0}toString(){return this.path.toString()}static comparator(Z,Q){return V0.comparator(Z.path,Q.path)}static isDocumentKey(Z){return Z.length%2==0}static fromSegments(Z){return new m(new V0(Z.slice()))}}class PZ{constructor(Z,Q,J,$){this.indexId=Z,this.collectionGroup=Q,this.fields=J,this.indexState=$}}PZ.UNKNOWN_ID=-1;function kX(Z,Q){let J=Z.toTimestamp().seconds,$=Z.toTimestamp().nanoseconds+1,V=J0.fromTimestamp($===1e9?new q0(J+1,0):new q0(J,$));return new R2(V,m.empty(),Q)}function SX(Z){return new R2(Z.readTime,Z.key,-1)}class R2{constructor(Z,Q,J){this.readTime=Z,this.documentKey=Q,this.largestBatchId=J}static min(){return new R2(J0.min(),m.empty(),-1)}static max(){return new R2(J0.max(),m.empty(),-1)}}function LX(Z,Q){let J=Z.readTime.compareTo(Q.readTime);return J!==0?J:(J=m.comparator(Z.documentKey,Q.documentKey),J!==0?J:o(Z.largestBatchId,Q.largestBatchId))}var NX="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MZ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(Z){this.onCommittedListeners.push(Z)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((Z)=>Z())}}async function iZ(Z){if(Z.code!==p.FAILED_PRECONDITION||Z.message!==NX)throw Z;i("LocalStore","Unexpectedly lost primary lease")}class l{constructor(Z){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,Z((Q)=>{this.isDone=!0,this.result=Q,this.nextCallback&&this.nextCallback(Q)},(Q)=>{this.isDone=!0,this.error=Q,this.catchCallback&&this.catchCallback(Q)})}catch(Z){return this.next(void 0,Z)}next(Z,Q){return this.callbackAttached&&s(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(Q,this.error):this.wrapSuccess(Z,this.result):new l((J,$)=>{this.nextCallback=(V)=>{this.wrapSuccess(Z,V).next(J,$)},this.catchCallback=(V)=>{this.wrapFailure(Q,V).next(J,$)}})}toPromise(){return new Promise((Z,Q)=>{this.next(Z,Q)})}wrapUserFunction(Z){try{let Q=Z();return Q instanceof l?Q:l.resolve(Q)}catch(Q){return l.reject(Q)}}wrapSuccess(Z,Q){return Z?this.wrapUserFunction(()=>Z(Q)):l.resolve(Q)}wrapFailure(Z,Q){return Z?this.wrapUserFunction(()=>Z(Q)):l.reject(Q)}static resolve(Z){return new l((Q,J)=>{Q(Z)})}static reject(Z){return new l((Q,J)=>{J(Z)})}static waitFor(Z){return new l((Q,J)=>{let $=0,V=0,U=!1;Z.forEach((B)=>{++$,B.next(()=>{++V,U&&V===$&&Q()},(F)=>J(F))}),U=!0,V===$&&Q()})}static or(Z){let Q=l.resolve(!1);for(let J of Z)Q=Q.next(($)=>$?l.resolve($):J());return Q}static forEach(Z,Q){let J=[];return Z.forEach(($,V)=>{J.push(Q.call(this,$,V))}),this.waitFor(J)}static mapArray(Z,Q){return new l((J,$)=>{let V=Z.length,U=new Array(V),B=0;for(let F=0;F<V;F++){let j=F;Q(Z[j]).next((R)=>{U[j]=R,++B,B===V&&J(U)},(R)=>$(R))}})}static doWhile(Z,Q){return new l((J,$)=>{let V=()=>{Z()===!0?Q().next(()=>{V()},$):J()};V()})}}function yX(Z){let Q=Z.match(/Android ([\d.]+)/i),J=Q?Q[1].split(".").slice(0,2).join("."):"-1";return Number(J)}function E8(Z){return Z.name==="IndexedDbTransactionError"}class p4{constructor(Z,Q){this.previousValue=Z,Q&&(Q.sequenceNumberHandler=(J)=>this.ie(J),this.se=(J)=>Q.writeSequenceNumber(J))}ie(Z){return this.previousValue=Math.max(Z,this.previousValue),this.previousValue}next(){let Z=++this.previousValue;return this.se&&this.se(Z),Z}}p4.oe=-1;function T4(Z){return Z==null}function c1(Z){return Z===0&&1/Z==-1/0}function vX(Z){return typeof Z=="number"&&Number.isInteger(Z)&&!c1(Z)&&Z<=Number.MAX_SAFE_INTEGER&&Z>=Number.MIN_SAFE_INTEGER}var fX=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Cz=[...fX,"documentOverlays"],HX=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],YX=HX,KX=[...YX,"indexConfiguration","indexState","indexEntries"];var rz=[...KX,"globals"];function wZ(Z){let Q=0;for(let J in Z)Object.prototype.hasOwnProperty.call(Z,J)&&Q++;return Q}function Z8(Z,Q){for(let J in Z)Object.prototype.hasOwnProperty.call(Z,J)&&Q(J,Z[J])}function uZ(Z){for(let Q in Z)if(Object.prototype.hasOwnProperty.call(Z,Q))return!1;return!0}class Y0{constructor(Z,Q){this.comparator=Z,this.root=Q||j0.EMPTY}insert(Z,Q){return new Y0(this.comparator,this.root.insert(Z,Q,this.comparator).copy(null,null,j0.BLACK,null,null))}remove(Z){return new Y0(this.comparator,this.root.remove(Z,this.comparator).copy(null,null,j0.BLACK,null,null))}get(Z){let Q=this.root;for(;!Q.isEmpty();){let J=this.comparator(Z,Q.key);if(J===0)return Q.value;J<0?Q=Q.left:J>0&&(Q=Q.right)}return null}indexOf(Z){let Q=0,J=this.root;for(;!J.isEmpty();){let $=this.comparator(Z,J.key);if($===0)return Q+J.left.size;$<0?J=J.left:(Q+=J.left.size+1,J=J.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(Z){return this.root.inorderTraversal(Z)}forEach(Z){this.inorderTraversal((Q,J)=>(Z(Q,J),!1))}toString(){let Z=[];return this.inorderTraversal((Q,J)=>(Z.push(`${Q}:${J}`),!1)),`{${Z.join(", ")}}`}reverseTraversal(Z){return this.root.reverseTraversal(Z)}getIterator(){return new m1(this.root,null,this.comparator,!1)}getIteratorFrom(Z){return new m1(this.root,Z,this.comparator,!1)}getReverseIterator(){return new m1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(Z){return new m1(this.root,Z,this.comparator,!0)}}class m1{constructor(Z,Q,J,$){this.isReverse=$,this.nodeStack=[];let V=1;for(;!Z.isEmpty();)if(V=Q?J(Z.key,Q):1,Q&&$&&(V*=-1),V<0)Z=this.isReverse?Z.left:Z.right;else{if(V===0){this.nodeStack.push(Z);break}this.nodeStack.push(Z),Z=this.isReverse?Z.right:Z.left}}getNext(){let Z=this.nodeStack.pop(),Q={key:Z.key,value:Z.value};if(this.isReverse)for(Z=Z.left;!Z.isEmpty();)this.nodeStack.push(Z),Z=Z.right;else for(Z=Z.right;!Z.isEmpty();)this.nodeStack.push(Z),Z=Z.left;return Q}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let Z=this.nodeStack[this.nodeStack.length-1];return{key:Z.key,value:Z.value}}}class j0{constructor(Z,Q,J,$,V){this.key=Z,this.value=Q,this.color=J!=null?J:j0.RED,this.left=$!=null?$:j0.EMPTY,this.right=V!=null?V:j0.EMPTY,this.size=this.left.size+1+this.right.size}copy(Z,Q,J,$,V){return new j0(Z!=null?Z:this.key,Q!=null?Q:this.value,J!=null?J:this.color,$!=null?$:this.left,V!=null?V:this.right)}isEmpty(){return!1}inorderTraversal(Z){return this.left.inorderTraversal(Z)||Z(this.key,this.value)||this.right.inorderTraversal(Z)}reverseTraversal(Z){return this.right.reverseTraversal(Z)||Z(this.key,this.value)||this.left.reverseTraversal(Z)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(Z,Q,J){let $=this,V=J(Z,$.key);return $=V<0?$.copy(null,null,null,$.left.insert(Z,Q,J),null):V===0?$.copy(null,Q,null,null,null):$.copy(null,null,null,null,$.right.insert(Z,Q,J)),$.fixUp()}removeMin(){if(this.left.isEmpty())return j0.EMPTY;let Z=this;return Z.left.isRed()||Z.left.left.isRed()||(Z=Z.moveRedLeft()),Z=Z.copy(null,null,null,Z.left.removeMin(),null),Z.fixUp()}remove(Z,Q){let J,$=this;if(Q(Z,$.key)<0)$.left.isEmpty()||$.left.isRed()||$.left.left.isRed()||($=$.moveRedLeft()),$=$.copy(null,null,null,$.left.remove(Z,Q),null);else{if($.left.isRed()&&($=$.rotateRight()),$.right.isEmpty()||$.right.isRed()||$.right.left.isRed()||($=$.moveRedRight()),Q(Z,$.key)===0){if($.right.isEmpty())return j0.EMPTY;J=$.right.min(),$=$.copy(J.key,J.value,null,null,$.right.removeMin())}$=$.copy(null,null,null,null,$.right.remove(Z,Q))}return $.fixUp()}isRed(){return this.color}fixUp(){let Z=this;return Z.right.isRed()&&!Z.left.isRed()&&(Z=Z.rotateLeft()),Z.left.isRed()&&Z.left.left.isRed()&&(Z=Z.rotateRight()),Z.left.isRed()&&Z.right.isRed()&&(Z=Z.colorFlip()),Z}moveRedLeft(){let Z=this.colorFlip();return Z.right.left.isRed()&&(Z=Z.copy(null,null,null,null,Z.right.rotateRight()),Z=Z.rotateLeft(),Z=Z.colorFlip()),Z}moveRedRight(){let Z=this.colorFlip();return Z.left.left.isRed()&&(Z=Z.rotateRight(),Z=Z.colorFlip()),Z}rotateLeft(){let Z=this.copy(null,null,j0.RED,null,this.right.left);return this.right.copy(null,null,this.color,Z,null)}rotateRight(){let Z=this.copy(null,null,j0.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,Z)}colorFlip(){let Z=this.left.copy(null,null,!this.left.color,null,null),Q=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,Z,Q)}checkMaxDepth(){let Z=this.check();return Math.pow(2,Z)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw s();if(this.right.isRed())throw s();let Z=this.left.check();if(Z!==this.right.check())throw s();return Z+(this.isRed()?0:1)}}j0.EMPTY=null,j0.RED=!0,j0.BLACK=!1;j0.EMPTY=new class Z{constructor(){this.size=0}get key(){throw s()}get value(){throw s()}get color(){throw s()}get left(){throw s()}get right(){throw s()}copy(Q,J,$,V,U){return this}insert(Q,J,$){return new j0(Q,J)}remove(Q,J){return this}isEmpty(){return!0}inorderTraversal(Q){return!1}reverseTraversal(Q){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class y0{constructor(Z){this.comparator=Z,this.data=new Y0(this.comparator)}has(Z){return this.data.get(Z)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(Z){return this.data.indexOf(Z)}forEach(Z){this.data.inorderTraversal((Q,J)=>(Z(Q),!1))}forEachInRange(Z,Q){let J=this.data.getIteratorFrom(Z[0]);for(;J.hasNext();){let $=J.getNext();if(this.comparator($.key,Z[1])>=0)return;Q($.key)}}forEachWhile(Z,Q){let J;for(J=Q!==void 0?this.data.getIteratorFrom(Q):this.data.getIterator();J.hasNext();)if(!Z(J.getNext().key))return}firstAfterOrEqual(Z){let Q=this.data.getIteratorFrom(Z);return Q.hasNext()?Q.getNext().key:null}getIterator(){return new j4(this.data.getIterator())}getIteratorFrom(Z){return new j4(this.data.getIteratorFrom(Z))}add(Z){return this.copy(this.data.remove(Z).insert(Z,!0))}delete(Z){return this.has(Z)?this.copy(this.data.remove(Z)):this}isEmpty(){return this.data.isEmpty()}unionWith(Z){let Q=this;return Q.size<Z.size&&(Q=Z,Z=this),Z.forEach((J)=>{Q=Q.add(J)}),Q}isEqual(Z){if(!(Z instanceof y0))return!1;if(this.size!==Z.size)return!1;let Q=this.data.getIterator(),J=Z.data.getIterator();for(;Q.hasNext();){let $=Q.getNext().key,V=J.getNext().key;if(this.comparator($,V)!==0)return!1}return!0}toArray(){let Z=[];return this.forEach((Q)=>{Z.push(Q)}),Z}toString(){let Z=[];return this.forEach((Q)=>Z.push(Q)),"SortedSet("+Z.toString()+")"}copy(Z){let Q=new y0(this.comparator);return Q.data=Z,Q}}class j4{constructor(Z){this.iter=Z}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class r0{constructor(Z){this.fields=Z,Z.sort(R0.comparator)}static empty(){return new r0([])}unionWith(Z){let Q=new y0(R0.comparator);for(let J of this.fields)Q=Q.add(J);for(let J of Z)Q=Q.add(J);return new r0(Q.toArray())}covers(Z){for(let Q of this.fields)if(Q.isPrefixOf(Z))return!0;return!1}isEqual(Z){return t2(this.fields,Z.fields,(Q,J)=>Q.isEqual(J))}}class CZ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class D0{constructor(Z){this.binaryString=Z}static fromBase64String(Z){let Q=function J($){try{return atob($)}catch(V){throw typeof DOMException!="undefined"&&V instanceof DOMException?new CZ("Invalid base64 string: "+V):V}}(Z);return new D0(Q)}static fromUint8Array(Z){let Q=function J($){let V="";for(let U=0;U<$.length;++U)V+=String.fromCharCode($[U]);return V}(Z);return new D0(Q)}[Symbol.iterator](){let Z=0;return{next:()=>Z<this.binaryString.length?{value:this.binaryString.charCodeAt(Z++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function Z(Q){return btoa(Q)}(this.binaryString)}toUint8Array(){return function Z(Q){let J=new Uint8Array(Q.length);for(let $=0;$<Q.length;$++)J[$]=Q.charCodeAt($);return J}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(Z){return o(this.binaryString,Z.binaryString)}isEqual(Z){return this.binaryString===Z.binaryString}}D0.EMPTY_BYTE_STRING=new D0("");var lX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function G2(Z){if(W0(!!Z),typeof Z=="string"){let Q=0,J=lX.exec(Z);if(W0(!!J),J[1]){let V=J[1];V=(V+"000000000").substr(0,9),Q=Number(V)}let $=new Date(Z);return{seconds:Math.floor($.getTime()/1000),nanos:Q}}return{seconds:w0(Z.seconds),nanos:w0(Z.nanos)}}function w0(Z){return typeof Z=="number"?Z:typeof Z=="string"?Number(Z):0}function d2(Z){return typeof Z=="string"?D0.fromBase64String(Z):D0.fromUint8Array(Z)}function A4(Z){var Q,J;return((J=(((Q=Z==null?void 0:Z.mapValue)===null||Q===void 0?void 0:Q.fields)||{}).__type__)===null||J===void 0?void 0:J.stringValue)==="server_timestamp"}function rZ(Z){let Q=Z.mapValue.fields.__previous_value__;return A4(Q)?rZ(Q):Q}function b8(Z){let Q=G2(Z.mapValue.fields.__local_write_time__.timestampValue);return new q0(Q.seconds,Q.nanos)}class mZ{constructor(Z,Q,J,$,V,U,B,F,j){this.databaseId=Z,this.appId=Q,this.persistenceKey=J,this.host=$,this.ssl=V,this.forceLongPolling=U,this.autoDetectLongPolling=B,this.longPollingOptions=F,this.useFetchStreams=j}}class c8{constructor(Z,Q){this.projectId=Z,this.database=Q||"(default)"}static empty(){return new c8("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(Z){return Z instanceof c8&&Z.projectId===this.projectId&&Z.database===this.database}}var r8={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function E2(Z){return"nullValue"in Z?0:("booleanValue"in Z)?1:("integerValue"in Z)||("doubleValue"in Z)?2:("timestampValue"in Z)?3:("stringValue"in Z)?5:("bytesValue"in Z)?6:("referenceValue"in Z)?7:("geoPointValue"in Z)?8:("arrayValue"in Z)?9:("mapValue"in Z)?A4(Z)?4:gZ(Z)?9007199254740991:nZ(Z)?10:11:s()}function b0(Z,Q){if(Z===Q)return!0;let J=E2(Z);if(J!==E2(Q))return!1;switch(J){case 0:case 9007199254740991:return!0;case 1:return Z.booleanValue===Q.booleanValue;case 4:return b8(Z).isEqual(b8(Q));case 3:return function $(V,U){if(typeof V.timestampValue=="string"&&typeof U.timestampValue=="string"&&V.timestampValue.length===U.timestampValue.length)return V.timestampValue===U.timestampValue;let B=G2(V.timestampValue),F=G2(U.timestampValue);return B.seconds===F.seconds&&B.nanos===F.nanos}(Z,Q);case 5:return Z.stringValue===Q.stringValue;case 6:return function $(V,U){return d2(V.bytesValue).isEqual(d2(U.bytesValue))}(Z,Q);case 7:return Z.referenceValue===Q.referenceValue;case 8:return function $(V,U){return w0(V.geoPointValue.latitude)===w0(U.geoPointValue.latitude)&&w0(V.geoPointValue.longitude)===w0(U.geoPointValue.longitude)}(Z,Q);case 2:return function $(V,U){if("integerValue"in V&&"integerValue"in U)return w0(V.integerValue)===w0(U.integerValue);if("doubleValue"in V&&"doubleValue"in U){let B=w0(V.doubleValue),F=w0(U.doubleValue);return B===F?c1(B)===c1(F):isNaN(B)&&isNaN(F)}return!1}(Z,Q);case 9:return t2(Z.arrayValue.values||[],Q.arrayValue.values||[],b0);case 10:case 11:return function $(V,U){let B=V.mapValue.fields||{},F=U.mapValue.fields||{};if(wZ(B)!==wZ(F))return!1;for(let j in B)if(B.hasOwnProperty(j)&&(F[j]===void 0||!b0(B[j],F[j])))return!1;return!0}(Z,Q);default:return s()}}function t1(Z,Q){return(Z.values||[]).find((J)=>b0(J,Q))!==void 0}function o2(Z,Q){if(Z===Q)return 0;let J=E2(Z),$=E2(Q);if(J!==$)return o(J,$);switch(J){case 0:case 9007199254740991:return 0;case 1:return o(Z.booleanValue,Q.booleanValue);case 2:return function V(U,B){let F=w0(U.integerValue||U.doubleValue),j=w0(B.integerValue||B.doubleValue);return F<j?-1:F>j?1:F===j?0:isNaN(F)?isNaN(j)?0:-1:1}(Z,Q);case 3:return UZ(Z.timestampValue,Q.timestampValue);case 4:return UZ(b8(Z),b8(Q));case 5:return o(Z.stringValue,Q.stringValue);case 6:return function V(U,B){let F=d2(U),j=d2(B);return F.compareTo(j)}(Z.bytesValue,Q.bytesValue);case 7:return function V(U,B){let F=U.split("/"),j=B.split("/");for(let R=0;R<F.length&&R<j.length;R++){let f=o(F[R],j[R]);if(f!==0)return f}return o(F.length,j.length)}(Z.referenceValue,Q.referenceValue);case 8:return function V(U,B){let F=o(w0(U.latitude),w0(B.latitude));if(F!==0)return F;return o(w0(U.longitude),w0(B.longitude))}(Z.geoPointValue,Q.geoPointValue);case 9:return WZ(Z.arrayValue,Q.arrayValue);case 10:return function V(U,B){var F,j,R,f;let Y=U.fields||{},K=B.fields||{},P=(F=Y.value)===null||F===void 0?void 0:F.arrayValue,A=(j=K.value)===null||j===void 0?void 0:j.arrayValue,_=o(((R=P==null?void 0:P.values)===null||R===void 0?void 0:R.length)||0,((f=A==null?void 0:A.values)===null||f===void 0?void 0:f.length)||0);if(_!==0)return _;return WZ(P,A)}(Z.mapValue,Q.mapValue);case 11:return function V(U,B){if(U===r8.mapValue&&B===r8.mapValue)return 0;if(U===r8.mapValue)return 1;if(B===r8.mapValue)return-1;let F=U.fields||{},j=Object.keys(F),R=B.fields||{},f=Object.keys(R);j.sort(),f.sort();for(let Y=0;Y<j.length&&Y<f.length;++Y){let K=o(j[Y],f[Y]);if(K!==0)return K;let P=o2(F[j[Y]],R[f[Y]]);if(P!==0)return P}return o(j.length,f.length)}(Z.mapValue,Q.mapValue);default:throw s()}}function UZ(Z,Q){if(typeof Z=="string"&&typeof Q=="string"&&Z.length===Q.length)return o(Z,Q);let J=G2(Z),$=G2(Q),V=o(J.seconds,$.seconds);return V!==0?V:o(J.nanos,$.nanos)}function WZ(Z,Q){let J=Z.values||[],$=Q.values||[];for(let V=0;V<J.length&&V<$.length;++V){let U=o2(J[V],$[V]);if(U)return U}return o(J.length,$.length)}function e2(Z){return R4(Z)}function R4(Z){return"nullValue"in Z?"null":("booleanValue"in Z)?""+Z.booleanValue:("integerValue"in Z)?""+Z.integerValue:("doubleValue"in Z)?""+Z.doubleValue:("timestampValue"in Z)?function Q(J){let $=G2(J);return`time(${$.seconds},${$.nanos})`}(Z.timestampValue):("stringValue"in Z)?Z.stringValue:("bytesValue"in Z)?function Q(J){return d2(J).toBase64()}(Z.bytesValue):("referenceValue"in Z)?function Q(J){return m.fromName(J).toString()}(Z.referenceValue):("geoPointValue"in Z)?function Q(J){return`geo(${J.latitude},${J.longitude})`}(Z.geoPointValue):("arrayValue"in Z)?function Q(J){let $="[",V=!0;for(let U of J.values||[])V?V=!1:$+=",",$+=R4(U);return $+"]"}(Z.arrayValue):("mapValue"in Z)?function Q(J){let $=Object.keys(J.fields||{}).sort(),V="{",U=!0;for(let B of $)U?U=!1:V+=",",V+=`${B}:${R4(J.fields[B])}`;return V+"}"}(Z.mapValue):s()}function G4(Z){return!!Z&&"integerValue"in Z}function _4(Z){return!!Z&&"arrayValue"in Z}function g8(Z){return!!Z&&"mapValue"in Z}function nZ(Z){var Q,J;return((J=(((Q=Z==null?void 0:Z.mapValue)===null||Q===void 0?void 0:Q.fields)||{}).__type__)===null||J===void 0?void 0:J.stringValue)==="__vector__"}function n1(Z){if(Z.geoPointValue)return{geoPointValue:Object.assign({},Z.geoPointValue)};if(Z.timestampValue&&typeof Z.timestampValue=="object")return{timestampValue:Object.assign({},Z.timestampValue)};if(Z.mapValue){let Q={mapValue:{fields:{}}};return Z8(Z.mapValue.fields,(J,$)=>Q.mapValue.fields[J]=n1($)),Q}if(Z.arrayValue){let Q={arrayValue:{values:[]}};for(let J=0;J<(Z.arrayValue.values||[]).length;++J)Q.arrayValue.values[J]=n1(Z.arrayValue.values[J]);return Q}return Object.assign({},Z)}function gZ(Z){return(((Z.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class C0{constructor(Z){this.value=Z}static empty(){return new C0({mapValue:{}})}field(Z){if(Z.isEmpty())return this.value;{let Q=this.value;for(let J=0;J<Z.length-1;++J)if(Q=(Q.mapValue.fields||{})[Z.get(J)],!g8(Q))return null;return Q=(Q.mapValue.fields||{})[Z.lastSegment()],Q||null}}set(Z,Q){this.getFieldsMap(Z.popLast())[Z.lastSegment()]=n1(Q)}setAll(Z){let Q=R0.emptyPath(),J={},$=[];Z.forEach((U,B)=>{if(!Q.isImmediateParentOf(B)){let F=this.getFieldsMap(Q);this.applyChanges(F,J,$),J={},$=[],Q=B.popLast()}U?J[B.lastSegment()]=n1(U):$.push(B.lastSegment())});let V=this.getFieldsMap(Q);this.applyChanges(V,J,$)}delete(Z){let Q=this.field(Z.popLast());g8(Q)&&Q.mapValue.fields&&delete Q.mapValue.fields[Z.lastSegment()]}isEqual(Z){return b0(this.value,Z.value)}getFieldsMap(Z){let Q=this.value;Q.mapValue.fields||(Q.mapValue={fields:{}});for(let J=0;J<Z.length;++J){let $=Q.mapValue.fields[Z.get(J)];g8($)&&$.mapValue.fields||($={mapValue:{fields:{}}},Q.mapValue.fields[Z.get(J)]=$),Q=$}return Q.mapValue.fields}applyChanges(Z,Q,J){Z8(Q,($,V)=>Z[$]=V);for(let $ of J)delete Z[$]}clone(){return new C0(n1(this.value))}}function sZ(Z){let Q=[];return Z8(Z.fields,(J,$)=>{let V=new R0([J]);if(g8($)){let U=sZ($.mapValue).fields;if(U.length===0)Q.push(V);else for(let B of U)Q.push(V.child(B))}else Q.push(V)}),new r0(Q)}class u0{constructor(Z,Q,J,$,V,U,B){this.key=Z,this.documentType=Q,this.version=J,this.readTime=$,this.createTime=V,this.data=U,this.documentState=B}static newInvalidDocument(Z){return new u0(Z,0,J0.min(),J0.min(),J0.min(),C0.empty(),0)}static newFoundDocument(Z,Q,J,$){return new u0(Z,1,Q,J0.min(),J,$,0)}static newNoDocument(Z,Q){return new u0(Z,2,Q,J0.min(),J0.min(),C0.empty(),0)}static newUnknownDocument(Z,Q){return new u0(Z,3,Q,J0.min(),J0.min(),C0.empty(),2)}convertToFoundDocument(Z,Q){return!this.createTime.isEqual(J0.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=Z),this.version=Z,this.documentType=1,this.data=Q,this.documentState=0,this}convertToNoDocument(Z){return this.version=Z,this.documentType=2,this.data=C0.empty(),this.documentState=0,this}convertToUnknownDocument(Z){return this.version=Z,this.documentType=3,this.data=C0.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J0.min(),this}setReadTime(Z){return this.readTime=Z,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(Z){return Z instanceof u0&&this.key.isEqual(Z.key)&&this.version.isEqual(Z.version)&&this.documentType===Z.documentType&&this.documentState===Z.documentState&&this.data.isEqual(Z.data)}mutableCopy(){return new u0(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class d1{constructor(Z,Q){this.position=Z,this.inclusive=Q}}function xZ(Z,Q,J){let $=0;for(let V=0;V<Z.position.length;V++){let U=Q[V],B=Z.position[V];if(U.field.isKeyField())$=m.comparator(m.fromName(B.referenceValue),J.key);else $=o2(B,J.data.field(U.field));if(U.dir==="desc"&&($*=-1),$!==0)break}return $}function qZ(Z,Q){if(Z===null)return Q===null;if(Q===null)return!1;if(Z.inclusive!==Q.inclusive||Z.position.length!==Q.position.length)return!1;for(let J=0;J<Z.position.length;J++)if(!b0(Z.position[J],Q.position[J]))return!1;return!0}class E1{constructor(Z,Q="asc"){this.field=Z,this.dir=Q}}function pX(Z,Q){return Z.dir===Q.dir&&Z.field.isEqual(Q.field)}class P4{}class x0 extends P4{constructor(Z,Q,J){super(),this.field=Z,this.op=Q,this.value=J}static create(Z,Q,J){return Z.isKeyField()?Q==="in"||Q==="not-in"?this.createKeyFieldInFilter(Z,Q,J):new dZ(Z,Q,J):Q==="array-contains"?new aZ(Z,J):Q==="in"?new Z7(Z,J):Q==="not-in"?new Q7(Z,J):Q==="array-contains-any"?new J7(Z,J):new x0(Z,Q,J)}static createKeyFieldInFilter(Z,Q,J){return Q==="in"?new EZ(Z,J):new oZ(Z,J)}matches(Z){let Q=Z.data.field(this.field);return this.op==="!="?Q!==null&&this.matchesComparison(o2(Q,this.value)):Q!==null&&E2(this.value)===E2(Q)&&this.matchesComparison(o2(Q,this.value))}matchesComparison(Z){switch(this.op){case"<":return Z<0;case"<=":return Z<=0;case"==":return Z===0;case"!=":return Z!==0;case">":return Z>0;case">=":return Z>=0;default:return s()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class I2 extends P4{constructor(Z,Q){super(),this.filters=Z,this.op=Q,this.ae=null}static create(Z,Q){return new I2(Z,Q)}matches(Z){return DZ(this)?this.filters.find((Q)=>!Q.matches(Z))===void 0:this.filters.find((Q)=>Q.matches(Z))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((Z,Q)=>Z.concat(Q.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function DZ(Z){return Z.op==="and"}function bZ(Z){return TX(Z)&&DZ(Z)}function TX(Z){for(let Q of Z.filters)if(Q instanceof I2)return!1;return!0}function I4(Z){if(Z instanceof x0)return Z.field.canonicalString()+Z.op.toString()+e2(Z.value);if(bZ(Z))return Z.filters.map((Q)=>I4(Q)).join(",");{let Q=Z.filters.map((J)=>I4(J)).join(",");return`${Z.op}(${Q})`}}function cZ(Z,Q){return Z instanceof x0?function J($,V){return V instanceof x0&&$.op===V.op&&$.field.isEqual(V.field)&&b0($.value,V.value)}(Z,Q):Z instanceof I2?function J($,V){if(V instanceof I2&&$.op===V.op&&$.filters.length===V.filters.length)return $.filters.reduce((U,B,F)=>U&&cZ(B,V.filters[F]),!0);return!1}(Z,Q):void s()}function tZ(Z){return Z instanceof x0?function Q(J){return`${J.field.canonicalString()} ${J.op} ${e2(J.value)}`}(Z):Z instanceof I2?function Q(J){return J.op.toString()+" {"+J.getFilters().map(tZ).join(" ,")+"}"}(Z):"Filter"}class dZ extends x0{constructor(Z,Q,J){super(Z,Q,J),this.key=m.fromName(J.referenceValue)}matches(Z){let Q=m.comparator(Z.key,this.key);return this.matchesComparison(Q)}}class EZ extends x0{constructor(Z,Q){super(Z,"in",Q),this.keys=eZ("in",Q)}matches(Z){return this.keys.some((Q)=>Q.isEqual(Z.key))}}class oZ extends x0{constructor(Z,Q){super(Z,"not-in",Q),this.keys=eZ("not-in",Q)}matches(Z){return!this.keys.some((Q)=>Q.isEqual(Z.key))}}function eZ(Z,Q){var J;return(((J=Q.arrayValue)===null||J===void 0?void 0:J.values)||[]).map(($)=>m.fromName($.referenceValue))}class aZ extends x0{constructor(Z,Q){super(Z,"array-contains",Q)}matches(Z){let Q=Z.data.field(this.field);return _4(Q)&&t1(Q.arrayValue,this.value)}}class Z7 extends x0{constructor(Z,Q){super(Z,"in",Q)}matches(Z){let Q=Z.data.field(this.field);return Q!==null&&t1(this.value.arrayValue,Q)}}class Q7 extends x0{constructor(Z,Q){super(Z,"not-in",Q)}matches(Z){if(t1(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let Q=Z.data.field(this.field);return Q!==null&&!t1(this.value.arrayValue,Q)}}class J7 extends x0{constructor(Z,Q){super(Z,"array-contains-any",Q)}matches(Z){let Q=Z.data.field(this.field);return!(!_4(Q)||!Q.arrayValue.values)&&Q.arrayValue.values.some((J)=>t1(this.value.arrayValue,J))}}class X7{constructor(Z,Q=null,J=[],$=[],V=null,U=null,B=null){this.path=Z,this.collectionGroup=Q,this.orderBy=J,this.filters=$,this.limit=V,this.startAt=U,this.endAt=B,this.ue=null}}function BZ(Z,Q=null,J=[],$=[],V=null,U=null,B=null){return new X7(Z,Q,J,$,V,U,B)}function M4(Z){let Q=a(Z);if(Q.ue===null){let J=Q.path.canonicalString();Q.collectionGroup!==null&&(J+="|cg:"+Q.collectionGroup),J+="|f:",J+=Q.filters.map(($)=>I4($)).join(","),J+="|ob:",J+=Q.orderBy.map(($)=>function V(U){return U.field.canonicalString()+U.dir}($)).join(","),T4(Q.limit)||(J+="|l:",J+=Q.limit),Q.startAt&&(J+="|lb:",J+=Q.startAt.inclusive?"b:":"a:",J+=Q.startAt.position.map(($)=>e2($)).join(",")),Q.endAt&&(J+="|ub:",J+=Q.endAt.inclusive?"a:":"b:",J+=Q.endAt.position.map(($)=>e2($)).join(",")),Q.ue=J}return Q.ue}function i4(Z,Q){if(Z.limit!==Q.limit)return!1;if(Z.orderBy.length!==Q.orderBy.length)return!1;for(let J=0;J<Z.orderBy.length;J++)if(!pX(Z.orderBy[J],Q.orderBy[J]))return!1;if(Z.filters.length!==Q.filters.length)return!1;for(let J=0;J<Z.filters.length;J++)if(!cZ(Z.filters[J],Q.filters[J]))return!1;return Z.collectionGroup===Q.collectionGroup&&(!!Z.path.isEqual(Q.path)&&(!!qZ(Z.startAt,Q.startAt)&&qZ(Z.endAt,Q.endAt)))}class Q8{constructor(Z,Q=null,J=[],$=[],V=null,U="F",B=null,F=null){this.path=Z,this.collectionGroup=Q,this.explicitOrderBy=J,this.filters=$,this.limit=V,this.limitType=U,this.startAt=B,this.endAt=F,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function AX(Z,Q,J,$,V,U,B,F){return new Q8(Z,Q,J,$,V,U,B,F)}function _X(Z){return new Q8(Z)}function FZ(Z){return Z.filters.length===0&&Z.limit===null&&Z.startAt==null&&Z.endAt==null&&(Z.explicitOrderBy.length===0||Z.explicitOrderBy.length===1&&Z.explicitOrderBy[0].field.isKeyField())}function PX(Z){return Z.collectionGroup!==null}function g1(Z){let Q=a(Z);if(Q.ce===null){Q.ce=[];let J=new Set;for(let U of Q.explicitOrderBy)Q.ce.push(U),J.add(U.field.canonicalString());let $=Q.explicitOrderBy.length>0?Q.explicitOrderBy[Q.explicitOrderBy.length-1].dir:"asc";(function U(B){let F=new y0(R0.comparator);return B.filters.forEach((j)=>{j.getFlattenedFilters().forEach((R)=>{R.isInequality()&&(F=F.add(R.field))})}),F})(Q).forEach((U)=>{J.has(U.canonicalString())||U.isKeyField()||Q.ce.push(new E1(U,$))}),J.has(R0.keyField().canonicalString())||Q.ce.push(new E1(R0.keyField(),$))}return Q.ce}function p2(Z){let Q=a(Z);return Q.le||(Q.le=MX(Q,g1(Z))),Q.le}function MX(Z,Q){if(Z.limitType==="F")return BZ(Z.path,Z.collectionGroup,Q,Z.filters,Z.limit,Z.startAt,Z.endAt);{Q=Q.map((V)=>{let U=V.dir==="desc"?"asc":"desc";return new E1(V.field,U)});let J=Z.endAt?new d1(Z.endAt.position,Z.endAt.inclusive):null,$=Z.startAt?new d1(Z.startAt.position,Z.startAt.inclusive):null;return BZ(Z.path,Z.collectionGroup,Q,Z.filters,Z.limit,J,$)}}function O4(Z,Q,J){return new Q8(Z.path,Z.collectionGroup,Z.explicitOrderBy.slice(),Z.filters.slice(),Q,J,Z.startAt,Z.endAt)}function $7(Z,Q){return i4(p2(Z),p2(Q))&&Z.limitType===Q.limitType}function V7(Z){return`${M4(p2(Z))}|lt:${Z.limitType}`}function r1(Z){return`Query(target=${function Q(J){let $=J.path.canonicalString();return J.collectionGroup!==null&&($+=" collectionGroup="+J.collectionGroup),J.filters.length>0&&($+=`, filters: [${J.filters.map((V)=>tZ(V)).join(", ")}]`),T4(J.limit)||($+=", limit: "+J.limit),J.orderBy.length>0&&($+=`, orderBy: [${J.orderBy.map((V)=>function U(B){return`${B.field.canonicalString()} (${B.dir})`}(V)).join(", ")}]`),J.startAt&&($+=", startAt: ",$+=J.startAt.inclusive?"b:":"a:",$+=J.startAt.position.map((V)=>e2(V)).join(",")),J.endAt&&($+=", endAt: ",$+=J.endAt.inclusive?"a:":"b:",$+=J.endAt.position.map((V)=>e2(V)).join(",")),`Target(${$})`}(p2(Z))}; limitType=${Z.limitType})`}function u4(Z,Q){return Q.isFoundDocument()&&function J($,V){let U=V.key.path;return $.collectionGroup!==null?V.key.hasCollectionId($.collectionGroup)&&$.path.isPrefixOf(U):m.isDocumentKey($.path)?$.path.isEqual(U):$.path.isImmediateParentOf(U)}(Z,Q)&&function J($,V){for(let U of g1($))if(!U.field.isKeyField()&&V.data.field(U.field)===null)return!1;return!0}(Z,Q)&&function J($,V){for(let U of $.filters)if(!U.matches(V))return!1;return!0}(Z,Q)&&function J($,V){if($.startAt&&!function U(B,F,j){let R=xZ(B,F,j);return B.inclusive?R<=0:R<0}($.startAt,g1($),V))return!1;if($.endAt&&!function U(B,F,j){let R=xZ(B,F,j);return B.inclusive?R>=0:R>0}($.endAt,g1($),V))return!1;return!0}(Z,Q)}function iX(Z){return(Q,J)=>{let $=!1;for(let V of g1(Z)){let U=uX(V,Q,J);if(U!==0)return U;$=$||V.field.isKeyField()}return 0}}function uX(Z,Q,J){let $=Z.field.isKeyField()?m.comparator(Q.key,J.key):function V(U,B,F){let j=B.data.field(U),R=F.data.field(U);return j!==null&&R!==null?o2(j,R):s()}(Z.field,Q,J);switch(Z.dir){case"asc":return $;case"desc":return-1*$;default:return s()}}class _2{constructor(Z,Q){this.mapKeyFn=Z,this.equalsFn=Q,this.inner={},this.innerSize=0}get(Z){let Q=this.mapKeyFn(Z),J=this.inner[Q];if(J!==void 0){for(let[$,V]of J)if(this.equalsFn($,Z))return V}}has(Z){return this.get(Z)!==void 0}set(Z,Q){let J=this.mapKeyFn(Z),$=this.inner[J];if($===void 0)return this.inner[J]=[[Z,Q]],void this.innerSize++;for(let V=0;V<$.length;V++)if(this.equalsFn($[V][0],Z))return void($[V]=[Z,Q]);$.push([Z,Q]),this.innerSize++}delete(Z){let Q=this.mapKeyFn(Z),J=this.inner[Q];if(J===void 0)return!1;for(let $=0;$<J.length;$++)if(this.equalsFn(J[$][0],Z))return J.length===1?delete this.inner[Q]:J.splice($,1),this.innerSize--,!0;return!1}forEach(Z){Z8(this.inner,(Q,J)=>{for(let[$,V]of J)Z($,V)})}isEmpty(){return uZ(this.inner)}size(){return this.innerSize}}var CX=new Y0(m.comparator);function t8(){return CX}var z7=new Y0(m.comparator);function m8(...Z){let Q=z7;for(let J of Z)Q=Q.insert(J.key,J);return Q}function w7(Z){let Q=z7;return Z.forEach((J,$)=>Q=Q.insert(J,$.overlayedDocument)),Q}function l2(){return s1()}function U7(){return s1()}function s1(){return new _2((Z)=>Z.toString(),(Z,Q)=>Z.isEqual(Q))}var rX=new Y0(m.comparator),mX=new y0(m.comparator);function N0(...Z){let Q=mX;for(let J of Z)Q=Q.add(J);return Q}var nX=new y0(o);function gX(){return nX}function C4(Z,Q){if(Z.useProto3Json){if(isNaN(Q))return{doubleValue:"NaN"};if(Q===1/0)return{doubleValue:"Infinity"};if(Q===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:c1(Q)?"-0":Q}}function W7(Z){return{integerValue:""+Z}}function sX(Z,Q){return vX(Q)?W7(Q):C4(Z,Q)}class J8{constructor(){this._=void 0}}function DX(Z,Q,J){return Z instanceof o1?function $(V,U){let B={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:V.seconds,nanos:V.nanoseconds}}}};return U&&A4(U)&&(U=rZ(U)),U&&(B.fields.__previous_value__=U),{mapValue:B}}(J,Q):Z instanceof a2?q7(Z,Q):Z instanceof Z1?B7(Z,Q):function $(V,U){let B=x7(V,U),F=hZ(B)+hZ(V.Pe);return G4(B)&&G4(V.Pe)?W7(F):C4(V.serializer,F)}(Z,Q)}function bX(Z,Q,J){return Z instanceof a2?q7(Z,Q):Z instanceof Z1?B7(Z,Q):J}function x7(Z,Q){return Z instanceof e1?function J($){return G4($)||function V(U){return!!U&&"doubleValue"in U}($)}(Q)?Q:{integerValue:0}:null}class o1 extends J8{}class a2 extends J8{constructor(Z){super(),this.elements=Z}}function q7(Z,Q){let J=F7(Q);for(let $ of Z.elements)J.some((V)=>b0(V,$))||J.push($);return{arrayValue:{values:J}}}class Z1 extends J8{constructor(Z){super(),this.elements=Z}}function B7(Z,Q){let J=F7(Q);for(let $ of Z.elements)J=J.filter((V)=>!b0(V,$));return{arrayValue:{values:J}}}class e1 extends J8{constructor(Z,Q){super(),this.serializer=Z,this.Pe=Q}}function hZ(Z){return w0(Z.integerValue||Z.doubleValue)}function F7(Z){return _4(Z)&&Z.arrayValue.values?Z.arrayValue.values.slice():[]}function cX(Z,Q){return Z.field.isEqual(Q.field)&&function J($,V){return $ instanceof a2&&V instanceof a2||$ instanceof Z1&&V instanceof Z1?t2($.elements,V.elements,b0):$ instanceof e1&&V instanceof e1?b0($.Pe,V.Pe):$ instanceof o1&&V instanceof o1}(Z.transform,Q.transform)}class h7{constructor(Z,Q){this.version=Z,this.transformResults=Q}}class Z2{constructor(Z,Q){this.updateTime=Z,this.exists=Q}static none(){return new Z2}static exists(Z){return new Z2(void 0,Z)}static updateTime(Z){return new Z2(Z)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(Z){return this.exists===Z.exists&&(this.updateTime?!!Z.updateTime&&this.updateTime.isEqual(Z.updateTime):!Z.updateTime)}}function s8(Z,Q){return Z.updateTime!==void 0?Q.isFoundDocument()&&Q.version.isEqual(Z.updateTime):Z.exists===void 0||Z.exists===Q.isFoundDocument()}class X8{}function j7(Z,Q){if(!Z.hasLocalMutations||Q&&Q.fields.length===0)return null;if(Q===null)return Z.isNoDocument()?new r4(Z.key,Z2.none()):new X1(Z.key,Z.data,Z2.none());{let J=Z.data,$=C0.empty(),V=new y0(R0.comparator);for(let U of Q.fields)if(!V.has(U)){let B=J.field(U);B===null&&U.length>1&&(U=U.popLast(),B=J.field(U)),B===null?$.delete(U):$.set(U,B),V=V.add(U)}return new k2(Z.key,$,new r0(V.toArray()),Z2.none())}}function tX(Z,Q,J){Z instanceof X1?function $(V,U,B){let F=V.value.clone(),j=RZ(V.fieldTransforms,U,B.transformResults);F.setAll(j),U.convertToFoundDocument(B.version,F).setHasCommittedMutations()}(Z,Q,J):Z instanceof k2?function $(V,U,B){if(!s8(V.precondition,U))return void U.convertToUnknownDocument(B.version);let F=RZ(V.fieldTransforms,U,B.transformResults),j=U.data;j.setAll(R7(V)),j.setAll(F),U.convertToFoundDocument(B.version,j).setHasCommittedMutations()}(Z,Q,J):function $(V,U,B){U.convertToNoDocument(B.version).setHasCommittedMutations()}(0,Q,J)}function D1(Z,Q,J,$){return Z instanceof X1?function V(U,B,F,j){if(!s8(U.precondition,B))return F;let R=U.value.clone(),f=GZ(U.fieldTransforms,j,B);return R.setAll(f),B.convertToFoundDocument(B.version,R).setHasLocalMutations(),null}(Z,Q,J,$):Z instanceof k2?function V(U,B,F,j){if(!s8(U.precondition,B))return F;let R=GZ(U.fieldTransforms,j,B),f=B.data;if(f.setAll(R7(U)),f.setAll(R),B.convertToFoundDocument(B.version,f).setHasLocalMutations(),F===null)return null;return F.unionWith(U.fieldMask.fields).unionWith(U.fieldTransforms.map((Y)=>Y.field))}(Z,Q,J,$):function V(U,B,F){if(s8(U.precondition,B))return B.convertToNoDocument(B.version).setHasLocalMutations(),null;return F}(Z,Q,J)}function dX(Z,Q){let J=null;for(let $ of Z.fieldTransforms){let V=Q.data.field($.field),U=x7($.transform,V||null);U!=null&&(J===null&&(J=C0.empty()),J.set($.field,U))}return J||null}function jZ(Z,Q){return Z.type===Q.type&&(!!Z.key.isEqual(Q.key)&&(!!Z.precondition.isEqual(Q.precondition)&&(!!function J($,V){return $===void 0&&V===void 0||!(!$||!V)&&t2($,V,(U,B)=>cX(U,B))}(Z.fieldTransforms,Q.fieldTransforms)&&(Z.type===0?Z.value.isEqual(Q.value):Z.type!==1||Z.data.isEqual(Q.data)&&Z.fieldMask.isEqual(Q.fieldMask)))))}class X1 extends X8{constructor(Z,Q,J,$=[]){super(),this.key=Z,this.value=Q,this.precondition=J,this.fieldTransforms=$,this.type=0}getFieldMask(){return null}}class k2 extends X8{constructor(Z,Q,J,$,V=[]){super(),this.key=Z,this.data=Q,this.fieldMask=J,this.precondition=$,this.fieldTransforms=V,this.type=1}getFieldMask(){return this.fieldMask}}function R7(Z){let Q=new Map;return Z.fieldMask.fields.forEach((J)=>{if(!J.isEmpty()){let $=Z.data.field(J);Q.set(J,$)}}),Q}function RZ(Z,Q,J){let $=new Map;W0(Z.length===J.length);for(let V=0;V<J.length;V++){let U=Z[V],B=U.transform,F=Q.data.field(U.field);$.set(U.field,bX(B,F,J[V]))}return $}function GZ(Z,Q,J){let $=new Map;for(let V of Z){let U=V.transform,B=J.data.field(V.field);$.set(V.field,DX(U,B,Q))}return $}class r4 extends X8{constructor(Z,Q){super(),this.key=Z,this.precondition=Q,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G7 extends X8{constructor(Z,Q){super(),this.key=Z,this.precondition=Q,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class I7{constructor(Z,Q,J,$){this.batchId=Z,this.localWriteTime=Q,this.baseMutations=J,this.mutations=$}applyToRemoteDocument(Z,Q){let J=Q.mutationResults;for(let $=0;$<this.mutations.length;$++){let V=this.mutations[$];if(V.key.isEqual(Z.key))tX(V,Z,J[$])}}applyToLocalView(Z,Q){for(let J of this.baseMutations)J.key.isEqual(Z.key)&&(Q=D1(J,Z,Q,this.localWriteTime));for(let J of this.mutations)J.key.isEqual(Z.key)&&(Q=D1(J,Z,Q,this.localWriteTime));return Q}applyToLocalDocumentSet(Z,Q){let J=U7();return this.mutations.forEach(($)=>{let V=Z.get($.key),U=V.overlayedDocument,B=this.applyToLocalView(U,V.mutatedFields);B=Q.has($.key)?null:B;let F=j7(U,B);F!==null&&J.set($.key,F),U.isValidDocument()||U.convertToNoDocument(J0.min())}),J}keys(){return this.mutations.reduce((Z,Q)=>Z.add(Q.key),N0())}isEqual(Z){return this.batchId===Z.batchId&&t2(this.mutations,Z.mutations,(Q,J)=>jZ(Q,J))&&t2(this.baseMutations,Z.baseMutations,(Q,J)=>jZ(Q,J))}}class m4{constructor(Z,Q,J,$){this.batch=Z,this.commitVersion=Q,this.mutationResults=J,this.docVersions=$}static from(Z,Q,J){W0(Z.mutations.length===J.length);let $=function U(){return rX}(),V=Z.mutations;for(let U=0;U<V.length;U++)$=$.insert(V[U].key,J[U].version);return new m4(Z,Q,J,$)}}class O7{constructor(Z,Q){this.largestBatchId=Z,this.mutation=Q}getKey(){return this.mutation.key}isEqual(Z){return Z!==null&&this.mutation===Z.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}var z0,c;function EX(Z){switch(Z){default:return s();case p.CANCELLED:case p.UNKNOWN:case p.DEADLINE_EXCEEDED:case p.RESOURCE_EXHAUSTED:case p.INTERNAL:case p.UNAVAILABLE:case p.UNAUTHENTICATED:return!1;case p.INVALID_ARGUMENT:case p.NOT_FOUND:case p.ALREADY_EXISTS:case p.PERMISSION_DENIED:case p.FAILED_PRECONDITION:case p.ABORTED:case p.OUT_OF_RANGE:case p.UNIMPLEMENTED:case p.DATA_LOSS:return!0}}function oX(Z){if(Z===void 0)return A2("GRPC error has no .code"),p.UNKNOWN;switch(Z){case z0.OK:return p.OK;case z0.CANCELLED:return p.CANCELLED;case z0.UNKNOWN:return p.UNKNOWN;case z0.DEADLINE_EXCEEDED:return p.DEADLINE_EXCEEDED;case z0.RESOURCE_EXHAUSTED:return p.RESOURCE_EXHAUSTED;case z0.INTERNAL:return p.INTERNAL;case z0.UNAVAILABLE:return p.UNAVAILABLE;case z0.UNAUTHENTICATED:return p.UNAUTHENTICATED;case z0.INVALID_ARGUMENT:return p.INVALID_ARGUMENT;case z0.NOT_FOUND:return p.NOT_FOUND;case z0.ALREADY_EXISTS:return p.ALREADY_EXISTS;case z0.PERMISSION_DENIED:return p.PERMISSION_DENIED;case z0.FAILED_PRECONDITION:return p.FAILED_PRECONDITION;case z0.ABORTED:return p.ABORTED;case z0.OUT_OF_RANGE:return p.OUT_OF_RANGE;case z0.UNIMPLEMENTED:return p.UNIMPLEMENTED;case z0.DATA_LOSS:return p.DATA_LOSS;default:return s()}}(c=z0||(z0={}))[c.OK=0]="OK",c[c.CANCELLED=1]="CANCELLED",c[c.UNKNOWN=2]="UNKNOWN",c[c.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",c[c.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",c[c.NOT_FOUND=5]="NOT_FOUND",c[c.ALREADY_EXISTS=6]="ALREADY_EXISTS",c[c.PERMISSION_DENIED=7]="PERMISSION_DENIED",c[c.UNAUTHENTICATED=16]="UNAUTHENTICATED",c[c.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",c[c.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",c[c.ABORTED=10]="ABORTED",c[c.OUT_OF_RANGE=11]="OUT_OF_RANGE",c[c.UNIMPLEMENTED=12]="UNIMPLEMENTED",c[c.INTERNAL=13]="INTERNAL",c[c.UNAVAILABLE=14]="UNAVAILABLE",c[c.DATA_LOSS=15]="DATA_LOSS";var mz=new V4([4294967295,4294967295],0);var nz=(()=>{return{asc:"ASCENDING",desc:"DESCENDING"}})(),gz=(()=>{return{"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}})(),sz=(()=>{return{and:"AND",or:"OR"}})();class k7{constructor(Z,Q){this.databaseId=Z,this.useProto3Json=Q}}function k4(Z,Q){if(Z.useProto3Json)return`${new Date(1000*Q.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+Q.nanoseconds).slice(-9)}Z`;return{seconds:""+Q.seconds,nanos:Q.nanoseconds}}function eX(Z,Q){return Z.useProto3Json?Q.toBase64():Q.toUint8Array()}function aX(Z,Q){return k4(Z,Q.toTimestamp())}function c2(Z){return W0(!!Z),J0.fromTimestamp(function Q(J){let $=G2(J);return new q0($.seconds,$.nanos)}(Z))}function S7(Z,Q){return S4(Z,Q).canonicalString()}function S4(Z,Q){let J=function $(V){return new V0(["projects",V.projectId,"databases",V.database])}(Z).child("documents");return Q===void 0?J:J.child(Q)}function Z$(Z){let Q=V0.fromString(Z);return W0(U$(Q)),Q}function L4(Z,Q){return S7(Z.databaseId,Q.path)}function Q$(Z){let Q=Z$(Z);return Q.length===4?V0.emptyPath():X$(Q)}function J$(Z){return new V0(["projects",Z.databaseId.projectId,"databases",Z.databaseId.database]).canonicalString()}function X$(Z){return W0(Z.length>4&&Z.get(4)==="documents"),Z.popFirst(5)}function IZ(Z,Q,J){return{name:L4(Z,Q),fields:J.value.mapValue.fields}}function $$(Z,Q){let J;if(Q instanceof X1)J={update:IZ(Z,Q.key,Q.value)};else if(Q instanceof r4)J={delete:L4(Z,Q.key)};else if(Q instanceof k2)J={update:IZ(Z,Q.key,Q.data),updateMask:w$(Q.fieldMask)};else{if(!(Q instanceof G7))return s();J={verify:L4(Z,Q.key)}}return Q.fieldTransforms.length>0&&(J.updateTransforms=Q.fieldTransforms.map(($)=>function V(U,B){let F=B.transform;if(F instanceof o1)return{fieldPath:B.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(F instanceof a2)return{fieldPath:B.field.canonicalString(),appendMissingElements:{values:F.elements}};if(F instanceof Z1)return{fieldPath:B.field.canonicalString(),removeAllFromArray:{values:F.elements}};if(F instanceof e1)return{fieldPath:B.field.canonicalString(),increment:F.Pe};throw s()}(0,$))),Q.precondition.isNone||(J.currentDocument=function $(V,U){return U.updateTime!==void 0?{updateTime:aX(V,U.updateTime)}:U.exists!==void 0?{exists:U.exists}:s()}(Z,Q.precondition)),J}function V$(Z,Q){return Z&&Z.length>0?(W0(Q!==void 0),Z.map((J)=>function $(V,U){let B=V.updateTime?c2(V.updateTime):c2(U);return B.isEqual(J0.min())&&(B=c2(U)),new h7(B,V.transformResults||[])}(J,Q))):[]}function z$(Z){let Q=Q$(Z.parent),J=Z.structuredQuery,$=J.from?J.from.length:0,V=null;if($>0){W0($===1);let f=J.from[0];f.allDescendants?V=f.collectionId:Q=Q.child(f.collectionId)}let U=[];J.where&&(U=function f(Y){let K=L7(Y);if(K instanceof I2&&bZ(K))return K.getFilters();return[K]}(J.where));let B=[];J.orderBy&&(B=function f(Y){return Y.map((K)=>function P(A){return new E1(b2(A.field),function _(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(K))}(J.orderBy));let F=null;J.limit&&(F=function f(Y){let K;return K=typeof Y=="object"?Y.value:Y,T4(K)?null:K}(J.limit));let j=null;J.startAt&&(j=function f(Y){let K=!!Y.before,P=Y.values||[];return new d1(P,K)}(J.startAt));let R=null;return J.endAt&&(R=function f(Y){let K=!Y.before,P=Y.values||[];return new d1(P,K)}(J.endAt)),AX(Q,V,B,U,F,"F",j,R)}function L7(Z){return Z.unaryFilter!==void 0?function Q(J){switch(J.unaryFilter.op){case"IS_NAN":let $=b2(J.unaryFilter.field);return x0.create($,"==",{doubleValue:NaN});case"IS_NULL":let V=b2(J.unaryFilter.field);return x0.create(V,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let U=b2(J.unaryFilter.field);return x0.create(U,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let B=b2(J.unaryFilter.field);return x0.create(B,"!=",{nullValue:"NULL_VALUE"});default:return s()}}(Z):Z.fieldFilter!==void 0?function Q(J){return x0.create(b2(J.fieldFilter.field),function $(V){switch(V){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return s()}}(J.fieldFilter.op),J.fieldFilter.value)}(Z):Z.compositeFilter!==void 0?function Q(J){return I2.create(J.compositeFilter.filters.map(($)=>L7($)),function $(V){switch(V){case"AND":return"and";case"OR":return"or";default:return s()}}(J.compositeFilter.op))}(Z):s()}function b2(Z){return R0.fromServerFormat(Z.fieldPath)}function w$(Z){let Q=[];return Z.fields.forEach((J)=>Q.push(J.canonicalString())),{fieldPaths:Q}}function U$(Z){return Z.length>=4&&Z.get(0)==="projects"&&Z.get(2)==="databases"}class N7{constructor(Z){this.ct=Z}}function W$(Z){let Q=z$({parent:Z.parent,structuredQuery:Z.structuredQuery});return Z.limitType==="LAST"?O4(Q,Q.limit,"L"):Q}class N4{constructor(){}It(Z,Q){this.Tt(Z,Q),Q.Et()}Tt(Z,Q){if("nullValue"in Z)this.dt(Q,5);else if("booleanValue"in Z)this.dt(Q,10),Q.At(Z.booleanValue?1:0);else if("integerValue"in Z)this.dt(Q,15),Q.At(w0(Z.integerValue));else if("doubleValue"in Z){let J=w0(Z.doubleValue);isNaN(J)?this.dt(Q,13):(this.dt(Q,15),c1(J)?Q.At(0):Q.At(J))}else if("timestampValue"in Z){let J=Z.timestampValue;this.dt(Q,20),typeof J=="string"&&(J=G2(J)),Q.Rt(`${J.seconds||""}`),Q.At(J.nanos||0)}else if("stringValue"in Z)this.Vt(Z.stringValue,Q),this.ft(Q);else if("bytesValue"in Z)this.dt(Q,30),Q.gt(d2(Z.bytesValue)),this.ft(Q);else if("referenceValue"in Z)this.yt(Z.referenceValue,Q);else if("geoPointValue"in Z){let J=Z.geoPointValue;this.dt(Q,45),Q.At(J.latitude||0),Q.At(J.longitude||0)}else"mapValue"in Z?gZ(Z)?this.dt(Q,Number.MAX_SAFE_INTEGER):nZ(Z)?this.wt(Z.mapValue,Q):(this.St(Z.mapValue,Q),this.ft(Q)):("arrayValue"in Z)?(this.bt(Z.arrayValue,Q),this.ft(Q)):s()}Vt(Z,Q){this.dt(Q,25),this.Dt(Z,Q)}Dt(Z,Q){Q.Rt(Z)}St(Z,Q){let J=Z.fields||{};this.dt(Q,55);for(let $ of Object.keys(J))this.Vt($,Q),this.Tt(J[$],Q)}wt(Z,Q){var J,$;let V=Z.fields||{};this.dt(Q,53);let U="value",B=(($=(J=V[U].arrayValue)===null||J===void 0?void 0:J.values)===null||$===void 0?void 0:$.length)||0;this.dt(Q,15),Q.At(w0(B)),this.Vt(U,Q),this.Tt(V[U],Q)}bt(Z,Q){let J=Z.values||[];this.dt(Q,50);for(let $ of J)this.Tt($,Q)}yt(Z,Q){this.dt(Q,37),m.fromName(Z).path.forEach((J)=>{this.dt(Q,60),this.Dt(J,Q)})}dt(Z,Q){Z.At(Q)}ft(Z){Z.At(2)}}N4.vt=new N4;class y7{constructor(){this.un=new v7}addToCollectionParentIndex(Z,Q){return this.un.add(Q),l.resolve()}getCollectionParents(Z,Q){return l.resolve(this.un.getEntries(Q))}addFieldIndex(Z,Q){return l.resolve()}deleteFieldIndex(Z,Q){return l.resolve()}deleteAllFieldIndexes(Z){return l.resolve()}createTargetIndexes(Z,Q){return l.resolve()}getDocumentsMatchingTarget(Z,Q){return l.resolve(null)}getIndexType(Z,Q){return l.resolve(0)}getFieldIndexes(Z,Q){return l.resolve([])}getNextCollectionGroupToUpdate(Z){return l.resolve(null)}getMinOffset(Z,Q){return l.resolve(R2.min())}getMinOffsetFromCollectionGroup(Z,Q){return l.resolve(R2.min())}updateCollectionGroup(Z,Q,J){return l.resolve()}updateIndexEntries(Z,Q){return l.resolve()}}class v7{constructor(){this.index={}}add(Z){let Q=Z.lastSegment(),J=Z.popLast(),$=this.index[Q]||new y0(V0.comparator),V=!$.has(J);return this.index[Q]=$.add(J),V}has(Z){let Q=Z.lastSegment(),J=Z.popLast(),$=this.index[Q];return $&&$.has(J)}getEntries(Z){return(this.index[Z]||new y0(V0.comparator)).toArray()}}var Dz=new Uint8Array(0);class _0{constructor(Z,Q,J){this.cacheSizeCollectionThreshold=Z,this.percentileToCollect=Q,this.maximumSequenceNumbersToCollect=J}static withCacheSize(Z){return new _0(Z,_0.DEFAULT_COLLECTION_PERCENTILE,_0.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}_0.DEFAULT_COLLECTION_PERCENTILE=10,_0.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1000,_0.DEFAULT=new _0(41943040,_0.DEFAULT_COLLECTION_PERCENTILE,_0.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_0.DISABLED=new _0(-1,0,0);class Q1{constructor(Z){this.Ln=Z}next(){return this.Ln+=2,this.Ln}static Bn(){return new Q1(0)}static kn(){return new Q1(-1)}}class f7{constructor(){this.changes=new _2((Z)=>Z.toString(),(Z,Q)=>Z.isEqual(Q)),this.changesApplied=!1}addEntry(Z){this.assertNotApplied(),this.changes.set(Z.key,Z)}removeEntry(Z,Q){this.assertNotApplied(),this.changes.set(Z,u0.newInvalidDocument(Z).setReadTime(Q))}getEntry(Z,Q){this.assertNotApplied();let J=this.changes.get(Q);return J!==void 0?l.resolve(J):this.getFromCache(Z,Q)}getEntries(Z,Q){return this.getAllFromCache(Z,Q)}apply(Z){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(Z)}assertNotApplied(){}}class H7{constructor(Z,Q){this.overlayedDocument=Z,this.mutatedFields=Q}}class Y7{constructor(Z,Q,J,$){this.remoteDocumentCache=Z,this.mutationQueue=Q,this.documentOverlayCache=J,this.indexManager=$}getDocument(Z,Q){let J=null;return this.documentOverlayCache.getOverlay(Z,Q).next(($)=>(J=$,this.remoteDocumentCache.getEntry(Z,Q))).next(($)=>(J!==null&&D1(J.mutation,$,r0.empty(),q0.now()),$))}getDocuments(Z,Q){return this.remoteDocumentCache.getEntries(Z,Q).next((J)=>this.getLocalViewOfDocuments(Z,J,N0()).next(()=>J))}getLocalViewOfDocuments(Z,Q,J=N0()){let $=l2();return this.populateOverlays(Z,$,Q).next(()=>this.computeViews(Z,Q,$,J).next((V)=>{let U=m8();return V.forEach((B,F)=>{U=U.insert(B,F.overlayedDocument)}),U}))}getOverlayedDocuments(Z,Q){let J=l2();return this.populateOverlays(Z,J,Q).next(()=>this.computeViews(Z,Q,J,N0()))}populateOverlays(Z,Q,J){let $=[];return J.forEach((V)=>{Q.has(V)||$.push(V)}),this.documentOverlayCache.getOverlays(Z,$).next((V)=>{V.forEach((U,B)=>{Q.set(U,B)})})}computeViews(Z,Q,J,$){let V=t8(),U=s1(),B=function F(){return s1()}();return Q.forEach((F,j)=>{let R=J.get(j.key);$.has(j.key)&&(R===void 0||R.mutation instanceof k2)?V=V.insert(j.key,j):R!==void 0?(U.set(j.key,R.mutation.getFieldMask()),D1(R.mutation,j,R.mutation.getFieldMask(),q0.now())):U.set(j.key,r0.empty())}),this.recalculateAndSaveOverlays(Z,V).next((F)=>(F.forEach((j,R)=>U.set(j,R)),Q.forEach((j,R)=>{var f;return B.set(j,new H7(R,(f=U.get(j))!==null&&f!==void 0?f:null))}),B))}recalculateAndSaveOverlays(Z,Q){let J=s1(),$=new Y0((U,B)=>U-B),V=N0();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(Z,Q).next((U)=>{for(let B of U)B.keys().forEach((F)=>{let j=Q.get(F);if(j===null)return;let R=J.get(F)||r0.empty();R=B.applyToLocalView(j,R),J.set(F,R);let f=($.get(B.batchId)||N0()).add(F);$=$.insert(B.batchId,f)})}).next(()=>{let U=[],B=$.getReverseIterator();for(;B.hasNext();){let F=B.getNext(),j=F.key,R=F.value,f=U7();R.forEach((Y)=>{if(!V.has(Y)){let K=j7(Q.get(Y),J.get(Y));K!==null&&f.set(Y,K),V=V.add(Y)}}),U.push(this.documentOverlayCache.saveOverlays(Z,j,f))}return l.waitFor(U)}).next(()=>J)}recalculateAndSaveOverlaysForDocumentKeys(Z,Q){return this.remoteDocumentCache.getEntries(Z,Q).next((J)=>this.recalculateAndSaveOverlays(Z,J))}getDocumentsMatchingQuery(Z,Q,J,$){return function V(U){return m.isDocumentKey(U.path)&&U.collectionGroup===null&&U.filters.length===0}(Q)?this.getDocumentsMatchingDocumentQuery(Z,Q.path):PX(Q)?this.getDocumentsMatchingCollectionGroupQuery(Z,Q,J,$):this.getDocumentsMatchingCollectionQuery(Z,Q,J,$)}getNextDocuments(Z,Q,J,$){return this.remoteDocumentCache.getAllFromCollectionGroup(Z,Q,J,$).next((V)=>{let U=$-V.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(Z,Q,J.largestBatchId,$-V.size):l.resolve(l2()),B=-1,F=V;return U.next((j)=>l.forEach(j,(R,f)=>(B<f.largestBatchId&&(B=f.largestBatchId),V.get(R)?l.resolve():this.remoteDocumentCache.getEntry(Z,R).next((Y)=>{F=F.insert(R,Y)}))).next(()=>this.populateOverlays(Z,j,V)).next(()=>this.computeViews(Z,F,j,N0())).next((R)=>({batchId:B,changes:w7(R)})))})}getDocumentsMatchingDocumentQuery(Z,Q){return this.getDocument(Z,new m(Q)).next((J)=>{let $=m8();return J.isFoundDocument()&&($=$.insert(J.key,J)),$})}getDocumentsMatchingCollectionGroupQuery(Z,Q,J,$){let V=Q.collectionGroup,U=m8();return this.indexManager.getCollectionParents(Z,V).next((B)=>l.forEach(B,(F)=>{let j=function R(f,Y){return new Q8(Y,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(Q,F.child(V));return this.getDocumentsMatchingCollectionQuery(Z,j,J,$).next((R)=>{R.forEach((f,Y)=>{U=U.insert(f,Y)})})}).next(()=>U))}getDocumentsMatchingCollectionQuery(Z,Q,J,$){let V;return this.documentOverlayCache.getOverlaysForCollection(Z,Q.path,J.largestBatchId).next((U)=>(V=U,this.remoteDocumentCache.getDocumentsMatchingQuery(Z,Q,J,V,$))).next((U)=>{V.forEach((F,j)=>{let R=j.getKey();U.get(R)===null&&(U=U.insert(R,u0.newInvalidDocument(R)))});let B=m8();return U.forEach((F,j)=>{let R=V.get(F);R!==void 0&&D1(R.mutation,j,r0.empty(),q0.now()),u4(Q,j)&&(B=B.insert(F,j))}),B})}}class K7{constructor(Z){this.serializer=Z,this.hr=new Map,this.Pr=new Map}getBundleMetadata(Z,Q){return l.resolve(this.hr.get(Q))}saveBundleMetadata(Z,Q){return this.hr.set(Q.id,function J($){return{id:$.id,version:$.version,createTime:c2($.createTime)}}(Q)),l.resolve()}getNamedQuery(Z,Q){return l.resolve(this.Pr.get(Q))}saveNamedQuery(Z,Q){return this.Pr.set(Q.name,function J($){return{name:$.name,query:W$($.bundledQuery),readTime:c2($.readTime)}}(Q)),l.resolve()}}class l7{constructor(){this.overlays=new Y0(m.comparator),this.Ir=new Map}getOverlay(Z,Q){return l.resolve(this.overlays.get(Q))}getOverlays(Z,Q){let J=l2();return l.forEach(Q,($)=>this.getOverlay(Z,$).next((V)=>{V!==null&&J.set($,V)})).next(()=>J)}saveOverlays(Z,Q,J){return J.forEach(($,V)=>{this.ht(Z,Q,V)}),l.resolve()}removeOverlaysForBatchId(Z,Q,J){let $=this.Ir.get(J);return $!==void 0&&($.forEach((V)=>this.overlays=this.overlays.remove(V)),this.Ir.delete(J)),l.resolve()}getOverlaysForCollection(Z,Q,J){let $=l2(),V=Q.length+1,U=new m(Q.child("")),B=this.overlays.getIteratorFrom(U);for(;B.hasNext();){let F=B.getNext().value,j=F.getKey();if(!Q.isPrefixOf(j.path))break;j.path.length===V&&(F.largestBatchId>J&&$.set(F.getKey(),F))}return l.resolve($)}getOverlaysForCollectionGroup(Z,Q,J,$){let V=new Y0((j,R)=>j-R),U=this.overlays.getIterator();for(;U.hasNext();){let j=U.getNext().value;if(j.getKey().getCollectionGroup()===Q&&j.largestBatchId>J){let R=V.get(j.largestBatchId);R===null&&(R=l2(),V=V.insert(j.largestBatchId,R)),R.set(j.getKey(),j)}}let B=l2(),F=V.getIterator();for(;F.hasNext();)if(F.getNext().value.forEach((j,R)=>B.set(j,R)),B.size()>=$)break;return l.resolve(B)}ht(Z,Q,J){let $=this.overlays.get(J.key);if($!==null){let U=this.Ir.get($.largestBatchId).delete(J.key);this.Ir.set($.largestBatchId,U)}this.overlays=this.overlays.insert(J.key,new O7(Q,J));let V=this.Ir.get(Q);V===void 0&&(V=N0(),this.Ir.set(Q,V)),this.Ir.set(Q,V.add(J.key))}}class p7{constructor(){this.sessionToken=D0.EMPTY_BYTE_STRING}getSessionToken(Z){return l.resolve(this.sessionToken)}setSessionToken(Z,Q){return this.sessionToken=Q,l.resolve()}}class o8{constructor(){this.Tr=new y0(U0.Er),this.dr=new y0(U0.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(Z,Q){let J=new U0(Z,Q);this.Tr=this.Tr.add(J),this.dr=this.dr.add(J)}Rr(Z,Q){Z.forEach((J)=>this.addReference(J,Q))}removeReference(Z,Q){this.Vr(new U0(Z,Q))}mr(Z,Q){Z.forEach((J)=>this.removeReference(J,Q))}gr(Z){let Q=new m(new V0([])),J=new U0(Q,Z),$=new U0(Q,Z+1),V=[];return this.dr.forEachInRange([J,$],(U)=>{this.Vr(U),V.push(U.key)}),V}pr(){this.Tr.forEach((Z)=>this.Vr(Z))}Vr(Z){this.Tr=this.Tr.delete(Z),this.dr=this.dr.delete(Z)}yr(Z){let Q=new m(new V0([])),J=new U0(Q,Z),$=new U0(Q,Z+1),V=N0();return this.dr.forEachInRange([J,$],(U)=>{V=V.add(U.key)}),V}containsKey(Z){let Q=new U0(Z,0),J=this.Tr.firstAfterOrEqual(Q);return J!==null&&Z.isEqual(J.key)}}class U0{constructor(Z,Q){this.key=Z,this.wr=Q}static Er(Z,Q){return m.comparator(Z.key,Q.key)||o(Z.wr,Q.wr)}static Ar(Z,Q){return o(Z.wr,Q.wr)||m.comparator(Z.key,Q.key)}}class T7{constructor(Z,Q){this.indexManager=Z,this.referenceDelegate=Q,this.mutationQueue=[],this.Sr=1,this.br=new y0(U0.Er)}checkEmpty(Z){return l.resolve(this.mutationQueue.length===0)}addMutationBatch(Z,Q,J,$){let V=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let U=new I7(V,Q,J,$);this.mutationQueue.push(U);for(let B of $)this.br=this.br.add(new U0(B.key,V)),this.indexManager.addToCollectionParentIndex(Z,B.key.path.popLast());return l.resolve(U)}lookupMutationBatch(Z,Q){return l.resolve(this.Dr(Q))}getNextMutationBatchAfterBatchId(Z,Q){let J=Q+1,$=this.vr(J),V=$<0?0:$;return l.resolve(this.mutationQueue.length>V?this.mutationQueue[V]:null)}getHighestUnacknowledgedBatchId(){return l.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(Z){return l.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(Z,Q){let J=new U0(Q,0),$=new U0(Q,Number.POSITIVE_INFINITY),V=[];return this.br.forEachInRange([J,$],(U)=>{let B=this.Dr(U.wr);V.push(B)}),l.resolve(V)}getAllMutationBatchesAffectingDocumentKeys(Z,Q){let J=new y0(o);return Q.forEach(($)=>{let V=new U0($,0),U=new U0($,Number.POSITIVE_INFINITY);this.br.forEachInRange([V,U],(B)=>{J=J.add(B.wr)})}),l.resolve(this.Cr(J))}getAllMutationBatchesAffectingQuery(Z,Q){let J=Q.path,$=J.length+1,V=J;m.isDocumentKey(V)||(V=V.child(""));let U=new U0(new m(V),0),B=new y0(o);return this.br.forEachWhile((F)=>{let j=F.key.path;return!!J.isPrefixOf(j)&&(j.length===$&&(B=B.add(F.wr)),!0)},U),l.resolve(this.Cr(B))}Cr(Z){let Q=[];return Z.forEach((J)=>{let $=this.Dr(J);$!==null&&Q.push($)}),Q}removeMutationBatch(Z,Q){W0(this.Fr(Q.batchId,"removed")===0),this.mutationQueue.shift();let J=this.br;return l.forEach(Q.mutations,($)=>{let V=new U0($.key,Q.batchId);return J=J.delete(V),this.referenceDelegate.markPotentiallyOrphaned(Z,$.key)}).next(()=>{this.br=J})}On(Z){}containsKey(Z,Q){let J=new U0(Q,0),$=this.br.firstAfterOrEqual(J);return l.resolve(Q.isEqual($&&$.key))}performConsistencyCheck(Z){return this.mutationQueue.length,l.resolve()}Fr(Z,Q){return this.vr(Z)}vr(Z){if(this.mutationQueue.length===0)return 0;return Z-this.mutationQueue[0].batchId}Dr(Z){let Q=this.vr(Z);if(Q<0||Q>=this.mutationQueue.length)return null;return this.mutationQueue[Q]}}class A7{constructor(Z){this.Mr=Z,this.docs=function Q(){return new Y0(m.comparator)}(),this.size=0}setIndexManager(Z){this.indexManager=Z}addEntry(Z,Q){let J=Q.key,$=this.docs.get(J),V=$?$.size:0,U=this.Mr(Q);return this.docs=this.docs.insert(J,{document:Q.mutableCopy(),size:U}),this.size+=U-V,this.indexManager.addToCollectionParentIndex(Z,J.path.popLast())}removeEntry(Z){let Q=this.docs.get(Z);Q&&(this.docs=this.docs.remove(Z),this.size-=Q.size)}getEntry(Z,Q){let J=this.docs.get(Q);return l.resolve(J?J.document.mutableCopy():u0.newInvalidDocument(Q))}getEntries(Z,Q){let J=t8();return Q.forEach(($)=>{let V=this.docs.get($);J=J.insert($,V?V.document.mutableCopy():u0.newInvalidDocument($))}),l.resolve(J)}getDocumentsMatchingQuery(Z,Q,J,$){let V=t8(),U=Q.path,B=new m(U.child("")),F=this.docs.getIteratorFrom(B);for(;F.hasNext();){let{key:j,value:{document:R}}=F.getNext();if(!U.isPrefixOf(j.path))break;j.path.length>U.length+1||(LX(SX(R),J)<=0||($.has(R.key)||u4(Q,R))&&(V=V.insert(R.key,R.mutableCopy())))}return l.resolve(V)}getAllFromCollectionGroup(Z,Q,J,$){s()}Or(Z,Q){return l.forEach(this.docs,(J)=>Q(J))}newChangeBuffer(Z){return new _7(this)}getSize(Z){return l.resolve(this.size)}}class _7 extends f7{constructor(Z){super(),this.cr=Z}applyChanges(Z){let Q=[];return this.changes.forEach((J,$)=>{$.isValidDocument()?Q.push(this.cr.addEntry(Z,$)):this.cr.removeEntry(J)}),l.waitFor(Q)}getFromCache(Z,Q){return this.cr.getEntry(Z,Q)}getAllFromCache(Z,Q){return this.cr.getEntries(Z,Q)}}class P7{constructor(Z){this.persistence=Z,this.Nr=new _2((Q)=>M4(Q),i4),this.lastRemoteSnapshotVersion=J0.min(),this.highestTargetId=0,this.Lr=0,this.Br=new o8,this.targetCount=0,this.kr=Q1.Bn()}forEachTarget(Z,Q){return this.Nr.forEach((J,$)=>Q($)),l.resolve()}getLastRemoteSnapshotVersion(Z){return l.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(Z){return l.resolve(this.Lr)}allocateTargetId(Z){return this.highestTargetId=this.kr.next(),l.resolve(this.highestTargetId)}setTargetsMetadata(Z,Q,J){return J&&(this.lastRemoteSnapshotVersion=J),Q>this.Lr&&(this.Lr=Q),l.resolve()}Kn(Z){this.Nr.set(Z.target,Z);let Q=Z.targetId;Q>this.highestTargetId&&(this.kr=new Q1(Q),this.highestTargetId=Q),Z.sequenceNumber>this.Lr&&(this.Lr=Z.sequenceNumber)}addTargetData(Z,Q){return this.Kn(Q),this.targetCount+=1,l.resolve()}updateTargetData(Z,Q){return this.Kn(Q),l.resolve()}removeTargetData(Z,Q){return this.Nr.delete(Q.target),this.Br.gr(Q.targetId),this.targetCount-=1,l.resolve()}removeTargets(Z,Q,J){let $=0,V=[];return this.Nr.forEach((U,B)=>{B.sequenceNumber<=Q&&J.get(B.targetId)===null&&(this.Nr.delete(U),V.push(this.removeMatchingKeysForTargetId(Z,B.targetId)),$++)}),l.waitFor(V).next(()=>$)}getTargetCount(Z){return l.resolve(this.targetCount)}getTargetData(Z,Q){let J=this.Nr.get(Q)||null;return l.resolve(J)}addMatchingKeys(Z,Q,J){return this.Br.Rr(Q,J),l.resolve()}removeMatchingKeys(Z,Q,J){this.Br.mr(Q,J);let $=this.persistence.referenceDelegate,V=[];return $&&Q.forEach((U)=>{V.push($.markPotentiallyOrphaned(Z,U))}),l.waitFor(V)}removeMatchingKeysForTargetId(Z,Q){return this.Br.gr(Q),l.resolve()}getMatchingKeysForTargetId(Z,Q){let J=this.Br.yr(Q);return l.resolve(J)}containsKey(Z,Q){return l.resolve(this.Br.containsKey(Q))}}class M7{constructor(Z,Q){this.qr={},this.overlays={},this.Qr=new p4(0),this.Kr=!1,this.Kr=!0,this.$r=new p7,this.referenceDelegate=Z(this),this.Ur=new P7(this),this.indexManager=new y7,this.remoteDocumentCache=function J($){return new A7($)}((J)=>this.referenceDelegate.Wr(J)),this.serializer=new N7(Q),this.Gr=new K7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(Z){return this.indexManager}getDocumentOverlayCache(Z){let Q=this.overlays[Z.toKey()];return Q||(Q=new l7,this.overlays[Z.toKey()]=Q),Q}getMutationQueue(Z,Q){let J=this.qr[Z.toKey()];return J||(J=new T7(Q,this.referenceDelegate),this.qr[Z.toKey()]=J),J}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(Z,Q,J){i("MemoryPersistence","Starting transaction:",Z);let $=new i7(this.Qr.next());return this.referenceDelegate.zr(),J($).next((V)=>this.referenceDelegate.jr($).next(()=>V)).toPromise().then((V)=>($.raiseOnCommittedEvent(),V))}Hr(Z,Q){return l.or(Object.values(this.qr).map((J)=>()=>J.containsKey(Z,Q)))}}class i7 extends MZ{constructor(Z){super(),this.currentSequenceNumber=Z}}class n4{constructor(Z){this.persistence=Z,this.Jr=new o8,this.Yr=null}static Zr(Z){return new n4(Z)}get Xr(){if(this.Yr)return this.Yr;throw s()}addReference(Z,Q,J){return this.Jr.addReference(J,Q),this.Xr.delete(J.toString()),l.resolve()}removeReference(Z,Q,J){return this.Jr.removeReference(J,Q),this.Xr.add(J.toString()),l.resolve()}markPotentiallyOrphaned(Z,Q){return this.Xr.add(Q.toString()),l.resolve()}removeTarget(Z,Q){this.Jr.gr(Q.targetId).forEach(($)=>this.Xr.add($.toString()));let J=this.persistence.getTargetCache();return J.getMatchingKeysForTargetId(Z,Q.targetId).next(($)=>{$.forEach((V)=>this.Xr.add(V.toString()))}).next(()=>J.removeTargetData(Z,Q))}zr(){this.Yr=new Set}jr(Z){let Q=this.persistence.getRemoteDocumentCache().newChangeBuffer();return l.forEach(this.Xr,(J)=>{let $=m.fromPath(J);return this.ei(Z,$).next((V)=>{V||Q.removeEntry($,J0.min())})}).next(()=>(this.Yr=null,Q.apply(Z)))}updateLimboDocument(Z,Q){return this.ei(Z,Q).next((J)=>{J?this.Xr.delete(Q.toString()):this.Xr.add(Q.toString())})}Wr(Z){return 0}ei(Z,Q){return l.or([()=>l.resolve(this.Jr.containsKey(Q)),()=>this.persistence.getTargetCache().containsKey(Z,Q),()=>this.persistence.Hr(Z,Q)])}}class g4{constructor(Z,Q,J,$){this.targetId=Z,this.fromCache=Q,this.$i=J,this.Ui=$}static Wi(Z,Q){let J=N0(),$=N0();for(let V of Q.docChanges)switch(V.type){case 0:J=J.add(V.doc.key);break;case 1:$=$.add(V.doc.key)}return new g4(Z,Q.fromCache,J,$)}}class u7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(Z){this._documentReadCount+=Z}}class C7{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function Z(){return A9()?8:yX(T9())>0?6:4}()}initialize(Z,Q){this.Ji=Z,this.indexManager=Q,this.Gi=!0}getDocumentsMatchingQuery(Z,Q,J,$){let V={result:null};return this.Yi(Z,Q).next((U)=>{V.result=U}).next(()=>{if(!V.result)return this.Zi(Z,Q,$,J).next((U)=>{V.result=U})}).next(()=>{if(V.result)return;let U=new u7;return this.Xi(Z,Q,U).next((B)=>{if(V.result=B,this.zi)return this.es(Z,Q,U,B.size)})}).next(()=>V.result)}es(Z,Q,J,$){return J.documentReadCount<this.ji?(C1()<=b.DEBUG&&i("QueryEngine","SDK will not create cache indexes for query:",r1(Q),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),l.resolve()):(C1()<=b.DEBUG&&i("QueryEngine","Query:",r1(Q),"scans",J.documentReadCount,"local documents and returns",$,"documents as results."),J.documentReadCount>this.Hi*$?(C1()<=b.DEBUG&&i("QueryEngine","The SDK decides to create cache indexes for query:",r1(Q),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(Z,p2(Q))):l.resolve())}Yi(Z,Q){if(FZ(Q))return l.resolve(null);let J=p2(Q);return this.indexManager.getIndexType(Z,J).next(($)=>$===0?null:(Q.limit!==null&&$===1&&(Q=O4(Q,null,"F"),J=p2(Q)),this.indexManager.getDocumentsMatchingTarget(Z,J).next((V)=>{let U=N0(...V);return this.Ji.getDocuments(Z,U).next((B)=>this.indexManager.getMinOffset(Z,J).next((F)=>{let j=this.ts(Q,B);return this.ns(Q,j,U,F.readTime)?this.Yi(Z,O4(Q,null,"F")):this.rs(Z,j,Q,F)}))})))}Zi(Z,Q,J,$){return FZ(Q)||$.isEqual(J0.min())?l.resolve(null):this.Ji.getDocuments(Z,J).next((V)=>{let U=this.ts(Q,V);return this.ns(Q,U,J,$)?l.resolve(null):(C1()<=b.DEBUG&&i("QueryEngine","Re-using previous result from %s to execute query: %s",$.toString(),r1(Q)),this.rs(Z,U,Q,kX($,-1)).next((B)=>B))})}ts(Z,Q){let J=new y0(iX(Z));return Q.forEach(($,V)=>{u4(Z,V)&&(J=J.add(V))}),J}ns(Z,Q,J,$){if(Z.limit===null)return!1;if(J.size!==Q.size)return!0;let V=Z.limitType==="F"?Q.last():Q.first();return!!V&&(V.hasPendingWrites||V.version.compareTo($)>0)}Xi(Z,Q,J){return C1()<=b.DEBUG&&i("QueryEngine","Using full collection scan to execute query:",r1(Q)),this.Ji.getDocumentsMatchingQuery(Z,Q,R2.min(),J)}rs(Z,Q,J,$){return this.Ji.getDocumentsMatchingQuery(Z,J,$).next((V)=>(Q.forEach((U)=>{V=V.insert(U.key,U)}),V))}}class r7{constructor(Z,Q,J,$){this.persistence=Z,this.ss=Q,this.serializer=$,this.os=new Y0(o),this._s=new _2((V)=>M4(V),i4),this.us=new Map,this.cs=Z.getRemoteDocumentCache(),this.Ur=Z.getTargetCache(),this.Gr=Z.getBundleCache(),this.ls(J)}ls(Z){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(Z),this.indexManager=this.persistence.getIndexManager(Z),this.mutationQueue=this.persistence.getMutationQueue(Z,this.indexManager),this.localDocuments=new Y7(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(Z){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(Q)=>Z.collect(Q,this.os))}}function x$(Z,Q,J,$){return new r7(Z,Q,J,$)}async function m7(Z,Q){let J=a(Z);return await J.persistence.runTransaction("Handle user change","readonly",($)=>{let V;return J.mutationQueue.getAllMutationBatches($).next((U)=>(V=U,J.ls(Q),J.mutationQueue.getAllMutationBatches($))).next((U)=>{let B=[],F=[],j=N0();for(let R of V){B.push(R.batchId);for(let f of R.mutations)j=j.add(f.key)}for(let R of U){F.push(R.batchId);for(let f of R.mutations)j=j.add(f.key)}return J.localDocuments.getDocuments($,j).next((R)=>({hs:R,removedBatchIds:B,addedBatchIds:F}))})})}function q$(Z,Q){let J=a(Z);return J.persistence.runTransaction("Acknowledge batch","readwrite-primary",($)=>{let V=Q.batch.keys(),U=J.cs.newChangeBuffer({trackRemovals:!0});return function B(F,j,R,f){let Y=R.batch,K=Y.keys(),P=l.resolve();return K.forEach((A)=>{P=P.next(()=>f.getEntry(j,A)).next((_)=>{let M=R.docVersions.get(A);W0(M!==null),_.version.compareTo(M)<0&&(Y.applyToRemoteDocument(_,R),_.isValidDocument()&&(_.setReadTime(R.commitVersion),f.addEntry(_)))})}),P.next(()=>F.mutationQueue.removeMutationBatch(j,Y))}(J,$,Q,U).next(()=>U.apply($)).next(()=>J.mutationQueue.performConsistencyCheck($)).next(()=>J.documentOverlayCache.removeOverlaysForBatchId($,V,Q.batch.batchId)).next(()=>J.localDocuments.recalculateAndSaveOverlaysForDocumentKeys($,function B(F){let j=N0();for(let R=0;R<F.mutationResults.length;++R)F.mutationResults[R].transformResults.length>0&&(j=j.add(F.batch.mutations[R].key));return j}(Q))).next(()=>J.localDocuments.getDocuments($,V))})}function B$(Z){let Q=a(Z);return Q.persistence.runTransaction("Get last remote snapshot version","readonly",(J)=>Q.Ur.getLastRemoteSnapshotVersion(J))}function F$(Z,Q){let J=a(Z);return J.persistence.runTransaction("Get next mutation batch","readonly",($)=>(Q===void 0&&(Q=-1),J.mutationQueue.getNextMutationBatchAfterBatchId($,Q)))}class y4{constructor(){this.activeTargetIds=gX()}fs(Z){this.activeTargetIds=this.activeTargetIds.add(Z)}gs(Z){this.activeTargetIds=this.activeTargetIds.delete(Z)}Vs(){let Z={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(Z)}}class n7{constructor(){this.so=new y4,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(Z){}updateMutationState(Z,Q,J){}addLocalQueryTarget(Z){return this.so.fs(Z),this.oo[Z]||"not-current"}updateQueryState(Z,Q,J){this.oo[Z]=Q}removeLocalQueryTarget(Z){this.so.gs(Z)}isLocalQueryTarget(Z){return this.so.activeTargetIds.has(Z)}clearQueryState(Z){delete this.oo[Z]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(Z){return this.so.activeTargetIds.has(Z)}start(){return this.so=new y4,Promise.resolve()}handleUserChange(Z,Q,J){}setOnlineState(Z){}shutdown(){}writeSequenceNumber(Z){}notifyBundleLoaded(Z){}}class g7{_o(Z){}shutdown(){}}class v4{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(Z){this.ho.push(Z)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){i("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let Z of this.ho)Z(0)}lo(){i("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let Z of this.ho)Z(1)}static D(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}var n8=null;function B4(){return n8===null?n8=function Z(){return 268435456+Math.round(2147483648*Math.random())}():n8++,"0x"+n8.toString(16)}var h$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class s7{constructor(Z){this.Io=Z.Io,this.To=Z.To}Eo(Z){this.Ao=Z}Ro(Z){this.Vo=Z}mo(Z){this.fo=Z}onMessage(Z){this.po=Z}close(){this.To()}send(Z){this.Io(Z)}yo(){this.Ao()}wo(){this.Vo()}So(Z){this.fo(Z)}bo(Z){this.po(Z)}}var L0="WebChannelConnection";class D7 extends class Z{constructor(Q){this.databaseInfo=Q,this.databaseId=Q.databaseId;let J=Q.ssl?"https":"http",$=encodeURIComponent(this.databaseId.projectId),V=encodeURIComponent(this.databaseId.database);this.Do=J+"://"+Q.host,this.vo=`projects/${$}/databases/${V}`,this.Co=this.databaseId.database==="(default)"?`project_id=${$}`:`project_id=${$}&database_id=${V}`}get Fo(){return!1}Mo(Q,J,$,V,U){let B=B4(),F=this.xo(Q,J.toUriEncodedString());i("RestConnection",`Sending RPC '${Q}' ${B}:`,F,$);let j={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(j,V,U),this.No(Q,F,j,$).then((R)=>(i("RestConnection",`Received RPC '${Q}' ${B}: `,R),R),(R)=>{throw D8("RestConnection",`RPC '${Q}' ${B} failed with error: `,R,"url: ",F,"request:",$),R})}Lo(Q,J,$,V,U,B){return this.Mo(Q,J,$,V,U)}Oo(Q,J,$){Q["X-Goog-Api-Client"]=function V(){return"gl-js/ fire/"+J1}(),Q["Content-Type"]="text/plain",this.databaseInfo.appId&&(Q["X-Firebase-GMPID"]=this.databaseInfo.appId),J&&J.headers.forEach((V,U)=>Q[U]=V),$&&$.headers.forEach((V,U)=>Q[U]=V)}xo(Q,J){let $=h$[Q];return`${this.Do}/v1/${J}:${$}`}terminate(){}}{constructor(Z){super(Z),this.forceLongPolling=Z.forceLongPolling,this.autoDetectLongPolling=Z.autoDetectLongPolling,this.useFetchStreams=Z.useFetchStreams,this.longPollingOptions=Z.longPollingOptions}No(Z,Q,J,$){let V=B4();return new Promise((U,B)=>{let F=new z4;F.setWithCredentials(!0),F.listenOnce(U4.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case u1.NO_ERROR:let R=F.getResponseJson();i(L0,`XHR for RPC '${Z}' ${V} received:`,JSON.stringify(R)),U(R);break;case u1.TIMEOUT:i(L0,`RPC '${Z}' ${V} timed out`),B(new r(p.DEADLINE_EXCEEDED,"Request time out"));break;case u1.HTTP_ERROR:let f=F.getStatus();if(i(L0,`RPC '${Z}' ${V} failed with status:`,f,"response text:",F.getResponseText()),f>0){let Y=F.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);let K=Y==null?void 0:Y.error;if(K&&K.status&&K.message){let P=function A(_){let M=_.toLowerCase().replace(/_/g,"-");return Object.values(p).indexOf(M)>=0?M:p.UNKNOWN}(K.status);B(new r(P,K.message))}else B(new r(p.UNKNOWN,"Server responded with status "+F.getStatus()))}else B(new r(p.UNAVAILABLE,"Connection failed."));break;default:s()}}finally{i(L0,`RPC '${Z}' ${V} completed.`)}});let j=JSON.stringify($);i(L0,`RPC '${Z}' ${V} sending request:`,$),F.send(Q,"POST",j,J,15)})}Bo(Z,Q,J){let $=B4(),V=[this.Do,"/","google.firestore.v1.Firestore","/",Z,"/channel"],U=q4(),B=x4(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:600000},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},j=this.longPollingOptions.timeoutSeconds;j!==void 0&&(F.longPollingTimeout=Math.round(1000*j)),this.useFetchStreams&&(F.xmlHttpFactory=new w4({})),this.Oo(F.initMessageHeaders,Q,J),F.encodeInitMessageHeaders=!0;let R=V.join("");i(L0,`Creating RPC '${Z}' stream ${$}: ${R}`,F);let f=U.createWebChannel(R,F),Y=!1,K=!1,P=new s7({Io:(_)=>{K?i(L0,`Not sending because RPC '${Z}' stream ${$} is closed:`,_):(Y||(i(L0,`Opening RPC '${Z}' stream ${$} transport.`),f.open(),Y=!0),i(L0,`RPC '${Z}' stream ${$} sending:`,_),f.send(_))},To:()=>f.close()}),A=(_,M,C)=>{_.listen(M,(n)=>{try{C(n)}catch(d){setTimeout(()=>{throw d},0)}})};return A(f,D2.EventType.OPEN,()=>{K||(i(L0,`RPC '${Z}' stream ${$} transport opened.`),P.yo())}),A(f,D2.EventType.CLOSE,()=>{K||(K=!0,i(L0,`RPC '${Z}' stream ${$} transport closed`),P.So())}),A(f,D2.EventType.ERROR,(_)=>{K||(K=!0,D8(L0,`RPC '${Z}' stream ${$} transport errored:`,_),P.So(new r(p.UNAVAILABLE,"The operation could not be completed")))}),A(f,D2.EventType.MESSAGE,(_)=>{var M;if(!K){let C=_.data[0];W0(!!C);let n=C,d=n.error||((M=n[0])===null||M===void 0?void 0:M.error);if(d){i(L0,`RPC '${Z}' stream ${$} received error:`,d);let B0=d.status,p0=function y(G){let O=z0[G];if(O!==void 0)return oX(O)}(B0),K0=d.message;p0===void 0&&(p0=p.INTERNAL,K0="Unknown error status: "+B0+" with message "+d.message),K=!0,P.So(new r(p0,K0)),f.close()}else i(L0,`RPC '${Z}' stream ${$} received:`,C),P.bo(C)}}),A(B,W4.STAT_EVENT,(_)=>{_.stat===C8.PROXY?i(L0,`RPC '${Z}' stream ${$} detected buffering proxy`):_.stat===C8.NOPROXY&&i(L0,`RPC '${Z}' stream ${$} detected no buffering proxy`)}),setTimeout(()=>{P.wo()},0),P}}function F4(){return typeof document!="undefined"?document:null}function e8(Z){return new k7(Z,!0)}class s4{constructor(Z,Q,J=1000,$=1.5,V=60000){this.ui=Z,this.timerId=Q,this.ko=J,this.qo=$,this.Qo=V,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(Z){this.cancel();let Q=Math.floor(this.Ko+this.zo()),J=Math.max(0,Date.now()-this.Uo),$=Math.max(0,Q-J);$>0&&i("ExponentialBackoff",`Backing off for ${$} ms (base delay: ${this.Ko} ms, delay with jitter: ${Q} ms, last attempt: ${J} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,$,()=>(this.Uo=Date.now(),Z())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-0.5)*this.Ko}}class b7{constructor(Z,Q,J,$,V,U,B,F){this.ui=Z,this.Ho=J,this.Jo=$,this.connection=V,this.authCredentialsProvider=U,this.appCheckCredentialsProvider=B,this.listener=F,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new s4(Z,Q)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,60000,()=>this.__()))}a_(Z){this.u_(),this.stream.send(Z)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(Z,Q){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,Z!==4?this.t_.reset():Q&&Q.code===p.RESOURCE_EXHAUSTED?(A2(Q.toString()),A2("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):Q&&Q.code===p.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=Z,await this.listener.mo(Q)}l_(){}auth(){this.state=1;let Z=this.h_(this.Yo),Q=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([J,$])=>{this.Yo===Q&&this.P_(J,$)},(J)=>{Z(()=>{let $=new r(p.UNKNOWN,"Fetching auth token failed: "+J.message);return this.I_($)})})}P_(Z,Q){let J=this.h_(this.Yo);this.stream=this.T_(Z,Q),this.stream.Eo(()=>{J(()=>this.listener.Eo())}),this.stream.Ro(()=>{J(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(($)=>{J(()=>this.I_($))}),this.stream.onMessage(($)=>{J(()=>++this.e_==1?this.E_($):this.onNext($))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(Z){return i("PersistentStream",`close with error: ${Z}`),this.stream=null,this.close(4,Z)}h_(Z){return(Q)=>{this.ui.enqueueAndForget(()=>this.Yo===Z?Q():(i("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class c7 extends b7{constructor(Z,Q,J,$,V,U){super(Z,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",Q,J,$,U),this.serializer=V}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(Z,Q){return this.connection.Bo("Write",Z,Q)}E_(Z){return W0(!!Z.streamToken),this.lastStreamToken=Z.streamToken,W0(!Z.writeResults||Z.writeResults.length===0),this.listener.f_()}onNext(Z){W0(!!Z.streamToken),this.lastStreamToken=Z.streamToken,this.t_.reset();let Q=V$(Z.writeResults,Z.commitTime),J=c2(Z.commitTime);return this.listener.g_(J,Q)}p_(){let Z={};Z.database=J$(this.serializer),this.a_(Z)}m_(Z){let Q={streamToken:this.lastStreamToken,writes:Z.map((J)=>$$(this.serializer,J))};this.a_(Q)}}class t7 extends class Z{}{constructor(Z,Q,J,$){super(),this.authCredentials=Z,this.appCheckCredentials=Q,this.connection=J,this.serializer=$,this.y_=!1}w_(){if(this.y_)throw new r(p.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(Z,Q,J,$){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([V,U])=>this.connection.Mo(Z,S4(Q,J),$,V,U)).catch((V)=>{throw V.name==="FirebaseError"?(V.code===p.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),V):new r(p.UNKNOWN,V.toString())})}Lo(Z,Q,J,$,V){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([U,B])=>this.connection.Lo(Z,S4(Q,J),$,U,B,V)).catch((U)=>{throw U.name==="FirebaseError"?(U.code===p.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),U):new r(p.UNKNOWN,U.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class d7{constructor(Z,Q){this.asyncQueue=Z,this.onlineStateHandler=Q,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(Z){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${Z.toString()}`),this.C_("Offline")))}set(Z){this.x_(),this.S_=0,Z==="Online"&&(this.D_=!1),this.C_(Z)}C_(Z){Z!==this.state&&(this.state=Z,this.onlineStateHandler(Z))}F_(Z){let Q=`Could not reach Cloud Firestore backend. ${Z}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(A2(Q),this.D_=!1):i("OnlineStateTracker",Q)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class E7{constructor(Z,Q,J,$,V){this.localStore=Z,this.datastore=Q,this.asyncQueue=J,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=V,this.k_._o((U)=>{J.enqueueAndForget(async()=>{V8(this)&&(i("RemoteStore","Restarting streams for network reachability change."),await async function B(F){let j=a(F);j.L_.add(4),await $8(j),j.q_.set("Unknown"),j.L_.delete(4),await a8(j)}(this))})}),this.q_=new d7(J,$)}}async function a8(Z){if(V8(Z))for(let Q of Z.B_)await Q(!0)}async function $8(Z){for(let Q of Z.B_)await Q(!1)}function V8(Z){return a(Z).L_.size===0}async function o7(Z,Q,J){if(!E8(Q))throw Q;Z.L_.add(1),await $8(Z),Z.q_.set("Offline"),J||(J=()=>B$(Z.localStore)),Z.asyncQueue.enqueueRetryable(async()=>{i("RemoteStore","Retrying IndexedDB access"),await J(),Z.L_.delete(1),await a8(Z)})}function e7(Z,Q){return Q().catch((J)=>o7(Z,J,Q))}async function Z6(Z){let Q=a(Z),J=O2(Q),$=Q.O_.length>0?Q.O_[Q.O_.length-1].batchId:-1;for(;j$(Q);)try{let V=await F$(Q.localStore,$);if(V===null){Q.O_.length===0&&J.o_();break}$=V.batchId,R$(Q,V)}catch(V){await o7(Q,V)}a7(Q)&&ZQ(Q)}function j$(Z){return V8(Z)&&Z.O_.length<10}function R$(Z,Q){Z.O_.push(Q);let J=O2(Z);J.r_()&&J.V_&&J.m_(Q.mutations)}function a7(Z){return V8(Z)&&!O2(Z).n_()&&Z.O_.length>0}function ZQ(Z){O2(Z).start()}async function G$(Z){O2(Z).p_()}async function I$(Z){let Q=O2(Z);for(let J of Z.O_)Q.m_(J.mutations)}async function O$(Z,Q,J){let $=Z.O_.shift(),V=m4.from($,Q,J);await e7(Z,()=>Z.remoteSyncer.applySuccessfulWrite(V)),await Z6(Z)}async function k$(Z,Q){Q&&O2(Z).V_&&await async function J($,V){if(function U(B){return EX(B)&&B!==p.ABORTED}(V.code)){let U=$.O_.shift();O2($).s_(),await e7($,()=>$.remoteSyncer.rejectFailedWrite(U.batchId,V)),await Z6($)}}(Z,Q),a7(Z)&&ZQ(Z)}async function OZ(Z,Q){let J=a(Z);J.asyncQueue.verifyOperationInProgress(),i("RemoteStore","RemoteStore received new credentials");let $=V8(J);J.L_.add(3),await $8(J),$&&J.q_.set("Unknown"),await J.remoteSyncer.handleCredentialChange(Q),J.L_.delete(3),await a8(J)}async function S$(Z,Q){let J=a(Z);Q?(J.L_.delete(2),await a8(J)):Q||(J.L_.add(2),await $8(J),J.q_.set("Unknown"))}function O2(Z){return Z.U_||(Z.U_=function Q(J,$,V){let U=a(J);return U.w_(),new c7($,U.connection,U.authCredentials,U.appCheckCredentials,U.serializer,V)}(Z.datastore,Z.asyncQueue,{Eo:()=>Promise.resolve(),Ro:G$.bind(null,Z),mo:k$.bind(null,Z),f_:I$.bind(null,Z),g_:O$.bind(null,Z)}),Z.B_.push(async(Q)=>{Q?(Z.U_.s_(),await Z6(Z)):(await Z.U_.stop(),Z.O_.length>0&&(i("RemoteStore",`Stopping write stream with ${Z.O_.length} pending writes`),Z.O_=[]))})),Z.U_}class D4{constructor(Z,Q,J,$,V){this.asyncQueue=Z,this.timerId=Q,this.targetTimeMs=J,this.op=$,this.removalCallback=V,this.deferred=new h2,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((U)=>{})}get promise(){return this.deferred.promise}static createAndSchedule(Z,Q,J,$,V){let U=Date.now()+J,B=new D4(Z,Q,U,$,V);return B.start(J),B}start(Z){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),Z)}skipDelay(){return this.handleDelayElapsed()}cancel(Z){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new r(p.CANCELLED,"Operation cancelled"+(Z?": "+Z:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((Z)=>this.deferred.resolve(Z))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function QQ(Z,Q){if(A2("AsyncQueue",`${Q}: ${Z}`),E8(Z))return new r(p.UNAVAILABLE,`${Q}: ${Z}`);throw Z}class JQ{constructor(){this.queries=kZ(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function Z(Q,J){let $=a(Q),V=$.queries;$.queries=kZ(),V.forEach((U,B)=>{for(let F of B.j_)F.onError(J)})})(this,new r(p.ABORTED,"Firestore shutting down"))}}function kZ(){return new _2((Z)=>V7(Z),$7)}function L$(Z){Z.Y_.forEach((Q)=>{Q.next()})}var SZ,LZ;(LZ=SZ||(SZ={})).ea="default",LZ.Cache="cache";class XQ{constructor(Z,Q,J,$,V,U){this.localStore=Z,this.remoteStore=Q,this.eventManager=J,this.sharedClientState=$,this.currentUser=V,this.maxConcurrentLimboResolutions=U,this.Ca={},this.Fa=new _2((B)=>V7(B),$7),this.Ma=new Map,this.xa=new Set,this.Oa=new Y0(m.comparator),this.Na=new Map,this.La=new o8,this.Ba={},this.ka=new Map,this.qa=Q1.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function N$(Z,Q,J){let $=H$(Z);try{let V=await function U(B,F){let j=a(B),R=q0.now(),f=F.reduce((P,A)=>P.add(A.key),N0()),Y,K;return j.persistence.runTransaction("Locally write mutations","readwrite",(P)=>{let A=t8(),_=N0();return j.cs.getEntries(P,f).next((M)=>{A=M,A.forEach((C,n)=>{n.isValidDocument()||(_=_.add(C))})}).next(()=>j.localDocuments.getOverlayedDocuments(P,A)).next((M)=>{Y=M;let C=[];for(let n of F){let d=dX(n,Y.get(n.key).overlayedDocument);d!=null&&C.push(new k2(n.key,d,sZ(d.value.mapValue),Z2.exists(!0)))}return j.mutationQueue.addMutationBatch(P,R,C,F)}).next((M)=>{K=M;let C=M.applyToLocalDocumentSet(Y,_);return j.documentOverlayCache.saveOverlays(P,M.batchId,C)})}).then(()=>({batchId:K.batchId,changes:w7(Y)}))}($.localStore,Q);$.sharedClientState.addPendingMutation(V.batchId),function U(B,F,j){let R=B.Ba[B.currentUser.toKey()];R||(R=new Y0(o)),R=R.insert(F,j),B.Ba[B.currentUser.toKey()]=R}($,V.batchId,J),await Q6($,V.changes),await Z6($.remoteStore)}catch(V){let U=QQ(V,"Failed to persist write");J.reject(U)}}function NZ(Z,Q,J){let $=a(Z);if($.isPrimaryClient&&J===0||!$.isPrimaryClient&&J===1){let V=[];$.Fa.forEach((U,B)=>{let F=B.view.Z_(Q);F.snapshot&&V.push(F.snapshot)}),function U(B,F){let j=a(B);j.onlineState=F;let R=!1;j.queries.forEach((f,Y)=>{for(let K of Y.j_)K.Z_(F)&&(R=!0)}),R&&L$(j)}($.eventManager,Q),V.length&&$.Ca.d_(V),$.onlineState=Q,$.isPrimaryClient&&$.sharedClientState.setOnlineState(Q)}}async function y$(Z,Q){let J=a(Z),$=Q.batch.batchId;try{let V=await q$(J.localStore,Q);VQ(J,$,null),$Q(J,$),J.sharedClientState.updateMutationState($,"acknowledged"),await Q6(J,V)}catch(V){await iZ(V)}}async function v$(Z,Q,J){let $=a(Z);try{let V=await function U(B,F){let j=a(B);return j.persistence.runTransaction("Reject batch","readwrite-primary",(R)=>{let f;return j.mutationQueue.lookupMutationBatch(R,F).next((Y)=>(W0(Y!==null),f=Y.keys(),j.mutationQueue.removeMutationBatch(R,Y))).next(()=>j.mutationQueue.performConsistencyCheck(R)).next(()=>j.documentOverlayCache.removeOverlaysForBatchId(R,f,F)).next(()=>j.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(R,f)).next(()=>j.localDocuments.getDocuments(R,f))})}($.localStore,Q);VQ($,Q,J),$Q($,Q),$.sharedClientState.updateMutationState(Q,"rejected",J),await Q6($,V)}catch(V){await iZ(V)}}function $Q(Z,Q){(Z.ka.get(Q)||[]).forEach((J)=>{J.resolve()}),Z.ka.delete(Q)}function VQ(Z,Q,J){let $=a(Z),V=$.Ba[$.currentUser.toKey()];if(V){let U=V.get(Q);U&&(J?U.reject(J):U.resolve(),V=V.remove(Q)),$.Ba[$.currentUser.toKey()]=V}}async function Q6(Z,Q,J){let $=a(Z),V=[],U=[],B=[];$.Fa.isEmpty()||($.Fa.forEach((F,j)=>{B.push($.Ka(j,Q,J).then((R)=>{var f;if((R||J)&&$.isPrimaryClient){let Y=R?!R.fromCache:(f=J==null?void 0:J.targetChanges.get(j.targetId))===null||f===void 0?void 0:f.current;$.sharedClientState.updateQueryState(j.targetId,Y?"current":"not-current")}if(R){V.push(R);let Y=g4.Wi(j.targetId,R);U.push(Y)}}))}),await Promise.all(B),$.Ca.d_(V),await async function F(j,R){let f=a(j);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(Y)=>l.forEach(R,(K)=>l.forEach(K.$i,(P)=>f.persistence.referenceDelegate.addReference(Y,K.targetId,P)).next(()=>l.forEach(K.Ui,(P)=>f.persistence.referenceDelegate.removeReference(Y,K.targetId,P)))))}catch(Y){if(!E8(Y))throw Y;i("LocalStore","Failed to update sequence numbers: "+Y)}for(let Y of R){let K=Y.targetId;if(!Y.fromCache){let P=f.os.get(K),A=P.snapshotVersion,_=P.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(K,_)}}}($.localStore,U))}async function f$(Z,Q){let J=a(Z);if(!J.currentUser.isEqual(Q)){i("SyncEngine","User change. New user:",Q.toKey());let $=await m7(J.localStore,Q);J.currentUser=Q,function V(U,B){U.ka.forEach((F)=>{F.forEach((j)=>{j.reject(new r(p.CANCELLED,B))})}),U.ka.clear()}(J,"'waitForPendingWrites' promise is rejected due to a user change."),J.sharedClientState.handleUserChange(Q,$.removedBatchIds,$.addedBatchIds),await Q6(J,$.hs)}}function H$(Z){let Q=a(Z);return Q.remoteStore.remoteSyncer.applySuccessfulWrite=y$.bind(null,Q),Q.remoteStore.remoteSyncer.rejectFailedWrite=v$.bind(null,Q),Q}class f4{constructor(){this.synchronizeTabs=!1}async initialize(Z){this.serializer=e8(Z.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(Z),this.persistence=this.createPersistence(Z),await this.persistence.start(),this.localStore=this.createLocalStore(Z),this.gcScheduler=this.createGarbageCollectionScheduler(Z,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(Z,this.localStore)}createGarbageCollectionScheduler(Z,Q){return null}createIndexBackfillerScheduler(Z,Q){return null}createLocalStore(Z){return x$(this.persistence,new C7,Z.initialUser,this.serializer)}createPersistence(Z){return new M7(n4.Zr,this.serializer)}createSharedClientState(Z){return new n7}async terminate(){var Z,Q;(Z=this.gcScheduler)===null||Z===void 0||Z.stop(),(Q=this.indexBackfillerScheduler)===null||Q===void 0||Q.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class zQ{async initialize(Z,Q){this.localStore||(this.localStore=Z.localStore,this.sharedClientState=Z.sharedClientState,this.datastore=this.createDatastore(Q),this.remoteStore=this.createRemoteStore(Q),this.eventManager=this.createEventManager(Q),this.syncEngine=this.createSyncEngine(Q,!Z.synchronizeTabs),this.sharedClientState.onlineStateHandler=(J)=>NZ(this.syncEngine,J,1),this.remoteStore.remoteSyncer.handleCredentialChange=f$.bind(null,this.syncEngine),await S$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(Z){return function Q(){return new JQ}()}createDatastore(Z){let Q=e8(Z.databaseInfo.databaseId),J=function $(V){return new D7(V)}(Z.databaseInfo);return function $(V,U,B,F){return new t7(V,U,B,F)}(Z.authCredentials,Z.appCheckCredentials,J,Q)}createRemoteStore(Z){return function Q(J,$,V,U,B){return new E7(J,$,V,U,B)}(this.localStore,this.datastore,Z.asyncQueue,(Q)=>NZ(this.syncEngine,Q,0),function Q(){return v4.D()?new v4:new g7}())}createSyncEngine(Z,Q){return function J($,V,U,B,F,j,R){let f=new XQ($,V,U,B,F,j);return R&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,Z.initialUser,Z.maxConcurrentLimboResolutions,Q)}async terminate(){var Z,Q;await async function J($){let V=a($);i("RemoteStore","RemoteStore shutting down."),V.L_.add(5),await $8(V),V.k_.shutdown(),V.q_.set("Unknown")}(this.remoteStore),(Z=this.datastore)===null||Z===void 0||Z.terminate(),(Q=this.eventManager)===null||Q===void 0||Q.terminate()}}class wQ{constructor(Z,Q,J,$){this.authCredentials=Z,this.appCheckCredentials=Q,this.asyncQueue=J,this.databaseInfo=$,this.user=h0.UNAUTHENTICATED,this.clientId=l4.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(J,async(V)=>{i("FirestoreClient","Received user=",V.uid),await this.authCredentialListener(V),this.user=V}),this.appCheckCredentials.start(J,(V)=>(i("FirestoreClient","Received new app check token=",V),this.appCheckCredentialListener(V,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(Z){this.authCredentialListener=Z}setAppCheckTokenChangeListener(Z){this.appCheckCredentialListener=Z}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new r(p.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let Z=new h2;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),Z.resolve()}catch(Q){let J=QQ(Q,"Failed to shutdown persistence");Z.reject(J)}}),Z.promise}}async function h4(Z,Q){Z.asyncQueue.verifyOperationInProgress(),i("FirestoreClient","Initializing OfflineComponentProvider");let J=Z.configuration;await Q.initialize(J);let $=J.initialUser;Z.setCredentialChangeListener(async(V)=>{$.isEqual(V)||(await m7(Q.localStore,V),$=V)}),Q.persistence.setDatabaseDeletedListener(()=>Z.terminate()),Z._offlineComponents=Q}async function yZ(Z,Q){Z.asyncQueue.verifyOperationInProgress();let J=await K$(Z);i("FirestoreClient","Initializing OnlineComponentProvider"),await Q.initialize(J,Z.configuration),Z.setCredentialChangeListener(($)=>OZ(Q.remoteStore,$)),Z.setAppCheckTokenChangeListener(($,V)=>OZ(Q.remoteStore,V)),Z._onlineComponents=Q}function Y$(Z){return Z.name==="FirebaseError"?Z.code===p.FAILED_PRECONDITION||Z.code===p.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&Z instanceof DOMException)||(Z.code===22||Z.code===20||Z.code===11)}async function K$(Z){if(!Z._offlineComponents)if(Z._uninitializedComponentsProvider){i("FirestoreClient","Using user provided OfflineComponentProvider");try{await h4(Z,Z._uninitializedComponentsProvider._offline)}catch(Q){let J=Q;if(!Y$(J))throw J;D8("Error using user provided cache. Falling back to memory cache: "+J),await h4(Z,new f4)}}else i("FirestoreClient","Using default OfflineComponentProvider"),await h4(Z,new f4);return Z._offlineComponents}async function l$(Z){return Z._onlineComponents||(Z._uninitializedComponentsProvider?(i("FirestoreClient","Using user provided OnlineComponentProvider"),await yZ(Z,Z._uninitializedComponentsProvider._online)):(i("FirestoreClient","Using default OnlineComponentProvider"),await yZ(Z,new zQ))),Z._onlineComponents}function p$(Z){return l$(Z).then((Q)=>Q.syncEngine)}function UQ(Z){let Q={};return Z.timeoutSeconds!==void 0&&(Q.timeoutSeconds=Z.timeoutSeconds),Q}var vZ=new Map;function WQ(Z,Q,J){if(!J)throw new r(p.INVALID_ARGUMENT,`Function ${Z}() cannot be called with an empty ${Q}.`)}function T$(Z,Q,J,$){if(Q===!0&&$===!0)throw new r(p.INVALID_ARGUMENT,`${Z} and ${J} cannot be used together.`)}function fZ(Z){if(!m.isDocumentKey(Z))throw new r(p.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${Z} has ${Z.length}.`)}function HZ(Z){if(m.isDocumentKey(Z))throw new r(p.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${Z} has ${Z.length}.`)}function b4(Z){if(Z===void 0)return"undefined";if(Z===null)return"null";if(typeof Z=="string")return Z.length>20&&(Z=`${Z.substring(0,20)}...`),JSON.stringify(Z);if(typeof Z=="number"||typeof Z=="boolean")return""+Z;if(typeof Z=="object"){if(Z instanceof Array)return"an array";{let Q=function J($){if($.constructor)return $.constructor.name;return null}(Z);return Q?`a custom ${Q} object`:"an object"}}return typeof Z=="function"?"a function":s()}function xQ(Z,Q){if("_delegate"in Z&&(Z=Z._delegate),!(Z instanceof Q)){if(Q.name===Z.constructor.name)throw new r(p.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let J=b4(Z);throw new r(p.INVALID_ARGUMENT,`Expected type '${Q.name}', but it was: ${J}`)}}return Z}class H4{constructor(Z){var Q,J;if(Z.host===void 0){if(Z.ssl!==void 0)throw new r(p.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=Z.host,this.ssl=(Q=Z.ssl)===null||Q===void 0||Q;if(this.credentials=Z.credentials,this.ignoreUndefinedProperties=!!Z.ignoreUndefinedProperties,this.localCache=Z.localCache,Z.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(Z.cacheSizeBytes!==-1&&Z.cacheSizeBytes<1048576)throw new r(p.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=Z.cacheSizeBytes}T$("experimentalForceLongPolling",Z.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",Z.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!Z.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:Z.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!Z.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UQ((J=Z.experimentalLongPollingOptions)!==null&&J!==void 0?J:{}),function $(V){if(V.timeoutSeconds!==void 0){if(isNaN(V.timeoutSeconds))throw new r(p.INVALID_ARGUMENT,`invalid long polling timeout: ${V.timeoutSeconds} (must not be NaN)`);if(V.timeoutSeconds<5)throw new r(p.INVALID_ARGUMENT,`invalid long polling timeout: ${V.timeoutSeconds} (minimum allowed value is 5)`);if(V.timeoutSeconds>30)throw new r(p.INVALID_ARGUMENT,`invalid long polling timeout: ${V.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!Z.useFetchStreams}isEqual(Z){return this.host===Z.host&&this.ssl===Z.ssl&&this.credentials===Z.credentials&&this.cacheSizeBytes===Z.cacheSizeBytes&&this.experimentalForceLongPolling===Z.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===Z.experimentalAutoDetectLongPolling&&function Q(J,$){return J.timeoutSeconds===$.timeoutSeconds}(this.experimentalLongPollingOptions,Z.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===Z.ignoreUndefinedProperties&&this.useFetchStreams===Z.useFetchStreams}}class z8{constructor(Z,Q,J,$){this._authCredentials=Z,this._appCheckCredentials=Q,this._databaseId=J,this._app=$,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H4({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new r(p.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(Z){if(this._settingsFrozen)throw new r(p.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H4(Z),Z.credentials!==void 0&&(this._authCredentials=function Q(J){if(!J)return new YZ;switch(J.type){case"firstParty":return new TZ(J.sessionIndex||"0",J.iamToken||null,J.authTokenFactory||null);case"provider":return J.client;default:throw new r(p.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(Z.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function Z(Q){let J=vZ.get(Q);J&&(i("ComponentProvider","Removing Datastore"),vZ.delete(Q),J.terminate())}(this),Promise.resolve()}}function A$(Z,Q,J,$={}){var V;let U=(Z=xQ(Z,z8))._getSettings(),B=`${Q}:${J}`;if(U.host!=="firestore.googleapis.com"&&U.host!==B&&D8("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),Z._setSettings(Object.assign(Object.assign({},U),{host:B,ssl:!1})),$.mockUserToken){let F,j;if(typeof $.mockUserToken=="string")F=$.mockUserToken,j=h0.MOCK_USER;else{F=p9($.mockUserToken,(V=Z._app)===null||V===void 0?void 0:V.options.projectId);let R=$.mockUserToken.sub||$.mockUserToken.user_id;if(!R)throw new r(p.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");j=new h0(R)}Z._authCredentials=new KZ(new K4(F,j))}}class c4{constructor(Z,Q,J){this.converter=Q,this._query=J,this.type="query",this.firestore=Z}withConverter(Z){return new c4(this.firestore,Z,this._query)}}class Q2{constructor(Z,Q,J){this.converter=Q,this._key=J,this.type="document",this.firestore=Z}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new j2(this.firestore,this.converter,this._key.path.popLast())}withConverter(Z){return new Q2(this.firestore,Z,this._key)}}class j2 extends c4{constructor(Z,Q,J){super(Z,Q,_X(J)),this._path=J,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let Z=this._path.popLast();return Z.isEmpty()?null:new Q2(this.firestore,null,new m(Z))}withConverter(Z){return new j2(this.firestore,Z,this._path)}}function J6(Z,Q,...J){if(Z=s2(Z),WQ("collection","path",Q),Z instanceof z8){let $=V0.fromString(Q,...J);return HZ($),new j2(Z,null,$)}{if(!(Z instanceof Q2||Z instanceof j2))throw new r(p.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let $=Z._path.child(V0.fromString(Q,...J));return HZ($),new j2(Z.firestore,null,$)}}function _$(Z,Q,...J){if(Z=s2(Z),arguments.length===1&&(Q=l4.newId()),WQ("doc","path",Q),Z instanceof z8){let $=V0.fromString(Q,...J);return fZ($),new Q2(Z,null,new m($))}{if(!(Z instanceof Q2||Z instanceof j2))throw new r(p.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let $=Z._path.child(V0.fromString(Q,...J));return fZ($),new Q2(Z.firestore,Z instanceof j2?Z.converter:null,new m($))}}class qQ{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new s4(this,"async_queue_retry"),this.Eu=()=>{let Q=F4();Q&&i("AsyncQueue","Visibility state changed to "+Q.visibilityState),this.t_.jo()};let Z=F4();Z&&typeof Z.addEventListener=="function"&&Z.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(Z){this.enqueue(Z)}enqueueAndForgetEvenWhileRestricted(Z){this.du(),this.Au(Z)}enterRestrictedMode(Z){if(!this.cu){this.cu=!0,this.Iu=Z||!1;let Q=F4();Q&&typeof Q.removeEventListener=="function"&&Q.removeEventListener("visibilitychange",this.Eu)}}enqueue(Z){if(this.du(),this.cu)return new Promise(()=>{});let Q=new h2;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(Z().then(Q.resolve,Q.reject),Q.promise)).then(()=>Q.promise)}enqueueRetryable(Z){this.enqueueAndForget(()=>(this.uu.push(Z),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(Z){if(!E8(Z))throw Z;i("AsyncQueue","Operation failed with retryable error: "+Z)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(Z){let Q=this.au.then(()=>(this.Pu=!0,Z().catch((J)=>{this.hu=J,this.Pu=!1;let $=function V(U){let B=U.message||"";return U.stack&&(B=U.stack.includes(U.message)?U.stack:U.message+`
`+U.stack),B}(J);throw A2("INTERNAL UNHANDLED ERROR: ",$),J}).then((J)=>(this.Pu=!1,J))));return this.au=Q,Q}enqueueAfterDelay(Z,Q,J){this.du(),this.Tu.indexOf(Z)>-1&&(Q=0);let $=D4.createAndSchedule(this,Z,Q,J,(V)=>this.Vu(V));return this.lu.push($),$}du(){this.hu&&s()}verifyOperationInProgress(){}async mu(){let Z;do Z=this.au,await Z;while(Z!==this.au)}fu(Z){for(let Q of this.lu)if(Q.timerId===Z)return!0;return!1}gu(Z){return this.mu().then(()=>{this.lu.sort((Q,J)=>Q.targetTimeMs-J.targetTimeMs);for(let Q of this.lu)if(Q.skipDelay(),Z!=="all"&&Q.timerId===Z)break;return this.mu()})}pu(Z){this.Tu.push(Z)}Vu(Z){let Q=this.lu.indexOf(Z);this.lu.splice(Q,1)}}class t4 extends z8{constructor(Z,Q,J,$){super(Z,Q,J,$),this.type="firestore",this._queue=function V(){return new qQ}(),this._persistenceKey=($==null?void 0:$.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||FQ(this),this._firestoreClient.terminate()}}function BQ(Z,Q){let J=typeof Z=="object"?Z:e9(),$=typeof Z=="string"?Z:Q||"(default)",V=d9(J,"firestore").getImmediate({identifier:$});if(!V._initialized){let U=l9("firestore");U&&A$(V,...U)}return V}function P$(Z){return Z._firestoreClient||FQ(Z),Z._firestoreClient.verifyNotTerminated(),Z._firestoreClient}function FQ(Z){var Q,J,$;let V=Z._freezeSettings(),U=function B(F,j,R,f){return new mZ(F,j,R,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,UQ(f.experimentalLongPollingOptions),f.useFetchStreams)}(Z._databaseId,((Q=Z._app)===null||Q===void 0?void 0:Q.options.appId)||"",Z._persistenceKey,V);Z._firestoreClient=new wQ(Z._authCredentials,Z._appCheckCredentials,Z._queue,U),((J=V.localCache)===null||J===void 0?void 0:J._offlineComponentProvider)&&(($=V.localCache)===null||$===void 0?void 0:$._onlineComponentProvider)&&(Z._firestoreClient._uninitializedComponentsProvider={_offlineKind:V.localCache.kind,_offline:V.localCache._offlineComponentProvider,_online:V.localCache._onlineComponentProvider})}class a1{constructor(Z){this._byteString=Z}static fromBase64String(Z){try{return new a1(D0.fromBase64String(Z))}catch(Q){throw new r(p.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+Q)}}static fromUint8Array(Z){return new a1(D0.fromUint8Array(Z))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(Z){return this._byteString.isEqual(Z._byteString)}}class d4{constructor(...Z){for(let Q=0;Q<Z.length;++Q)if(Z[Q].length===0)throw new r(p.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new R0(Z)}isEqual(Z){return this._internalPath.isEqual(Z._internalPath)}}class E4{constructor(Z){this._methodName=Z}}class o4{constructor(Z,Q){if(!isFinite(Z)||Z<-90||Z>90)throw new r(p.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+Z);if(!isFinite(Q)||Q<-180||Q>180)throw new r(p.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+Q);this._lat=Z,this._long=Q}get latitude(){return this._lat}get longitude(){return this._long}isEqual(Z){return this._lat===Z._lat&&this._long===Z._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(Z){return o(this._lat,Z._lat)||o(this._long,Z._long)}}class e4{constructor(Z){this._values=(Z||[]).map((Q)=>Q)}toArray(){return this._values.map((Z)=>Z)}isEqual(Z){return function Q(J,$){if(J.length!==$.length)return!1;for(let V=0;V<J.length;++V)if(J[V]!==$[V])return!1;return!0}(this._values,Z._values)}}var M$=/^__.*__$/;class hQ{constructor(Z,Q,J){this.data=Z,this.fieldMask=Q,this.fieldTransforms=J}toMutation(Z,Q){return this.fieldMask!==null?new k2(Z,this.data,this.fieldMask,Q,this.fieldTransforms):new X1(Z,this.data,Q,this.fieldTransforms)}}function jQ(Z){switch(Z){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw s()}}class a4{constructor(Z,Q,J,$,V,U){this.settings=Z,this.databaseId=Q,this.serializer=J,this.ignoreUndefinedProperties=$,V===void 0&&this.yu(),this.fieldTransforms=V||[],this.fieldMask=U||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(Z){return new a4(Object.assign(Object.assign({},this.settings),Z),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(Z){var Q;let J=(Q=this.path)===null||Q===void 0?void 0:Q.child(Z),$=this.Su({path:J,Du:!1});return $.vu(Z),$}Cu(Z){var Q;let J=(Q=this.path)===null||Q===void 0?void 0:Q.child(Z),$=this.Su({path:J,Du:!1});return $.yu(),$}Fu(Z){return this.Su({path:void 0,Du:!0})}Mu(Z){return d8(Z,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(Z){return this.fieldMask.find((Q)=>Z.isPrefixOf(Q))!==void 0||this.fieldTransforms.find((Q)=>Z.isPrefixOf(Q.field))!==void 0}yu(){if(this.path)for(let Z=0;Z<this.path.length;Z++)this.vu(this.path.get(Z))}vu(Z){if(Z.length===0)throw this.Mu("Document fields must not be empty");if(jQ(this.wu)&&M$.test(Z))throw this.Mu('Document fields cannot begin and end with "__"')}}class RQ{constructor(Z,Q,J){this.databaseId=Z,this.ignoreUndefinedProperties=Q,this.serializer=J||e8(Z)}Nu(Z,Q,J,$=!1){return new a4({wu:Z,methodName:Q,Ou:J,path:R0.emptyPath(),Du:!1,xu:$},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function i$(Z){let Q=Z._freezeSettings(),J=e8(Z._databaseId);return new RQ(Z._databaseId,!!Q.ignoreUndefinedProperties,J)}function u$(Z,Q,J,$,V,U={}){let B=Z.Nu(U.merge||U.mergeFields?2:0,Q,J,V);kQ("Data must be an object, but it was:",B,$);let F=IQ($,B),j,R;if(U.merge)j=new r0(B.fieldMask),R=B.fieldTransforms;else if(U.mergeFields){let f=[];for(let Y of U.mergeFields){let K=C$(Q,Y,J);if(!B.contains(K))throw new r(p.INVALID_ARGUMENT,`Field '${K}' is specified in your field mask but missing from your input data.`);n$(f,K)||f.push(K)}j=new r0(f),R=B.fieldTransforms.filter((Y)=>j.covers(Y.field))}else j=null,R=B.fieldTransforms;return new hQ(new C0(F),j,R)}function GQ(Z,Q){if(OQ(Z=s2(Z)))return kQ("Unsupported field value:",Q,Z),IQ(Z,Q);if(Z instanceof E4)return function J($,V){if(!jQ(V.wu))throw V.Mu(`${$._methodName}() can only be used with update() and set()`);if(!V.path)throw V.Mu(`${$._methodName}() is not currently supported inside arrays`);let U=$._toFieldTransform(V);U&&V.fieldTransforms.push(U)}(Z,Q),null;if(Z===void 0&&Q.ignoreUndefinedProperties)return null;if(Q.path&&Q.fieldMask.push(Q.path),Z instanceof Array){if(Q.settings.Du&&Q.wu!==4)throw Q.Mu("Nested arrays are not supported");return function J($,V){let U=[],B=0;for(let F of $){let j=GQ(F,V.Fu(B));j==null&&(j={nullValue:"NULL_VALUE"}),U.push(j),B++}return{arrayValue:{values:U}}}(Z,Q)}return function J($,V){if(($=s2($))===null)return{nullValue:"NULL_VALUE"};if(typeof $=="number")return sX(V.serializer,$);if(typeof $=="boolean")return{booleanValue:$};if(typeof $=="string")return{stringValue:$};if($ instanceof Date){let U=q0.fromDate($);return{timestampValue:k4(V.serializer,U)}}if($ instanceof q0){let U=new q0($.seconds,1000*Math.floor($.nanoseconds/1000));return{timestampValue:k4(V.serializer,U)}}if($ instanceof o4)return{geoPointValue:{latitude:$.latitude,longitude:$.longitude}};if($ instanceof a1)return{bytesValue:eX(V.serializer,$._byteString)};if($ instanceof Q2){let U=V.databaseId,B=$.firestore._databaseId;if(!B.isEqual(U))throw V.Mu(`Document reference is for database ${B.projectId}/${B.database} but should be for database ${U.projectId}/${U.database}`);return{referenceValue:S7($.firestore._databaseId||V.databaseId,$._key.path)}}if($ instanceof e4)return function U(B,F){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:B.toArray().map((j)=>{if(typeof j!="number")throw F.Mu("VectorValues must only contain numeric values.");return C4(F.serializer,j)})}}}}}}($,V);throw V.Mu(`Unsupported field value: ${b4($)}`)}(Z,Q)}function IQ(Z,Q){let J={};return uZ(Z)?Q.path&&Q.path.length>0&&Q.fieldMask.push(Q.path):Z8(Z,($,V)=>{let U=GQ(V,Q.bu($));U!=null&&(J[$]=U)}),{mapValue:{fields:J}}}function OQ(Z){return!(typeof Z!="object"||Z===null||Z instanceof Array||Z instanceof Date||Z instanceof q0||Z instanceof o4||Z instanceof a1||Z instanceof Q2||Z instanceof E4||Z instanceof e4)}function kQ(Z,Q,J){if(!OQ(J)||!function $(V){return typeof V=="object"&&V!==null&&(Object.getPrototypeOf(V)===Object.prototype||Object.getPrototypeOf(V)===null)}(J)){let $=b4(J);throw $==="an object"?Q.Mu(Z+" a custom object"):Q.Mu(Z+" "+$)}}function C$(Z,Q,J){if((Q=s2(Q))instanceof d4)return Q._internalPath;if(typeof Q=="string")return m$(Z,Q);throw d8("Field path arguments must be of type string or ",Z,!1,void 0,J)}var r$=new RegExp("[~\\*/\\[\\]]");function m$(Z,Q,J){if(Q.search(r$)>=0)throw d8(`Invalid field path (${Q}). Paths must not contain '~', '*', '/', '[', or ']'`,Z,!1,void 0,J);try{return new d4(...Q.split("."))._internalPath}catch($){throw d8(`Invalid field path (${Q}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,Z,!1,void 0,J)}}function d8(Z,Q,J,$,V){let U=$&&!$.isEmpty(),B=V!==void 0,F=`Function ${Q}() called with invalid data`;J&&(F+=" (via `toFirestore()`)"),F+=". ";let j="";return(U||B)&&(j+=" (found",U&&(j+=` in field ${$}`),B&&(j+=` in document ${V}`),j+=")"),new r(p.INVALID_ARGUMENT,F+Z+j)}function n$(Z,Q){return Z.some((J)=>J.isEqual(Q))}function g$(Z,Q,J){let $;return $=Z?J&&(J.merge||J.mergeFields)?Z.toFirestore(Q,J):Z.toFirestore(Q):Q,$}function X6(Z,Q){let J=xQ(Z.firestore,t4),$=_$(Z),V=g$(Z.converter,Q);return s$(J,[u$(i$(Z.firestore),"addDoc",$._key,V,Z.converter!==null,{}).toMutation($._key,Z2.exists(!1))]).then(()=>$)}function s$(Z,Q){return function J($,V){let U=new h2;return $.asyncQueue.enqueueAndForget(async()=>N$(await p$($),V,U)),U.promise}(P$(Z),Q)}(function Z(Q,J=!0){(function $(V){J1=V})(o9),M1(new q2("firestore",($,{instanceIdentifier:V,options:U})=>{let B=$.getProvider("app").getImmediate(),F=new t4(new lZ($.getProvider("auth-internal")),new _Z($.getProvider("app-check-internal")),function j(R,f){if(!Object.prototype.hasOwnProperty.apply(R.options,["projectId"]))throw new r(p.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new c8(R.options.projectId,f)}(B,V),B);return U=Object.assign({useFetchStreams:J},U),F._setSettings(U),F},"PUBLIC").setMultipleInstances(!0)),F2(zZ,"4.7.0",Q),F2(zZ,"4.7.0","esm2017")})();class P0{static db;static init(){let Z=$4({apiKey:"AIzaSyD6v26BmHUqqngOx7Bu6REP2t5mJNJlhlk",authDomain:"exag-dungeongrams-study.firebaseapp.com",projectId:"exag-dungeongrams-study",storageBucket:"exag-dungeongrams-study.appspot.com",messagingSenderId:"970729390672",appId:"1:970729390672:web:c6231d60bdd477c7dec755",measurementId:"G-VEPF12WK7P"});P0.db=BQ(Z)}static submitAttempt(){let Z={diedFrom:u.diedFrom,"stamina-left":u.staminaLeft,time:u.time,won:u.playerWon,order:u.order,playerID:u.playerID,levels:u.levels};if(u.playerID==="null")console.log("Data not submitted:",Z);else X6(J6(P0.db,`rq2.2_play_${u.director}_${u.version}`),Z)}static submitSurvey(Z){if(u.playerID==="null")console.log("Data not submitted:",Z);else Z.playerID=u.playerID,X6(J6(P0.db,`rq2.2_survey_${u.director}_${u.version}`),Z),console.log("Survey submitted.")}static submitTutorial(){let Z={diedToEnemy:u.tutorialDiedToEnemy,diedToStamina:u.tutorialDiedToStamina,playerID:u.playerID};if(u.playerID==="null")console.log("Data not submitted:",Z);else X6(J6(P0.db,`rq2.2_tutorial_${u.director}_${u.version}`),Z),console.log("Tutorial data submitted.")}}class w8 extends $0{componentsRequired=new Set([]);steps=[];index=0;playerID;textID;constructor(Z,Q){super();let J=new y1;this.playerID=Z,this.textID=Q,this.steps.push(["Press 'A' to move your character, the '@' symbol, left.",(R,f)=>{if(R.isKeyDown(5)||R.isKeyDown(0)){let Y=this.ecs.getComponents(f).get(e);return Y.setX(Y.getX()-1),!0}return!1}]),this.steps.push(["Press 'D' to move your character right.",(R,f)=>{if(R.isKeyDown(7)||R.isKeyDown(1)){let Y=this.ecs.getComponents(f).get(e);return Y.setX(Y.getX()+1),!0}return!1}]),this.steps.push(["Press 'S' to move your character down.",(R,f)=>{if(R.isKeyDown(6)||R.isKeyDown(2)){let Y=this.ecs.getComponents(f).get(e);return Y.setY(Y.getY()+1),!0}return!1}]),this.steps.push(["Press 'W' to move your character up.",(R,f)=>{if(R.isKeyDown(4)||R.isKeyDown(3)){let Y=this.ecs.getComponents(f).get(e);return Y.setY(Y.getY()-1),!0}return!1}]);let $,V,U,B=new e(20,8),F=new e(30,8),j=new e(28,8);this.steps.push(["Press ' ' (space) to spend one turn and not move.",(R,f)=>{if(R.isKeyDown(10)){for(let _=15;_<35;++_){let M=this.ecs.addEntity();this.ecs.addComponent(M,new e(_,3)),this.ecs.addComponent(M,new n0),this.ecs.addComponent(M,new S0("X")),J.set(new e(_,3),M);let C=this.ecs.addEntity();this.ecs.addComponent(C,new e(_,15)),this.ecs.addComponent(C,new n0),this.ecs.addComponent(C,new S0("X")),J.set(new e(_,15),C)}for(let _=3;_<=15;++_){let M=this.ecs.addEntity();this.ecs.addComponent(M,new e(15,_)),this.ecs.addComponent(M,new n0),this.ecs.addComponent(M,new S0("X")),J.set(new e(15,_),M);let C=this.ecs.addEntity();this.ecs.addComponent(C,new e(35,_)),this.ecs.addComponent(C,new n0),this.ecs.addComponent(C,new S0("X")),J.set(new e(35,_),C)}return $=this.ecs.addEntity(),V=this.ecs.addEntity(),U=this.ecs.addEntity(),this.ecs.addComponent($,B),this.ecs.addComponent($,new S0("*")),this.ecs.addComponent(V,new g2),this.ecs.addComponent(V,F),this.ecs.addComponent(V,new S0("o")),this.ecs.addComponent(V,new g2),this.ecs.setBB("grid collisions",J),this.ecs.addSystem(5,new K1),this.ecs.addSystem(10,new Y1),this.ecs.addSystem(50,new H1),this.ecs.addSystem(80,new l1),this.ecs.addSystem(85,new T1),!0}return!1}]),this.steps.push(["That * is a switch. Run into it to open the portal.",(R,f)=>{let Y=this.ecs.getComponents(this.playerID),K=Y.get(e),P=Y.get(H0);if(K.equals(B))return this.ecs.removeEntity($),this.ecs.getComponents(V).get(S0).character="O",this.ecs.addComponent(U,j),this.ecs.addComponent(U,new S0("#")),this.ecs.addComponent(U,new x2("Enemy",new e(j.getX(),j.getY()))),this.ecs.addComponent(U,new f1(j)),this.ecs.addComponent(U,new H2),!0;if(P.stamina<=0)++u.tutorialDiedToStamina,P.stamina=A0,K.setX(25),K.setY(5),this.ecs.getComponents(this.textID).get(g0).text="Try to hit the '*' switch before you run out of stamina.";return!1}]),this.steps.push(["Go through the opened portal, if you can...",(R,f)=>{let Y=this.ecs.getComponents(this.playerID),K=Y.get(e),P=Y.get(H0);if(this.ecs.getBB("game over")==d0||P.stamina<=0||K.equals(j)){if(P.stamina<=0)++u.tutorialDiedToStamina;else if(K.equals(j))++u.tutorialDiedToEnemy;K.setX(B.getX()),K.setY(B.getY()),j.setX(28),j.setY(8),P.stamina=A0,this.ecs.setBB("game over",p8),this.ecs.getComponents(this.textID).get(g0).text="Try to avoid the enemy and not run out of stamina!"}if(K.equals(F))return P0.submitTutorial(),W2.set("completed tutorial","true"),console.log(W2.get("completed tutorial")),!0;return!1}])}update(Z,Q){if(this.steps[this.index][1](Z,this.playerID))if(++this.index,this.index>=this.steps.length)this.ecs.setBB("tutorial over",!0);else this.ecs.getComponents(this.textID).get(g0).text=this.steps[this.index][0]}}class U8 extends $0{componentsRequired=new Set([D.Position2d,g0]);update(Z,Q){let J=this.ecs.getBB("x mod"),$=this.ecs.getBB("y mod");Z.setFont(20);for(let V of Q.values()){let U=this.ecs.getComponents(V),B=U.get(g0),F=U.get(D.Position2d);Z.drawText(F.getX()*J,F.getY()*$,B.text)}}}var J2={EnemyAI:H1,PlayerCollision:Y1,PlayerMovement:K1,PortalSystem:n6,RenderSystem:p1,UpdatePlayerTurn:g6,RenderGameInfo:l1,RenderEnemyTerritory:T1,TutorialSystem:w8,TutorialRenderSystem:U8};class W8{src;tgt;probability;constructor(Z,Q,J){this.src=Z,this.tgt=Q,this.probability=J}}class x8{name;reward;utility;isTerminal;neighbors;constructor(Z,Q,J,$,V){this.name=Z,this.reward=Q,this.utility=J,this.isTerminal=$,this.neighbors=V}}class $6{nodes;edges;constructor(){this.nodes={},this.edges={}}getNode(Z){return this.nodes[Z]}hasNode(Z){return Z in this.nodes}addNode(Z){this.nodes[Z.name]=Z}addDefaultNode(Z,Q=1,J=0,$=!1,V=null){if(V==null)V=[];this.nodes[Z]=new x8(Z,Q,J,$,V)}removeNode(Z){let Q=[];for(let J of Object.values(this.edges)){if(J.src==Z||J.tgt==Z)Q.push(J);let $=J.probability,V=-1;for(let j=0;j<$.length;j++){let[R,f]=$[j];if(R==Z){V=j;break}}if(V==-1)continue;let U=$[V][1];$.splice(V,1);let B=$.length,F=U/B;J.probability=$.map(([j,R])=>[j,R+F])}for(let J of Q)this.removeEdge(J.src,J.tgt);delete this.nodes[Z]}getEdge(Z,Q){return this.edges[`${Z},${Q}`]}hasEdge(Z,Q){return`${Z},${Q}`in this.edges}addEdge(Z){this.edges[`${Z.src},${Z.tgt}`]=Z;let Q=this.nodes[Z.src].neighbors;if(!Q.includes(Z.tgt))Q.push(Z.tgt)}addDefaultEdge(Z,Q,J=null){if(J==null)J=[[Q,1]];this.addEdge(new W8(Z,Q,J))}removeEdge(Z,Q){let J=this.nodes[Z],$=J.neighbors.indexOf(Q);J.neighbors.splice($,1),delete this.edges[`${Z},${Q}`]}neighbors(Z){return this.nodes[Z].neighbors}setNodeUtilities(Z){for(let[Q,J]of Object.entries(Z))this.nodes[Q].utility=J}utility(Z){return this.nodes[Z].utility}reward(Z){return this.nodes[Z].reward}isTerminal(Z){return this.nodes[Z].isTerminal}mapNodes(Z){for(let Q of Object.values(this.nodes))Z(Q)}mapEdges(Z){for(let Q of Object.values(this.edges))Z(Q)}}function X2(Z){return Z[Math.floor(Math.random()*Z.length)]}function $1(Z,Q,J,$){let V=Z.getEdge(Q,J).probability,U=V.length,B=0;for(let F=0;F<U;++F){let[j,R]=V[F];B+=R*(Z.reward(j)+$*Z.utility(j))}return B}function V6(Z,Q,J){let $=Z.getNode(Q);if($.isTerminal)return 0;let V=$.neighbors,U=V.length,B=-1/0;for(let F=0;F<U;++F)B=Math.max(B,$1(Z,Q,V[F],J));return B}function Z5(Z){for(let Q in Z.nodes)Z.nodes[Q].utility=0}function z6(Z){let Q={};for(let J in Z.nodes)if(!Z.getNode(J).isTerminal)Q[J]=[...Z.neighbors(J)];return Q}function Q5(Z,Q){let J={};for(let $ in Z.nodes){if(Z.getNode($).isTerminal)continue;let V=-1/0,U=[];for(let B of Z.neighbors($)){let F=$1(Z,$,B,Q);if(F===V)U.push(B);else if(F>V)V=F,U.length=0,U.push(B)}J[$]=U}return J}function D$(Z,Q,J,$){for(let V=0;V<$;++V)for(let U in Z.nodes){let B=Z.getNode(U);if(!B.isTerminal)B.utility=$1(Z,U,X2(Q[U]),J)}}function b$(Z,Q,J,$){for(let V=0;V<$;++V){let U={};for(let B in Z.nodes)if(!Z.getNode(B).isTerminal)U[B]=$1(Z,B,X2(Q[B]),J);Z.setNodeUtilities(U)}}function c$(Z,Q,J,$){for(let V=0;V<$;++V)for(let U in Z.nodes)Z.getNode(U).utility=V6(Z,U,J)}function t$(Z,Q,J,$){for(let V=0;V<$;++V){let U={};for(let B in Z.nodes)U[B]=V6(Z,B,J);Z.setNodeUtilities(U)}}function SQ(Z,Q,J){let $=!1;for(let V in Z.nodes){if(Z.getNode(V).isTerminal)continue;let U=null,B=-1/0;for(let F of Z.neighbors(V)){let j=$1(Z,V,F,J);if(j===B);else if(j>B)U=F,B=j}if(X2(Q[V])!==U)Q[V].length=0,Q[V].push(U),$=!0}return $}function J5(Z,Q,J=!1,$=!1,V=10,U=!0){if(U)Z5(Z);let B=z6(Z),F;if(J&&$)F=D$;else if(J&&!$)F=b$;else if(!J&&$)F=c$;else F=t$;let j=!0;while(j)F(Z,B,Q,V),j=SQ(Z,B,Q);return F(Z,B,Q,V),SQ(Z,B,Q),Q5(Z,Q)}function X5(Z){return z6(Z)}class L extends x8{visitedCount;sumPercentCompleted;depth;difficulty;enjoyability;constructor(Z,Q,J,$,V,U,B){super(Z,Q,$,V,U);this.difficulty=Q,this.enjoyability=J,this.depth=B,this.visitedCount=1,this.sumPercentCompleted=1}updateReward(Z){if(Z)this.reward=this.difficulty*this.visitedCount;else this.reward=this.enjoyability*this.visitedCount}}class x extends W8{link;constructor(Z,Q,J,$){super(Z,Q,J);this.link=$}}var z=new $6;z.addNode(new L(i0,0,0,0,!1,[],-1));z.addNode(new L(W,-5,-5,0,!0,[],-1));z.addNode(new L("0_0_0",-1,-1,0,!1,[],0));z.addNode(new L("0_1_0",-0.5238095238095237,-0.11904761904761896,0,!1,[],1));z.addNode(new L("0_11_0",-0.6984126984126984,-0.04761904761904756,0,!1,[],27));z.addNode(new L("0_12_0",-0.5306122448979592,-0.12244897959183665,0,!1,[],28));z.addNode(new L("0_13_0",-0.8095238095238095,-0.1428571428571429,0,!1,[],29));z.addNode(new L("0_14_0",-0.5428571428571428,-0.1428571428571429,0,!1,[],29));z.addNode(new L("0_2_0",-0.4693877551020408,-0.16326530612244905,0,!1,[],2));z.addNode(new L("0_3_0",-0.4897959183673469,-0.26530612244897955,0,!1,[],3));z.addNode(new L("0_4_0",-0.4285714285714286,-0.18367346938775508,0,!1,[],4));z.addNode(new L("0_5_0",-0.1428571428571429,-0.2142857142857143,0,!1,[],5));z.addNode(new L("0_6_0",-0.4693877551020408,-0.18367346938775508,0,!1,[],6));z.addNode(new L("10_0_0",-0.3214285714285714,-0.1071428571428571,0,!1,[],10));z.addNode(new L("10_1_0",-0.4571428571428572,-0.22857142857142854,0,!1,[],11));z.addNode(new L("10_2_0",-0.1428571428571429,0,0,!1,[],12));z.addNode(new L("10_3_0",-0.3928571428571429,-0.3928571428571429,0,!1,[],13));z.addNode(new L("10_4_0",-0.6734693877551021,-0.3877551020408163,0,!1,[],14));z.addNode(new L("10_5_0",-0.3928571428571429,-0.0714285714285714,0,!1,[],15));z.addNode(new L("10_6_0",-0.5357142857142857,-0.1607142857142857,0,!1,[],16));z.addNode(new L("10_7_0",-0.4821428571428571,-0.25,0,!1,[],17));z.addNode(new L("11_0_0",-0.3142857142857143,-0.2857142857142857,0,!1,[],11));z.addNode(new L("11_1_0",-0.33333333333333326,-0.2857142857142857,0,!1,[],12));z.addNode(new L("11_2_0",-0.3928571428571429,-0.1964285714285714,0,!1,[],13));z.addNode(new L("11_3_0",-0.375,-0.3928571428571429,0,!1,[],14));z.addNode(new L("11_4_0",-0.2857142857142857,-0.2142857142857143,0,!1,[],15));z.addNode(new L("11_5_0",-0.4464285714285714,-0.1785714285714286,0,!1,[],16));z.addNode(new L("11_6_0",-0.4285714285714286,-0.0714285714285714,0,!1,[],17));z.addNode(new L("12_0_0",-0.3214285714285714,-0.2678571428571429,0,!1,[],12));z.addNode(new L("12_1_0",-0.4285714285714286,-0.04761904761904756,0,!1,[],13));z.addNode(new L("12_2_0",-0.08571428571428563,-0.37142857142857133,0,!1,[],14));z.addNode(new L("12_3_0",-0.26190476190476186,-0.4285714285714286,0,!1,[],15));z.addNode(new L("12_4_0",-0.4,-0.11428571428571421,0,!1,[],16));z.addNode(new L("12_5_0",-0.2857142857142857,-0.09523809523809523,0,!1,[],17));z.addNode(new L("12_6_0",-0.1428571428571429,-0.6190476190476191,0,!1,[],18));z.addNode(new L("13_0_0",-0.3142857142857143,-0.4,0,!1,[],13));z.addNode(new L("13_1_0",-0.23809523809523814,-0.4285714285714286,0,!1,[],14));z.addNode(new L("13_2_0",-0.4285714285714286,-0.20408163265306123,0,!1,[],15));z.addNode(new L("13_3_0",-0.4107142857142857,-0.2678571428571429,0,!1,[],16));z.addNode(new L("13_4_0",-0.5714285714285714,-0.34285714285714286,0,!1,[],17));z.addNode(new L("14_0_0",-0.2857142857142857,-0.2142857142857143,0,!1,[],14));z.addNode(new L("14_1_0",-0.48571428571428565,-0.17142857142857149,0,!1,[],15));z.addNode(new L("14_2_0",-0.1428571428571429,-0.4285714285714286,0,!1,[],16));z.addNode(new L("14_3_0",-0.26190476190476186,-0.16666666666666674,0,!1,[],17));z.addNode(new L("14_4_0",-0.20000000000000007,-0.2571428571428571,0,!1,[],18));z.addNode(new L("15_0_0",-0.5714285714285714,-0.2857142857142857,0,!1,[],15));z.addNode(new L("15_1_0",-0.2142857142857143,-0.2142857142857143,0,!1,[],16));z.addNode(new L("15_2_0",-0.3571428571428571,-0.1071428571428571,0,!1,[],17));z.addNode(new L("15_3_0",-0.37142857142857133,-0.08571428571428563,0,!1,[],18));z.addNode(new L("15_4_0",-0.33333333333333326,-0.1428571428571429,0,!1,[],19));z.addNode(new L("16_1_0",-0.375,-0.1607142857142857,0,!1,[],17));z.addNode(new L("16_2_0",-0.2142857142857143,-0.25,0,!1,[],18));z.addNode(new L("16_3_0",-0.2857142857142857,-0.3571428571428571,0,!1,[],19));z.addNode(new L("16_4_0",-0.2142857142857143,-0.2142857142857143,0,!1,[],20));z.addNode(new L("17_2_0",-0.22857142857142854,-0.2857142857142857,0,!1,[],19));z.addNode(new L("17_4_0",-0.5238095238095237,-0.2063492063492064,0,!1,[],19));z.addNode(new L("17_5_0",-0.1428571428571429,-0.5,0,!1,[],18));z.addNode(new L("18_2_0",-0.16326530612244905,-0.16326530612244905,0,!1,[],20));z.addNode(new L("18_3_0",-0.33333333333333326,-0.1428571428571429,0,!1,[],21));z.addNode(new L("1_0_0",-0.4,-0.2571428571428571,0,!1,[],1));z.addNode(new L("1_1_0",-0.5357142857142857,-0.1071428571428571,0,!1,[],2));z.addNode(new L("1_11_0",-0.0714285714285714,-0.4285714285714286,0,!1,[],26));z.addNode(new L("1_12_0",-0.20000000000000007,-0.3142857142857143,0,!1,[],27));z.addNode(new L("1_13_0",-0.8214285714285714,-0.2142857142857143,0,!1,[],28));z.addNode(new L("1_14_0",-0.34285714285714286,-0.2571428571428571,0,!1,[],28));z.addNode(new L("1_15_0",-0.2142857142857143,-0.3214285714285714,0,!1,[],29));z.addNode(new L("1_16_0",-0.6666666666666666,-0.19047619047619047,0,!1,[],30));z.addNode(new L("1_17_0",-0.4571428571428572,-0.2857142857142857,0,!1,[],31));z.addNode(new L("1_2_0",-0.5238095238095237,-0.38095238095238104,0,!1,[],3));z.addNode(new L("1_3_0",-0.5714285714285714,-0.09523809523809523,0,!1,[],4));z.addNode(new L("1_4_0",-0.2857142857142857,-0.19047619047619047,0,!1,[],5));z.addNode(new L("1_5_0",-0.47619047619047616,-0.40476190476190477,0,!1,[],6));z.addNode(new L("2_0_0",-0.22857142857142854,-0.22857142857142854,0,!1,[],2));z.addNode(new L("2_1_0",-0.2857142857142857,-0.33333333333333326,0,!1,[],3));z.addNode(new L("2_10_0",-0.4693877551020408,-0.2857142857142857,0,!1,[],24));z.addNode(new L("2_11_0",-0.2571428571428571,-0.2571428571428571,0,!1,[],25));z.addNode(new L("2_12_0",-0.2857142857142857,0,0,!1,[],26));z.addNode(new L("2_13_0",-0.34285714285714286,-0.17142857142857149,0,!1,[],27));z.addNode(new L("2_14_0",-0.34693877551020413,-0.1428571428571429,0,!1,[],27));z.addNode(new L("2_15_0",-0.33333333333333326,-0.26190476190476186,0,!1,[],28));z.addNode(new L("2_16_0",-0.5,-0.3571428571428571,0,!1,[],29));z.addNode(new L("2_2_0",-0.5428571428571428,-0.2857142857142857,0,!1,[],4));z.addNode(new L("2_3_0",-0.5142857142857142,-0.2571428571428571,0,!1,[],5));z.addNode(new L("2_4_0",-0.7142857142857143,-0.38095238095238104,0,!1,[],6));z.addNode(new L("3_0_0",-0.40476190476190477,-0.33333333333333326,0,!1,[],3));z.addNode(new L("3_1_0",-0.3571428571428571,-0.2857142857142857,0,!1,[],4));z.addNode(new L("3_10_0",0,-0.8571428571428572,0,!1,[],23));z.addNode(new L("3_11_0",-0.48571428571428565,-0.20000000000000007,0,!1,[],24));z.addNode(new L("3_12_0",-0.7142857142857143,-0.33333333333333326,0,!1,[],25));z.addNode(new L("3_13_0",-0.2857142857142857,-0.1785714285714286,0,!1,[],26));z.addNode(new L("3_14_0",-0.1428571428571429,0,0,!1,[],26));z.addNode(new L("3_15_0",-0.30952380952380953,-0.23809523809523814,0,!1,[],27));z.addNode(new L("3_16_0",-0.16326530612244905,-0.34693877551020413,0,!1,[],28));z.addNode(new L("3_2_0",-0.6938775510204082,-0.12244897959183665,0,!1,[],5));z.addNode(new L("3_3_0",-0.6734693877551021,-0.16326530612244905,0,!1,[],8));z.addNode(new L("3_4_0",-0.4285714285714286,-0.05714285714285716,0,!1,[],9));z.addNode(new L("4_0_0",-0.17142857142857149,-0.22857142857142854,0,!1,[],4));z.addNode(new L("4_1_0",-0.3142857142857143,-0.29999999999999993,0,!1,[],5));z.addNode(new L("4_10_0",-0.3571428571428571,-0.1607142857142857,0,!1,[],22));z.addNode(new L("4_11_0",-0.6326530612244898,-0.34693877551020413,0,!1,[],23));z.addNode(new L("4_12_0",-0.1071428571428571,-0.3571428571428571,0,!1,[],24));z.addNode(new L("4_13_0",-0.2142857142857143,-0.16666666666666674,0,!1,[],25));z.addNode(new L("4_14_0",-0.3214285714285714,-0.3571428571428571,0,!1,[],25));z.addNode(new L("4_15_0",-0.20000000000000007,-0.4285714285714286,0,!1,[],26));z.addNode(new L("4_16_0",-0.2857142857142857,-0.2142857142857143,0,!1,[],27));z.addNode(new L("4_2_0",-0.2857142857142857,-0.1785714285714286,0,!1,[],6));z.addNode(new L("4_3_0",-0.3571428571428571,-0.1428571428571429,0,!1,[],7));z.addNode(new L("4_4_0",-0.47619047619047616,-0.19047619047619047,0,!1,[],8));z.addNode(new L("4_8_0",-0.4571428571428572,-0.1428571428571429,0,!1,[],20));z.addNode(new L("4_9_0",-0.4285714285714286,-0.11428571428571421,0,!1,[],21));z.addNode(new L("5_0_0",0,-0.33333333333333326,0,!1,[],5));z.addNode(new L("5_1_0",-0.1428571428571429,-0.3877551020408163,0,!1,[],6));z.addNode(new L("5_10_0",-0.37142857142857133,-0.3142857142857143,0,!1,[],21));z.addNode(new L("5_11_0",-0.20000000000000007,-0.34285714285714286,0,!1,[],22));z.addNode(new L("5_12_0",-0.3571428571428571,-0.19047619047619047,0,!1,[],23));z.addNode(new L("5_13_0",-0.47619047619047616,-0.47619047619047616,0,!1,[],24));z.addNode(new L("5_14_0",-0.22857142857142854,-0.3142857142857143,0,!1,[],24));z.addNode(new L("5_15_0",-0.5,-0.2857142857142857,0,!1,[],25));z.addNode(new L("5_2_0",-0.75,-0.3214285714285714,0,!1,[],7));z.addNode(new L("5_3_0",-0.38095238095238104,-0.33333333333333326,0,!1,[],8));z.addNode(new L("5_4_0",-0.3877551020408163,-0.40816326530612235,0,!1,[],9));z.addNode(new L("5_5_0",-0.4897959183673469,-0.12244897959183665,0,!1,[],14));z.addNode(new L("5_7_0",-0.5079365079365079,-0.2222222222222222,0,!1,[],18));z.addNode(new L("5_8_0",-0.3214285714285714,-0.3571428571428571,0,!1,[],19));z.addNode(new L("5_9_0",-0.3214285714285714,-0.3571428571428571,0,!1,[],20));z.addNode(new L("6_0_0",-0.326530612244898,-0.30612244897959184,0,!1,[],6));z.addNode(new L("6_1_0",-0.2857142857142857,-0.2678571428571429,0,!1,[],7));z.addNode(new L("6_10_0",-0.2857142857142857,-0.20408163265306123,0,!1,[],20));z.addNode(new L("6_11_0",-0.2857142857142857,-0.1428571428571429,0,!1,[],21));z.addNode(new L("6_12_0",-0.4642857142857143,-0.4642857142857143,0,!1,[],22));z.addNode(new L("6_14_0",-0.2857142857142857,0,0,!1,[],23));z.addNode(new L("6_15_0",-0.1785714285714286,-0.2142857142857143,0,!1,[],24));z.addNode(new L("6_2_0",-0.3928571428571429,-0.3928571428571429,0,!1,[],8));z.addNode(new L("6_3_0",-0.47619047619047616,-0.19047619047619047,0,!1,[],9));z.addNode(new L("6_4_0",-0.2857142857142857,-0.2857142857142857,0,!1,[],12));z.addNode(new L("6_5_0",-0.6428571428571428,-0.1428571428571429,0,!1,[],13));z.addNode(new L("6_7_0",-0.4,-0.1428571428571429,0,!1,[],17));z.addNode(new L("6_8_0",-0.5476190476190477,-0.40476190476190477,0,!1,[],18));z.addNode(new L("6_9_0",-0.4693877551020408,-0.12244897959183665,0,!1,[],19));z.addNode(new L("7_0_0",-0.2857142857142857,-0.20000000000000007,0,!1,[],7));z.addNode(new L("7_1_0",-0.2857142857142857,-0.4571428571428572,0,!1,[],8));z.addNode(new L("7_10_0",-0.04761904761904756,0,0,!1,[],19));z.addNode(new L("7_2_0",-0.38095238095238104,-0.2857142857142857,0,!1,[],9));z.addNode(new L("7_3_0",-0.6122448979591837,-0.26530612244897955,0,!1,[],10));z.addNode(new L("7_4_0",-0.4571428571428572,-0.2857142857142857,0,!1,[],11));z.addNode(new L("7_5_0",-0.4285714285714286,-0.11428571428571421,0,!1,[],12));z.addNode(new L("7_7_0",-0.4285714285714286,-0.1785714285714286,0,!1,[],16));z.addNode(new L("7_8_0",-0.2857142857142857,-0.2142857142857143,0,!1,[],17));z.addNode(new L("7_9_0",-0.38095238095238104,-0.38095238095238104,0,!1,[],18));z.addNode(new L("8_0_0",-0.4642857142857143,-0.1071428571428571,0,!1,[],8));z.addNode(new L("8_1_0",-0.4821428571428571,-0.2321428571428571,0,!1,[],9));z.addNode(new L("8_2_0",-0.5918367346938775,-0.16326530612244905,0,!1,[],10));z.addNode(new L("8_3_0",-0.4571428571428572,-0.22857142857142854,0,!1,[],11));z.addNode(new L("8_4_0",-0.5918367346938775,-0.04081632653061218,0,!1,[],12));z.addNode(new L("8_5_0",-0.5476190476190477,-0.2142857142857143,0,!1,[],13));z.addNode(new L("8_6_0",-0.2571428571428571,-0.11428571428571421,0,!1,[],14));z.addNode(new L("8_7_0",-0.4693877551020408,-0.26530612244897955,0,!1,[],15));z.addNode(new L("8_8_0",-0.38095238095238104,-0.09523809523809523,0,!1,[],16));z.addNode(new L("8_9_0",-0.5357142857142857,-0.1785714285714286,0,!1,[],17));z.addNode(new L("9_0_0",-0.47619047619047616,-0.2142857142857143,0,!1,[],9));z.addNode(new L("9_1_0",-0.48571428571428565,-0.1428571428571429,0,!1,[],10));z.addNode(new L("9_2_0",-0.5142857142857142,-0.02857142857142858,0,!1,[],11));z.addNode(new L("9_3_0",-0.4642857142857143,-0.25,0,!1,[],12));z.addNode(new L("9_4_0",-0.4285714285714286,-0.1428571428571429,0,!1,[],13));z.addNode(new L("9_5_0",-0.45238095238095233,-0.1428571428571429,0,!1,[],14));z.addNode(new L("9_6_0",-0.33333333333333326,-0.23809523809523814,0,!1,[],15));z.addNode(new L("9_7_0",-0.38095238095238104,-0.33333333333333326,0,!1,[],16));z.addNode(new L("end",0,0,0,!0,[],20));z.addEdge(new x(i0,"0_0_0",[["0_0_0",0.99],[W,0.01]],[]));z.addEdge(new x("13_1_0","13_2_0",[["13_2_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("13_1_0","13_0_0",[["13_0_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("13_1_0","14_1_0",[["14_1_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("13_1_0","12_1_0",[["12_1_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("1_5_0","0_5_0",[["0_5_0",0.99],[W,0.01]],[]));z.addEdge(new x("6_4_0","6_5_0",[["6_5_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("6_4_0","7_4_0",[["7_4_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("6_5_0","6_4_0",[["6_4_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("6_5_0","7_5_0",[["7_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("6_5_0","5_5_0",[["5_5_0",0.99],[W,0.01]],[]));z.addEdge(new x("17_5_0","17_4_0",[["17_4_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("17_5_0","12_5_0",[["12_5_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("4_0_0","4_1_0",[["4_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("4_0_0","5_0_0",[["5_0_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("4_0_0","3_0_0",[["3_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("12_3_0","12_2_0",[["12_2_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("12_3_0","13_3_0",[["13_3_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("12_3_0","11_3_0",[["11_3_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("2_4_0","2_3_0",[["2_3_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("2_4_0","1_4_0",[["1_4_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("8_3_0","8_4_0",[["8_4_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("8_3_0","8_2_0",[["8_2_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("8_3_0","9_3_0",[["9_3_0",0.99],[W,0.01]],["---------&-","---------&-"]));z.addEdge(new x("8_3_0","7_3_0",[["7_3_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("15_1_0","15_2_0",[["15_2_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("15_1_0","15_0_0",[["15_0_0",0.99],[W,0.01]],[]));z.addEdge(new x("15_1_0","16_1_0",[["16_1_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("15_1_0","14_1_0",[["14_1_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("11_3_0","11_2_0",[["11_2_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("11_3_0","12_3_0",[["12_3_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("11_3_0","10_3_0",[["10_3_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("2_1_0","2_2_0",[["2_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("2_1_0","2_0_0",[["2_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("2_1_0","3_1_0",[["3_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("2_1_0","1_1_0",[["1_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("13_3_0","13_4_0",[["13_4_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("13_3_0","13_2_0",[["13_2_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("13_3_0","14_3_0",[["14_3_0",0.99],[W,0.01]],["---------&-","-&---------"]));z.addEdge(new x("13_3_0","12_3_0",[["12_3_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("4_3_0","4_4_0",[["4_4_0",0.99],[W,0.01]],["---------&-","-&---------"]));z.addEdge(new x("4_3_0","4_2_0",[["4_2_0",0.99],[W,0.01]],["---------&-","-&---------"]));z.addEdge(new x("4_3_0","5_3_0",[["5_3_0",0.99],[W,0.01]],["---------&-","-&---------"]));z.addEdge(new x("4_3_0","3_3_0",[["3_3_0",0.99],[W,0.01]],["---------&-","-&---------"]));z.addEdge(new x("14_2_0","14_3_0",[["14_3_0",0.99],[W,0.01]],["-&---------","---------&-"]));z.addEdge(new x("14_2_0","14_1_0",[["14_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("14_2_0","15_2_0",[["15_2_0",0.99],[W,0.01]],["-----&-----","-&---------","-----&-----"]));z.addEdge(new x("14_2_0","13_2_0",[["13_2_0",0.99],[W,0.01]],["---------&-","-&---------"]));z.addEdge(new x("1_4_0","1_5_0",[["1_5_0",0.99],[W,0.01]],[]));z.addEdge(new x("1_4_0","1_3_0",[["1_3_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_4_0","2_4_0",[["2_4_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("1_4_0","0_4_0",[["0_4_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("5_1_0","5_2_0",[["5_2_0",0.99],[W,0.01]],["---------&-","-&---------"]));z.addEdge(new x("5_1_0","5_0_0",[["5_0_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("5_1_0","6_1_0",[["6_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("5_1_0","4_1_0",[["4_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("3_12_0","3_13_0",[["3_13_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("3_12_0","3_11_0",[["3_11_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("3_12_0","4_12_0",[["4_12_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("3_12_0","2_12_0",[["2_12_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("3_4_0","4_4_0",[["4_4_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("4_4_0","4_3_0",[["4_3_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("4_4_0","5_4_0",[["5_4_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("4_4_0","3_4_0",[["3_4_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("8_4_0","8_5_0",[["8_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("8_4_0","8_3_0",[["8_3_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("8_4_0","9_4_0",[["9_4_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("8_4_0","7_4_0",[["7_4_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("6_3_0","6_2_0",[["6_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_3_0","7_3_0",[["7_3_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_3_0","5_2_0",[["5_2_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("5_3_0","4_3_0",[["4_3_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("13_0_0","13_1_0",[["13_1_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("13_0_0","14_0_0",[["14_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("13_0_0","12_0_0",[["12_0_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("2_12_0","2_13_0",[["2_13_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("2_12_0","2_11_0",[["2_11_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("2_12_0","3_12_0",[["3_12_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("2_12_0","1_12_0",[["1_12_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("17_4_0","17_5_0",[["17_5_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("17_4_0","16_4_0",[["16_4_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("8_2_0","8_3_0",[["8_3_0",0.99],[W,0.01]],["---------&-","---------&-"]));z.addEdge(new x("8_2_0","8_1_0",[["8_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("8_2_0","9_2_0",[["9_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("3_1_0","3_2_0",[["3_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("3_1_0","3_0_0",[["3_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("3_1_0","4_1_0",[["4_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("3_1_0","2_1_0",[["2_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("0_1_0","0_2_0",[["0_2_0",0.99],[W,0.01]],[]));z.addEdge(new x("0_1_0","0_0_0",[["0_0_0",0.99],[W,0.01]],[]));z.addEdge(new x("0_1_0","1_1_0",[["1_1_0",0.99],[W,0.01]],[]));z.addEdge(new x("9_3_0","9_4_0",[["9_4_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("9_3_0","9_2_0",[["9_2_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("9_3_0","10_3_0",[["10_3_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("9_3_0","8_3_0",[["8_3_0",0.99],[W,0.01]],["---------&-","---------&-"]));z.addEdge(new x("0_4_0","0_5_0",[["0_5_0",0.99],[W,0.01]],[]));z.addEdge(new x("0_4_0","0_3_0",[["0_3_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("0_4_0","1_4_0",[["1_4_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("0_3_0","0_4_0",[["0_4_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("0_3_0","0_2_0",[["0_2_0",0.99],[W,0.01]],[]));z.addEdge(new x("0_3_0","1_3_0",[["1_3_0",0.99],[W,0.01]],[]));z.addEdge(new x("1_2_0","1_3_0",[["1_3_0",0.99],[W,0.01]],[]));z.addEdge(new x("1_2_0","1_1_0",[["1_1_0",0.99],[W,0.01]],[]));z.addEdge(new x("1_2_0","2_2_0",[["2_2_0",0.99],[W,0.01]],[]));z.addEdge(new x("1_2_0","0_2_0",[["0_2_0",0.99],[W,0.01]],[]));z.addEdge(new x("2_3_0","2_2_0",[["2_2_0",0.99],[W,0.01]],[]));z.addEdge(new x("2_3_0","1_3_0",[["1_3_0",0.99],[W,0.01]],[]));z.addEdge(new x("7_7_0","7_8_0",[["7_8_0",0.99],[W,0.01]],["-----&-----","-&---------"]));z.addEdge(new x("7_7_0","8_7_0",[["8_7_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("7_7_0","6_7_0",[["6_7_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("13_2_0","13_3_0",[["13_3_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("13_2_0","13_1_0",[["13_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("13_2_0","14_2_0",[["14_2_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("13_2_0","12_2_0",[["12_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("0_2_0","0_3_0",[["0_3_0",0.99],[W,0.01]],[]));z.addEdge(new x("0_2_0","0_1_0",[["0_1_0",0.99],[W,0.01]],[]));z.addEdge(new x("0_2_0","1_2_0",[["1_2_0",0.99],[W,0.01]],[]));z.addEdge(new x("4_1_0","4_2_0",[["4_2_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("4_1_0","4_0_0",[["4_0_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("4_1_0","5_1_0",[["5_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("4_1_0","3_1_0",[["3_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("3_2_0","3_1_0",[["3_1_0",0.99],[W,0.01]],[]));z.addEdge(new x("3_2_0","4_2_0",[["4_2_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("3_2_0","2_2_0",[["2_2_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("6_2_0","6_3_0",[["6_3_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("6_2_0","6_1_0",[["6_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_2_0","7_2_0",[["7_2_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("6_2_0","5_2_0",[["5_2_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("9_0_0","9_1_0",[["9_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("9_0_0","10_0_0",[["10_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("9_0_0","8_0_0",[["8_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("8_0_0","8_1_0",[["8_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("8_0_0","9_0_0",[["9_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("8_0_0","7_0_0",[["7_0_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("5_8_0","5_9_0",[["5_9_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_8_0","5_7_0",[["5_7_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_8_0","6_8_0",[["6_8_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_8_0","4_8_0",[["4_8_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("2_11_0","2_12_0",[["2_12_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("2_11_0","2_10_0",[["2_10_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("2_11_0","3_11_0",[["3_11_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("2_11_0","1_11_0",[["1_11_0",0.99],[W,0.01]],[]));z.addEdge(new x("0_5_0","0_6_0",[["0_6_0",0.99],[W,0.01]],[]));z.addEdge(new x("0_5_0","0_4_0",[["0_4_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("0_5_0","1_5_0",[["1_5_0",0.99],[W,0.01]],[]));z.addEdge(new x("14_1_0","14_2_0",[["14_2_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("14_1_0","14_0_0",[["14_0_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("14_1_0","15_1_0",[["15_1_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("14_1_0","13_1_0",[["13_1_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("7_1_0","7_2_0",[["7_2_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("7_1_0","7_0_0",[["7_0_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("7_1_0","8_1_0",[["8_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("7_1_0","6_1_0",[["6_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("1_16_0","1_17_0",[["1_17_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_16_0","1_15_0",[["1_15_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_16_0","2_16_0",[["2_16_0",0.99],[W,0.01]],[]));z.addEdge(new x("14_0_0","14_1_0",[["14_1_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("14_0_0","15_0_0",[["15_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("14_0_0","13_0_0",[["13_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("3_3_0","3_4_0",[["3_4_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("3_3_0","3_2_0",[["3_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("3_3_0","4_3_0",[["4_3_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("3_3_0","2_3_0",[["2_3_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_13_0","1_14_0",[["1_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_13_0","1_12_0",[["1_12_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_13_0","2_13_0",[["2_13_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("1_13_0","0_13_0",[["0_13_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("12_0_0","12_1_0",[["12_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("12_0_0","13_0_0",[["13_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("12_0_0","11_0_0",[["11_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_10_0","5_11_0",[["5_11_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("5_10_0","5_9_0",[["5_9_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_10_0","6_10_0",[["6_10_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("5_10_0","4_10_0",[["4_10_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("16_2_0","16_3_0",[["16_3_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("16_2_0","16_1_0",[["16_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("16_2_0","17_2_0",[["17_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("16_2_0","15_2_0",[["15_2_0",0.99],[W,0.01]],["-----&-----","-&---------"]));z.addEdge(new x("11_1_0","11_2_0",[["11_2_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("11_1_0","11_0_0",[["11_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("11_1_0","12_1_0",[["12_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("11_1_0","10_1_0",[["10_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("7_2_0","7_3_0",[["7_3_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("7_2_0","7_1_0",[["7_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("7_2_0","8_2_0",[["8_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("7_2_0","6_2_0",[["6_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("4_10_0","4_11_0",[["4_11_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("4_10_0","4_9_0",[["4_9_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("4_10_0","5_10_0",[["5_10_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("4_10_0","3_10_0",[["3_10_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("1_1_0","1_2_0",[["1_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_1_0","1_0_0",[["1_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_1_0","2_1_0",[["2_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_1_0","0_1_0",[["0_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("7_0_0","7_1_0",[["7_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("7_0_0","8_0_0",[["8_0_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("7_0_0","6_0_0",[["6_0_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("5_5_0","5_4_0",[["5_4_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("5_5_0","6_5_0",[["6_5_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("0_6_0","0_5_0",[["0_5_0",0.99],[W,0.01]],[]));z.addEdge(new x("1_3_0","1_2_0",[["1_2_0",0.99],[W,0.01]],[]));z.addEdge(new x("1_3_0","2_3_0",[["2_3_0",0.99],[W,0.01]],[]));z.addEdge(new x("1_3_0","0_3_0",[["0_3_0",0.99],[W,0.01]],[]));z.addEdge(new x("5_2_0","5_1_0",[["5_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("5_2_0","6_2_0",[["6_2_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("5_2_0","4_2_0",[["4_2_0",0.99],[W,0.01]],["---------&-","---------&-"]));z.addEdge(new x("10_0_0","10_1_0",[["10_1_0",0.99],[W,0.01]],["-----&-----","-&---------"]));z.addEdge(new x("10_0_0","11_0_0",[["11_0_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("10_0_0","9_0_0",[["9_0_0",0.99],[W,0.01]],["-----&-----","-&---------"]));z.addEdge(new x("3_0_0","3_1_0",[["3_1_0",0.99],[W,0.01]],[]));z.addEdge(new x("3_0_0","4_0_0",[["4_0_0",0.99],[W,0.01]],[]));z.addEdge(new x("3_0_0","2_0_0",[["2_0_0",0.99],[W,0.01]],[]));z.addEdge(new x("4_8_0","4_9_0",[["4_9_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("4_8_0","5_8_0",[["5_8_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("7_3_0","7_4_0",[["7_4_0",0.99],[W,0.01]],["---------&-","---------&-"]));z.addEdge(new x("7_3_0","7_2_0",[["7_2_0",0.99],[W,0.01]],["---------&-","---------&-"]));z.addEdge(new x("7_3_0","8_3_0",[["8_3_0",0.99],[W,0.01]],["---------&-","---------&-"]));z.addEdge(new x("7_3_0","6_3_0",[["6_3_0",0.99],[W,0.01]],["-----&-----","-----&-----","---------&-","---------&-"]));z.addEdge(new x("15_0_0","15_1_0",[["15_1_0",0.99],[W,0.01]],[]));z.addEdge(new x("15_0_0","14_0_0",[["14_0_0",0.99],[W,0.01]],[]));z.addEdge(new x("0_12_0","0_13_0",[["0_13_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("0_12_0","0_11_0",[["0_11_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("0_12_0","1_12_0",[["1_12_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("12_1_0","12_2_0",[["12_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("12_1_0","12_0_0",[["12_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("12_1_0","13_1_0",[["13_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("12_1_0","11_1_0",[["11_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("4_2_0","4_3_0",[["4_3_0",0.99],[W,0.01]],["---------&-","---------&-"]));z.addEdge(new x("4_2_0","4_1_0",[["4_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("4_2_0","5_2_0",[["5_2_0",0.99],[W,0.01]],["---------&-","---------&-"]));z.addEdge(new x("4_2_0","3_2_0",[["3_2_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("5_7_0","5_8_0",[["5_8_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("5_7_0","6_7_0",[["6_7_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_0_0","5_1_0",[["5_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("5_0_0","6_0_0",[["6_0_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("5_0_0","4_0_0",[["4_0_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("15_2_0","15_3_0",[["15_3_0",0.99],[W,0.01]],["-&---------","---------&-"]));z.addEdge(new x("15_2_0","15_1_0",[["15_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("15_2_0","16_2_0",[["16_2_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("15_2_0","14_2_0",[["14_2_0",0.99],[W,0.01]],["-----&-----","-&---------","-----&-----"]));z.addEdge(new x("8_1_0","8_2_0",[["8_2_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("8_1_0","8_0_0",[["8_0_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("8_1_0","9_1_0",[["9_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("8_1_0","7_1_0",[["7_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("3_10_0","3_11_0",[["3_11_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("3_10_0","4_10_0",[["4_10_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("3_10_0","2_10_0",[["2_10_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("0_0_0","0_1_0",[["0_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("0_0_0","1_0_0",[["1_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("10_3_0","10_4_0",[["10_4_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("10_3_0","10_2_0",[["10_2_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("10_3_0","11_3_0",[["11_3_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("10_3_0","9_3_0",[["9_3_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("5_4_0","4_4_0",[["4_4_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("2_2_0","2_3_0",[["2_3_0",0.99],[W,0.01]],[]));z.addEdge(new x("2_2_0","2_1_0",[["2_1_0",0.99],[W,0.01]],[]));z.addEdge(new x("2_2_0","3_2_0",[["3_2_0",0.99],[W,0.01]],[]));z.addEdge(new x("2_2_0","1_2_0",[["1_2_0",0.99],[W,0.01]],[]));z.addEdge(new x("6_0_0","6_1_0",[["6_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("6_0_0","7_0_0",[["7_0_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("6_0_0","5_0_0",[["5_0_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("15_3_0","15_4_0",[["15_4_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("15_3_0","15_2_0",[["15_2_0",0.99],[W,0.01]],["-----&-----","-&---------","-&---------"]));z.addEdge(new x("15_3_0","16_3_0",[["16_3_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("15_3_0","14_3_0",[["14_3_0",0.99],[W,0.01]],["---------&-","-&---------"]));z.addEdge(new x("4_11_0","4_12_0",[["4_12_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("4_11_0","4_10_0",[["4_10_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("4_11_0","5_11_0",[["5_11_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("4_11_0","3_11_0",[["3_11_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("9_4_0","9_5_0",[["9_5_0",0.99],[W,0.01]],["---------&-","---------&-"]));z.addEdge(new x("9_4_0","9_3_0",[["9_3_0",0.99],[W,0.01]],["---------&-","---------&-"]));z.addEdge(new x("9_4_0","10_4_0",[["10_4_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("9_4_0","8_4_0",[["8_4_0",0.99],[W,0.01]],["---------&-","---------&-"]));z.addEdge(new x("11_0_0","11_1_0",[["11_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("11_0_0","12_0_0",[["12_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("11_0_0","10_0_0",[["10_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_9_0","5_10_0",[["5_10_0",0.99],[W,0.01]],[]));z.addEdge(new x("5_9_0","5_8_0",[["5_8_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_9_0","6_9_0",[["6_9_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_9_0","4_9_0",[["4_9_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("5_12_0","5_13_0",[["5_13_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_12_0","5_11_0",[["5_11_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_12_0","6_12_0",[["6_12_0",0.99],[W,0.01]],[]));z.addEdge(new x("5_12_0","4_12_0",[["4_12_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("8_5_0","8_6_0",[["8_6_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("8_5_0","8_4_0",[["8_4_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("8_5_0","9_5_0",[["9_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("8_5_0","7_5_0",[["7_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("1_11_0","1_12_0",[["1_12_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_11_0","2_11_0",[["2_11_0",0.99],[W,0.01]],[]));z.addEdge(new x("1_11_0","0_11_0",[["0_11_0",0.99],[W,0.01]],[]));z.addEdge(new x("2_0_0","2_1_0",[["2_1_0",0.99],[W,0.01]],[]));z.addEdge(new x("2_0_0","3_0_0",[["3_0_0",0.99],[W,0.01]],[]));z.addEdge(new x("2_0_0","1_0_0",[["1_0_0",0.99],[W,0.01]],[]));z.addEdge(new x("14_3_0","14_4_0",[["14_4_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("14_3_0","14_2_0",[["14_2_0",0.99],[W,0.01]],["-----&-----","-&---------","-&---------"]));z.addEdge(new x("14_3_0","15_3_0",[["15_3_0",0.99],[W,0.01]],["-----&-----","-&---------"]));z.addEdge(new x("14_3_0","13_3_0",[["13_3_0",0.99],[W,0.01]],["---------&-","-&---------"]));z.addEdge(new x("7_8_0","7_9_0",[["7_9_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("7_8_0","7_7_0",[["7_7_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("7_8_0","8_8_0",[["8_8_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("7_8_0","6_8_0",[["6_8_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_12_0","1_13_0",[["1_13_0",0.99],[W,0.01]],[]));z.addEdge(new x("1_12_0","1_11_0",[["1_11_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_12_0","2_12_0",[["2_12_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("1_12_0","0_12_0",[["0_12_0",0.99],[W,0.01]],[]));z.addEdge(new x("10_1_0","10_2_0",[["10_2_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("10_1_0","10_0_0",[["10_0_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("10_1_0","11_1_0",[["11_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("10_1_0","9_1_0",[["9_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("0_11_0","0_12_0",[["0_12_0",0.99],[W,0.01]],[]));z.addEdge(new x("0_11_0","1_11_0",[["1_11_0",0.99],[W,0.01]],[]));z.addEdge(new x("16_3_0","16_4_0",[["16_4_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("16_3_0","16_2_0",[["16_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("16_3_0","15_3_0",[["15_3_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("9_2_0","9_3_0",[["9_3_0",0.99],[W,0.01]],["---------&-","---------&-"]));z.addEdge(new x("9_2_0","9_1_0",[["9_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("9_2_0","10_2_0",[["10_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("9_2_0","8_2_0",[["8_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("3_13_0","3_14_0",[["3_14_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("3_13_0","3_12_0",[["3_12_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("3_13_0","4_13_0",[["4_13_0",0.99],[W,0.01]],[]));z.addEdge(new x("3_13_0","2_13_0",[["2_13_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("4_12_0","4_13_0",[["4_13_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("4_12_0","4_11_0",[["4_11_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("4_12_0","5_12_0",[["5_12_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("4_12_0","3_12_0",[["3_12_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("1_0_0","1_1_0",[["1_1_0",0.99],[W,0.01]],[]));z.addEdge(new x("1_0_0","2_0_0",[["2_0_0",0.99],[W,0.01]],[]));z.addEdge(new x("1_0_0","0_0_0",[["0_0_0",0.99],[W,0.01]],[]));z.addEdge(new x("7_4_0","7_5_0",[["7_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("7_4_0","7_3_0",[["7_3_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("7_4_0","8_4_0",[["8_4_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("7_4_0","6_4_0",[["6_4_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("9_1_0","9_2_0",[["9_2_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("9_1_0","9_0_0",[["9_0_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("9_1_0","10_1_0",[["10_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("9_1_0","8_1_0",[["8_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("4_9_0","4_10_0",[["4_10_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("4_9_0","4_8_0",[["4_8_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("4_9_0","5_9_0",[["5_9_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_14_0","1_15_0",[["1_15_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_14_0","1_13_0",[["1_13_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_14_0","2_14_0",[["2_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_14_0","0_14_0",[["0_14_0",0.99],[W,0.01]],[]));z.addEdge(new x("2_10_0","2_11_0",[["2_11_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("2_10_0","3_10_0",[["3_10_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("8_7_0","8_8_0",[["8_8_0",0.99],[W,0.01]],["---------&-","-&---------"]));z.addEdge(new x("8_7_0","8_6_0",[["8_6_0",0.99],[W,0.01]],["---------&-","-&---------"]));z.addEdge(new x("8_7_0","9_7_0",[["9_7_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("8_7_0","7_7_0",[["7_7_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("11_2_0","11_3_0",[["11_3_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("11_2_0","11_1_0",[["11_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("11_2_0","12_2_0",[["12_2_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("11_2_0","10_2_0",[["10_2_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("6_7_0","6_8_0",[["6_8_0",0.99],[W,0.01]],[]));z.addEdge(new x("6_7_0","7_7_0",[["7_7_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_7_0","5_7_0",[["5_7_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("2_13_0","2_14_0",[["2_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("2_13_0","2_12_0",[["2_12_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("2_13_0","3_13_0",[["3_13_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("2_13_0","1_13_0",[["1_13_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_1_0","6_2_0",[["6_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_1_0","6_0_0",[["6_0_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("6_1_0","7_1_0",[["7_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("6_1_0","5_1_0",[["5_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("3_11_0","3_12_0",[["3_12_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("3_11_0","3_10_0",[["3_10_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("3_11_0","4_11_0",[["4_11_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("3_11_0","2_11_0",[["2_11_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("10_2_0","10_3_0",[["10_3_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("10_2_0","10_1_0",[["10_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("10_2_0","11_2_0",[["11_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("10_2_0","9_2_0",[["9_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("17_2_0","18_2_0",[["18_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("17_2_0","16_2_0",[["16_2_0",0.99],[W,0.01]],[]));z.addEdge(new x("16_4_0","16_3_0",[["16_3_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("16_4_0","17_4_0",[["17_4_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("16_4_0","15_4_0",[["15_4_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("8_8_0","8_9_0",[["8_9_0",0.99],[W,0.01]],["-&---------","-----&-----"]));z.addEdge(new x("8_8_0","8_7_0",[["8_7_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("8_8_0","7_8_0",[["7_8_0",0.99],[W,0.01]],["-----&-----","-&---------"]));z.addEdge(new x("10_4_0","10_5_0",[["10_5_0",0.99],[W,0.01]],["---------&-","---------&-"]));z.addEdge(new x("10_4_0","10_3_0",[["10_3_0",0.99],[W,0.01]],[]));z.addEdge(new x("10_4_0","11_4_0",[["11_4_0",0.99],[W,0.01]],[]));z.addEdge(new x("10_4_0","9_4_0",[["9_4_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("0_14_0","0_13_0",[["0_13_0",0.99],[W,0.01]],[]));z.addEdge(new x("0_14_0","1_14_0",[["1_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("2_16_0","2_15_0",[["2_15_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("2_16_0","3_16_0",[["3_16_0",0.99],[W,0.01]],[]));z.addEdge(new x("2_16_0","1_16_0",[["1_16_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("15_4_0","15_3_0",[["15_3_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("15_4_0","16_4_0",[["16_4_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("15_4_0","14_4_0",[["14_4_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("8_6_0","8_7_0",[["8_7_0",0.99],[W,0.01]],["---------&-","-&---------"]));z.addEdge(new x("8_6_0","8_5_0",[["8_5_0",0.99],[W,0.01]],["-&---------","---------&-"]));z.addEdge(new x("8_6_0","9_6_0",[["9_6_0",0.99],[W,0.01]],["-----&-----","-----&-----","-----&-----"]));z.addEdge(new x("7_5_0","7_4_0",[["7_4_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("7_5_0","8_5_0",[["8_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("7_5_0","6_5_0",[["6_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("6_10_0","6_11_0",[["6_11_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_10_0","6_9_0",[["6_9_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_10_0","7_10_0",[["7_10_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_10_0","5_10_0",[["5_10_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_8_0","6_9_0",[["6_9_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_8_0","6_7_0",[["6_7_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_8_0","7_8_0",[["7_8_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("6_8_0","5_8_0",[["5_8_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("12_2_0","12_3_0",[["12_3_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("12_2_0","12_1_0",[["12_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("12_2_0","13_2_0",[["13_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("12_2_0","11_2_0",[["11_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("4_13_0","4_14_0",[["4_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("4_13_0","4_12_0",[["4_12_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("4_13_0","5_13_0",[["5_13_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("4_13_0","3_13_0",[["3_13_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("3_14_0","3_15_0",[["3_15_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("3_14_0","3_13_0",[["3_13_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("3_14_0","4_14_0",[["4_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("3_14_0","2_14_0",[["2_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("11_4_0","11_5_0",[["11_5_0",0.99],[W,0.01]],["---------&-","---------&-","-----&-----"]));z.addEdge(new x("11_4_0","11_3_0",[["11_3_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("11_4_0","12_4_0",[["12_4_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("11_4_0","10_4_0",[["10_4_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("10_6_0","10_7_0",[["10_7_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("10_6_0","10_5_0",[["10_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("10_6_0","11_6_0",[["11_6_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("10_6_0","9_6_0",[["9_6_0",0.99],[W,0.01]],["-----&-----","-&---------"]));z.addEdge(new x("0_13_0","0_14_0",[["0_14_0",0.99],[W,0.01]],[]));z.addEdge(new x("0_13_0","0_12_0",[["0_12_0",0.99],[W,0.01]],[]));z.addEdge(new x("0_13_0","1_13_0",[["1_13_0",0.99],[W,0.01]],[]));z.addEdge(new x("11_5_0","11_6_0",[["11_6_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("11_5_0","11_4_0",[["11_4_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("11_5_0","12_5_0",[["12_5_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("11_5_0","10_5_0",[["10_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("8_9_0","8_8_0",[["8_8_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("8_9_0","7_9_0",[["7_9_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("9_7_0","9_6_0",[["9_6_0",0.99],[W,0.01]],["-----&-----","-----&-----","---------&-","-----&-----"]));z.addEdge(new x("2_14_0","2_15_0",[["2_15_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("2_14_0","2_13_0",[["2_13_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("2_14_0","3_14_0",[["3_14_0",0.99],[W,0.01]],["-----&-----","-&---------"]));z.addEdge(new x("2_14_0","1_14_0",[["1_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("9_5_0","9_6_0",[["9_6_0",0.99],[W,0.01]],["-----&-----","-&---------"]));z.addEdge(new x("9_5_0","9_4_0",[["9_4_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("9_5_0","10_5_0",[["10_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("9_5_0","8_5_0",[["8_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("12_5_0","12_6_0",[["12_6_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("12_5_0","12_4_0",[["12_4_0",0.99],[W,0.01]],[]));z.addEdge(new x("12_5_0","17_5_0",[["17_5_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("12_5_0","11_5_0",[["11_5_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("10_5_0","10_6_0",[["10_6_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("10_5_0","10_4_0",[["10_4_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("10_5_0","11_5_0",[["11_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("10_5_0","9_5_0",[["9_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("1_15_0","1_16_0",[["1_16_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_15_0","1_14_0",[["1_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_15_0","2_15_0",[["2_15_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("12_4_0","12_5_0",[["12_5_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("12_4_0","12_3_0",[["12_3_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("12_4_0","13_4_0",[["13_4_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("12_4_0","11_4_0",[["11_4_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("3_16_0","3_15_0",[["3_15_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("3_16_0","4_16_0",[["4_16_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("3_16_0","2_16_0",[["2_16_0",0.99],[W,0.01]],[]));z.addEdge(new x("9_6_0","9_7_0",[["9_7_0",0.99],[W,0.01]],["-----&-----","---------&-","-----&-----"]));z.addEdge(new x("9_6_0","10_6_0",[["10_6_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("9_6_0","8_6_0",[["8_6_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("2_15_0","2_16_0",[["2_16_0",0.99],[W,0.01]],[]));z.addEdge(new x("2_15_0","2_14_0",[["2_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("2_15_0","3_15_0",[["3_15_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("2_15_0","1_15_0",[["1_15_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("4_16_0","4_15_0",[["4_15_0",0.99],[W,0.01]],[]));z.addEdge(new x("4_16_0","3_16_0",[["3_16_0",0.99],[W,0.01]],[]));z.addEdge(new x("7_9_0","7_10_0",[["7_10_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("7_9_0","7_8_0",[["7_8_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("7_9_0","8_9_0",[["8_9_0",0.99],[W,0.01]],[]));z.addEdge(new x("7_9_0","6_9_0",[["6_9_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("5_14_0","5_15_0",[["5_15_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("5_14_0","5_13_0",[["5_13_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_14_0","6_14_0",[["6_14_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("5_14_0","4_14_0",[["4_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_13_0","5_14_0",[["5_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_13_0","5_12_0",[["5_12_0",0.99],[W,0.01]],[]));z.addEdge(new x("5_13_0","4_13_0",[["4_13_0",0.99],[W,0.01]],[]));z.addEdge(new x("4_14_0","4_15_0",[["4_15_0",0.99],[W,0.01]],[]));z.addEdge(new x("4_14_0","4_13_0",[["4_13_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("4_14_0","5_14_0",[["5_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("4_14_0","3_14_0",[["3_14_0",0.99],[W,0.01]],["-----&-----","-&---------"]));z.addEdge(new x("10_7_0","10_6_0",[["10_6_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("10_7_0","9_7_0",[["9_7_0",0.99],[W,0.01]],["---------&-","-&---------"]));z.addEdge(new x("4_15_0","4_16_0",[["4_16_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("4_15_0","4_14_0",[["4_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("4_15_0","5_15_0",[["5_15_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("4_15_0","3_15_0",[["3_15_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_11_0","5_12_0",[["5_12_0",0.99],[W,0.01]],[]));z.addEdge(new x("5_11_0","5_10_0",[["5_10_0",0.99],[W,0.01]],[]));z.addEdge(new x("5_11_0","6_11_0",[["6_11_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("5_11_0","4_11_0",[["4_11_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("16_1_0","16_2_0",[["16_2_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("16_1_0","15_1_0",[["15_1_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("11_6_0","11_5_0",[["11_5_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("11_6_0","12_6_0",[["12_6_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("11_6_0","10_6_0",[["10_6_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("18_2_0","18_3_0",[["18_3_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("18_2_0","17_2_0",[["17_2_0",0.99],[W,0.01]],["-&---------","-----&-----"]));z.addEdge(new x("12_6_0","12_5_0",[["12_5_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("12_6_0","11_6_0",[["11_6_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_9_0","6_10_0",[["6_10_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_9_0","6_8_0",[["6_8_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_9_0","7_9_0",[["7_9_0",0.99],[W,0.01]],[]));z.addEdge(new x("6_9_0","5_9_0",[["5_9_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("3_15_0","3_16_0",[["3_16_0",0.99],[W,0.01]],[]));z.addEdge(new x("3_15_0","3_14_0",[["3_14_0",0.99],[W,0.01]],["-----&-----","-&---------"]));z.addEdge(new x("3_15_0","4_15_0",[["4_15_0",0.99],[W,0.01]],[]));z.addEdge(new x("3_15_0","2_15_0",[["2_15_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("7_10_0","7_9_0",[["7_9_0",0.99],[W,0.01]],[]));z.addEdge(new x("7_10_0","6_10_0",[["6_10_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("6_15_0","6_14_0",[["6_14_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("6_15_0","5_15_0",[["5_15_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("5_15_0","5_14_0",[["5_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_15_0","6_15_0",[["6_15_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("5_15_0","4_15_0",[["4_15_0",0.99],[W,0.01]],[]));z.addEdge(new x("18_3_0","18_2_0",[["18_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("13_4_0","13_3_0",[["13_3_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("13_4_0","14_4_0",[["14_4_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("13_4_0","12_4_0",[["12_4_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_14_0","6_15_0",[["6_15_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_14_0","6_12_0",[["6_12_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_14_0","5_14_0",[["5_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_11_0","6_12_0",[["6_12_0",0.99],[W,0.01]],[]));z.addEdge(new x("6_11_0","6_10_0",[["6_10_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("6_11_0","5_11_0",[["5_11_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("14_4_0","14_3_0",[["14_3_0",0.99],[W,0.01]],["---------&-","-&---------"]));z.addEdge(new x("14_4_0","15_4_0",[["15_4_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("14_4_0","13_4_0",[["13_4_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("6_12_0","6_14_0",[["6_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_12_0","6_11_0",[["6_11_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_12_0","5_12_0",[["5_12_0",0.99],[W,0.01]],[]));z.addEdge(new x("1_17_0","1_16_0",[["1_16_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("7_10_0","end",[["end",0.99],[W,0.01]],[]));var LQ={"2_8_0":["XX----------XXX","XX----------XXX","XX---XX-----XXX","XX-#-XXXX---XXX","XX-----XX------","XXXX---XX------","XXXX---XX-----#","XXXX--#XX---XXX","XXXX---XX---XXX","-------XX---XXX","&------XX---XXX"],"13_1_0":["----^^^^^^^^^^^","---------------","---------------","----------X----","----------X-&-&","----------XXXXX","-#--------X-*#*","----------X----","---------------","---------------","----^^^^^^^^^^^"],"1_5_0":["XX-------------","XX-------------","XX---XX--------","XX-#-XXXX------","XX-----XX------","XXXX---XX---&--","XXXX---XX------","XXXX--#XX------","XXXX---XX------","-------XX------","&------XX------"],"6_4_0":["--------X------","--------X------","X-------X---^--","XXX-----X---^--","-XX---------^--","-XX---------^--","-XX-----#-#-#-#","#XX--#---------","-XX------------","-XX-----XXXXXXX","-XX-----XXXXXXX"],"0_8_0":["XX--------XXX--","XX--------XXX--","XX---XX---XXX--","XX-#-XX---XXX--","XX--------XXX--","XXXX----XXXXXXX","XXXX----XXXXXXX","XXXX----XXXXXXX","XXXX----XXXXXXX","---------------","&----------&---"],"6_5_0":["------X--^^^^^^","------X----X--X","X-----X----X--X","XXX---X----X--X","-XX--------X--X","-XX--------X--X","-XX--------X--X","#XX---X----X--X","-XX---X----X--X","-XX---X--------","-XX---X--^^^^^^"],"17_5_0":["^^^^^^^^^^^^^^^","----X----------","-X--X-------X--","XX--X--XXX--XX-","XX--X--X*X--XXX","#*--X--X&---*#X","XX--X--X*X--XXX","XX--X--XXX--XX-","-X--X-------X--","---------------","^^^^^^^^^^^^^^^"],"4_0_0":["---------------","---------------","---------------","---X--------#--","---X-----------","XXXX-----------","#*-X-----------","---X--#--------","---------#-----","---------------","---------------"],"12_3_0":["-----^^^^^^^^^^","---------------","X--------------","XXX-------X----","-XX-------X-&-&","-XX-------XXXXX","-XX-------X-*#*","#XX-------X----","-XX------------","-XX------------","-XX--^^^^^^^^^^"],"2_4_0":["-------------XX","-------------XX","X------------XX","XXX----------XX","-XX----------XX","-XX----------XX","-XX----------XX","#XX--#-------XX","-XX-----#----XX","-XX------------","-XX------------"],"2_6_0":["XX-------------","XX-------------","XX---XX--------","XX-#-XXXX-----X","XX-----XX-----X","XXXX---XX-----X","XXXX---XX-----X","XXXX--#XX-----X","XXXX---XX--#---","-------XX------","&------XX------"],"8_3_0":["----------^^^^^","---------------","X-----------X--","XXX---------XX-","-XX---------XXX","-XX---------*#X","-XX---------XXX","#XX--#------XX-","-XX---------X--","-XX------------","-XX-------^^^^^"],"15_1_0":["-^^^^^^^^^^^^^^","---------------","---------------","----------X----","----------X-&-&","----------XXXXX","----------X-*#*","----------X----","---------------","---------------","-^^^^^^^^^^^^^^"],"11_3_0":["------^^^^^^^^^","---------------","X--------------","XXX-------X----","-XX-------X-&-&","-XX-------XXXXX","-XX-------X-*#*","#XX-------X----","-XX------------","-XX------------","-XX---^^^^^^^^^"],"2_1_0":["-----------XX--","---------------","---------------","---X-----------","---X-----------","XXXX-----------","#*-X-----------","---X--#--------","---------------","---------------","-----------XX--"],"13_3_0":["----^^^^^^^^^^^","------*#X--X--X","------XXX--X--X","------XX---X--X","------X----X--X","------X----X-#X","-#----X----X--X","------X----X--X","------X----X--X","---------------","----^^^^^^^^^^^"],"4_6_0":["XX----------^^^","XX-------------","XX---XX--------","XX-#-XXXX-----X","XX-----XX-----X","XXXX---XX-----X","XXXX---XX-----X","XXXX--#XX-----X","XXXX---XX------","-------XX------","&------XX---^^^"],"4_3_0":["--------------X","--------------X","X-------------X","XXX-----------X","-XX-----------X","-XX--------#--X","-XX-----------X","#XX--#--------X","-XX-----#-----X","-XX------------","-XX--------*---"],"14_2_0":["---^^^^^^^^^^^^","---------------","--------------X","-----X-----X--X","-----X-&-&-X--X","-----XXXXXXX--*","-----X-*#*-X--X","-----X-----X--X","--------------X","---------------","---^^^^^^^^^^^^"],"1_4_0":["-------------XX","-------------XX","X------------XX","XXX----------XX","-XX----------XX","-XX----------XX","-XX----------XX","#XX--#-------XX","-XX----------XX","-XX------------","-XX------------"],"5_1_0":["---------------","---------------","---------------","---X----------X","---X---------^X","XXXX--------^^X","#*-X---------^X","---X--#-------X","---------#-----","---------------","---------------"],"3_12_0":["-----XXXXXXXXXX","-----XXXXXXXXXX","X----XXXXXXXXXX","XXX--XXXXXXXXXX","-XX----------#X","-XX-----------X","-XX----#--#----","#XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX"],"3_4_0":["------------XX-","------------XX-","X-----------XX-","XXX---------XX#","-XX---------XX-","-XX---------XX-","-XX---------XX-","#XX--#------XXX","-XX-----#-----X","-XX------------","-XX------------"],"4_4_0":["------------X--","---------------","X-----------X--","XXX---------XX-","-XX---------XXX","-XX---------*#X","-XX---------XXX","#XX--#------XX-","-XX-----#---X--","-XX------------","-XX---------X--"],"8_4_0":["---------^^^^^^","-----------X--X","X----------X--X","XXX--------X--X","-XX--------X--X","-XX--------X-#X","-XX--------X--X","#XX--#-----X--X","-XX--------X--X","-XX------------","-XX------^^^^^^"],"6_3_0":["-----------^^^^","-------------X-","X------------X-","XXX----------X-","-XX----------X-","-XX----------X-","-XX----------X-","#XX--#-------X-","-XX-----#----X-","-XX------------","-XX--------^^^^"],"1_10_0":["XX---------XXXX","XX---------XXXX","XX---XX----XXXX","XX-#-XXXX--XXXX","XX-----XX--XXX-","XXXX---XX--XX--","XXXX---XX------","XXXX--#XX--XXXX","XXXX---XX--XXXX","-------XX--XXXX","&------XX--XXXX"],"5_3_0":["------------^^^","--------------X","X-------------X","XXX-----------X","-XX-----------X","-XX-----------X","-XX-----------X","#XX--#--------X","-XX-----#-----X","-XX------------","-XX---------^^^"],"3_5_0":["XX-------------","XX-------------","XX---XX-------&","XX-#-XXXX------","XX-----XX------","XXXX---XX--#---","XXXX---XX------","XXXX--#XX------","XXXX---XX------","-------XX------","&------XX--*---"],"13_0_0":["--^^^^^^^^^^^^^","---------------","---------------","-----------X---","-----------X-&-","-----------XXXX","-----------X-*#","-----------X---","---------------","---------------","--^^^^^^^^^^^^^"],"2_12_0":["------XXXXXXXXX","------XXXXXXXXX","X-----XXXXXXXXX","XXX---XXXXXXXXX","-XX-----#XXXXX-","-XX------XXXXX-","-XX-------*----","#XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX"],"17_4_0":["^^^^^^^^^^^^^^^","--X--X--X--X--X","--X--X--X--X--X","--X--X--X--X--X","--X--X--X--X--X","-#X-#X-#X-#X-#X","--X--X--X--X--X","--X--X--X--X--X","--X--X--X--X--X","---------------","^^^^^^^^^^^^^^^"],"8_2_0":["---------^^^^^^","--------------*","X--------------","XXX----------^^","-XX--------^^^^","-XX-----------&","-XX--------^^^^","#XX--#-------^^","-XX------------","-XX-----------*","-XX------^^^^^^"],"3_1_0":["------------XX-","---------------","---------------","---X-----------","---X-----------","XXXX-----------","#*-X-----------","---X--#--------","---------#-----","---------------","------------XX-"],"0_1_0":["---------------","------------X--","------------X--","------------X--","------------X--","-----------&X-&","------------X--","-*----------X--","------------X--","------------X--","------------X--"],"9_3_0":["--------^^^^^^^","---------------","X-----------X--","XXX---------XX-","-XX---------XXX","-XX---------*#X","-XX---------XXX","#XX--#------XX-","-XX---------X--","-XX------------","-XX-----^^^^^^^"],"0_4_0":["-------------XX","-------------XX","X------------XX","XXX----------XX","-XX----------XX","-XX----------XX","-XX----------XX","#XX----------XX","-XX----------XX","-XX------------","-XX------------"],"0_3_0":["---------------","------------X--","X-----------X--","XXX---------X--","-XX---------X--","-XX--------&X-&","-XX---------X--","#XX---------X--","-XX---------X--","-XX---------X--","-XX---------X--"],"1_2_0":["---------------","---------------","X--------------","XXX------------","-XX------------","-XX-----------&","-XX------------","#XX--#---------","-XX------------","-XX------------","-XX------------"],"2_3_0":["---------------","------------X--","X-----------X--","XXX---------X--","-XX---------X--","-XX--------&X-&","-XX---------X--","#XX--#------X--","-XX-----#---X--","-XX---------X--","-XX---------X--"],"7_7_0":["-*XXXXXXXXXXXXX","--XXXXXXX-----*","--XXXXXX-------","--XXXXX------^^","-----------^^^^","-#------------&","----#------^^^^","--XXXXX------^^","--XXXXXX-------","--XXXXXXX-----*","--XXXXXXXXXXXXX"],"13_2_0":["----^^^^^^^^^^^","---------------","-------------X-","--------XXX--XX","--------X*X--XX","--------X&---*#","--------X*X--XX","-*------XXX--XX","-------------X-","---------------","----^^^^^^^^^^^"],"0_2_0":["---------------","---------------","X--------------","XXX------------","-XX------------","-XX-----------&","-XX------------","#XX------------","-XX------------","-XX------------","-XX------------"],"4_5_0":["XX-------------","XX-------------","XX---XX--------","XX-#-XXXX-----#","XX-----XX------","XXXX---XX--#---","XXXX---XX------","XXXX--#XX------","XXXX---XX------","-------XX------","&------XX--*---"],"4_1_0":["------------XXX","---------------","---------------","---X-----------","---X----------^","XXXX-----------","#*-X----------^","---X--#--------","---------#-----","---------------","------------XXX"],"0_9_0":["XX---------XXXX","XX---------XXXX","XX---XX----XXXX","XX-#-XXXX--XXXX","XX-----XX--XXXX","XXXX---XX--XXXX","XXXX---XX--XXXX","XXXX---XX--XXXX","XXXX---XX------","-------XX------","&------XX--XXXX"],"3_2_0":["---------------","---------------","X--------------","XXX------------","-XX------------","-XX-----------&","-XX------------","#XX--#---------","-XX-----#--#---","-XX------------","-XX------------"],"6_2_0":["-------------&-","------------^^^","X-----------^^^","XXX---------^^^","-XX---------^^^","-XX---------^^^","-XX---------^^^","#XX--#------^^^","-XX-----#---^^^","-XX---------^^^","-XX----------*-"],"9_0_0":["------^^^^^^^^^","---------------","---------------","---X-----------","---X-----------","XXXX-----------","#*-X-----------","---X-----------","---------------","---------------","------^^^^^^^^^"],"8_0_0":["---------^^^^^^","---------------","---------------","---X-----------","---X-----------","XXXX-----------","#*-X-----------","---X--#--------","---------------","---------------","---------^^^^^^"],"5_8_0":["-----XXXXXX---&","-----XXXXXX--^^","X----XXXXXX--^^","XXX--XXXXXX--^^","-XX----*-----^^","-XX----------^^","-XX-----#----^^","#XX--XXXXXX--^^","-XX--XXXXXX--^^","-XX--XXXXXX--^^","-XX--XXXXXX---*"],"1_9_0":["XX---------XXXX","XX---------XXXX","XX---XX----XXXX","XX-#-XXXX--XXXX","XX-----XX--XXXX","XXXX---XX--XXXX","XXXX---XX--XXXX","XXXX--#XX--XXXX","XXXX---XX------","-------XX------","&------XX--XXXX"],"2_11_0":["XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX-#-","XX--XXX--XXX---","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","XXXXXXXXXX*XXX-","---------------","&----&----#----"],"0_5_0":["XX-------------","XX-------------","XX---XX--------","XX-#-XXXX------","XX-----XX------","XXXX---XX-----&","XXXX---XX------","XXXX---XX------","XXXX---XX------","-------XX------","&------XX------"],"14_1_0":["--^^^^^^^^^^^^^","---------------","---------------","----------X----","----------X-&-&","----------XXXXX","----------X-*#*","----------X----","---------------","---------------","--^^^^^^^^^^^^^"],"7_1_0":["----------^^^^^","---------------","---------------","---X----------X","---X----------X","XXXX----------X","#*-X----------X","---X--#-------X","---------------","---------------","----------^^^^^"],"1_16_0":["-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","----#XXXXXXXXXX","-----XXXXXXXXXX","------*--------","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX"],"14_0_0":["-^^^^^^^^^^^^^^","---------------","---------------","-----------X---","-----------X-&-","-----------XXXX","-----------X-*#","-----------X---","---------------","---------------","-^^^^^^^^^^^^^^"],"3_3_0":["---------------","-----------^---","X--------------","XXX--------^--X","-XX-----------X","-XX--------^--X","-XX-----------X","#XX--#-----^--X","-XX-----#-----X","-XX--------^--X","-XX-----------X"],"3_7_0":["XX----------X--","XX-------------","XX---XX-----X--","XX-#-XXXX---XX-","XX-----XX---XXX","XXXX---XX---*#X","XXXX---XX---XXX","XXXX--#XX---XX-","XXXX---XX---X--","-------XX------","&------XX---X--"],"1_13_0":["---XXXXXXXXXXXX","---XXXXXXXXXXXX","---XXXXXXXXXXXX","---XXXXXXXXXXXX","-----#XXXXXXX--","------XXXXXX---","-------*-------","---XXXXXXXXXXXX","---XXXXXXXXXXXX","---XXXXXXXXXXXX","---XXXXXXXXXXXX"],"12_0_0":["----^^^^^^^^^^^","---------------","---------------","-----------X---","-----------X-&-","-----------XXXX","-----------X-*#","-*---------X---","---------------","---------------","----^^^^^^^^^^^"],"5_10_0":["----XXXXXXXXXXX","----XXXXXXXXXXX","----XXXXXXXXXXX","----XXXXXXXXXXX","------*------*-","---------------","-#-----#--#---#","----XXXXXXXXXXX","----XXXXXXXXXXX","----XXXXXXXXXXX","----XXXXXXXXXXX"],"16_2_0":["^^^^^^^^^^^^^^^","---------------","---------------","--------X-----X","--------X-&-&-X","--------XXXXXXX","--------X-*#*-X","X-------X-----X","XX-------------","#X-------------","^^^^^^^^^^^^^^^"],"11_1_0":["------^^^^^^^^^","---------X--X--","---------X--X--","---------X--X--","---#-----X--X--","---------X-#X-#","---------X--X--","-*-------X--X--","---------X--X--","---------------","------^^^^^^^^^"],"0_10_0":["XX---------XXXX","XX---------XXXX","XX---XX----XXXX","XX-#-XXXX--XXXX","XX-----XX--XXX-","XXXX---XX--XX--","XXXX---XX------","XXXX---XX--XXXX","XXXX---XX--XXXX","-------XX--XXXX","&------XX--XXXX"],"7_2_0":["---------^^^^^^","---------------","X--------------","XXX------------","-XX------------","-XX------------","-XX------------","#XX--#---------","-XX------------","-XX------------","-XX------^^^^^^"],"4_10_0":["------XXXXXXXXX","------XXXXXXXXX","X-----XXXXXXXXX","XXX---XXXXXXXXX","-XX-----*---*--","-XX------------","-XX------#---#-","#XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX"],"1_1_0":["-----------XX--","---------------","---------------","---X-----------","---X-----------","XXXX-----------","#*-X-----------","---X-----------","---------------","---------------","-----------XX--"],"7_0_0":["-------------&-","------------^^^","------------^^^","---X--------^^^","---X--------^^^","XXXX--------^^^","#*-X--------^^^","---X--#-----^^^","---------#--^^^","------------^^^","-------------*-"],"5_5_0":["XX-----------&-","XX----------^^^","XX---XX-----^^^","XX-#-XXXX---^^^","XX-----XX---^^^","XXXX---XX---^^^","XXXX---XX---^^^","XXXX--#XX---^^^","XXXX---XX---^^^","-------XX---^^^","&------XX----*-"],"0_6_0":["XX-------------","XX----------X--","XX---XX-----X--","XX-#-XXXX---X--","XX-----XX---X--","XXXX---XX--&X-&","XXXX---XX---X--","XXXX---XX---X--","XXXX---XX---X--","-------XX---X--","&------XX---X--"],"4_7_0":["XX---------X---","XX---------X---","XX---XX----X--^","XX-#-XXXX--X--^","XX-----XX-----^","XXXX---XX-----^","XXXX---XX--#-#-","XXXX--#XX------","XXXX---XX------","-------XX--XXXX","&------XX--XXXX"],"1_3_0":["---------------","------------X--","X-----------X--","XXX---------X--","-XX---------X--","-XX--------&X-&","-XX---------X--","#XX--#------X--","-XX---------X--","-XX---------X--","-XX---------X--"],"6_6_0":["XX---------^^^^","XX-------------","XX---XX-------X","XX-#-XXXX-----X","XX-----XX-----X","XXXX---XX-----*","XXXX---XX-----X","XXXX--#XX-----X","XXXX---XX-----X","-------XX------","&------XX--^^^^"],"1_6_0":["XX-------------","XX----------X--","XX---XX-----X--","XX-#-XXXX---X--","XX-----XX---X--","XXXX---XX--&X-&","XXXX---XX---X--","XXXX--#XX---X--","XXXX---XX---X--","-------XX---X--","&------XX---X--"],"5_2_0":["---------------","---------------","X--------------","XXX-----------#","-XX------------","-XX--------#---","-XX------------","#XX--#---------","-XX-----#------","-XX------------","-XX--------*---"],"10_0_0":["------^^^^^^^^^","--------------*","---------------","---X---------^^","---X-------^^^^","XXXX----------&","#*-X-------^^^^","---X---------^^","---------------","--------------*","------^^^^^^^^^"],"3_0_0":["---------------","---------------","---------------","---X-----------","---X-----------","XXXX--------&--","#*-X-----------","---X--#--------","---------#-----","---------------","---------------"],"4_8_0":["--------XXXXXXX","--------XXXXXXX","X-------XXXXXXX","XXX-----XXXXXXX","-XX----------*-","-XX------------","-XX-------#---#","#XX--#--XXXXXXX","-XX-----XXXXXXX","-XX-----XXXXXXX","-XX-----XXXXXXX"],"7_3_0":["-----------^^^^","---------------","X--------------","XXX----------XX","-XX----------X*","-XX----------X&","-XX----------X*","#XX--#-------XX","-XX-----#------","-XX------------","-XX--------^^^^"],"15_0_0":["^^^^^^^^^^^^^^^","--------------*","---------------","-------------^^","-----------^^^^","--------------&","-----------^^^^","X------------^^","XX-------------","#X------------*","^^^^^^^^^^^^^^^"],"0_12_0":["--XXXXX--XXXXXX","--XXXXX--XXXXXX","--XXXXX--XXXXXX","--XXXXX--XXXXXX","---------XXXXXX","---------XXXXX-","---------------","--XXXXX--XXXXXX","--XXXXX--XXXXXX","--XXXXX--XXXXXX","--XXXXX--XXXXXX"],"12_1_0":["----^^^^^^^^^^^","---------X--X--","---------X--X--","---------X--X--","---------X--X--","---------X-#X-#","---------X--X--","-*-------X--X--","---------X--X--","---------------","----^^^^^^^^^^^"],"2_5_0":["XX-------------","XX-------------","XX---XX--------","XX-#-XXXX------","XX-----XX------","XXXX---XX-----&","XXXX---XX------","XXXX--#XX------","XXXX---XX--#---","-------XX------","&------XX------"],"4_2_0":["---------------","---------------","X--------------","XXX------------","-XX------------","-XX--------#---","-XX------------","#XX--#---------","-XX-----#------","-XX------------","-XX--------*---"],"2_9_0":["XX---------XXXX","XX---------XXXX","XX---XX----XXXX","XX-#-XXXX--XXXX","XX-----XX------","XXXX---XX------","XXXX---XX----#-","XXXX--#XX--XXXX","XXXX---XX--XXXX","-------XX--XXXX","&------XX--XXXX"],"5_7_0":["-----XXXXX---&-","-----XXXXX--^^^","X----XXXXX--^^^","XXX--XXXXX--^^^","-XX---------^^^","-XX---------^^^","-XX----#----^^^","#XX--XXXXX--^^^","-XX--XXXXX--^^^","-XX--XXXXX--^^^","-XX--XXXXX---*-"],"5_0_0":["---------------","---------------","---------------","---X--------#--","---X-----------","XXXX-----#-----","#*-X-----------","---X--#--------","---------------","---------------","---------*-----"],"15_2_0":["--^^^^^^^^^^^^^","---------------","--------------X","-----X-----X--X","-----X-&-&-X--X","-----XXXXXXX--*","-----X-*#*-X--X","-----X-----X--X","--------------X","---------------","--^^^^^^^^^^^^^"],"8_1_0":["----------^^^^^","------------X--","------------X--","---X--------X--","---X--------X--","XXXX--------X-#","#*-X--------X--","---X--#-----X--","------------X--","---------------","----------^^^^^"],"0_7_0":["XX-------------","XX-------------","XX---XX----XX--","XX-#-XX----XXXX","XX-----------XX","XXXX----XX---XX","XXXX----XX---XX","XXXX----XX---XX","XXXX----XX---XX","-------------XX","&------------XX"],"1_7_0":["XX-----------XX","XX-----------XX","XX---XX------XX","XX-#-XXXX----XX","XX-----XX----XX","XXXX---XX----XX","XXXX---XX----XX","XXXX--#XX----XX","XXXX---XX----XX","-------XX------","&------XX------"],"3_10_0":["-------XXXXXXXX","-------XXXXXXXX","X------XXXXXXXX","XXX----XXXXXXXX","-XX---------#XX","-XX----------XX","-XX------#----*","#XX----XXXXXXXX","-XX----XXXXXXXX","-XX----XXXXXXXX","-XX----XXXXXXXX"],"0_0_0":["---------XX----","---------------","---------------","---------------","---------------","---------------","-#-------------","---------------","---------------","---------------","---------XX----"],"10_3_0":["--------^^^^^^^","---------------","X--------------","XXX-------X----","-XX-------X-&-&","-XX-------XXXXX","-XX-------X-*#*","#XX--#----X----","-XX------------","-XX------------","-XX-----^^^^^^^"],"5_4_0":["---------X-----","---------X-----","X--------X---^-","XXX------X---^-","-XX----------^-","-XX----------^-","-XX------#-#-#-","#XX--#---------","-XX------------","-XX------XXXXXX","-XX------XXXXXX"],"2_2_0":["---------------","---------------","X--------------","XXX------------","-XX------------","-XX-----------&","-XX------------","#XX--#---------","-XX-----#------","-XX------------","-XX------------"],"3_9_0":["XX---------XXXX","XX---------XXXX","XX---XX----XXXX","XX-#-XXXX--XXXX","XX-----XX----*-","XXXX---XX------","XXXX---XX-----#","XXXX--#XX--XXXX","XXXX---XX--XXXX","-------XX--XXXX","&------XX--XXXX"],"6_0_0":["--------------&","-------------^^","-------------^^","---X---------^^","---X---------^^","XXXX---------^^","#*-X---------^^","---X--#------^^","---------#---^^","-------------^^","--------------*"],"5_6_0":["XX----------^^^","XX-------------","XX---XX-------X","XX-#-XXXX-----X","XX-----XX-----X","XXXX---XX-----*","XXXX---XX-----X","XXXX--#XX-----X","XXXX---XX-----X","-------XX------","&------XX---^^^"],"3_6_0":["XX------------X","XX------------X","XX---XX-------X","XX-#-XXXX-----X","XX-----XX-----X","XXXX---XX--#--X","XXXX---XX-----X","XXXX--#XX-----X","XXXX---XX-----X","-------XX------","&------XX--*---"],"2_7_0":["XX----------XX-","XX----------XX-","XX---XX-----XX-","XX-#-XXXX---XX#","XX-----XX---XX-","XXXX---XX---XX-","XXXX---XX---XX-","XXXX--#XX---XXX","XXXX---XX-----X","-------XX------","&------XX------"],"15_3_0":["--^^^^^^^^^^^^^","----*#X--X--X--","----XXX--X--X--","----XX---X--X--","----X----X--X--","----X----X-#X-#","----X----X--X--","----X----X--X--","----X----X--X--","---------------","--^^^^^^^^^^^^^"],"4_11_0":["------XXXXXXXXX","------XXXXXXXXX","X-----XXXXXXXXX","XXX---XXXXXXXXX","-XX-----*---#XX","-XX----------XX","-XX------#----*","#XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX"],"9_4_0":["-------^^^^^^^^","---------------","X-------------X","XXX------XXX--X","-XX------X*X--X","-XX------X&---*","-XX------X*X--X","#XX------XXX--X","-XX-----------X","-XX------------","-XX----^^^^^^^^"],"11_0_0":["------^^^^^^^^^","---------------","---------------","-----------X---","---#-------X-&-","-----------XXXX","-----------X-*#","-*---------X---","---------------","---------------","------^^^^^^^^^"],"5_9_0":["-*XXXXXXXXXXXXX","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","-------------^^","-#------------&","----#---#----^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXXXXXX"],"5_12_0":["-*XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","-------------*-","-#-----&-------","----#-----#---#","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"8_5_0":["------^^^^^^^^^","--------X--X--X","X-------X--X--X","XXX-----X--X--X","-XX-----X--X--X","-XX-----X--X--X","-XX-----X--X--X","#XX-----X--X--X","-XX-----X--X--X","-XX------------","-XX---^^^^^^^^^"],"1_11_0":["XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","XXXXXXXXXX*XXX-","---------------","&----&----#----"],"2_0_0":["---------------","---------------","---------------","---X-----------","---X-----------","XXXX----------&","#*-X-----------","---X--#--------","---------------","---------------","---------------"],"14_3_0":["--^^^^^^^^^^^^^","------*#X--X--X","------XXX--X--X","------XX---X--X","------X----X--X","------X----X-#X","------X----X--X","------X----X--X","------X----X--X","---------------","--^^^^^^^^^^^^^"],"7_8_0":["-*XXXXXXXXX---&","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","-------*-----^^","-#-----------^^","----#---#----^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX---*"],"3_8_0":["XX---------XXXX","XX---------XX--","XX---XX----XX--","XX-#-XXXX--XX--","XX-----XX------","XXXX---XX------","XXXX---XX------","XXXX--#XX--XX--","XXXX---XX--XX--","-------XX--XX*#","&------XX--XXXX"],"1_8_0":["XX----------XXX","XX----------XXX","XX---XX-----XXX","XX-#-XXXX---XXX","XX-----XX---XXX","XXXX---XX---XXX","XXXX---XX---XXX","XXXX--#XX---XXX","XXXX---XX------","-------XX------","&------XX---XXX"],"7_6_0":["XX---------^^^^","XX-------------","XX---XX------X-","XX-#-XXXX----XX","XX-----XX----XX","XXXX---XX----*#","XXXX---XX----XX","XXXX--#XX----XX","XXXX---XX----X-","-------XX------","&------XX--^^^^"],"1_12_0":["-----XXXXXXXXXX","-----XXXXXXXXXX","X----XXXXXXXXXX","XXX--XXXXXXXXXX","-XX----&--&--#X","-XX-----------X","-XX------------","#XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX"],"10_1_0":["------^^^^^^^^^","------------X--","------------X--","---X--------X--","---X--------X--","XXXX--------X-#","#*-X--------X--","---X--------X--","------------X--","---------------","------^^^^^^^^^"],"0_11_0":["XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","---------------","&----&----&----"],"16_3_0":["^^^^^^^^^^^^^^^","---------------","-------------X-","--------XXX--XX","--------X*X--XX","--------X&---*#","--------X*X--XX","X-------XXX--XX","XX-----------X-","#X-------------","^^^^^^^^^^^^^^^"],"9_2_0":["------^^^^^^^^^","--------------*","X--------------","XXX----------^^","-XX--------^^^^","-XX-----------&","-XX--------^^^^","#XX----------^^","-XX------------","-XX-----------*","-XX---^^^^^^^^^"],"3_13_0":["-*XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","-----#XXXX-----","-#----XXXX--&--","-------*-------","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"4_12_0":["-----XXXXXXXXXX","-----XXXXXXXXXX","X----XXXXXXXXXX","XXX--XXXXXXXXXX","-XX----*---#XXX","-XX---------XXX","-XX-----#----*-","#XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX"],"1_0_0":["---------------","---------------","---------------","---X-----------","---X-----------","XXXX----------&","#*-X-----------","---X-----------","---------------","---------------","---------------"],"7_4_0":["---------^^^^^^","-----------X--X","X----------X--X","XXX--------X--X","-XX--------X--X","-XX--------X--X","-XX--------X--X","#XX--#-----X--X","-XX--------X--X","-XX------------","-XX------^^^^^^"],"9_1_0":["------^^^^^^^^^","---------------","---------------","---X----------X","---X----------X","XXXX----------X","#*-X----------X","---X----------X","---------------","---------------","------^^^^^^^^^"],"4_9_0":["-------XXXXXXXX","-------XXXXXXXX","X------XXXXXXXX","XXX----XXXXXXXX","-XX------*---*-","-XX------------","-XX-------#---#","#XX----XXXXXXXX","-XX----XXXXXXXX","-XX----XXXXXXXX","-XX----XXXXXXXX"],"1_14_0":["--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","----#XXXXXXXX--","-----XXXXXXX---","------*--------","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"2_10_0":["-------XXXXXXXX","-------XXXXXXXX","X------XXXXXXXX","XXX----XXXXXXXX","-XX---------#XX","-XX------&---XX","-XX-----------*","#XX----XXXXXXXX","-XX----XXXXXXXX","-XX----XXXXXXXX","-XX----XXXXXXXX"],"8_7_0":["-*XXXXXXXXXXXXX","--XXXXXX-----*-","--XXXXXX-------","--XXXXXX----^^^","----------^^^^^","-#-----------&-","----#-----^^^^^","--XXXXXX----^^^","--XXXXXX-------","--XXXXXX-----*-","--XXXXXXXXXXXXX"],"11_2_0":["------^^^^^^^^^","---------X--X--","---------X--X--","---X-----X--X--","---X-----X--X--","XXXX-----X-#X-#","#*-X-----X--X--","---X-----X--X--","---------X--X--","---------------","------^^^^^^^^^"],"6_7_0":["-*XXXXXXXXXXXXX","--XX---&---XXXX","--XX--^^^--XXXX","--XX--^^^--XXXX","------^^^----*-","-#----^^^------","------^^^-----#","--XX--^^^--XXXX","--XX--^^^--XXXX","--XX---&---XXXX","--XXXXXXXXXXXXX"],"2_13_0":["-----XXXXXXXXXX","-----XXXXXXXXXX","X----XXXXXXXXXX","XXX--XXXXXXXXXX","-XX----#XXXXX--","-XX-----XXXXX--","-XX------*-----","#XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX"],"6_1_0":["------------^^^","--------------X","--------------X","---X-----------","---X-----------","XXXX-----------","#*-X-----------","---X--#--------","---------#-----","---------------","------------^^^"],"3_11_0":["------XXXXXXXXX","------XXXXXXXXX","X-----XXXXXXXXX","XXX---XXXXXXXXX","-XX--------#XXX","-XX---------XXX","-XX-----#----*-","#XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX"],"10_2_0":["-----^^^^^^^^^^","--------------*","X--------------","XXX----------^^","-XX--------^^^^","-XX-----------&","-XX--------^^^^","#XX----------^^","-XX------------","-XX-----------*","-XX--^^^^^^^^^^"],"17_2_0":["^^^^^^^^^^^^^^^","---------------","---------------","-----XXX--X----","-----X*X--X-&-&","-----X&---XXXXX","-----X*X--X-*#*","X----XXX--X----","XX-------------","#X-------------","^^^^^^^^^^^^^^^"],"16_4_0":["^^^^^^^^^^^^^^^","-----X--X--X--X","-----X--X--X--X","-----X--X--X--X","-----X--X--X--X","-----X-#X-#X-#X","-----X--X--X--X","X----X--X--X--X","XX---X--X--X--X","#X-------------","^^^^^^^^^^^^^^^"],"8_8_0":["-*XXXXXXXXXXXXX","--XXXXXXX-----*","--XXXXXXX------","--XXXXXXX----^^","----*------^^^^","-#------------&","-----#-----^^^^","--XXXXXXX----^^","--XXXXXXX------","--XXXXXXX-----*","--XXXXXXXXXXXXX"],"10_4_0":["------^^^^^^^^^","---------------","X-------------X","XXX------XXX--X","-XX------X*X--X","-XX------X&---*","-XX------X*X--X","#XX------XXX--X","-XX-----------X","-XX------------","-XX---^^^^^^^^^"],"0_14_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","-------&-------","---------------","----------*----","&-XXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"2_16_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","-------#XXXXXXX","--------XXXXXXX","----#----*-----","&-XXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"15_4_0":["^^^^^^^^^^^^^^^","-----X--X--X--X","-----X--X--X--X","-----X--X--X--X","-----X--X--X--X","-----X-#X-#X--X","-----X--X--X--X","X----X--X--X--X","XX---X--X--X--X","#X-------------","^^^^^^^^^^^^^^^"],"8_6_0":["-*XXXXXXXXXXXXX","--XXXXX-----*--","--XXXXX--------","--XXXXX----^^^-","---------^^^^^^","-#----------&--","----#----^^^^^^","--XXXXX----^^^-","--XXXXX--------","--XXXXX-----*--","--XXXXXXXXXXXXX"],"7_5_0":["------X--^^^^^^","------X----X--X","X-----X----X--X","XXX---X----X--X","-XX--------X--X","-XX--------X-#X","-XX--------X--X","#XX---X----X--X","-XX---X----X--X","-XX---X--------","-XX---X--^^^^^^"],"6_10_0":["-*XXXXXXXXXXXXX","--XXXXXXXXX----","--XXXXXXXXX--X-","--XXXXXXXXX--X-","-------*-----X-","-#-----------X-","----#---#----X-","--XXXXXXXXX--XX","--XXXXXXXXX--XX","--XXXXXXXXX-&*#","--XXXXXXXXXXXXX"],"6_8_0":["-*XXXXXXXX--^^^","--XXXXXXXX-----","--XXXXXXXX----X","--XXXXXXXX----X","--------------X","-#-----&------*","----#---------X","--XXXXXXXX----X","--XXXXXXXX----X","--XXXXXXXX-----","--XXXXXXXX--^^^"],"12_2_0":["------^^^^^^^^^","---------------","-------------X-","--------XXX--XX","---#----X*X--XX","--------X&---*#","--------X*X--XX","-*------XXX--XX","-------------X-","---------------","------^^^^^^^^^"],"4_13_0":["-*XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","----------#XXXX","-#-----&---XXXX","----#-------*--","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"17_3_0":["^^^^^^^^^^^^^^^","---------------","--------------X","-----X-----X--X","-----X-&-&-X--X","-----XXXXXXX--*","-----X-*#*-X--X","X----X-----X--X","XX------------X","#X-------------","^^^^^^^^^^^^^^^"],"3_14_0":["-*XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","-----#XXXXXXX--","-#----XXXXXX---","-------*-------","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"11_4_0":["------^^^^^^^^^","---------------","X--------------","XXX-----X-----X","-XX-----X-&-&-X","-XX-----XXXXXXX","-XX-----X-*#*-X","#XX-----X-----X","-XX------------","-XX------------","-XX---^^^^^^^^^"],"10_6_0":["XXX--^^^^^^^^^^","XXX-----X--X--X","XXX-----X--X--X","XXX-----X--X--X","XXX-----X--X--X","XXX-----X-#X-#X","XXX-----X--X--X","X-------X--X--X","--------X--X--X","-XX------------","XXX--^^^^^^^^^^"],"0_13_0":["-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXX-&-X","---------------","---------------","-------#-------","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX"],"11_5_0":["-----^^^^^^^^^^","--------X--X--X","X-------X--X--X","XXX-----X--X--X","-XX-----X--X--X","-XX-----X-#X-#X","-XX-----X--X--X","#XX-----X--X--X","-XX-----X--X--X","-XX------------","-XX--^^^^^^^^^^"],"8_9_0":["XXXXXXXX--^^^^^","XXXXXXXX-------","XXXXXXXX----X--","XXXXXXXX----XX-","----*-------XXX","------------*#X","-----#------XXX","&-XXXXXX----XX-","XXXXXXXX----X--","XXXXXXXX-------","XXXXXXXX--^^^^^"],"9_7_0":["XXXXXXXXXXXXXXX","----*-----XXXXX","----------XXXXX","---^^^----XXXXX","^^^^^^^^----*--","----&----------","^^^^^^^^-----#-","---^^^----XXXXX","----------XXXXX","----*-----XXXXX","XXXXXXXXXXXXXXX"],"2_14_0":["--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","-------#XXXXXXX","--------XXXXXX-","----#----*-----","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"9_5_0":["------^^^^^^^^^","--------X--X--X","X-------X--X--X","XXX-----X--X--X","-XX-----X--X--X","-XX-----X-#X--X","-XX-----X--X--X","#XX-----X--X--X","-XX-----X--X--X","-XX------------","-XX---^^^^^^^^^"],"12_5_0":["-----^^^^^^^^^^","---------------","X-----------X--","XXX----XXX--XX-","-XX----X*X--XXX","-XX----X&---*#X","-XX----X*X--XXX","#XX----XXX--XX-","-XX---------X--","-XX------------","-XX--^^^^^^^^^^"],"10_5_0":["------^^^^^^^^^","--------X--X--X","X-------X--X--X","XXX-----X--X--X","-XX-----X--X--X","-XX-----X-#X-#X","-XX-----X--X--X","#XX-----X--X--X","-XX-----X--X--X","-XX------------","-XX---^^^^^^^^^"],"1_15_0":["--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","----#XXXXXXXXXX","-----XXXXXXXXXX","------*--------","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"12_4_0":["-----^^^^^^^^^^","---------------","X--------------","XXX-----X-----X","-XX-----X-&-&-X","-XX-----XXXXXXX","-XX-----X-*#*-X","#XX-----X-----X","-XX------------","-XX------------","-XX--^^^^^^^^^^"],"3_16_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","----#XXXX--#XXX","-----XXXX---XXX","------*------*-","&-XXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"9_6_0":["XXXXXXXXXXXXXXX","-----*-----XXXX","-----------XXXX","----^^^----XXXX","^^^^^^^^^------","-----&---------","^^^^^^^^^----#-","----^^^----XXXX","-----------XXXX","-----*-----XXXX","XXXXXXXXXXXXXXX"],"2_15_0":["-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-------#XXXXXXX","--------XXXXXX-","----#----*-----","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX"],"4_16_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","---*---#XXXXXXX","--------XXXXXX-","#---#----*-----","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"7_9_0":["XXXXXXXX--^^^^^","XXXXXXXX-------","XXXXXXXX----X--","XXXXXXXX----XX-","------------XXX","------------*#X","----#-------XXX","&-XXXXXX----XX-","XXXXXXXX----X--","XXXXXXXX-------","XXXXXXXX--^^^^^"],"5_14_0":["-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","---*---*---#XXX","------------XXX","----#---#----*-","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX"],"5_13_0":["-*XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","----*------#XXX","-#------&---XXX","-----#-------*-","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"4_14_0":["-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","---*---#XXXX--#","--------XXXX---","----#----*-----","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX"],"10_7_0":["^^^^^^^^^--XXXX","-----------XXXX","-X---------XXXX","XX--XXX----XXXX","XX--X*X----XXX-","#*--X&-----XX--","XX--X*X--------","XX--XXX----XXXX","-X---------XXXX","-----------XXXX","^^^^^^^^^--XXXX"],"4_15_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","-------*---#XXX","------------XXX","----#---#----*-","&-XXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"5_11_0":["-*XXXXXXXXXXXXX","--XXXXXXXXX*&XX","--XXXXXXXXX--XX","--XXXXXXXXX--XX","-------*-------","-#-------------","----#---#------","--XXXXXXXXX--XX","--XXXXXXXXX--XX","--XXXXXXXXX--XX","--XXXXXXXXXXXXX"],"16_1_0":["^^^^^^^^^^^^^^^","---------------","---------------","----------X----","----------X-&-&","----------XXXXX","----------X-*#*","X---------X----","XX-------------","#X-------------","^^^^^^^^^^^^^^^"],"11_6_0":["XXX--^^^^^^^^^^","XXX------------","XXX---------X--","XXX----XXX--XX-","XXX----X*X--XXX","XXX----X&---*#X","XXX----X*X--XXX","XXX----XXX--XX-","XXX---------X--","---------------","XXX--^^^^^^^^^^"],"18_2_0":["^^^^^^^^^^^^^^^","---------------","---------------","-X-----X--X----","-X-&-&-X--X-&-&","-XXXXXXX--XXXXX","-X-*#*-X--X-*#*","-X-----X--X----","---------------","---------------","^^^^^^^^^^^^^^^"],"12_6_0":["^^^^^^^^^--XXXX","-----------XXXX","-X---------XXXX","XX--XXX----XXXX","XX--X*X------*-","#*--X&---------","XX--X*X-------#","XX--XXX----XXXX","-X---------XXXX","-----------XXXX","^^^^^^^^^--XXXX"],"6_9_0":["-*XXXXXXXXXXXXX","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","-------*-----^^","-#------------&","----#---#----^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXXXXXX"],"3_15_0":["-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","---*---#XXXXXXX","--------XXXXXX-","----#----*-----","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX"],"7_10_0":["XXXXXXXXXXXXXXX","------XXXXXXXXX","------XXXXXXXXX","------XXXXXXXXX","^^^^----*------","------------#--","^^^^-----#----*","------XXXXXXXXX","------XXXXXXXXX","------XXXXXXXXX","XXXXXXXXXXXXXXX"],"6_15_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","---*---*---#XXX","------------XXX","#---#---#----*-","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"5_15_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","---*------#XXXX","-----------XXXX","#---#--#----*--","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"18_3_0":["^^^^^^^^^^^^^^^","---------------","-X-------------","XX---XXX--X----","XX---X*X--X-&-&","#*---X&---XXXXX","XX---X*X--X-*#*","XX---XXX--X----","-X-------------","---------------","^^^^^^^^^^^^^^^"],"13_4_0":["---^^^^^^^^^^^^","-----X--X--X--X","-----X--X--X--X","X----X--X--X--X","X----X--X--X--X","X----X-#X-#X-#X","X----X--X--X--X","X----X--X--X--X","-----X--X--X--X","---------------","---^^^^^^^^^^^^"],"6_14_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","---*---------*-","---------------","#---#--#--#---#","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"6_11_0":["-*XXXXXXXXXXXXX","--XXXXXXXXXX*&X","--XXXXXXXXXX--X","--XXXXXXXXXX--X","----*---*------","-#-------------","-----#---#-----","--XXXXXXXXXX--X","--XXXXXXXXXX--X","--XXXXXXXXXX--X","--XXXXXXXXXXXXX"],"14_4_0":["^^^^^^^^^^^^^^^","-X---------X--X","-X---------X--X","-X--X--X---X--X","-X--X--X---X--X","-X--XXXX---X--X","-X--X--X---X--X","-X--X--X---X--X","-X---------X--X","-#-------------","^^^^^^^^^^^^^^^"],"6_12_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXX----","XXXXXXXXXXX--X-","XXXXXXXXXXX--X-","---*---*-----X-","-------------X-","#---#---#----X-","XXXXXXXXXXX--XX","XXXXXXXXXXX--XX","XXXXXXXXXXX-&*#","XXXXXXXXXXXXXXX"],"1_17_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","X---#XXXXXXXXXX","-----XXXXXXXXXX","------*--------","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"]};class $5{playerIsOnLastLevel=!1;keys=[];columnsPerLevel=[];lossesInARow=0;playerWonLastRound=!1;levelsPlayed=0;optimizeDifficulty;type;constructor(){if(new URLSearchParams(window.location.search).has("default"))this.type=T8;else this.type=X2([r6,m6,y9,T8]);if(console.log(`Director: ${this.type}`),u.director=this.type,this.type==m6)this.optimizeDifficulty=!0;else this.optimizeDifficulty=!1;for(let Q in z.nodes)z.nodes[Q].updateReward(this.optimizeDifficulty)}update(Z,Q){if(++this.levelsPlayed,console.log(this.levelsPlayed,this.type),this.levelsPlayed%v9==0&&this.type==T8){console.log("switch!"),this.optimizeDifficulty=!this.optimizeDifficulty;for(let U in z.nodes)z.nodes[U].updateReward(this.optimizeDifficulty)}let J=this.keys.length,$=[];if(Z){this.lossesInARow=0;for(let U=0;U<J;++U)$.push(1)}else{let U=Q;for(let B=0;B<J;++B)if(U>this.columnsPerLevel[B])$[B]=1,U-=this.columnsPerLevel[B];else{$[B]=U/this.columnsPerLevel[B];break}}let V=$.length;for(let U=0;U<V;++U){let B=$[U],F=this.keys[U],j=z.getNode(F);if(B===1){if(!z.hasEdge(i0,F))console.log(`'adding edge: ${i0} -> ${F}`),z.addEdge(new x(i0,F,[[F,1],[W,0]],[]))}++j.visitedCount,j.sumPercentCompleted+=B,j.updateReward(this.optimizeDifficulty);let R=j.sumPercentCompleted/j.visitedCount,f=1-R;z.mapEdges((Y)=>{if(Y.tgt===F)Y.probability[0][1]=R,Y.probability[1][1]=f})}if(!Z){++this.lossesInARow;for(let U=0;U<this.lossesInARow;++U){let B=z.getNode(i0).neighbors,F=B.length;if(F===1)break;let j="",R=1e4,f=0;for(let Y=0;Y<F;++Y){let K=B[Y];if(K==="0_0_0")continue;let P=z.getNode(K),A=P.depth;if(A<R||A===R&&f<P.difficulty)j=K,R=A,f=P.difficulty}console.log("removing edge:",j,R,f),z.removeEdge(i0,j)}}this.playerWonLastRound=Z}get(Z){let Q;if(this.type==r6)Q=X5(z),console.log(Q);else Q=J5(z,0.95,!0,!0,20);if(this.columnsPerLevel=[],this.playerWonLastRound)this.keys=[X2(Q[i0])];else this.keys=[i0];for(let U=0;U<Z;++U){let B=X2(Q[this.keys[U]]);if(this.keys.push(B),B===C6)break}this.keys.splice(0,1),console.log(this.keys),this.playerIsOnLastLevel=this.keys.includes(C6);let J,$=new Array(Y2).fill(""),V=this.keys.length;for(let U=0;U<V;++U){let B=LQ[this.keys[U]].slice();if(U>0){let j=z.getEdge(this.keys[U-1],this.keys[U]).link,R=j.length;if(R>0)for(let f=0;f<R;++f){let Y=j[f];for(J=0;J<Y2;++J)B[J]=Y[J]+B[J]}}this.columnsPerLevel.push(B[0].length);for(J=0;J<Y2;++J)$[J]+=B[J]}return console.log($.join(`
`)),$}}class V5 extends m2{playerWonIndex=0;playerLostIndex=0;selfIndex=0;mainMenuIndex=0;director;start=0;constructor(){super();this.director=new $5,this.setBB("game over",0),this.setBB("restart",!1)}onEnter(Z){let U=1000,B=0,F=1000,j=0,R=new n2.GridCollisions,f=0,Y=this.director.get(2),P=Y[0].length+4;for(let A=0;A<Y2;++A){let _=[...`--${Y[A]}--`];if(A==0)_[0]="@";else if(A==Y2-1)_[P-1]="O";for(let M=0;M<P;++M){let C=_[M],n=this.addEntity(),d=8+M,B0=7+A;if(U=Math.min(U,d),B=Math.max(B,d),F=Math.min(F,B0),j=Math.max(j,B0),C=="-")continue;this.addComponent(n,new g.Render(C));let p0=new D.Position2d(d,B0);if(this.addComponent(n,p0),R.set(p0,n),C=="O")this.addComponent(n,new g.Portal),this.setBB("portal id",n);else if(C=="@")this.addComponent(n,new g.Player(A0,0)),this.addComponent(n,new g.Movable),this.setBB("player id",n);else if(C=="*")this.addComponent(n,new g.Switch),f+=1;else if(C=="#")this.addComponent(n,new g.Movable),this.addComponent(n,new g.Enemy("Enemy",new D.Position2d(d,B0))),this.addComponent(n,new g.Territory(p0));else if(C=="^")this.addComponent(n,new g.Enemy("Spike",new D.Position2d(d,B0)));else if(C=="/"||C=="\\"||C=="X")this.addComponent(n,new n0);else if(C=="&")this.addComponent(n,new g.Food)}}for(let A=3;A<Z.height/20-1;++A)for(let _=1;_<Z.width/20-1;++_)if(_<U||_>B||A<F||A>j){let M=this.addEntity();this.addComponent(M,new g.Render("X"));let C=new D.Position2d(_,A);if(this.addComponent(M,C),_==U-1||A==F-1||_==B+1||A==j+1)R.set(C,M),this.addComponent(M,new g.Collider)}this.setBB("switch count",f),this.setBB("offset x",8),this.setBB("offset y",7),this.setBB("x mod",20),this.setBB("y mod",20),this.setBB("grid collisions",R),this.setBB("time step",0),this.addSystem(0,new J2.PlayerMovement),this.addSystem(10,new J2.PlayerCollision),this.addSystem(20,new J2.EnemyAI),this.addSystem(90,new J2.PortalSystem),this.addSystem(95,new J2.RenderEnemyTerritory),this.addSystem(100,new J2.RenderSystem),this.addSystem(110,new J2.RenderGameInfo),this.addSystem(900,new J2.UpdatePlayerTurn),u.diedFrom="",u.playerWon=!1,u.levels=this.director.keys,this.start=Date.now()}onExit(Z){let Q=this.getBB("game over"),J=this.getBB("player id"),$=this.getComponents(J).get(H0).furthestColumn;this.director.update(Q===1,$),++u.order,this.clear()}customUpdate(Z){let Q=this.getBB("game over");if(Q===-1||Q===1){let $=(Date.now()-this.start)/1000;return u.time=$,P0.submitAttempt(),Q==1?this.playerWonIndex:this.playerLostIndex}else if(Z.keyDown.has(9))return this.selfIndex;else if(Z.keyDown.has(8))return this.mainMenuIndex;return-1}}class z5 extends T0{gameSceneIndex=0;surveySceneIndex=0;timer=0;constructor(){super()}onEnter(Z){this.timer=0}onExit(Z){}update(Z){if(performance.now()-A8>_8)return this.surveySceneIndex;if(this.timer+=Z.delta,this.timer>2||Z.keyDown.has(12))return this.gameSceneIndex;else return Z.setFont(40),Z.drawText(360,240,"You lost! :/","red"),-1}}class w5 extends T0{gameSceneIndex=0;surveySceneIndex=0;timer=0;constructor(){super()}onEnter(Z){this.timer=0}onExit(Z){}update(Z){if(performance.now()-A8>_8)return this.surveySceneIndex;if(this.timer+=Z.delta,this.timer>2||Z.keyDown.has(12))return n2.Cookie.set(Z.getBB("level"),"b"),this.gameSceneIndex;else return Z.setFont(40),Z.drawText(420,240,"You won!","green"),-1}}class U5 extends T0{sceneIndex=0;gameIndex=0;tutorialIndex=0;surveyIndex=0;timer=0;constructor(){super()}onEnter(Z){}onExit(Z){}update(Z){if(Z.keyDown.has(12)){if(Z.keyDown.clear(),W2.get("completed tutorial"))return this.gameIndex;return this.tutorialIndex}else return Z.setFont(40),Z.drawText(360,100,"DungeonGrams"),Z.setFont(20),Z.drawText(385,150,"Press Enter to Start"),Z.drawText(250,200,"& gives you stamina","yellow"),Z.drawText(250,222,"Collect all * to open the portal.","yellow"),Z.drawText(250,244,"Step through the portal O to win!","yellow"),Z.drawText(250,266,"But make sure to avoid the enemies # and traps ^","yellow"),Z.drawText(250,350,"WASD or Arrows to move","green"),Z.drawText(250,375,"Space to do nothing for a turn","green"),Z.drawText(250,400,"R to restart","green"),Z.drawText(250,425,"Q to quit","green"),-1}}class W5 extends m2{gameSceneIndex=0;constructor(){super();this.setBB("x mod",20),this.setBB("y mod",20),this.setBB("turn",0),this.setBB("tutorial over",!1),this.setBB("time step",0);let Z=this.addEntity();this.setBB("player id",Z),this.addComponent(Z,new D.Position2d(25,5)),this.addComponent(Z,new H2),this.addComponent(Z,new H0(A0,0)),this.addComponent(Z,new S0("@"));let Q=this.addEntity();this.addComponent(Q,new D.Position2d(5,20)),this.addComponent(Q,new g0("Press 'A' to move left.")),this.addSystem(0,new w8(Z,Q)),this.addSystem(90,new U8),this.addSystem(100,new p1)}customUpdate(Z){if(this.getBB("tutorial over"))return console.log(this.gameSceneIndex,"done"),this.gameSceneIndex;return-1}onEnter(Z){}onExit(Z){}}class x5 extends T0{constructor(){super()}onEnter(Z){document.getElementById("game").style.display="none",document.getElementById("survey").style.display="block",Z.shutoff()}onExit(Z){}update(Z){return-1}}var P2={Game:V5,PlayerLost:z5,PlayerWon:w5,StartMenu:U5,Tutorial:W5,Survey:x5};var S2=["I liked the look and feel of the game.","The game was not too easy and not too hard to play.","It was easy to know how to perform actions in the game.","The goals of the game were clear to me.","The game gave clear feedback on my progress towards the goals.","I felt free to play the game in my own way.","I wanted to explore how the game evolved.","I was fully focused on the game.","I felt I was good at playing this game.","Playing the game was meaningful to me.","I had a good time playing this game."];function q5(Z){let Q=Z.length-1;for(;Q>0;--Q){let J=Math.floor(Math.random()*(Q+1)),$=Z[Q];Z[Q]=Z[J],Z[J]=$}}P0.init();if(location.hostname==="localhost"||location.hostname==="127.0.0.1"||location.hostname==="")u.playerID="-1";else if(new URLSearchParams(window.location.search).has("id"))u.playerID=crypto.randomUUID();else u.playerID="-1";console.log(`Player ID: ${u.playerID}`);var $2=new l8;$2.displayFPS=!1;var w6=new P2.StartMenu,q8=new P2.Game,B5=new P2.PlayerLost,F5=new P2.PlayerWon,NQ=new P2.Tutorial,d$=new P2.Survey,E$=$2.addScene(w6),B8=$2.addScene(q8),o$=$2.addScene(B5),e$=$2.addScene(F5),a$=$2.addScene(NQ),h5=$2.addScene(d$);w6.tutorialIndex=a$;w6.gameIndex=B8;w6.surveyIndex=h5;q8.playerLostIndex=o$;q8.playerWonIndex=e$;q8.selfIndex=B8;q8.mainMenuIndex=E$;B5.gameSceneIndex=B8;B5.surveySceneIndex=h5;F5.gameSceneIndex=B8;F5.surveySceneIndex=h5;NQ.gameSceneIndex=B8;$2.start();q5(S2);q5(S2);var j5=document.getElementById("questionnaire"),M2=0;for(;M2<S2.length;++M2){let Z=S2[M2],Q=Z.split(" ").join("_"),J=`<fieldset id="${Q}">
  <label for="${Q}" required><b>${Z}</b></label>
    <br/>
    <br/>
    <table>
      <tr>
        <td></td>
        <td>-3</td>
        <td>-2</td>
        <td>-1</td>
        <td>&#20;0</td>
        <td>&#20;1</td>
        <td>&#20;2</td>
        <td>&#20;3</td>
        <td></td>
      </tr>
      <tr>
        <td>Strongly disagree</td>
        <td><input type="radio" name="${Q}" value="-3"/></td>
        <td><input type="radio" name="${Q}" value="-2"/></td>
        <td><input type="radio" name="${Q}" value="-1"/></td>
        <td><input type="radio" name="${Q}" value="0"/></td>
        <td><input type="radio" name="${Q}" value="1"/></td>
        <td><input type="radio" name="${Q}" value="2"/></td>
        <td><input type="radio" name="${Q}" value="3"/></td>
        <td>Strongly agree</td>
      </tr>
    </table>
  </fieldset>
  <br/>`;j5.innerHTML+=J}var R5=document.createElement("button");R5.type="submit";R5.innerText="Submit";j5.appendChild(R5);j5.onsubmit=(Z)=>{Z.preventDefault();let Q={};for(M2=0;M2<S2.length;++M2){let J=S2[M2],$=J.split(" ").join("_"),V=document.getElementsByName($),U=!1;for(let B=0;B<7;++B){let F=V[B];if(F.checked){Q[J]=Number(F.value),U=!0;break}}document.getElementById($).style.borderColor=U?"white":"red"}if(Object.keys(Q).length==S2.length)P0.submitSurvey(Q),document.getElementById("survey").style.display="none",document.getElementById("complete").style.display="block";else document.getElementById("errorText").innerText="Please fill in the whole questionnaire. Red boxes indicate missed answers."};document.getElementById("done").onclick=()=>{$2.shutoff(),document.getElementById("game").style.display="none",document.getElementById("survey").style.display="block"};
