var xJ=Object.defineProperty;var i6=(Z,Q)=>{for(var J in Q)xJ(Z,J,{get:Q[J],enumerable:!0,configurable:!0,set:($)=>Q[J]=()=>$})};function m6(Z){switch(Z){case"Down":case"ArrowDown":return 2;case"Up":case"ArrowUp":return 3;case"Right":case"ArrowRight":return 1;case"Left":case"ArrowLeft":return 0;case" ":case"Space":return 10;case"Escape":return 11;case"a":case"A":return 5;case"s":case"S":return 6;case"d":case"D":return 7;case"w":case"W":return 4;case"r":case"R":return 9;case"q":case"Q":return 8;case"Enter":return 12;default:return console.warn(`Unhandled key: ${Z}.`),13}}class u8{keyDown=new Set;keyPress=new Set;width;height;delta;clearBackground=!0;displayFPS=!0;scenes=new Array;sceneIndex=0;ctx;blackBoard=new Map;fontSize=20;font="Courier New";running=!0;constructor(){window.addEventListener("keydown",(Q)=>{let J=m6(Q.key);if(J==2||J==3||J==0||J==1)Q.preventDefault();if(!this.keyDown.has(J))this.keyDown.add(J);this.keyPress.add(J)}),window.addEventListener("keyup",(Q)=>{let J=m6(Q.key);this.keyDown.delete(J)});let Z=document.getElementById("canvas");this.ctx=Z.getContext("2d"),this.setFont(),this.width=Z.width,this.height=Z.height,this.delta=0}isKeyDown(Z){return this.keyDown.has(Z)}setBB(Z,Q){this.blackBoard.set(Z,Q)}getBB(Z){return this.blackBoard.get(Z)}addScene(Z){return this.scenes.push(Z),this.scenes.length-1}start(){let Z,Q;this.scenes[this.sceneIndex].onEnter(this);let J=($)=>{if(this.delta=($-Z)/1000,Z=$,Q=Math.round(1/this.delta),this.clearBackground)this.ctx.fillStyle="black",this.ctx.fillRect(0,0,this.width,this.height);if(this.update(),this.displayFPS&&this.clearBackground){let w=this.fontSize,W=this.font;this.setFont(8,"Courier New"),this.drawText(this.width-60,15,`FPS: ${Q}`,"red"),this.setFont(w,W)}if(this.keyPress.clear(),this.running)window.requestAnimationFrame(J)};window.requestAnimationFrame(J)}update(){let Z=this.scenes[this.sceneIndex].update(this);if(Z!==-1)this.scenes[this.sceneIndex].onExit(this),this.sceneIndex=Z,this.scenes[this.sceneIndex].onEnter(this)}setFont(Z=void 0,Q=void 0){if(Z!=null)this.fontSize=Z;if(Q!=null)this.font=Q;this.ctx.font=`${this.fontSize}px ${this.font}`}drawRectOutline(Z,Q,J,$,w,W){this.ctx.lineWidth=w,this.ctx.strokeStyle=W,this.ctx.strokeRect(Z,Q,J,$)}drawRect(Z,Q,J,$,w){this.ctx.fillStyle=w,this.ctx.fillRect(Z,Q,J,$)}drawText(Z,Q,J,$="white",w=!1,W="white"){if(w){let x=this.ctx.measureText(J);this.drawRect(Z-1,Q-this.fontSize*0.7,x.width,this.fontSize-2,W)}this.ctx.fillStyle=$,this.ctx.fillText(J,Z,Q)}shutoff(){this.running=!1}}class J0{}class g6{map=new Map;add(Z){this.map.set(Z.constructor,Z)}get(Z){return this.map.get(Z)}has(Z){return this.map.has(Z)}hasAll(Z){for(let Q of Z)if(!this.map.has(Q))return!1;return!0}delete(Z){this.map.delete(Z)}}class w0{ecs}class T0{}class g2 extends T0{entities=new Map;priorityToSystem=new Map;priorityToComponents=new Map;priorities=new Array;blackBoard=new Map;nextEntityID=0;entitiesToDestroy=new Array;update(Z){for(let Q of this.priorities){let J=this.priorityToSystem.get(Q),$=this.priorityToComponents.get(Q);J.update(Z,$)}while(this.entitiesToDestroy.length>0)this.destroyEntity(this.entitiesToDestroy.pop());return this.customUpdate(Z)}addEntity(){let Z=this.nextEntityID;return this.nextEntityID++,this.entities.set(Z,new g6),Z}removeEntity(Z){this.entitiesToDestroy.push(Z)}addComponent(Z,Q){this.entities.get(Z).add(Q),this.checkE(Z)}getComponents(Z){return this.entities.get(Z)}removeComponent(Z,Q){this.entities.get(Z)?.delete(Q),this.checkE(Z)}setBB(Z,Q){this.blackBoard.set(Z,Q)}getBB(Z){return this.blackBoard.get(Z)}addSystem(Z,Q){if(this.priorities.includes(Z)){alert("Fatal error. Check the console."),console.error(`${Q} can not be used since priority ${Z} already in use.`);return}Q.ecs=this,this.priorityToSystem.set(Z,Q),this.priorityToComponents.set(Z,new Set),this.priorities.push(Z),this.priorities.sort();for(let J of this.entities.keys())this.checkES(J,Z)}clear(){this.entities.clear(),this.priorityToComponents.clear(),this.priorityToSystem.clear(),this.blackBoard.clear(),this.priorities.length=0,this.nextEntityID=0}destroyEntity(Z){this.entities.delete(Z);for(let Q of this.priorities)this.priorityToComponents.get(Q)?.delete(Z)}checkE(Z){for(let Q of this.priorities)this.checkES(Z,Q)}checkES(Z,Q){let J=this.entities.get(Z),$=this.priorityToSystem.get(Q).componentsRequired;if(J.hasAll($))this.priorityToComponents.get(Q).add(Z);else this.priorityToComponents.get(Q).delete(Z)}}var s={};i6(s,{Position2d:()=>a});class a extends J0{x;y;oldX;oldY;changed=!1;constructor(Z,Q){super();this.x=Z;this.y=Q;this.x=Z,this.y=Q,this.oldX=Z,this.oldY=Q}toArray(){return[this.x,this.y]}equals(Z){return this.x==Z.x&&this.y==Z.y}hash(){return(this.x+this.y)*(this.x+this.y+1)/2+this.y}oldHash(){return(this.oldX+this.oldY)*(this.oldX+this.oldY+1)/2+this.oldY}updated(){return this.changed}set(Z,Q){this.changed=!0,this.x=Z,this.y=Q}setPos(Z){this.changed=!0,this.x=Z.x,this.y=Z.y}setX(Z){this.changed=!0,this.x=Z}setY(Z){this.changed=!0,this.y=Z}getX(){return this.x}getY(){return this.y}acceptChange(){this.changed=!1,this.oldX=this.x,this.oldY=this.y}rejectChange(){this.changed=!1,this.x=this.oldX,this.y=this.oldY}euclideanDistance(Z){let Q=Math.pow(this.x-Z.x,2),J=Math.pow(this.y-Z.y,2);return Math.sqrt(Q+J)}add(Z){return new a(this.x+Z.x,this.y+Z.y)}}var B2={};i6(B2,{GridCollisions:()=>Y1,Cookie:()=>x2});class Y1{grid=new Map;get(Z){return this.grid.get(Z.hash())}set(Z,Q){let J=Z.hash();if(this.grid.has(J))return!1;return this.grid.set(J,Q),!0}remove(Z,Q){if(Q)this.grid.delete(Z.hash());else this.grid.delete(Z.oldHash())}acceptChange(Z,Q){this.grid.delete(Z.oldHash()),Z.acceptChange(),this.grid.set(Z.hash(),Q)}}var x2={};i6(x2,{set:()=>BJ,get:()=>hJ});function BJ(Z,Q){let J=new Date;J.setTime(J.getTime()+2678400000),document.cookie=Z+"="+Q+"; expires="+J.toUTCString()+"; path=/"}function hJ(Z){let J=("; "+document.cookie).split("; "+Z+"=");if(J!=null&&J.length==2)return J.pop().split(";").shift();return}class D0 extends J0{constructor(){super()}}class K2 extends J0{constructor(){super()}}class f0 extends J0{stamina;furthestColumn;constructor(Z,Q){super();this.stamina=Z;this.furthestColumn=Q}}class D2 extends J0{constructor(){super()}}class N0 extends J0{character;constructor(Z){super();this.character=Z}}class D6 extends J0{constructor(){super()}}class h2 extends J0{type;startPosition;constructor(Z,Q){super();this.type=Z;this.startPosition=Q}}class n6 extends J0{constructor(){super()}}var T2=11,M0=40,f9=30,o0=-1,K9=1,C8=0,f1=8,s6=7,a0=3;var l0="start",U="death",b6="end",T9="#FF000022",A9="#FF440011",K1="difficulty",r8="enjoyment",T1="switch",A1="random",p1="mean",p9=3,i8=performance.now(),m8=600000;class _1 extends J0{territory;constructor(Z){super();this.territory=[];for(let Q=-a0;Q<=a0;++Q)for(let J=-a0;J<=a0;++J){let $=new s.Position2d(J+Z.getX(),Q+Z.getY());if(Z.euclideanDistance($)<=a0)this.territory.push($)}}}var D={Collider:D0,Enemy:h2,Movable:K2,Player:f0,Portal:D2,Render:N0,Switch:D6,Food:n6,Territory:_1,VisibleText:Text};class M{static playerID="-1";static playerWon=!1;static order=0;static staminaLeft=0;static time=0;static levels=[];static diedFrom="Stamina";static playerGaveUp=!1;static gamesPlayed=0;static director="-1";static version="0.0.3";static tutorialDiedToEnemy=0;static tutorialDiedToStamina=0;static playerPathX=[];static playerPathY=[];static demographicSurveyData={};static difficultyScore=0}class P1 extends w0{componentsRequired=new Set([s.Position2d,D.Enemy,D.Movable]);constructor(){super()}update(Z,Q){if(this.ecs.getBB("time step")%3!=0)return;let J=this.ecs.getBB("player id"),$=this.ecs.getComponents(J),w=$.get(s.Position2d),W=this.ecs.getBB("grid collisions");Z:for(let h of Q){let j=this.ecs.getComponents(h),R=j.get(s.Position2d),H=j.get(h2).startPosition,f,K=H.euclideanDistance(w),l=R.euclideanDistance(H);if(K<=a0&&l<=a0)f=w;else f=H;let _=this.getMoves(R,f),P=_.length;for(let u=0;u<P;++u){let r=R.add(_[u]);if(r.equals(w)){M.staminaLeft=$.get(f0).stamina,M.diedFrom=j.get(h2).type,this.ecs.setBB("game over",o0);break Z}else if(W.get(r)===void 0){R.setPos(r),W.acceptChange(R,h);break}}}let x=this.ecs.getBB("time step");this.ecs.setBB("time step",x+1)}getMoves(Z,Q){let J=new Array,$=Z.getY()-s6,w=Z.getX()-f1,W=Q.getY()-$-s6,x=Q.getX()-w-f1;if(W==0&&x==0)return J;if(Math.abs(W)>Math.abs(x)){if(W!==0)J.push(new s.Position2d(0,Math.sign(W)));if(x!==0)J.push(new s.Position2d(Math.sign(x),0))}else if(Math.abs(x)>Math.abs(W)){if(x!==0)J.push(new s.Position2d(Math.sign(x),0));if(W!==0)J.push(new s.Position2d(0,Math.sign(W)))}else if((w+$)%2==0){if(W!==0)J.push(new s.Position2d(0,Math.sign(W)));if(x!==0)J.push(new s.Position2d(Math.sign(x),0))}else{if(x!==0)J.push(new s.Position2d(Math.sign(x),0));if(W!==0)J.push(new s.Position2d(0,Math.sign(W)))}return J}}class M1 extends w0{componentsRequired=new Set([]);update(Z,Q){let J=this.ecs.getBB("player id"),$=this.ecs.getComponents(J),w=$.get(s.Position2d);if(!w.updated())return;let W=$.get(D.Player);if(W.stamina<=0)M.diedFrom="Stamina",M.staminaLeft=0,this.ecs.setBB("game over",o0);let x=this.ecs.getBB("grid collisions"),h=x.get(w);if(h==null){x.acceptChange(w,J);return}let j=this.ecs.getComponents(h);if(j.has(D.Switch)){let R=this.ecs.getBB("switch count")-1;this.ecs.setBB("switch count",R),this.ecs.removeEntity(h),x.acceptChange(w,J);return}if(j.has(D.Enemy)){M.diedFrom=j.get(D.Enemy).type,M.staminaLeft=W.stamina,this.ecs.setBB("game over",o0);return}if(j.has(D.Portal)){if(this.ecs.getBB("switch count")==0)M.diedFrom="",M.playerWon=!0,M.staminaLeft=W.stamina,this.ecs.setBB("game over",K9);else w.rejectChange();return}if(j.has(D.Food)){W.stamina=Math.min(W.stamina+f9,M0),this.ecs.removeEntity(h),x.acceptChange(w,J),this.ecs.setBB("game over",C8);return}w.rejectChange()}}class l1 extends w0{componentsRequired=new Set([a,N0,f0]);updateTimeStep(){let Z=this.ecs.getBB("time step");this.ecs.setBB("time step",Z+1)}update(Z,Q){let J=Q.values().next().value,$=this.ecs.getComponents(J),w=$.get(f0),W=$.get(a),x=W.getX(),h=W.getY();for(let j of Z.keyPress){let R=!1;switch(j){case 5:case 0:this.updateTimeStep(),R=!0,w.stamina-=1,W.setX(x-1);break;case 6:case 2:this.updateTimeStep(),R=!0,W.setY(h+1),w.stamina-=1;break;case 7:case 1:this.updateTimeStep(),R=!0,W.setX(x+1),w.stamina-=1;break;case 4:case 3:this.updateTimeStep(),R=!0,W.setY(h-1),w.stamina-=1;break;case 10:if(this.updateTimeStep(),w.stamina-=1,R=!0,w.stamina<=0)M.diedFrom="Stamina",this.ecs.setBB("game over",o0);break}if(R){M.playerPathX.push(W.x),M.playerPathY.push(W.y),w.furthestColumn=Math.max(w.furthestColumn,W.getX()-f1);break}}}}class c6 extends w0{componentsRequired=new Set([D.Portal,D.Render]);update(Z,Q){let[J]=Q;if(this.ecs.getBB("switch count")==0)this.ecs.getComponents(J).get(D.Render).character="O";else this.ecs.getComponents(J).get(D.Render).character="o"}}class u1 extends w0{componentsRequired=new Set([D.Player]);update(Z,Q){let[J]=Q,$=this.ecs.getComponents(J).get(D.Player).stamina,w;if($>20)w="green";else if($>10)w="#8B8000";else w="red";Z.drawRect(20,20,$*8,20,w);let W=M0*8;Z.drawRectOutline(19,18,W+2,22,2,"gray"),Z.drawText(M0*4,35,`${$}`,"white");let x=this.ecs.getBB("time step"),h=x<10?890:875;Z.drawText(h,30,`Turn: ${x}`)}}class C1 extends w0{componentsRequired=new Set([s.Position2d,D.Render]);charToColor={"@":"white","-":"#d9d1d0",X:"#636363","*":"#0ccef0","\\":"#c300d1","/":"#c300d1",o:"#414d42",O:"#19f00a","#":"red","^":"#f0cd0a","&":"#259c2b"};update(Z,Q){let J=this.ecs.getBB("x mod"),$=this.ecs.getBB("y mod");Z.setFont(20);for(let w of Q.values()){let W=this.ecs.getComponents(w),x=W.get(D.Render),h=W.get(s.Position2d),j=x.character,R=this.charToColor[j];Z.drawText(h.getX()*J,h.getY()*$,j,R)}}}class d6 extends w0{componentsRequired=new Set([]);update(Z,Q){this.ecs.setBB("player turn",!0)}}class r1 extends w0{componentsRequired=new Set([D.Territory]);update(Z,Q){let J=(this.ecs.getBB("time step")+1)%3===0?T9:A9,$=this.ecs.getBB("x mod"),w=this.ecs.getBB("y mod"),W=this.ecs.getBB("player id"),x=this.ecs.getComponents(W).get(s.Position2d);for(let h of Q.values()){let j=this.ecs.getComponents(h);if(j.get(s.Position2d).euclideanDistance(x)>4)continue;let R=j.get(D.Territory).territory,H=R.length;for(let f=0;f<H;++f){let K=R[f];Z.drawText(K.getX()*$,K.getY()*w," ","#000000",!0,J)}}}}class n0 extends J0{text;constructor(Z){super();this.text=Z}}var P9=function(Z){let Q=[],J=0;for(let $=0;$<Z.length;$++){let w=Z.charCodeAt($);if(w<128)Q[J++]=w;else if(w<2048)Q[J++]=w>>6|192,Q[J++]=w&63|128;else if((w&64512)===55296&&$+1<Z.length&&(Z.charCodeAt($+1)&64512)===56320)w=65536+((w&1023)<<10)+(Z.charCodeAt(++$)&1023),Q[J++]=w>>18|240,Q[J++]=w>>12&63|128,Q[J++]=w>>6&63|128,Q[J++]=w&63|128;else Q[J++]=w>>12|224,Q[J++]=w>>6&63|128,Q[J++]=w&63|128}return Q},FJ=function(Z){let Q=[],J=0,$=0;while(J<Z.length){let w=Z[J++];if(w<128)Q[$++]=String.fromCharCode(w);else if(w>191&&w<224){let W=Z[J++];Q[$++]=String.fromCharCode((w&31)<<6|W&63)}else if(w>239&&w<365){let W=Z[J++],x=Z[J++],h=Z[J++],j=((w&7)<<18|(W&63)<<12|(x&63)<<6|h&63)-65536;Q[$++]=String.fromCharCode(55296+(j>>10)),Q[$++]=String.fromCharCode(56320+(j&1023))}else{let W=Z[J++],x=Z[J++];Q[$++]=String.fromCharCode((w&15)<<12|(W&63)<<6|x&63)}}return Q.join("")},M9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob==="function",encodeByteArray(Z,Q){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();let J=Q?this.byteToCharMapWebSafe_:this.byteToCharMap_,$=[];for(let w=0;w<Z.length;w+=3){let W=Z[w],x=w+1<Z.length,h=x?Z[w+1]:0,j=w+2<Z.length,R=j?Z[w+2]:0,H=W>>2,f=(W&3)<<4|h>>4,K=(h&15)<<2|R>>6,l=R&63;if(!j){if(l=64,!x)K=64}$.push(J[H],J[f],J[K],J[l])}return $.join("")},encodeString(Z,Q){if(this.HAS_NATIVE_SUPPORT&&!Q)return btoa(Z);return this.encodeByteArray(P9(Z),Q)},decodeString(Z,Q){if(this.HAS_NATIVE_SUPPORT&&!Q)return atob(Z);return FJ(this.decodeStringToByteArray(Z,Q))},decodeStringToByteArray(Z,Q){this.init_();let J=Q?this.charToByteMapWebSafe_:this.charToByteMap_,$=[];for(let w=0;w<Z.length;){let W=J[Z.charAt(w++)],h=w<Z.length?J[Z.charAt(w)]:0;++w;let R=w<Z.length?J[Z.charAt(w)]:64;++w;let f=w<Z.length?J[Z.charAt(w)]:64;if(++w,W==null||h==null||R==null||f==null)throw new l9;let K=W<<2|h>>4;if($.push(K),R!==64){let l=h<<4&240|R>>2;if($.push(l),f!==64){let _=R<<6&192|f;$.push(_)}}}return $},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)if(this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length)this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z}}};class l9 extends Error{constructor(){super(...arguments);this.name="DecodeBase64StringError"}}var jJ=function(Z){let Q=P9(Z);return M9.encodeByteArray(Q,!0)},i1=function(Z){return jJ(Z).replace(/\./g,"")},RJ=function(Z){try{return M9.decodeString(Z,!0)}catch(Q){console.error("base64Decode failed: ",Q)}return null};function OJ(){if(typeof self!=="undefined")return self;if(typeof window!=="undefined")return window;if(typeof global!=="undefined")return global;throw new Error("Unable to locate global object.")}var GJ=()=>OJ().__FIREBASE_DEFAULTS__,IJ=()=>{if(typeof process==="undefined"||typeof process.env==="undefined")return;let Z=process.env.__FIREBASE_DEFAULTS__;if(Z)return JSON.parse(Z)},kJ=()=>{if(typeof document==="undefined")return;let Z;try{Z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(J){return}let Q=Z&&RJ(Z[1]);return Q&&JSON.parse(Q)},t6=()=>{try{return GJ()||IJ()||kJ()}catch(Z){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Z}`);return}},SJ=(Z)=>{var Q,J;return(J=(Q=t6())===null||Q===void 0?void 0:Q.emulatorHosts)===null||J===void 0?void 0:J[Z]},u9=(Z)=>{let Q=SJ(Z);if(!Q)return;let J=Q.lastIndexOf(":");if(J<=0||J+1===Q.length)throw new Error(`Invalid host ${Q} with no separate hostname and port!`);let $=parseInt(Q.substring(J+1),10);if(Q[0]==="[")return[Q.substring(1,J-1),$];else return[Q.substring(0,J),$]},E6=()=>{var Z;return(Z=t6())===null||Z===void 0?void 0:Z.config};class g8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,Q)=>{this.resolve=Z,this.reject=Q})}wrapCallback(Z){return(Q,J)=>{if(Q)this.reject(Q);else this.resolve(J);if(typeof Z==="function")if(this.promise.catch(()=>{}),Z.length===1)Z(Q);else Z(Q,J)}}}function C9(Z,Q){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let J={alg:"none",type:"JWT"},$=Q||"demo-project",w=Z.iat||0,W=Z.sub||Z.user_id;if(!W)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let x=Object.assign({iss:`https://securetoken.google.com/${$}`,aud:$,iat:w,exp:w+3600,auth_time:w,sub:W,user_id:W,firebase:{sign_in_provider:"custom",identities:{}}},Z),h="";return[i1(JSON.stringify(J)),i1(JSON.stringify(x)),h].join(".")}function r9(){if(typeof navigator!=="undefined"&&typeof navigator.userAgent==="string")return navigator.userAgent;else return""}function NJ(){var Z;let Q=(Z=t6())===null||Z===void 0?void 0:Z.forceEnvironment;if(Q==="node")return!0;else if(Q==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(J){return!1}}function i9(){return!NJ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function o6(){try{return typeof indexedDB==="object"}catch(Z){return!1}}function m9(){return new Promise((Z,Q)=>{try{let J=!0,$="validate-browser-context-for-indexeddb-analytics-module",w=self.indexedDB.open($);w.onsuccess=()=>{if(w.result.close(),!J)self.indexedDB.deleteDatabase($);Z(!0)},w.onupgradeneeded=()=>{J=!1},w.onerror=()=>{var W;Q(((W=w.error)===null||W===void 0?void 0:W.message)||"")}}catch(J){Q(J)}})}var LJ="FirebaseError";class e0 extends Error{constructor(Z,Q,J){super(Q);if(this.code=Z,this.customData=J,this.name=LJ,Object.setPrototypeOf(this,e0.prototype),Error.captureStackTrace)Error.captureStackTrace(this,D8.prototype.create)}}class D8{constructor(Z,Q,J){this.service=Z,this.serviceName=Q,this.errors=J}create(Z,...Q){let J=Q[0]||{},$=`${this.service}/${Z}`,w=this.errors[Z],W=w?yJ(w,J):"Error",x=`${this.serviceName}: ${W} (${$}).`;return new e0($,x,J)}}function yJ(Z,Q){return Z.replace(vJ,(J,$)=>{let w=Q[$];return w!=null?String(w):`<${$}?>`})}var vJ=/\{\$([^}]+)}/g;function m1(Z,Q){if(Z===Q)return!0;let J=Object.keys(Z),$=Object.keys(Q);for(let w of J){if(!$.includes(w))return!1;let W=Z[w],x=Q[w];if(_9(W)&&_9(x)){if(!m1(W,x))return!1}else if(W!==x)return!1}for(let w of $)if(!J.includes(w))return!1;return!0}function _9(Z){return Z!==null&&typeof Z==="object"}function n2(Z){if(Z&&Z._delegate)return Z._delegate;else return Z}class s2{constructor(Z,Q,J){this.name=Z,this.instanceFactory=Q,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}var A2="[DEFAULT]";class g9{constructor(Z,Q){this.name=Z,this.container=Q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){let Q=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(Q)){let J=new g8;if(this.instancesDeferred.set(Q,J),this.isInitialized(Q)||this.shouldAutoInitialize())try{let $=this.getOrInitializeService({instanceIdentifier:Q});if($)J.resolve($)}catch($){}}return this.instancesDeferred.get(Q).promise}getImmediate(Z){var Q;let J=this.normalizeInstanceIdentifier(Z===null||Z===void 0?void 0:Z.identifier),$=(Q=Z===null||Z===void 0?void 0:Z.optional)!==null&&Q!==void 0?Q:!1;if(this.isInitialized(J)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:J})}catch(w){if($)return null;else throw w}else if($)return null;else throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,!this.shouldAutoInitialize())return;if(YJ(Z))try{this.getOrInitializeService({instanceIdentifier:A2})}catch(Q){}for(let[Q,J]of this.instancesDeferred.entries()){let $=this.normalizeInstanceIdentifier(Q);try{let w=this.getOrInitializeService({instanceIdentifier:$});J.resolve(w)}catch(w){}}}clearInstance(Z=A2){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}async delete(){let Z=Array.from(this.instances.values());await Promise.all([...Z.filter((Q)=>("INTERNAL"in Q)).map((Q)=>Q.INTERNAL.delete()),...Z.filter((Q)=>("_delete"in Q)).map((Q)=>Q._delete())])}isComponentSet(){return this.component!=null}isInitialized(Z=A2){return this.instances.has(Z)}getOptions(Z=A2){return this.instancesOptions.get(Z)||{}}initialize(Z={}){let{options:Q={}}=Z,J=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let $=this.getOrInitializeService({instanceIdentifier:J,options:Q});for(let[w,W]of this.instancesDeferred.entries()){let x=this.normalizeInstanceIdentifier(w);if(J===x)W.resolve($)}return $}onInit(Z,Q){var J;let $=this.normalizeInstanceIdentifier(Q),w=(J=this.onInitCallbacks.get($))!==null&&J!==void 0?J:new Set;w.add(Z),this.onInitCallbacks.set($,w);let W=this.instances.get($);if(W)Z(W,$);return()=>{w.delete(Z)}}invokeOnInitCallbacks(Z,Q){let J=this.onInitCallbacks.get(Q);if(!J)return;for(let $ of J)try{$(Z,Q)}catch(w){}}getOrInitializeService({instanceIdentifier:Z,options:Q={}}){let J=this.instances.get(Z);if(!J&&this.component){if(J=this.component.instanceFactory(this.container,{instanceIdentifier:HJ(Z),options:Q}),this.instances.set(Z,J),this.instancesOptions.set(Z,Q),this.invokeOnInitCallbacks(J,Z),this.component.onInstanceCreated)try{this.component.onInstanceCreated(this.container,Z,J)}catch($){}}return J||null}normalizeInstanceIdentifier(Z=A2){if(this.component)return this.component.multipleInstances?Z:A2;else return Z}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HJ(Z){return Z===A2?void 0:Z}function YJ(Z){return Z.instantiationMode==="EAGER"}class a6{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){let Q=this.getProvider(Z.name);if(Q.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);Q.setComponent(Z)}addOrOverwriteComponent(Z){if(this.getProvider(Z.name).isComponentSet())this.providers.delete(Z.name);this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);let Q=new g9(Z,this);return this.providers.set(Z,Q),Q}getProviders(){return Array.from(this.providers.values())}}var fJ=[],Q0;(function(Z){Z[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT"})(Q0||(Q0={}));var KJ={debug:Q0.DEBUG,verbose:Q0.VERBOSE,info:Q0.INFO,warn:Q0.WARN,error:Q0.ERROR,silent:Q0.SILENT},TJ=Q0.INFO,AJ={[Q0.DEBUG]:"log",[Q0.VERBOSE]:"log",[Q0.INFO]:"info",[Q0.WARN]:"warn",[Q0.ERROR]:"error"},pJ=(Z,Q,...J)=>{if(Q<Z.logLevel)return;let $=new Date().toISOString(),w=AJ[Q];if(w)console[w](`[${$}]  ${Z.name}:`,...J);else throw new Error(`Attempted to log a message with an invalid logType (value: ${Q})`)};class e6{constructor(Z){this.name=Z,this._logLevel=TJ,this._logHandler=pJ,this._userLogHandler=null,fJ.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in Q0))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel=typeof Z==="string"?KJ[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if(typeof Z!=="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,Q0.DEBUG,...Z),this._logHandler(this,Q0.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,Q0.VERBOSE,...Z),this._logHandler(this,Q0.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,Q0.INFO,...Z),this._logHandler(this,Q0.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,Q0.WARN,...Z),this._logHandler(this,Q0.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,Q0.ERROR,...Z),this._logHandler(this,Q0.ERROR,...Z)}}var _J=(Z,Q)=>Q.some((J)=>Z instanceof J),D9,n9;function PJ(){return D9||(D9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MJ(){return n9||(n9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var s9=new WeakMap,Q4=new WeakMap,b9=new WeakMap,Z4=new WeakMap,X4=new WeakMap;function lJ(Z){let Q=new Promise((J,$)=>{let w=()=>{Z.removeEventListener("success",W),Z.removeEventListener("error",x)},W=()=>{J(s0(Z.result)),w()},x=()=>{$(Z.error),w()};Z.addEventListener("success",W),Z.addEventListener("error",x)});return Q.then((J)=>{if(J instanceof IDBCursor)s9.set(J,Z)}).catch(()=>{}),X4.set(Q,Z),Q}function uJ(Z){if(Q4.has(Z))return;let Q=new Promise((J,$)=>{let w=()=>{Z.removeEventListener("complete",W),Z.removeEventListener("error",x),Z.removeEventListener("abort",x)},W=()=>{J(),w()},x=()=>{$(Z.error||new DOMException("AbortError","AbortError")),w()};Z.addEventListener("complete",W),Z.addEventListener("error",x),Z.addEventListener("abort",x)});Q4.set(Z,Q)}var J4={get(Z,Q,J){if(Z instanceof IDBTransaction){if(Q==="done")return Q4.get(Z);if(Q==="objectStoreNames")return Z.objectStoreNames||b9.get(Z);if(Q==="store")return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return s0(Z[Q])},set(Z,Q,J){return Z[Q]=J,!0},has(Z,Q){if(Z instanceof IDBTransaction&&(Q==="done"||Q==="store"))return!0;return Q in Z}};function c9(Z){J4=Z(J4)}function CJ(Z){if(Z===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype))return function(Q,...J){let $=Z.call(n8(this),Q,...J);return b9.set($,Q.sort?Q.sort():[Q]),s0($)};if(MJ().includes(Z))return function(...Q){return Z.apply(n8(this),Q),s0(s9.get(this))};return function(...Q){return s0(Z.apply(n8(this),Q))}}function rJ(Z){if(typeof Z==="function")return CJ(Z);if(Z instanceof IDBTransaction)uJ(Z);if(_J(Z,PJ()))return new Proxy(Z,J4);return Z}function s0(Z){if(Z instanceof IDBRequest)return lJ(Z);if(Z4.has(Z))return Z4.get(Z);let Q=rJ(Z);if(Q!==Z)Z4.set(Z,Q),X4.set(Q,Z);return Q}var n8=(Z)=>X4.get(Z);function t9(Z,Q,{blocked:J,upgrade:$,blocking:w,terminated:W}={}){let x=indexedDB.open(Z,Q),h=s0(x);if($)x.addEventListener("upgradeneeded",(j)=>{$(s0(x.result),j.oldVersion,j.newVersion,s0(x.transaction),j)});if(J)x.addEventListener("blocked",(j)=>J(j.oldVersion,j.newVersion,j));return h.then((j)=>{if(W)j.addEventListener("close",()=>W());if(w)j.addEventListener("versionchange",(R)=>w(R.oldVersion,R.newVersion,R))}).catch(()=>{}),h}var iJ=["get","getKey","getAll","getAllKeys","count"],mJ=["put","add","delete","clear"],$4=new Map;function d9(Z,Q){if(!(Z instanceof IDBDatabase&&!(Q in Z)&&typeof Q==="string"))return;if($4.get(Q))return $4.get(Q);let J=Q.replace(/FromIndex$/,""),$=Q!==J,w=mJ.includes(J);if(!(J in($?IDBIndex:IDBObjectStore).prototype)||!(w||iJ.includes(J)))return;let W=async function(x,...h){let j=this.transaction(x,w?"readwrite":"readonly"),R=j.store;if($)R=R.index(h.shift());return(await Promise.all([R[J](...h),w&&j.done]))[0]};return $4.set(Q,W),W}c9((Z)=>({...Z,get:(Q,J,$)=>d9(Q,J)||Z.get(Q,J,$),has:(Q,J)=>!!d9(Q,J)||Z.has(Q,J)}));class QZ{constructor(Z){this.container=Z}getPlatformInfoString(){return this.container.getProviders().map((Q)=>{if(gJ(Q)){let J=Q.getImmediate();return`${J.library}/${J.version}`}else return null}).filter((Q)=>Q).join(" ")}}function gJ(Z){let Q=Z.getComponent();return(Q===null||Q===void 0?void 0:Q.type)==="VERSION"}var V4="@firebase/app",E9="0.10.9",Z2=new e6("@firebase/app"),DJ="@firebase/app-compat",nJ="@firebase/analytics-compat",sJ="@firebase/analytics",bJ="@firebase/app-check-compat",cJ="@firebase/app-check",dJ="@firebase/auth",tJ="@firebase/auth-compat",EJ="@firebase/database",oJ="@firebase/database-compat",aJ="@firebase/functions",eJ="@firebase/functions-compat",ZX="@firebase/installations",QX="@firebase/installations-compat",JX="@firebase/messaging",XX="@firebase/messaging-compat",$X="@firebase/performance",wX="@firebase/performance-compat",VX="@firebase/remote-config",WX="@firebase/remote-config-compat",zX="@firebase/storage",UX="@firebase/storage-compat",qX="@firebase/firestore",xX="@firebase/vertexai-preview",BX="@firebase/firestore-compat",hX="firebase",FX="10.13.0",W4="[DEFAULT]",jX={[V4]:"fire-core",[DJ]:"fire-core-compat",[sJ]:"fire-analytics",[nJ]:"fire-analytics-compat",[cJ]:"fire-app-check",[bJ]:"fire-app-check-compat",[dJ]:"fire-auth",[tJ]:"fire-auth-compat",[EJ]:"fire-rtdb",[oJ]:"fire-rtdb-compat",[aJ]:"fire-fn",[eJ]:"fire-fn-compat",[ZX]:"fire-iid",[QX]:"fire-iid-compat",[JX]:"fire-fcm",[XX]:"fire-fcm-compat",[$X]:"fire-perf",[wX]:"fire-perf-compat",[VX]:"fire-rc",[WX]:"fire-rc-compat",[zX]:"fire-gcs",[UX]:"fire-gcs-compat",[qX]:"fire-fst",[BX]:"fire-fst-compat",[xX]:"fire-vertex","fire-js":"fire-js",[hX]:"fire-js-all"},s8=new Map,RX=new Map,z4=new Map;function o9(Z,Q){try{Z.container.addComponent(Q)}catch(J){Z2.debug(`Component ${Q.name} failed to register with FirebaseApp ${Z.name}`,J)}}function g1(Z){let Q=Z.name;if(z4.has(Q))return Z2.debug(`There were multiple attempts to register component ${Q}.`),!1;z4.set(Q,Z);for(let J of s8.values())o9(J,Z);for(let J of RX.values())o9(J,Z);return!0}function JZ(Z,Q){let J=Z.container.getProvider("heartbeat").getImmediate({optional:!0});if(J)J.triggerHeartbeat();return Z.container.getProvider(Q)}var OX={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}'",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["server-app-deleted"]:"Firebase Server App has been deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",["finalization-registry-not-supported"]:"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",["invalid-server-app-environment"]:"FirebaseServerApp is not for use in browser environments."},F2=new D8("app","Firebase",OX);class XZ{constructor(Z,Q,J){this._isDeleted=!1,this._options=Object.assign({},Z),this._config=Object.assign({},Q),this._name=Q.name,this._automaticDataCollectionEnabled=Q.automaticDataCollectionEnabled,this._container=J,this.container.addComponent(new s2("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Z){this.checkDestroyed(),this._automaticDataCollectionEnabled=Z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Z){this._isDeleted=Z}checkDestroyed(){if(this.isDeleted)throw F2.create("app-deleted",{appName:this._name})}}var $Z=FX;function U4(Z,Q={}){let J=Z;if(typeof Q!=="object")Q={name:Q};let $=Object.assign({name:W4,automaticDataCollectionEnabled:!1},Q),w=$.name;if(typeof w!=="string"||!w)throw F2.create("bad-app-name",{appName:String(w)});if(J||(J=E6()),!J)throw F2.create("no-options");let W=s8.get(w);if(W)if(m1(J,W.options)&&m1($,W.config))return W;else throw F2.create("duplicate-app",{appName:w});let x=new a6(w);for(let j of z4.values())x.addComponent(j);let h=new XZ(J,$,x);return s8.set(w,h),h}function wZ(Z=W4){let Q=s8.get(Z);if(!Q&&Z===W4&&E6())return U4();if(!Q)throw F2.create("no-app",{appName:Z});return Q}function j2(Z,Q,J){var $;let w=($=jX[Z])!==null&&$!==void 0?$:Z;if(J)w+=`-${J}`;let W=w.match(/\s|\//),x=Q.match(/\s|\//);if(W||x){let h=[`Unable to register library "${w}" with version "${Q}":`];if(W)h.push(`library name "${w}" contains illegal characters (whitespace or "/")`);if(W&&x)h.push("and");if(x)h.push(`version name "${Q}" contains illegal characters (whitespace or "/")`);Z2.warn(h.join(" "));return}g1(new s2(`${w}-version`,()=>({library:w,version:Q}),"VERSION"))}var GX="firebase-heartbeat-database",IX=1,D1="firebase-heartbeat-store",w4=null;function VZ(){if(!w4)w4=t9(GX,IX,{upgrade:(Z,Q)=>{switch(Q){case 0:try{Z.createObjectStore(D1)}catch(J){console.warn(J)}}}}).catch((Z)=>{throw F2.create("idb-open",{originalErrorMessage:Z.message})});return w4}async function kX(Z){try{let J=(await VZ()).transaction(D1),$=await J.objectStore(D1).get(WZ(Z));return await J.done,$}catch(Q){if(Q instanceof e0)Z2.warn(Q.message);else{let J=F2.create("idb-get",{originalErrorMessage:Q===null||Q===void 0?void 0:Q.message});Z2.warn(J.message)}}}async function a9(Z,Q){try{let $=(await VZ()).transaction(D1,"readwrite");await $.objectStore(D1).put(Q,WZ(Z)),await $.done}catch(J){if(J instanceof e0)Z2.warn(J.message);else{let $=F2.create("idb-set",{originalErrorMessage:J===null||J===void 0?void 0:J.message});Z2.warn($.message)}}}function WZ(Z){return`${Z.name}!${Z.options.appId}`}var SX=1024,NX=2592000000;class zZ{constructor(Z){this.container=Z,this._heartbeatsCache=null;let Q=this.container.getProvider("app").getImmediate();this._storage=new UZ(Q),this._heartbeatsCachePromise=this._storage.read().then((J)=>{return this._heartbeatsCache=J,J})}async triggerHeartbeat(){var Z,Q,J;try{let w=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),W=e9();if(console.log("heartbeats",(Z=this._heartbeatsCache)===null||Z===void 0?void 0:Z.heartbeats),((Q=this._heartbeatsCache)===null||Q===void 0?void 0:Q.heartbeats)==null){if(this._heartbeatsCache=await this._heartbeatsCachePromise,((J=this._heartbeatsCache)===null||J===void 0?void 0:J.heartbeats)==null)return}if(this._heartbeatsCache.lastSentHeartbeatDate===W||this._heartbeatsCache.heartbeats.some((x)=>x.date===W))return;else this._heartbeatsCache.heartbeats.push({date:W,agent:w});return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((x)=>{let h=new Date(x.date).valueOf();return Date.now()-h<=NX}),this._storage.overwrite(this._heartbeatsCache)}catch($){Z2.warn($)}}async getHeartbeatsHeader(){var Z;try{if(this._heartbeatsCache===null)await this._heartbeatsCachePromise;if(((Z=this._heartbeatsCache)===null||Z===void 0?void 0:Z.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let Q=e9(),{heartbeatsToSend:J,unsentEntries:$}=LX(this._heartbeatsCache.heartbeats),w=i1(JSON.stringify({version:2,heartbeats:J}));if(this._heartbeatsCache.lastSentHeartbeatDate=Q,$.length>0)this._heartbeatsCache.heartbeats=$,await this._storage.overwrite(this._heartbeatsCache);else this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);return w}catch(Q){return Z2.warn(Q),""}}}function e9(){return new Date().toISOString().substring(0,10)}function LX(Z,Q=SX){let J=[],$=Z.slice();for(let w of Z){let W=J.find((x)=>x.agent===w.agent);if(!W){if(J.push({agent:w.agent,dates:[w.date]}),ZZ(J)>Q){J.pop();break}}else if(W.dates.push(w.date),ZZ(J)>Q){W.dates.pop();break}$=$.slice(1)}return{heartbeatsToSend:J,unsentEntries:$}}class UZ{constructor(Z){this.app=Z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){if(!o6())return!1;else return m9().then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};else{let Q=await kX(this.app);if(Q===null||Q===void 0?void 0:Q.heartbeats)return Q;else return{heartbeats:[]}}}async overwrite(Z){var Q;if(!await this._canUseIndexedDBPromise)return;else{let $=await this.read();return a9(this.app,{lastSentHeartbeatDate:(Q=Z.lastSentHeartbeatDate)!==null&&Q!==void 0?Q:$.lastSentHeartbeatDate,heartbeats:Z.heartbeats})}}async add(Z){var Q;if(!await this._canUseIndexedDBPromise)return;else{let $=await this.read();return a9(this.app,{lastSentHeartbeatDate:(Q=Z.lastSentHeartbeatDate)!==null&&Q!==void 0?Q:$.lastSentHeartbeatDate,heartbeats:[...$.heartbeats,...Z.heartbeats]})}}}function ZZ(Z){return i1(JSON.stringify({version:2,heartbeats:Z})).length}function yX(Z){g1(new s2("platform-logger",(Q)=>new QZ(Q),"PRIVATE")),g1(new s2("heartbeat",(Q)=>new zZ(Q),"PRIVATE")),j2(V4,E9,Z),j2(V4,E9,"esm2017"),j2("fire-js","")}yX("");var vX="firebase",HX="10.13.0";j2(vX,HX,"app");class q4{constructor(Z,Q,J){this.name=Z,this.instanceFactory=Q,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}var YX=[],b;(function(Z){Z[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT"})(b||(b={}));var fX={debug:b.DEBUG,verbose:b.VERBOSE,info:b.INFO,warn:b.WARN,error:b.ERROR,silent:b.SILENT},KX=b.INFO,TX={[b.DEBUG]:"log",[b.VERBOSE]:"log",[b.INFO]:"info",[b.WARN]:"warn",[b.ERROR]:"error"},AX=(Z,Q,...J)=>{if(Q<Z.logLevel)return;let $=new Date().toISOString(),w=TX[Q];if(w)console[w](`[${$}]  ${Z.name}:`,...J);else throw new Error(`Attempted to log a message with an invalid logType (value: ${Q})`)};class x4{constructor(Z){this.name=Z,this._logLevel=KX,this._logHandler=AX,this._userLogHandler=null,YX.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in b))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel=typeof Z==="string"?fX[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if(typeof Z!=="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,b.DEBUG,...Z),this._logHandler(this,b.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,b.VERBOSE,...Z),this._logHandler(this,b.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,b.INFO,...Z),this._logHandler(this,b.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,b.WARN,...Z),this._logHandler(this,b.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,b.ERROR,...Z),this._logHandler(this,b.ERROR,...Z)}}var qZ=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{},xZ={},B4,BZ;(function(){var Z;function Q(y,O){function I(){}I.prototype=O.prototype,y.D=O.prototype,y.prototype=new I,y.prototype.constructor=y,y.C=function(k,S,v){for(var G=Array(arguments.length-2),g0=2;g0<arguments.length;g0++)G[g0-2]=arguments[g0];return O.prototype[S].apply(k,G)}}function J(){this.blockSize=-1}function $(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}Q($,J),$.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function w(y,O,I){I||(I=0);var k=Array(16);if(typeof O==="string")for(var S=0;16>S;++S)k[S]=O.charCodeAt(I++)|O.charCodeAt(I++)<<8|O.charCodeAt(I++)<<16|O.charCodeAt(I++)<<24;else for(S=0;16>S;++S)k[S]=O[I++]|O[I++]<<8|O[I++]<<16|O[I++]<<24;O=y.g[0],I=y.g[1],S=y.g[2];var v=y.g[3],G=O+(v^I&(S^v))+k[0]+3614090360&4294967295;O=I+(G<<7&4294967295|G>>>25),G=v+(S^O&(I^S))+k[1]+3905402710&4294967295,v=O+(G<<12&4294967295|G>>>20),G=S+(I^v&(O^I))+k[2]+606105819&4294967295,S=v+(G<<17&4294967295|G>>>15),G=I+(O^S&(v^O))+k[3]+3250441966&4294967295,I=S+(G<<22&4294967295|G>>>10),G=O+(v^I&(S^v))+k[4]+4118548399&4294967295,O=I+(G<<7&4294967295|G>>>25),G=v+(S^O&(I^S))+k[5]+1200080426&4294967295,v=O+(G<<12&4294967295|G>>>20),G=S+(I^v&(O^I))+k[6]+2821735955&4294967295,S=v+(G<<17&4294967295|G>>>15),G=I+(O^S&(v^O))+k[7]+4249261313&4294967295,I=S+(G<<22&4294967295|G>>>10),G=O+(v^I&(S^v))+k[8]+1770035416&4294967295,O=I+(G<<7&4294967295|G>>>25),G=v+(S^O&(I^S))+k[9]+2336552879&4294967295,v=O+(G<<12&4294967295|G>>>20),G=S+(I^v&(O^I))+k[10]+4294925233&4294967295,S=v+(G<<17&4294967295|G>>>15),G=I+(O^S&(v^O))+k[11]+2304563134&4294967295,I=S+(G<<22&4294967295|G>>>10),G=O+(v^I&(S^v))+k[12]+1804603682&4294967295,O=I+(G<<7&4294967295|G>>>25),G=v+(S^O&(I^S))+k[13]+4254626195&4294967295,v=O+(G<<12&4294967295|G>>>20),G=S+(I^v&(O^I))+k[14]+2792965006&4294967295,S=v+(G<<17&4294967295|G>>>15),G=I+(O^S&(v^O))+k[15]+1236535329&4294967295,I=S+(G<<22&4294967295|G>>>10),G=O+(S^v&(I^S))+k[1]+4129170786&4294967295,O=I+(G<<5&4294967295|G>>>27),G=v+(I^S&(O^I))+k[6]+3225465664&4294967295,v=O+(G<<9&4294967295|G>>>23),G=S+(O^I&(v^O))+k[11]+643717713&4294967295,S=v+(G<<14&4294967295|G>>>18),G=I+(v^O&(S^v))+k[0]+3921069994&4294967295,I=S+(G<<20&4294967295|G>>>12),G=O+(S^v&(I^S))+k[5]+3593408605&4294967295,O=I+(G<<5&4294967295|G>>>27),G=v+(I^S&(O^I))+k[10]+38016083&4294967295,v=O+(G<<9&4294967295|G>>>23),G=S+(O^I&(v^O))+k[15]+3634488961&4294967295,S=v+(G<<14&4294967295|G>>>18),G=I+(v^O&(S^v))+k[4]+3889429448&4294967295,I=S+(G<<20&4294967295|G>>>12),G=O+(S^v&(I^S))+k[9]+568446438&4294967295,O=I+(G<<5&4294967295|G>>>27),G=v+(I^S&(O^I))+k[14]+3275163606&4294967295,v=O+(G<<9&4294967295|G>>>23),G=S+(O^I&(v^O))+k[3]+4107603335&4294967295,S=v+(G<<14&4294967295|G>>>18),G=I+(v^O&(S^v))+k[8]+1163531501&4294967295,I=S+(G<<20&4294967295|G>>>12),G=O+(S^v&(I^S))+k[13]+2850285829&4294967295,O=I+(G<<5&4294967295|G>>>27),G=v+(I^S&(O^I))+k[2]+4243563512&4294967295,v=O+(G<<9&4294967295|G>>>23),G=S+(O^I&(v^O))+k[7]+1735328473&4294967295,S=v+(G<<14&4294967295|G>>>18),G=I+(v^O&(S^v))+k[12]+2368359562&4294967295,I=S+(G<<20&4294967295|G>>>12),G=O+(I^S^v)+k[5]+4294588738&4294967295,O=I+(G<<4&4294967295|G>>>28),G=v+(O^I^S)+k[8]+2272392833&4294967295,v=O+(G<<11&4294967295|G>>>21),G=S+(v^O^I)+k[11]+1839030562&4294967295,S=v+(G<<16&4294967295|G>>>16),G=I+(S^v^O)+k[14]+4259657740&4294967295,I=S+(G<<23&4294967295|G>>>9),G=O+(I^S^v)+k[1]+2763975236&4294967295,O=I+(G<<4&4294967295|G>>>28),G=v+(O^I^S)+k[4]+1272893353&4294967295,v=O+(G<<11&4294967295|G>>>21),G=S+(v^O^I)+k[7]+4139469664&4294967295,S=v+(G<<16&4294967295|G>>>16),G=I+(S^v^O)+k[10]+3200236656&4294967295,I=S+(G<<23&4294967295|G>>>9),G=O+(I^S^v)+k[13]+681279174&4294967295,O=I+(G<<4&4294967295|G>>>28),G=v+(O^I^S)+k[0]+3936430074&4294967295,v=O+(G<<11&4294967295|G>>>21),G=S+(v^O^I)+k[3]+3572445317&4294967295,S=v+(G<<16&4294967295|G>>>16),G=I+(S^v^O)+k[6]+76029189&4294967295,I=S+(G<<23&4294967295|G>>>9),G=O+(I^S^v)+k[9]+3654602809&4294967295,O=I+(G<<4&4294967295|G>>>28),G=v+(O^I^S)+k[12]+3873151461&4294967295,v=O+(G<<11&4294967295|G>>>21),G=S+(v^O^I)+k[15]+530742520&4294967295,S=v+(G<<16&4294967295|G>>>16),G=I+(S^v^O)+k[2]+3299628645&4294967295,I=S+(G<<23&4294967295|G>>>9),G=O+(S^(I|~v))+k[0]+4096336452&4294967295,O=I+(G<<6&4294967295|G>>>26),G=v+(I^(O|~S))+k[7]+1126891415&4294967295,v=O+(G<<10&4294967295|G>>>22),G=S+(O^(v|~I))+k[14]+2878612391&4294967295,S=v+(G<<15&4294967295|G>>>17),G=I+(v^(S|~O))+k[5]+4237533241&4294967295,I=S+(G<<21&4294967295|G>>>11),G=O+(S^(I|~v))+k[12]+1700485571&4294967295,O=I+(G<<6&4294967295|G>>>26),G=v+(I^(O|~S))+k[3]+2399980690&4294967295,v=O+(G<<10&4294967295|G>>>22),G=S+(O^(v|~I))+k[10]+4293915773&4294967295,S=v+(G<<15&4294967295|G>>>17),G=I+(v^(S|~O))+k[1]+2240044497&4294967295,I=S+(G<<21&4294967295|G>>>11),G=O+(S^(I|~v))+k[8]+1873313359&4294967295,O=I+(G<<6&4294967295|G>>>26),G=v+(I^(O|~S))+k[15]+4264355552&4294967295,v=O+(G<<10&4294967295|G>>>22),G=S+(O^(v|~I))+k[6]+2734768916&4294967295,S=v+(G<<15&4294967295|G>>>17),G=I+(v^(S|~O))+k[13]+1309151649&4294967295,I=S+(G<<21&4294967295|G>>>11),G=O+(S^(I|~v))+k[4]+4149444226&4294967295,O=I+(G<<6&4294967295|G>>>26),G=v+(I^(O|~S))+k[11]+3174756917&4294967295,v=O+(G<<10&4294967295|G>>>22),G=S+(O^(v|~I))+k[2]+718787259&4294967295,S=v+(G<<15&4294967295|G>>>17),G=I+(v^(S|~O))+k[9]+3951481745&4294967295,y.g[0]=y.g[0]+O&4294967295,y.g[1]=y.g[1]+(S+(G<<21&4294967295|G>>>11))&4294967295,y.g[2]=y.g[2]+S&4294967295,y.g[3]=y.g[3]+v&4294967295}$.prototype.u=function(y,O){O===void 0&&(O=y.length);for(var I=O-this.blockSize,k=this.B,S=this.h,v=0;v<O;){if(S==0)for(;v<=I;)w(this,y,v),v+=this.blockSize;if(typeof y==="string"){for(;v<O;)if(k[S++]=y.charCodeAt(v++),S==this.blockSize){w(this,k),S=0;break}}else for(;v<O;)if(k[S++]=y[v++],S==this.blockSize){w(this,k),S=0;break}}this.h=S,this.o+=O},$.prototype.v=function(){var y=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);y[0]=128;for(var O=1;O<y.length-8;++O)y[O]=0;var I=8*this.o;for(O=y.length-8;O<y.length;++O)y[O]=I&255,I/=256;this.u(y),y=Array(16);for(O=I=0;4>O;++O)for(var k=0;32>k;k+=8)y[I++]=this.g[O]>>>k&255;return y};function W(y,O){var I=h;return Object.prototype.hasOwnProperty.call(I,y)?I[y]:I[y]=O(y)}function x(y,O){this.h=O;for(var I=[],k=!0,S=y.length-1;0<=S;S--){var v=y[S]|0;k&&v==O||(I[S]=v,k=!1)}this.g=I}var h={};function j(y){return-128<=y&&128>y?W(y,function(O){return new x([O|0],0>O?-1:0)}):new x([y|0],0>y?-1:0)}function R(y){if(isNaN(y)||!isFinite(y))return f;if(0>y)return u(R(-y));for(var O=[],I=1,k=0;y>=I;k++)O[k]=y/I|0,I*=4294967296;return new x(O,0)}function H(y,O){if(y.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(y.charAt(0)=="-")return u(H(y.substring(1),O));if(0<=y.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=R(Math.pow(O,8)),k=f,S=0;S<y.length;S+=8){var v=Math.min(8,y.length-S),G=parseInt(y.substring(S,S+v),O);8>v?(v=R(Math.pow(O,v)),k=k.j(v).add(R(G))):(k=k.j(I),k=k.add(R(G)))}return k}var f=j(0),K=j(1),l=j(16777216);Z=x.prototype,Z.m=function(){if(P(this))return-u(this).m();for(var y=0,O=1,I=0;I<this.g.length;I++){var k=this.i(I);y+=(0<=k?k:4294967296+k)*O,O*=4294967296}return y},Z.toString=function(y){if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(_(this))return"0";if(P(this))return"-"+u(this).toString(y);for(var O=R(Math.pow(y,6)),I=this,k="";;){var S=h0(I,O).g;I=r(I,S.j(O));var v=((0<I.g.length?I.g[0]:I.h)>>>0).toString(y);if(I=S,_(I))return v+k;for(;6>v.length;)v="0"+v;k=v+k}},Z.i=function(y){return 0>y?0:y<this.g.length?this.g[y]:this.h};function _(y){if(y.h!=0)return!1;for(var O=0;O<y.g.length;O++)if(y.g[O]!=0)return!1;return!0}function P(y){return y.h==-1}Z.l=function(y){return y=r(this,y),P(y)?-1:_(y)?0:1};function u(y){for(var O=y.g.length,I=[],k=0;k<O;k++)I[k]=~y.g[k];return new x(I,~y.h).add(K)}Z.abs=function(){return P(this)?u(this):this},Z.add=function(y){for(var O=Math.max(this.g.length,y.g.length),I=[],k=0,S=0;S<=O;S++){var v=k+(this.i(S)&65535)+(y.i(S)&65535),G=(v>>>16)+(this.i(S)>>>16)+(y.i(S)>>>16);k=G>>>16,v&=65535,G&=65535,I[S]=G<<16|v}return new x(I,I[I.length-1]&-2147483648?-1:0)};function r(y,O){return y.add(u(O))}Z.j=function(y){if(_(this)||_(y))return f;if(P(this))return P(y)?u(this).j(u(y)):u(u(this).j(y));if(P(y))return u(this.j(u(y)));if(0>this.l(l)&&0>y.l(l))return R(this.m()*y.m());for(var O=this.g.length+y.g.length,I=[],k=0;k<2*O;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var S=0;S<y.g.length;S++){var v=this.i(k)>>>16,G=this.i(k)&65535,g0=y.i(S)>>>16,z1=y.i(S)&65535;I[2*k+2*S]+=G*z1,g(I,2*k+2*S),I[2*k+2*S+1]+=v*z1,g(I,2*k+2*S+1),I[2*k+2*S+1]+=G*g0,g(I,2*k+2*S+1),I[2*k+2*S+2]+=v*g0,g(I,2*k+2*S+2)}for(k=0;k<O;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=O;k<2*O;k++)I[k]=0;return new x(I,0)};function g(y,O){for(;(y[O]&65535)!=y[O];)y[O+1]+=y[O]>>>16,y[O]&=65535,O++}function t(y,O){this.g=y,this.h=O}function h0(y,O){if(_(O))throw Error("division by zero");if(_(y))return new t(f,f);if(P(y))return O=h0(u(y),O),new t(u(O.g),u(O.h));if(P(O))return O=h0(y,u(O)),new t(u(O.g),O.h);if(30<y.g.length){if(P(y)||P(O))throw Error("slowDivide_ only works with positive integers.");for(var I=K,k=O;0>=k.l(y);)I=P0(I),k=P0(k);var S=p0(I,1),v=p0(k,1);k=p0(k,2);for(I=p0(I,2);!_(k);){var G=v.add(k);0>=G.l(y)&&(S=S.add(I),v=G),k=p0(k,1),I=p0(I,1)}return O=r(y,S.j(O)),new t(S,O)}for(S=f;0<=y.l(O);){I=Math.max(1,Math.floor(y.m()/O.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),v=R(I);for(G=v.j(O);P(G)||0<G.l(y);)I-=k,v=R(I),G=v.j(O);_(v)&&(v=K),S=S.add(v),y=r(y,G)}return new t(S,y)}Z.A=function(y){return h0(this,y).h},Z.and=function(y){for(var O=Math.max(this.g.length,y.g.length),I=[],k=0;k<O;k++)I[k]=this.i(k)&y.i(k);return new x(I,this.h&y.h)},Z.or=function(y){for(var O=Math.max(this.g.length,y.g.length),I=[],k=0;k<O;k++)I[k]=this.i(k)|y.i(k);return new x(I,this.h|y.h)},Z.xor=function(y){for(var O=Math.max(this.g.length,y.g.length),I=[],k=0;k<O;k++)I[k]=this.i(k)^y.i(k);return new x(I,this.h^y.h)};function P0(y){for(var O=y.g.length+1,I=[],k=0;k<O;k++)I[k]=y.i(k)<<1|y.i(k-1)>>>31;return new x(I,y.h)}function p0(y,O){var I=O>>5;O%=32;for(var k=y.g.length-I,S=[],v=0;v<k;v++)S[v]=0<O?y.i(v+I)>>>O|y.i(v+I+1)<<32-O:y.i(v+I);return new x(S,y.h)}$.prototype.digest=$.prototype.v,$.prototype.reset=$.prototype.s,$.prototype.update=$.prototype.u,BZ=xZ.Md5=$,x.prototype.add=x.prototype.add,x.prototype.multiply=x.prototype.j,x.prototype.modulo=x.prototype.A,x.prototype.compare=x.prototype.l,x.prototype.toNumber=x.prototype.m,x.prototype.toString=x.prototype.toString,x.prototype.getBits=x.prototype.i,x.fromNumber=R,x.fromString=H,B4=xZ.Integer=x}).apply(typeof qZ!=="undefined"?qZ:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});var b8=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{},Q2={},h4,F4,b2,j4,n1,c8,R4,O4,G4;(function(){var Z,Q=typeof Object.defineProperties=="function"?Object.defineProperty:function(X,z,B){if(X==Array.prototype||X==Object.prototype)return X;return X[z]=B.value,X};function J(X){X=[typeof globalThis=="object"&&globalThis,X,typeof window=="object"&&window,typeof self=="object"&&self,typeof b8=="object"&&b8];for(var z=0;z<X.length;++z){var B=X[z];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var $=J(this);function w(X,z){if(z)Z:{var B=$;X=X.split(".");for(var F=0;F<X.length-1;F++){var L=X[F];if(!(L in B))break Z;B=B[L]}X=X[X.length-1],F=B[X],z=z(F),z!=F&&z!=null&&Q(B,X,{configurable:!0,writable:!0,value:z})}}function W(X,z){X instanceof String&&(X+="");var B=0,F=!1,L={next:function(){if(!F&&B<X.length){var Y=B++;return{value:z(Y,X[Y]),done:!1}}return F=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}w("Array.prototype.values",function(X){return X?X:function(){return W(this,function(z,B){return B})}});var x=x||{},h=this||self;function j(X){var z=typeof X;return z=z!="object"?z:X?Array.isArray(X)?"array":z:"null",z=="array"||z=="object"&&typeof X.length=="number"}function R(X){var z=typeof X;return z=="object"&&X!=null||z=="function"}function H(X,z,B){return X.call.apply(X.bind,arguments)}function f(X,z,B){if(!X)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,F),X.apply(z,L)}}return function(){return X.apply(z,arguments)}}function K(X,z,B){return K=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?H:f,K.apply(null,arguments)}function l(X,z){var B=Array.prototype.slice.call(arguments,1);return function(){var F=B.slice();return F.push.apply(F,arguments),X.apply(this,F)}}function _(X,z){function B(){}B.prototype=z.prototype,X.aa=z.prototype,X.prototype=new B,X.prototype.constructor=X,X.Qb=function(F,L,Y){for(var p=Array(arguments.length-2),E=2;E<arguments.length;E++)p[E-2]=arguments[E];return z.prototype[L].apply(F,p)}}function P(X){let z=X.length;if(0<z){let B=Array(z);for(let F=0;F<z;F++)B[F]=X[F];return B}return[]}function u(X,z){for(let B=1;B<arguments.length;B++){let F=arguments[B];if(j(F)){let L=X.length||0,Y=F.length||0;X.length=L+Y;for(let p=0;p<Y;p++)X[L+p]=F[p]}else X.push(F)}}class r{constructor(X,z){this.i=X,this.j=z,this.h=0,this.g=null}get(){let X;return 0<this.h?(this.h--,X=this.g,this.g=X.next,X.next=null):X=this.i(),X}}function g(X){return/^[\s\xa0]*$/.test(X)}function t(){var X=h.navigator;return X&&(X=X.userAgent)?X:""}function h0(X){return h0[" "](X),X}h0[" "]=function(){};var P0=t().indexOf("Gecko")!=-1&&!(t().toLowerCase().indexOf("webkit")!=-1&&t().indexOf("Edge")==-1)&&!(t().indexOf("Trident")!=-1||t().indexOf("MSIE")!=-1)&&t().indexOf("Edge")==-1;function p0(X,z,B){for(let F in X)z.call(B,X[F],F,X)}function y(X,z){for(let B in X)z.call(void 0,X[B],B,X)}function O(X){let z={};for(let B in X)z[B]=X[B];return z}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(X,z){let B,F;for(let L=1;L<arguments.length;L++){F=arguments[L];for(B in F)X[B]=F[B];for(let Y=0;Y<I.length;Y++)B=I[Y],Object.prototype.hasOwnProperty.call(F,B)&&(X[B]=F[B])}}function S(X){var z=1;X=X.split(":");let B=[];for(;0<z&&X.length;)B.push(X.shift()),z--;return X.length&&B.push(X.join(":")),B}function v(X){h.setTimeout(()=>{throw X},0)}function G(){var X=j6;let z=null;return X.g&&(z=X.g,X.g=X.g.next,X.g||(X.h=null),z.next=null),z}class g0{constructor(){this.h=this.g=null}add(X,z){let B=z1.get();B.set(X,z),this.h?this.h.next=B:this.g=B,this.h=B}}var z1=new r(()=>new v5,(X)=>X.reset());class v5{constructor(){this.next=this.g=this.h=null}set(X,z){this.h=X,this.g=z,this.next=null}reset(){this.next=this.g=this.h=null}}let U1,q1=!1,j6=new g0,H5=()=>{let X=h.Promise.resolve(void 0);U1=()=>{X.then(_Q)}};var _Q=()=>{for(var X;X=G();){try{X.h.call(X.g)}catch(B){v(B)}var z=z1;z.j(X),100>z.h&&(z.h++,X.next=z.g,z.g=X)}q1=!1};function V2(){this.s=this.s,this.C=this.C}V2.prototype.s=!1,V2.prototype.ma=function(){this.s||(this.s=!0,this.N())},V2.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G0(X,z){this.type=X,this.g=this.target=z,this.defaultPrevented=!1}G0.prototype.h=function(){this.defaultPrevented=!0};var PQ=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var X=!1,z=Object.defineProperty({},"passive",{get:function(){X=!0}});try{let B=()=>{};h.addEventListener("test",B,z),h.removeEventListener("test",B,z)}catch(B){}return X}();function x1(X,z){if(G0.call(this,X?X.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,X){var B=this.type=X.type,F=X.changedTouches&&X.changedTouches.length?X.changedTouches[0]:null;if(this.target=X.target||X.srcElement,this.g=z,z=X.relatedTarget){if(P0){Z:{try{h0(z.nodeName);var L=!0;break Z}catch(Y){}L=!1}L||(z=null)}}else B=="mouseover"?z=X.fromElement:B=="mouseout"&&(z=X.toElement);this.relatedTarget=z,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0),this.button=X.button,this.key=X.key||"",this.ctrlKey=X.ctrlKey,this.altKey=X.altKey,this.shiftKey=X.shiftKey,this.metaKey=X.metaKey,this.pointerId=X.pointerId||0,this.pointerType=typeof X.pointerType==="string"?X.pointerType:MQ[X.pointerType]||"",this.state=X.state,this.i=X,X.defaultPrevented&&x1.aa.h.call(this)}}_(x1,G0);var MQ={2:"touch",3:"pen",4:"mouse"};x1.prototype.h=function(){x1.aa.h.call(this);var X=this.i;X.preventDefault?X.preventDefault():X.returnValue=!1};var B1="closure_listenable_"+(1e6*Math.random()|0),lQ=0;function uQ(X,z,B,F,L){this.listener=X,this.proxy=null,this.src=z,this.type=B,this.capture=!!F,this.ha=L,this.key=++lQ,this.da=this.fa=!1}function k8(X){X.da=!0,X.listener=null,X.proxy=null,X.src=null,X.ha=null}function S8(X){this.src=X,this.g={},this.h=0}S8.prototype.add=function(X,z,B,F,L){var Y=X.toString();X=this.g[Y],X||(X=this.g[Y]=[],this.h++);var p=O6(X,z,F,L);return-1<p?(z=X[p],B||(z.fa=!1)):(z=new uQ(z,this.src,Y,!!F,L),z.fa=B,X.push(z)),z};function R6(X,z){var B=z.type;if(B in X.g){var F=X.g[B],L=Array.prototype.indexOf.call(F,z,void 0),Y;(Y=0<=L)&&Array.prototype.splice.call(F,L,1),Y&&(k8(z),X.g[B].length==0&&(delete X.g[B],X.h--))}}function O6(X,z,B,F){for(var L=0;L<X.length;++L){var Y=X[L];if(!Y.da&&Y.listener==z&&Y.capture==!!B&&Y.ha==F)return L}return-1}var G6="closure_lm_"+(1e6*Math.random()|0),I6={};function Y5(X,z,B,F,L){if(F&&F.once)return K5(X,z,B,F,L);if(Array.isArray(z)){for(var Y=0;Y<z.length;Y++)Y5(X,z[Y],B,F,L);return null}return B=L6(B),X&&X[B1]?X.K(z,B,R(F)?!!F.capture:!!F,L):f5(X,z,B,!1,F,L)}function f5(X,z,B,F,L,Y){if(!z)throw Error("Invalid event type");var p=R(L)?!!L.capture:!!L,E=S6(X);if(E||(X[G6]=E=new S8(X)),B=E.add(z,B,F,p,Y),B.proxy)return B;if(F=CQ(),B.proxy=F,F.src=X,F.listener=B,X.addEventListener)PQ||(L=p),L===void 0&&(L=!1),X.addEventListener(z.toString(),F,L);else if(X.attachEvent)X.attachEvent(A5(z.toString()),F);else if(X.addListener&&X.removeListener)X.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return B}function CQ(){function X(B){return z.call(X.src,X.listener,B)}let z=rQ;return X}function K5(X,z,B,F,L){if(Array.isArray(z)){for(var Y=0;Y<z.length;Y++)K5(X,z[Y],B,F,L);return null}return B=L6(B),X&&X[B1]?X.L(z,B,R(F)?!!F.capture:!!F,L):f5(X,z,B,!0,F,L)}function T5(X,z,B,F,L){if(Array.isArray(z))for(var Y=0;Y<z.length;Y++)T5(X,z[Y],B,F,L);else(F=R(F)?!!F.capture:!!F,B=L6(B),X&&X[B1])?(X=X.i,z=String(z).toString(),(z in X.g)&&(Y=X.g[z],B=O6(Y,B,F,L),-1<B&&(k8(Y[B]),Array.prototype.splice.call(Y,B,1),Y.length==0&&(delete X.g[z],X.h--)))):X&&(X=S6(X))&&(z=X.g[z.toString()],X=-1,z&&(X=O6(z,B,F,L)),(B=-1<X?z[X]:null)&&k6(B))}function k6(X){if(typeof X!=="number"&&X&&!X.da){var z=X.src;if(z&&z[B1])R6(z.i,X);else{var{type:B,proxy:F}=X;z.removeEventListener?z.removeEventListener(B,F,X.capture):z.detachEvent?z.detachEvent(A5(B),F):z.addListener&&z.removeListener&&z.removeListener(F),(B=S6(z))?(R6(B,X),B.h==0&&(B.src=null,z[G6]=null)):k8(X)}}}function A5(X){return X in I6?I6[X]:I6[X]="on"+X}function rQ(X,z){if(X.da)X=!0;else{z=new x1(z,this);var B=X.listener,F=X.ha||X.src;X.fa&&k6(X),X=B.call(F,z)}return X}function S6(X){return X=X[G6],X instanceof S8?X:null}var N6="__closure_events_fn_"+(1e9*Math.random()>>>0);function L6(X){if(typeof X==="function")return X;return X[N6]||(X[N6]=function(z){return X.handleEvent(z)}),X[N6]}function I0(){V2.call(this),this.i=new S8(this),this.M=this,this.F=null}_(I0,V2),I0.prototype[B1]=!0,I0.prototype.removeEventListener=function(X,z,B,F){T5(this,X,z,B,F)};function H0(X,z){var B,F=X.F;if(F)for(B=[];F;F=F.F)B.push(F);if(X=X.M,F=z.type||z,typeof z==="string")z=new G0(z,X);else if(z instanceof G0)z.target=z.target||X;else{var L=z;z=new G0(F,X),k(z,L)}if(L=!0,B)for(var Y=B.length-1;0<=Y;Y--){var p=z.g=B[Y];L=N8(p,F,!0,z)&&L}if(p=z.g=X,L=N8(p,F,!0,z)&&L,L=N8(p,F,!1,z)&&L,B)for(Y=0;Y<B.length;Y++)p=z.g=B[Y],L=N8(p,F,!1,z)&&L}I0.prototype.N=function(){if(I0.aa.N.call(this),this.i){var X=this.i,z;for(z in X.g){for(var B=X.g[z],F=0;F<B.length;F++)k8(B[F]);delete X.g[z],X.h--}}this.F=null},I0.prototype.K=function(X,z,B,F){return this.i.add(String(X),z,!1,B,F)},I0.prototype.L=function(X,z,B,F){return this.i.add(String(X),z,!0,B,F)};function N8(X,z,B,F){if(z=X.i.g[String(z)],!z)return!0;z=z.concat();for(var L=!0,Y=0;Y<z.length;++Y){var p=z[Y];if(p&&!p.da&&p.capture==B){var E=p.listener,F0=p.ha||p.src;p.fa&&R6(X.i,p),L=E.call(F0,F)!==!1&&L}}return L&&!F.defaultPrevented}function p5(X,z,B){if(typeof X==="function")B&&(X=K(X,B));else if(X&&typeof X.handleEvent=="function")X=K(X.handleEvent,X);else throw Error("Invalid listener argument");return 2147483647<Number(z)?-1:h.setTimeout(X,z||0)}function _5(X){X.g=p5(()=>{X.g=null,X.i&&(X.i=!1,_5(X))},X.l);let z=X.h;X.h=null,X.m.apply(null,z)}class P5 extends V2{constructor(X,z){super();this.m=X,this.l=z,this.h=null,this.i=!1,this.g=null}j(X){this.h=arguments,this.g?this.i=!0:_5(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function h1(X){V2.call(this),this.h=X,this.g={}}_(h1,V2);var M5=[];function l5(X){p0(X.g,function(z,B){this.g.hasOwnProperty(B)&&k6(z)},X),X.g={}}h1.prototype.N=function(){h1.aa.N.call(this),l5(this)},h1.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var y6=h.JSON.stringify,iQ=h.JSON.parse,mQ=class{stringify(X){return h.JSON.stringify(X,void 0)}parse(X){return h.JSON.parse(X,void 0)}};function v6(){}v6.prototype.h=null;function u5(X){return X.h||(X.h=X.i())}function C5(){}var F1={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function H6(){G0.call(this,"d")}_(H6,G0);function Y6(){G0.call(this,"c")}_(Y6,G0);var v2={},r5=null;function L8(){return r5=r5||new I0}v2.La="serverreachability";function i5(X){G0.call(this,v2.La,X)}_(i5,G0);function j1(X){let z=L8();H0(z,new i5(z))}v2.STAT_EVENT="statevent";function m5(X,z){G0.call(this,v2.STAT_EVENT,X),this.stat=z}_(m5,G0);function Y0(X){let z=L8();H0(z,new m5(z,X))}v2.Ma="timingevent";function g5(X,z){G0.call(this,v2.Ma,X),this.size=z}_(g5,G0);function R1(X,z){if(typeof X!=="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){X()},z)}function O1(){this.g=!0}O1.prototype.xa=function(){this.g=!1};function gQ(X,z,B,F,L,Y){X.info(function(){if(X.g)if(Y){var p="";for(var E=Y.split("&"),F0=0;F0<E.length;F0++){var d=E[F0].split("=");if(1<d.length){var k0=d[0];d=d[1];var S0=k0.split("_");p=2<=S0.length&&S0[1]=="type"?p+(k0+"="+d+"&"):p+(k0+"=redacted&")}}}else p=null;else p=Y;return"XMLHTTP REQ ("+F+") [attempt "+L+"]: "+z+`
`+B+`
`+p})}function DQ(X,z,B,F,L,Y,p){X.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+L+"]: "+z+`
`+B+`
`+Y+" "+p})}function C2(X,z,B,F){X.info(function(){return"XMLHTTP TEXT ("+z+"): "+sQ(X,B)+(F?" "+F:"")})}function nQ(X,z){X.info(function(){return"TIMEOUT: "+z})}O1.prototype.info=function(){};function sQ(X,z){if(!X.g)return z;if(!z)return null;try{var B=JSON.parse(z);if(B){for(X=0;X<B.length;X++)if(Array.isArray(B[X])){var F=B[X];if(!(2>F.length)){var L=F[1];if(Array.isArray(L)&&!(1>L.length)){var Y=L[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var p=1;p<L.length;p++)L[p]=""}}}}return y6(B)}catch(E){return z}}var y8={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},D5={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},f6;function v8(){}_(v8,v6),v8.prototype.g=function(){return new XMLHttpRequest},v8.prototype.i=function(){return{}},f6=new v8;function W2(X,z,B,F){this.j=X,this.i=z,this.l=B,this.R=F||1,this.U=new h1(this),this.I=45000,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new n5}function n5(){this.i=null,this.g="",this.h=!1}var s5={},K6={};function T6(X,z,B){X.L=1,X.v=K8(t0(z)),X.m=B,X.P=!0,b5(X,null)}function b5(X,z){X.F=Date.now(),H8(X),X.A=t0(X.v);var{A:B,R:F}=X;Array.isArray(F)||(F=[String(F)]),V9(B.i,"t",F),X.C=0,B=X.j.J,X.h=new n5,X.g=y9(X.j,B?z:null,!X.m),0<X.O&&(X.M=new P5(K(X.Y,X,X.g),X.O)),z=X.U,B=X.g,F=X.ca;var L="readystatechange";Array.isArray(L)||(L&&(M5[0]=L.toString()),L=M5);for(var Y=0;Y<L.length;Y++){var p=Y5(B,L[Y],F||z.handleEvent,!1,z.h||z);if(!p)break;z.g[p.key]=p}z=X.H?O(X.H):{},X.m?(X.u||(X.u="POST"),z["Content-Type"]="application/x-www-form-urlencoded",X.g.ea(X.A,X.u,X.m,z)):(X.u="GET",X.g.ea(X.A,X.u,null,z)),j1(),gQ(X.i,X.u,X.A,X.l,X.R,X.m)}W2.prototype.ca=function(X){X=X.target;let z=this.M;z&&E0(X)==3?z.j():this.Y(X)},W2.prototype.Y=function(X){try{if(X==this.g)Z:{let S0=E0(this.g);var z=this.g.Ba();let m2=this.g.Z();if(!(3>S0)&&(S0!=3||this.g&&(this.h.h||this.g.oa()||h9(this.g)))){this.J||S0!=4||z==7||(z==8||0>=m2?j1(3):j1(2)),A6(this);var B=this.g.Z();this.X=B;Q:if(c5(this)){var F=h9(this.g);X="";var L=F.length,Y=E0(this.g)==4;if(!this.h.i){if(typeof TextDecoder==="undefined"){H2(this),G1(this);var p="";break Q}this.h.i=new h.TextDecoder}for(z=0;z<L;z++)this.h.h=!0,X+=this.h.i.decode(F[z],{stream:!(Y&&z==L-1)});F.length=0,this.h.g+=X,this.C=0,p=this.h.g}else p=this.g.oa();if(this.o=B==200,DQ(this.i,this.u,this.A,this.l,this.R,S0,B),this.o){if(this.T&&!this.K){Q:{if(this.g){var E,F0=this.g;if((E=F0.g?F0.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(E)){var d=E;break Q}}d=null}if(B=d)C2(this.i,this.l,B,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,p6(this,B);else{this.o=!1,this.s=3,Y0(12),H2(this),G1(this);break Z}}if(this.P){B=!0;let C0;for(;!this.J&&this.C<p.length;)if(C0=bQ(this,p),C0==K6){S0==4&&(this.s=4,Y0(14),B=!1),C2(this.i,this.l,null,"[Incomplete Response]");break}else if(C0==s5){this.s=4,Y0(15),C2(this.i,this.l,p,"[Invalid Chunk]"),B=!1;break}else C2(this.i,this.l,C0,null),p6(this,C0);if(c5(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),S0!=4||p.length!=0||this.h.h||(this.s=1,Y0(16),B=!1),this.o=this.o&&B,!B)C2(this.i,this.l,p,"[Invalid Chunked Response]"),H2(this),G1(this);else if(0<p.length&&!this.W){this.W=!0;var k0=this.j;k0.g==this&&k0.ba&&!k0.M&&(k0.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),C6(k0),k0.M=!0,Y0(11))}}else C2(this.i,this.l,p,null),p6(this,p);S0==4&&H2(this),this.o&&!this.J&&(S0==4?k9(this.j,this):(this.o=!1,H8(this)))}else UJ(this.g),B==400&&0<p.indexOf("Unknown SID")?(this.s=3,Y0(12)):(this.s=0,Y0(13)),H2(this),G1(this)}}}catch(S0){}finally{}};function c5(X){return X.g?X.u=="GET"&&X.L!=2&&X.j.Ca:!1}function bQ(X,z){var B=X.C,F=z.indexOf(`
`,B);if(F==-1)return K6;if(B=Number(z.substring(B,F)),isNaN(B))return s5;if(F+=1,F+B>z.length)return K6;return z=z.slice(F,F+B),X.C=F+B,z}W2.prototype.cancel=function(){this.J=!0,H2(this)};function H8(X){X.S=Date.now()+X.I,d5(X,X.I)}function d5(X,z){if(X.B!=null)throw Error("WatchDog timer not null");X.B=R1(K(X.ba,X),z)}function A6(X){X.B&&(h.clearTimeout(X.B),X.B=null)}W2.prototype.ba=function(){this.B=null;let X=Date.now();0<=X-this.S?(nQ(this.i,this.A),this.L!=2&&(j1(),Y0(17)),H2(this),this.s=2,G1(this)):d5(this,this.S-X)};function G1(X){X.j.G==0||X.J||k9(X.j,X)}function H2(X){A6(X);var z=X.M;z&&typeof z.ma=="function"&&z.ma(),X.M=null,l5(X.U),X.g&&(z=X.g,X.g=null,z.abort(),z.ma())}function p6(X,z){try{var B=X.j;if(B.G!=0&&(B.g==X||_6(B.h,X))){if(!X.K&&_6(B.h,X)&&B.G==3){try{var F=B.Da.g.parse(z)}catch(d){F=null}if(Array.isArray(F)&&F.length==3){var L=F;if(L[0]==0)Z:if(!B.u){if(B.g)if(B.g.F+3000<X.F)P8(B),p8(B);else break Z;u6(B),Y0(18)}else B.za=L[1],0<B.za-B.T&&37500>L[2]&&B.F&&B.v==0&&!B.C&&(B.C=R1(K(B.Za,B),6000));if(1>=o5(B.h)&&B.ca){try{B.ca()}catch(d){}B.ca=void 0}}else f2(B,11)}else if((X.K||B.g==X)&&P8(B),!g(z))for(L=B.Da.g.parse(z),z=0;z<L.length;z++){let d=L[z];if(B.T=d[0],d=d[1],B.G==2)if(d[0]=="c"){B.K=d[1],B.ia=d[2];let k0=d[3];k0!=null&&(B.la=k0,B.j.info("VER="+B.la));let S0=d[4];S0!=null&&(B.Aa=S0,B.j.info("SVER="+B.Aa));let m2=d[5];m2!=null&&typeof m2==="number"&&0<m2&&(F=1.5*m2,B.L=F,B.j.info("backChannelRequestTimeoutMs_="+F)),F=B;let C0=X.g;if(C0){let l8=C0.g?C0.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l8){var Y=F.h;Y.g||l8.indexOf("spdy")==-1&&l8.indexOf("quic")==-1&&l8.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(P6(Y,Y.h),Y.h=null))}if(F.D){let r6=C0.g?C0.g.getResponseHeader("X-HTTP-Session-Id"):null;r6&&(F.ya=r6,Z0(F.I,F.D,r6))}}B.G=3,B.l&&B.l.ua(),B.ba&&(B.R=Date.now()-X.F,B.j.info("Handshake RTT: "+B.R+"ms")),F=B;var p=X;if(F.qa=L9(F,F.J?F.ia:null,F.W),p.K){a5(F.h,p);var E=p,F0=F.L;F0&&(E.I=F0),E.B&&(A6(E),H8(E)),F.g=p}else G9(F);0<B.i.length&&_8(B)}else d[0]!="stop"&&d[0]!="close"||f2(B,7);else B.G==3&&(d[0]=="stop"||d[0]=="close"?d[0]=="stop"?f2(B,7):l6(B):d[0]!="noop"&&B.l&&B.l.ta(d),B.v=0)}}j1(4)}catch(d){}}var cQ=class{constructor(X,z){this.g=X,this.map=z}};function t5(X){this.l=X||10,h.PerformanceNavigationTiming?(X=h.performance.getEntriesByType("navigation"),X=0<X.length&&(X[0].nextHopProtocol=="hq"||X[0].nextHopProtocol=="h2")):X=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=X?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function E5(X){return X.h?!0:X.g?X.g.size>=X.j:!1}function o5(X){return X.h?1:X.g?X.g.size:0}function _6(X,z){return X.h?X.h==z:X.g?X.g.has(z):!1}function P6(X,z){X.g?X.g.add(z):X.h=z}function a5(X,z){X.h&&X.h==z?X.h=null:X.g&&X.g.has(z)&&X.g.delete(z)}t5.prototype.cancel=function(){if(this.i=e5(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let X of this.g.values())X.cancel();this.g.clear()}};function e5(X){if(X.h!=null)return X.i.concat(X.h.D);if(X.g!=null&&X.g.size!==0){let z=X.i;for(let B of X.g.values())z=z.concat(B.D);return z}return P(X.i)}function dQ(X){if(X.V&&typeof X.V=="function")return X.V();if(typeof Map!=="undefined"&&X instanceof Map||typeof Set!=="undefined"&&X instanceof Set)return Array.from(X.values());if(typeof X==="string")return X.split("");if(j(X)){for(var z=[],B=X.length,F=0;F<B;F++)z.push(X[F]);return z}z=[],B=0;for(F in X)z[B++]=X[F];return z}function tQ(X){if(X.na&&typeof X.na=="function")return X.na();if(!X.V||typeof X.V!="function"){if(typeof Map!=="undefined"&&X instanceof Map)return Array.from(X.keys());if(!(typeof Set!=="undefined"&&X instanceof Set)){if(j(X)||typeof X==="string"){var z=[];X=X.length;for(var B=0;B<X;B++)z.push(B);return z}z=[],B=0;for(let F in X)z[B++]=F;return z}}}function Z9(X,z){if(X.forEach&&typeof X.forEach=="function")X.forEach(z,void 0);else if(j(X)||typeof X==="string")Array.prototype.forEach.call(X,z,void 0);else for(var B=tQ(X),F=dQ(X),L=F.length,Y=0;Y<L;Y++)z.call(void 0,F[Y],B&&B[Y],X)}var Q9=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function EQ(X,z){if(X){X=X.split("&");for(var B=0;B<X.length;B++){var F=X[B].indexOf("="),L=null;if(0<=F){var Y=X[B].substring(0,F);L=X[B].substring(F+1)}else Y=X[B];z(Y,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Y2(X){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,X instanceof Y2){this.h=X.h,Y8(this,X.j),this.o=X.o,this.g=X.g,f8(this,X.s),this.l=X.l;var z=X.i,B=new S1;B.i=z.i,z.g&&(B.g=new Map(z.g),B.h=z.h),J9(this,B),this.m=X.m}else X&&(z=String(X).match(Q9))?(this.h=!1,Y8(this,z[1]||"",!0),this.o=I1(z[2]||""),this.g=I1(z[3]||"",!0),f8(this,z[4]),this.l=I1(z[5]||"",!0),J9(this,z[6]||"",!0),this.m=I1(z[7]||"")):(this.h=!1,this.i=new S1(null,this.h))}Y2.prototype.toString=function(){var X=[],z=this.j;z&&X.push(k1(z,X9,!0),":");var B=this.g;if(B||z=="file")X.push("//"),(z=this.o)&&X.push(k1(z,X9,!0),"@"),X.push(encodeURIComponent(String(B)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.s,B!=null&&X.push(":",String(B));if(B=this.l)this.g&&B.charAt(0)!="/"&&X.push("/"),X.push(k1(B,B.charAt(0)=="/"?eQ:aQ,!0));return(B=this.i.toString())&&X.push("?",B),(B=this.m)&&X.push("#",k1(B,QJ)),X.join("")};function t0(X){return new Y2(X)}function Y8(X,z,B){X.j=B?I1(z,!0):z,X.j&&(X.j=X.j.replace(/:$/,""))}function f8(X,z){if(z){if(z=Number(z),isNaN(z)||0>z)throw Error("Bad port number "+z);X.s=z}else X.s=null}function J9(X,z,B){z instanceof S1?(X.i=z,JJ(X.i,X.h)):(B||(z=k1(z,ZJ)),X.i=new S1(z,X.h))}function Z0(X,z,B){X.i.set(z,B)}function K8(X){return Z0(X,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),X}function I1(X,z){return X?z?decodeURI(X.replace(/%25/g,"%2525")):decodeURIComponent(X):""}function k1(X,z,B){return typeof X==="string"?(X=encodeURI(X).replace(z,oQ),B&&(X=X.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),X):null}function oQ(X){return X=X.charCodeAt(0),"%"+(X>>4&15).toString(16)+(X&15).toString(16)}var X9=/[#\/\?@]/g,aQ=/[#\?:]/g,eQ=/[#\?]/g,ZJ=/[#\?@]/g,QJ=/#/g;function S1(X,z){this.h=this.g=null,this.i=X||null,this.j=!!z}function z2(X){X.g||(X.g=new Map,X.h=0,X.i&&EQ(X.i,function(z,B){X.add(decodeURIComponent(z.replace(/\+/g," ")),B)}))}Z=S1.prototype,Z.add=function(X,z){z2(this),this.i=null,X=r2(this,X);var B=this.g.get(X);return B||this.g.set(X,B=[]),B.push(z),this.h+=1,this};function $9(X,z){z2(X),z=r2(X,z),X.g.has(z)&&(X.i=null,X.h-=X.g.get(z).length,X.g.delete(z))}function w9(X,z){return z2(X),z=r2(X,z),X.g.has(z)}Z.forEach=function(X,z){z2(this),this.g.forEach(function(B,F){B.forEach(function(L){X.call(z,L,F,this)},this)},this)},Z.na=function(){z2(this);let X=Array.from(this.g.values()),z=Array.from(this.g.keys()),B=[];for(let F=0;F<z.length;F++){let L=X[F];for(let Y=0;Y<L.length;Y++)B.push(z[F])}return B},Z.V=function(X){z2(this);let z=[];if(typeof X==="string")w9(this,X)&&(z=z.concat(this.g.get(r2(this,X))));else{X=Array.from(this.g.values());for(let B=0;B<X.length;B++)z=z.concat(X[B])}return z},Z.set=function(X,z){return z2(this),this.i=null,X=r2(this,X),w9(this,X)&&(this.h-=this.g.get(X).length),this.g.set(X,[z]),this.h+=1,this},Z.get=function(X,z){if(!X)return z;return X=this.V(X),0<X.length?String(X[0]):z};function V9(X,z,B){$9(X,z),0<B.length&&(X.i=null,X.g.set(r2(X,z),P(B)),X.h+=B.length)}Z.toString=function(){if(this.i)return this.i;if(!this.g)return"";let X=[],z=Array.from(this.g.keys());for(var B=0;B<z.length;B++){var F=z[B];let Y=encodeURIComponent(String(F)),p=this.V(F);for(F=0;F<p.length;F++){var L=Y;p[F]!==""&&(L+="="+encodeURIComponent(String(p[F]))),X.push(L)}}return this.i=X.join("&")};function r2(X,z){return z=String(z),X.j&&(z=z.toLowerCase()),z}function JJ(X,z){z&&!X.j&&(z2(X),X.i=null,X.g.forEach(function(B,F){var L=F.toLowerCase();F!=L&&($9(this,F),V9(this,L,B))},X)),X.j=z}function XJ(X,z){let B=new O1;if(h.Image){let F=new Image;F.onload=l(U2,B,"TestLoadImage: loaded",!0,z,F),F.onerror=l(U2,B,"TestLoadImage: error",!1,z,F),F.onabort=l(U2,B,"TestLoadImage: abort",!1,z,F),F.ontimeout=l(U2,B,"TestLoadImage: timeout",!1,z,F),h.setTimeout(function(){if(F.ontimeout)F.ontimeout()},1e4),F.src=X}else z(!1)}function $J(X,z){let B=new O1,F=new AbortController,L=setTimeout(()=>{F.abort(),U2(B,"TestPingServer: timeout",!1,z)},1e4);fetch(X,{signal:F.signal}).then((Y)=>{clearTimeout(L),Y.ok?U2(B,"TestPingServer: ok",!0,z):U2(B,"TestPingServer: server error",!1,z)}).catch(()=>{clearTimeout(L),U2(B,"TestPingServer: error",!1,z)})}function U2(X,z,B,F,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),F(B)}catch(Y){}}function wJ(){this.g=new mQ}function VJ(X,z,B){let F=B||"";try{Z9(X,function(L,Y){let p=L;R(L)&&(p=y6(L)),z.push(F+Y+"="+encodeURIComponent(p))})}catch(L){throw z.push(F+"type="+encodeURIComponent("_badmap")),L}}function N1(X){this.l=X.Ub||null,this.j=X.eb||!1}_(N1,v6),N1.prototype.g=function(){return new T8(this.l,this.j)},N1.prototype.i=function(X){return function(){return X}}({});function T8(X,z){I0.call(this),this.D=X,this.o=z,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(T8,I0),Z=T8.prototype,Z.open=function(X,z){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=X,this.A=z,this.readyState=1,y1(this)},Z.send=function(X){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let z={headers:this.u,method:this.B,credentials:this.m,cache:void 0};X&&(z.body=X),(this.D||h).fetch(new Request(this.A,z)).then(this.Sa.bind(this),this.ga.bind(this))},Z.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,L1(this)),this.readyState=0},Z.Sa=function(X){if(this.g&&(this.l=X,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=X.headers,this.readyState=2,y1(this)),this.g&&(this.readyState=3,y1(this),this.g)))if(this.responseType==="arraybuffer")X.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream!=="undefined"&&"body"in X){if(this.j=X.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;W9(this)}else X.text().then(this.Ra.bind(this),this.ga.bind(this))};function W9(X){X.j.read().then(X.Pa.bind(X)).catch(X.ga.bind(X))}Z.Pa=function(X){if(this.g){if(this.o&&X.value)this.response.push(X.value);else if(!this.o){var z=X.value?X.value:new Uint8Array(0);if(z=this.v.decode(z,{stream:!X.done}))this.response=this.responseText+=z}X.done?L1(this):y1(this),this.readyState==3&&W9(this)}},Z.Ra=function(X){this.g&&(this.response=this.responseText=X,L1(this))},Z.Qa=function(X){this.g&&(this.response=X,L1(this))},Z.ga=function(){this.g&&L1(this)};function L1(X){X.readyState=4,X.l=null,X.j=null,X.v=null,y1(X)}Z.setRequestHeader=function(X,z){this.u.append(X,z)},Z.getResponseHeader=function(X){return this.h?this.h.get(X.toLowerCase())||"":""},Z.getAllResponseHeaders=function(){if(!this.h)return"";let X=[],z=this.h.entries();for(var B=z.next();!B.done;)B=B.value,X.push(B[0]+": "+B[1]),B=z.next();return X.join(`\r
`)};function y1(X){X.onreadystatechange&&X.onreadystatechange.call(X)}Object.defineProperty(T8.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(X){this.m=X?"include":"same-origin"}});function z9(X){let z="";return p0(X,function(B,F){z+=F,z+=":",z+=B,z+=`\r
`}),z}function M6(X,z,B){Z:{for(F in B){var F=!1;break Z}F=!0}F||(B=z9(B),typeof X==="string"?B!=null&&encodeURIComponent(String(B)):Z0(X,z,B))}function $0(X){I0.call(this),this.headers=new Map,this.o=X||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_($0,I0);var WJ=/^https?$/i,zJ=["POST","PUT"];Z=$0.prototype,Z.Ha=function(X){this.J=X},Z.ea=function(X,z,B,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+X);z=z?z.toUpperCase():"GET",this.D=X,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():f6.g(),this.v=this.o?u5(this.o):u5(f6),this.g.onreadystatechange=K(this.Ea,this);try{this.B=!0,this.g.open(z,String(X),!0),this.B=!1}catch(Y){U9(this,Y);return}if(X=B||"",B=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var L in F)B.set(L,F[L]);else if(typeof F.keys==="function"&&typeof F.get==="function")for(let Y of F.keys())B.set(Y,F.get(Y));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(B.keys()).find((Y)=>Y.toLowerCase()=="content-type"),L=h.FormData&&X instanceof h.FormData,!(0<=Array.prototype.indexOf.call(zJ,z,void 0))||F||L||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[Y,p]of B)this.g.setRequestHeader(Y,p);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{B9(this),this.u=!0,this.g.send(X),this.u=!1}catch(Y){U9(this,Y)}};function U9(X,z){X.h=!1,X.g&&(X.j=!0,X.g.abort(),X.j=!1),X.l=z,X.m=5,q9(X),A8(X)}function q9(X){X.A||(X.A=!0,H0(X,"complete"),H0(X,"error"))}Z.abort=function(X){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=X||7,H0(this,"complete"),H0(this,"abort"),A8(this))},Z.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),A8(this,!0)),$0.aa.N.call(this)},Z.Ea=function(){this.s||(this.B||this.u||this.j?x9(this):this.bb())},Z.bb=function(){x9(this)};function x9(X){if(X.h&&typeof x!="undefined"&&(!X.v[1]||E0(X)!=4||X.Z()!=2)){if(X.u&&E0(X)==4)p5(X.Ea,0,X);else if(H0(X,"readystatechange"),E0(X)==4){X.h=!1;try{let p=X.Z();Z:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var z=!0;break Z;default:z=!1}var B;if(!(B=z)){var F;if(F=p===0){var L=String(X.D).match(Q9)[1]||null;!L&&h.self&&h.self.location&&(L=h.self.location.protocol.slice(0,-1)),F=!WJ.test(L?L.toLowerCase():"")}B=F}if(B)H0(X,"complete"),H0(X,"success");else{X.m=6;try{var Y=2<E0(X)?X.g.statusText:""}catch(E){Y=""}X.l=Y+" ["+X.Z()+"]",q9(X)}}finally{A8(X)}}}}function A8(X,z){if(X.g){B9(X);let B=X.g,F=X.v[0]?()=>{}:null;X.g=null,X.v=null,z||H0(X,"ready");try{B.onreadystatechange=F}catch(L){}}}function B9(X){X.I&&(h.clearTimeout(X.I),X.I=null)}Z.isActive=function(){return!!this.g};function E0(X){return X.g?X.g.readyState:0}Z.Z=function(){try{return 2<E0(this)?this.g.status:-1}catch(X){return-1}},Z.oa=function(){try{return this.g?this.g.responseText:""}catch(X){return""}},Z.Oa=function(X){if(this.g){var z=this.g.responseText;return X&&z.indexOf(X)==0&&(z=z.substring(X.length)),iQ(z)}};function h9(X){try{if(!X.g)return null;if("response"in X.g)return X.g.response;switch(X.H){case"":case"text":return X.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in X.g)return X.g.mozResponseArrayBuffer}return null}catch(z){return null}}function UJ(X){let z={};X=(X.g&&2<=E0(X)?X.g.getAllResponseHeaders()||"":"").split(`\r
`);for(let F=0;F<X.length;F++){if(g(X[F]))continue;var B=S(X[F]);let L=B[0];if(B=B[1],typeof B!=="string")continue;B=B.trim();let Y=z[L]||[];z[L]=Y,Y.push(B)}y(z,function(F){return F.join(", ")})}Z.Ba=function(){return this.m},Z.Ka=function(){return typeof this.l==="string"?this.l:String(this.l)};function v1(X,z,B){return B&&B.internalChannelParams?B.internalChannelParams[X]||z:z}function F9(X){this.Aa=0,this.i=[],this.j=new O1,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=v1("failFast",!1,X),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=v1("baseRetryDelayMs",5000,X),this.cb=v1("retryDelaySeedMs",1e4,X),this.Wa=v1("forwardChannelMaxRetries",2,X),this.wa=v1("forwardChannelRequestTimeoutMs",20000,X),this.pa=X&&X.xmlHttpFactory||void 0,this.Xa=X&&X.Tb||void 0,this.Ca=X&&X.useFetchStreams||!1,this.L=void 0,this.J=X&&X.supportsCrossDomainXhr||!1,this.K="",this.h=new t5(X&&X.concurrentRequestLimit),this.Da=new wJ,this.P=X&&X.fastHandshake||!1,this.O=X&&X.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=X&&X.Rb||!1,X&&X.xa&&this.j.xa(),X&&X.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&X&&X.detectBufferingProxy||!1,this.ja=void 0,X&&X.longPollingTimeout&&0<X.longPollingTimeout&&(this.ja=X.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}Z=F9.prototype,Z.la=8,Z.G=1,Z.connect=function(X,z,B,F){Y0(0),this.W=X,this.H=z||{},B&&F!==void 0&&(this.H.OSID=B,this.H.OAID=F),this.F=this.X,this.I=L9(this,null,this.W),_8(this)};function l6(X){if(j9(X),X.G==3){var z=X.U++,B=t0(X.I);if(Z0(B,"SID",X.K),Z0(B,"RID",z),Z0(B,"TYPE","terminate"),H1(X,B),z=new W2(X,X.j,z),z.L=2,z.v=K8(t0(B)),B=!1,h.navigator&&h.navigator.sendBeacon)try{B=h.navigator.sendBeacon(z.v.toString(),"")}catch(F){}!B&&h.Image&&(new Image().src=z.v,B=!0),B||(z.g=y9(z.j,null),z.g.ea(z.v)),z.F=Date.now(),H8(z)}N9(X)}function p8(X){X.g&&(C6(X),X.g.cancel(),X.g=null)}function j9(X){p8(X),X.u&&(h.clearTimeout(X.u),X.u=null),P8(X),X.h.cancel(),X.s&&(typeof X.s==="number"&&h.clearTimeout(X.s),X.s=null)}function _8(X){if(!E5(X.h)&&!X.s){X.s=!0;var z=X.Ga;U1||H5(),q1||(U1(),q1=!0),j6.add(z,X),X.B=0}}function qJ(X,z){if(o5(X.h)>=X.h.j-(X.s?1:0))return!1;if(X.s)return X.i=z.D.concat(X.i),!0;if(X.G==1||X.G==2||X.B>=(X.Va?0:X.Wa))return!1;return X.s=R1(K(X.Ga,X,z),S9(X,X.B)),X.B++,!0}Z.Ga=function(X){if(this.s)if(this.s=null,this.G==1){if(!X){this.U=Math.floor(1e5*Math.random()),X=this.U++;let L=new W2(this,this.j,X),Y=this.o;if(this.S&&(Y?(Y=O(Y),k(Y,this.S)):Y=this.S),this.m!==null||this.O||(L.H=Y,Y=null),this.P)Z:{var z=0;for(var B=0;B<this.i.length;B++){Q:{var F=this.i[B];if("__data__"in F.map&&(F=F.map.__data__,typeof F==="string")){F=F.length;break Q}F=void 0}if(F===void 0)break;if(z+=F,4096<z){z=B;break Z}if(z===4096||B===this.i.length-1){z=B+1;break Z}}z=1000}else z=1000;z=O9(this,L,z),B=t0(this.I),Z0(B,"RID",X),Z0(B,"CVER",22),this.D&&Z0(B,"X-HTTP-Session-Id",this.D),H1(this,B),Y&&(this.O?z="headers="+encodeURIComponent(String(z9(Y)))+"&"+z:this.m&&M6(B,this.m,Y)),P6(this.h,L),this.Ua&&Z0(B,"TYPE","init"),this.P?(Z0(B,"$req",z),Z0(B,"SID","null"),L.T=!0,T6(L,B,null)):T6(L,B,z),this.G=2}}else this.G==3&&(X?R9(this,X):this.i.length==0||E5(this.h)||R9(this))};function R9(X,z){var B;z?B=z.l:B=X.U++;let F=t0(X.I);Z0(F,"SID",X.K),Z0(F,"RID",B),Z0(F,"AID",X.T),H1(X,F),X.m&&X.o&&M6(F,X.m,X.o),B=new W2(X,X.j,B,X.B+1),X.m===null&&(B.H=X.o),z&&(X.i=z.D.concat(X.i)),z=O9(X,B,1000),B.I=Math.round(0.5*X.wa)+Math.round(0.5*X.wa*Math.random()),P6(X.h,B),T6(B,F,z)}function H1(X,z){X.H&&p0(X.H,function(B,F){Z0(z,F,B)}),X.l&&Z9({},function(B,F){Z0(z,F,B)})}function O9(X,z,B){B=Math.min(X.i.length,B);var F=X.l?K(X.l.Na,X.l,X):null;Z:{var L=X.i;let Y=-1;for(;;){let p=["count="+B];Y==-1?0<B?(Y=L[0].g,p.push("ofs="+Y)):Y=0:p.push("ofs="+Y);let E=!0;for(let F0=0;F0<B;F0++){let d=L[F0].g,k0=L[F0].map;if(d-=Y,0>d)Y=Math.max(0,L[F0].g-100),E=!1;else try{VJ(k0,p,"req"+d+"_")}catch(S0){F&&F(k0)}}if(E){F=p.join("&");break Z}}}return X=X.i.splice(0,B),z.D=X,F}function G9(X){if(!X.g&&!X.u){X.Y=1;var z=X.Fa;U1||H5(),q1||(U1(),q1=!0),j6.add(z,X),X.v=0}}function u6(X){if(X.g||X.u||3<=X.v)return!1;return X.Y++,X.u=R1(K(X.Fa,X),S9(X,X.v)),X.v++,!0}Z.Fa=function(){if(this.u=null,I9(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var X=2*this.R;this.j.info("BP detection timer enabled: "+X),this.A=R1(K(this.ab,this),X)}},Z.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Y0(10),p8(this),I9(this))};function C6(X){X.A!=null&&(h.clearTimeout(X.A),X.A=null)}function I9(X){X.g=new W2(X,X.j,"rpc",X.Y),X.m===null&&(X.g.H=X.o),X.g.O=0;var z=t0(X.qa);Z0(z,"RID","rpc"),Z0(z,"SID",X.K),Z0(z,"AID",X.T),Z0(z,"CI",X.F?"0":"1"),!X.F&&X.ja&&Z0(z,"TO",X.ja),Z0(z,"TYPE","xmlhttp"),H1(X,z),X.m&&X.o&&M6(z,X.m,X.o),X.L&&(X.g.I=X.L);var B=X.g;X=X.ia,B.L=1,B.v=K8(t0(z)),B.m=null,B.P=!0,b5(B,X)}Z.Za=function(){this.C!=null&&(this.C=null,p8(this),u6(this),Y0(19))};function P8(X){X.C!=null&&(h.clearTimeout(X.C),X.C=null)}function k9(X,z){var B=null;if(X.g==z){P8(X),C6(X),X.g=null;var F=2}else if(_6(X.h,z))B=z.D,a5(X.h,z),F=1;else return;if(X.G!=0){if(z.o)if(F==1){B=z.m?z.m.length:0,z=Date.now()-z.F;var L=X.B;F=L8(),H0(F,new g5(F,B)),_8(X)}else G9(X);else if(L=z.s,L==3||L==0&&0<z.X||!(F==1&&qJ(X,z)||F==2&&u6(X)))switch(B&&0<B.length&&(z=X.h,z.i=z.i.concat(B)),L){case 1:f2(X,5);break;case 4:f2(X,10);break;case 3:f2(X,6);break;default:f2(X,2)}}}function S9(X,z){let B=X.Ta+Math.floor(Math.random()*X.cb);return X.isActive()||(B*=2),B*z}function f2(X,z){if(X.j.info("Error code "+z),z==2){var B=K(X.fb,X),F=X.Xa;let L=!F;F=new Y2(F||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Y8(F,"https"),K8(F),L?XJ(F.toString(),B):$J(F.toString(),B)}else Y0(2);X.G=0,X.l&&X.l.sa(z),N9(X),j9(X)}Z.fb=function(X){X?(this.j.info("Successfully pinged google.com"),Y0(2)):(this.j.info("Failed to ping google.com"),Y0(1))};function N9(X){if(X.G=0,X.ka=[],X.l){let z=e5(X.h);if(z.length!=0||X.i.length!=0)u(X.ka,z),u(X.ka,X.i),X.h.i.length=0,P(X.i),X.i.length=0;X.l.ra()}}function L9(X,z,B){var F=B instanceof Y2?t0(B):new Y2(B);if(F.g!="")z&&(F.g=z+"."+F.g),f8(F,F.s);else{var L=h.location;F=L.protocol,z=z?z+"."+L.hostname:L.hostname,L=+L.port;var Y=new Y2(null);F&&Y8(Y,F),z&&(Y.g=z),L&&f8(Y,L),B&&(Y.l=B),F=Y}return B=X.D,z=X.ya,B&&z&&Z0(F,B,z),Z0(F,"VER",X.la),H1(X,F),F}function y9(X,z,B){if(z&&!X.J)throw Error("Can't create secondary domain capable XhrIo object.");return z=X.Ca&&!X.pa?new $0(new N1({eb:B})):new $0(X.pa),z.Ha(X.J),z}Z.isActive=function(){return!!this.l&&this.l.isActive(this)};function v9(){}Z=v9.prototype,Z.ua=function(){},Z.ta=function(){},Z.sa=function(){},Z.ra=function(){},Z.isActive=function(){return!0},Z.Na=function(){};function M8(){}M8.prototype.g=function(X,z){return new _0(X,z)};function _0(X,z){I0.call(this),this.g=new F9(z),this.l=X,this.h=z&&z.messageUrlParams||null,X=z&&z.messageHeaders||null,z&&z.clientProtocolHeaderRequired&&(X?X["X-Client-Protocol"]="webchannel":X={"X-Client-Protocol":"webchannel"}),this.g.o=X,X=z&&z.initMessageHeaders||null,z&&z.messageContentType&&(X?X["X-WebChannel-Content-Type"]=z.messageContentType:X={"X-WebChannel-Content-Type":z.messageContentType}),z&&z.va&&(X?X["X-WebChannel-Client-Profile"]=z.va:X={"X-WebChannel-Client-Profile":z.va}),this.g.S=X,(X=z&&z.Sb)&&!g(X)&&(this.g.m=X),this.v=z&&z.supportsCrossDomainXhr||!1,this.u=z&&z.sendRawJson||!1,(z=z&&z.httpSessionIdParam)&&!g(z)&&(this.g.D=z,X=this.h,X!==null&&(z in X)&&(X=this.h,(z in X)&&delete X[z])),this.j=new i2(this)}_(_0,I0),_0.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_0.prototype.close=function(){l6(this.g)},_0.prototype.o=function(X){var z=this.g;if(typeof X==="string"){var B={};B.__data__=X,X=B}else this.u&&(B={},B.__data__=y6(X),X=B);z.i.push(new cQ(z.Ya++,X)),z.G==3&&_8(z)},_0.prototype.N=function(){this.g.l=null,delete this.j,l6(this.g),delete this.g,_0.aa.N.call(this)};function H9(X){H6.call(this),X.__headers__&&(this.headers=X.__headers__,this.statusCode=X.__status__,delete X.__headers__,delete X.__status__);var z=X.__sm__;if(z){Z:{for(let B in z){X=B;break Z}X=void 0}if(this.i=X)X=this.i,z=z!==null&&X in z?z[X]:void 0;this.data=z}else this.data=X}_(H9,H6);function Y9(){Y6.call(this),this.status=1}_(Y9,Y6);function i2(X){this.g=X}_(i2,v9),i2.prototype.ua=function(){H0(this.g,"a")},i2.prototype.ta=function(X){H0(this.g,new H9(X))},i2.prototype.sa=function(X){H0(this.g,new Y9)},i2.prototype.ra=function(){H0(this.g,"b")},M8.prototype.createWebChannel=M8.prototype.g,_0.prototype.send=_0.prototype.o,_0.prototype.open=_0.prototype.m,_0.prototype.close=_0.prototype.close,G4=Q2.createWebChannelTransport=function(){return new M8},O4=Q2.getStatEventTarget=function(){return L8()},R4=Q2.Event=v2,c8=Q2.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},y8.NO_ERROR=0,y8.TIMEOUT=8,y8.HTTP_ERROR=6,n1=Q2.ErrorCode=y8,D5.COMPLETE="complete",j4=Q2.EventType=D5,C5.EventType=F1,F1.OPEN="a",F1.CLOSE="b",F1.ERROR="c",F1.MESSAGE="d",I0.prototype.listen=I0.prototype.K,b2=Q2.WebChannel=C5,F4=Q2.FetchXmlHttpFactory=N1,$0.prototype.listenOnce=$0.prototype.L,$0.prototype.getLastError=$0.prototype.Ka,$0.prototype.getLastErrorCode=$0.prototype.Ba,$0.prototype.getStatus=$0.prototype.Z,$0.prototype.getResponseJson=$0.prototype.Oa,$0.prototype.getResponseText=$0.prototype.oa,$0.prototype.send=$0.prototype.ea,$0.prototype.setWithCredentials=$0.prototype.Ha,h4=Q2.XhrIo=$0}).apply(typeof b8!=="undefined"?b8:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});var hZ="@firebase/firestore";class j0{constructor(Z){this.uid=Z}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(Z){return Z.uid===this.uid}}j0.UNAUTHENTICATED=new j0(null),j0.GOOGLE_CREDENTIALS=new j0("google-credentials-uid"),j0.FIRST_PARTY=new j0("first-party-uid"),j0.MOCK_USER=new j0("mock-user");var X1="10.13.0",P2=new x4("@firebase/firestore");function s1(){return P2.logLevel}function C(Z,...Q){if(P2.logLevel<=b.DEBUG){let J=Q.map(M4);P2.debug(`Firestore (${X1}): ${Z}`,...J)}}function M2(Z,...Q){if(P2.logLevel<=b.ERROR){let J=Q.map(M4);P2.error(`Firestore (${X1}): ${Z}`,...J)}}function e8(Z,...Q){if(P2.logLevel<=b.WARN){let J=Q.map(M4);P2.warn(`Firestore (${X1}): ${Z}`,...J)}}function M4(Z){if(typeof Z=="string")return Z;try{return function Q(J){return JSON.stringify(J)}(Z)}catch(Q){return Z}}function n(Z="Unexpected state"){let Q=`FIRESTORE (${X1}) INTERNAL ASSERTION FAILED: `+Z;throw M2(Q),new Error(Q)}function q0(Z,Q){Z||n()}function e(Z,Q){return Z}var A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class i extends e0{constructor(Z,Q){super(Z,Q),this.code=Z,this.message=Q,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class R2{constructor(){this.promise=new Promise((Z,Q)=>{this.resolve=Z,this.reject=Q})}}class l4{constructor(Z,Q){this.user=Q,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${Z}`)}}class MZ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(Z,Q){Z.enqueueRetryable(()=>Q(j0.UNAUTHENTICATED))}shutdown(){}}class lZ{constructor(Z){this.token=Z,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(Z,Q){this.changeListener=Q,Z.enqueueRetryable(()=>Q(this.token.user))}shutdown(){this.changeListener=null}}class uZ{constructor(Z){this.t=Z,this.currentUser=j0.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(Z,Q){let J=this.i,$=(h)=>this.i!==J?(J=this.i,Q(h)):Promise.resolve(),w=new R2;this.o=()=>{this.i++,this.currentUser=this.u(),w.resolve(),w=new R2,Z.enqueueRetryable(()=>$(this.currentUser))};let W=()=>{let h=w;Z.enqueueRetryable(async()=>{await h.promise,await $(this.currentUser)})},x=(h)=>{C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.auth.addAuthTokenListener(this.o),W()};this.t.onInit((h)=>x(h)),setTimeout(()=>{if(!this.auth){let h=this.t.getImmediate({optional:!0});h?x(h):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),w.resolve(),w=new R2)}},0),W()}getToken(){let Z=this.i,Q=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(Q).then((J)=>this.i!==Z?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):J?(q0(typeof J.accessToken=="string"),new l4(J.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let Z=this.auth&&this.auth.getUid();return q0(Z===null||typeof Z=="string"),new j0(Z)}}class CZ{constructor(Z,Q,J){this.l=Z,this.h=Q,this.P=J,this.type="FirstParty",this.user=j0.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let Z=this.T();return Z&&this.I.set("Authorization",Z),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class rZ{constructor(Z,Q,J){this.l=Z,this.h=Q,this.P=J}getToken(){return Promise.resolve(new CZ(this.l,this.h,this.P))}start(Z,Q){Z.enqueueRetryable(()=>Q(j0.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iZ{constructor(Z){this.value=Z,this.type="AppCheck",this.headers=new Map,Z&&Z.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mZ{constructor(Z){this.A=Z,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(Z,Q){let J=(w)=>{w.error!=null&&C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${w.error.message}`);let W=w.token!==this.R;return this.R=w.token,C("FirebaseAppCheckTokenProvider",`Received ${W?"new":"existing"} token.`),W?Q(w.token):Promise.resolve()};this.o=(w)=>{Z.enqueueRetryable(()=>J(w))};let $=(w)=>{C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=w,this.appCheck.addTokenListener(this.o)};this.A.onInit((w)=>$(w)),setTimeout(()=>{if(!this.appCheck){let w=this.A.getImmediate({optional:!0});w?$(w):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let Z=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(Z).then((Q)=>Q?(q0(typeof Q.token=="string"),this.R=Q.token,new iZ(Q.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function pX(Z){let Q=typeof self!="undefined"&&(self.crypto||self.msCrypto),J=new Uint8Array(Z);if(Q&&typeof Q.getRandomValues=="function")Q.getRandomValues(J);else for(let $=0;$<Z;$++)J[$]=Math.floor(256*Math.random());return J}class u4{static newId(){let Q=Math.floor(4.129032258064516)*62,J="";for(;J.length<20;){let $=pX(40);for(let w=0;w<$.length;++w)J.length<20&&$[w]<Q&&(J+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt($[w]%62))}return J}}function o(Z,Q){return Z<Q?-1:Z>Q?1:0}function t2(Z,Q,J){return Z.length===Q.length&&Z.every(($,w)=>J($,Q[w]))}class B0{constructor(Z,Q){if(this.seconds=Z,this.nanoseconds=Q,Q<0)throw new i(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+Q);if(Q>=1e9)throw new i(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+Q);if(Z<-62135596800)throw new i(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+Z);if(Z>=253402300800)throw new i(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+Z)}static now(){return B0.fromMillis(Date.now())}static fromDate(Z){return B0.fromMillis(Z.getTime())}static fromMillis(Z){let Q=Math.floor(Z/1000),J=Math.floor(1e6*(Z-1000*Q));return new B0(Q,J)}toDate(){return new Date(this.toMillis())}toMillis(){return 1000*this.seconds+this.nanoseconds/1e6}_compareTo(Z){return this.seconds===Z.seconds?o(this.nanoseconds,Z.nanoseconds):o(this.seconds,Z.seconds)}isEqual(Z){return Z.seconds===this.seconds&&Z.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let Z=this.seconds- -62135596800;return String(Z).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class X0{constructor(Z){this.timestamp=Z}static fromTimestamp(Z){return new X0(Z)}static min(){return new X0(new B0(0,0))}static max(){return new X0(new B0(253402300799,999999999))}compareTo(Z){return this.timestamp._compareTo(Z.timestamp)}isEqual(Z){return this.timestamp.isEqual(Z.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1000}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class a1{constructor(Z,Q,J){Q===void 0?Q=0:Q>Z.length&&n(),J===void 0?J=Z.length-Q:J>Z.length-Q&&n(),this.segments=Z,this.offset=Q,this.len=J}get length(){return this.len}isEqual(Z){return a1.comparator(this,Z)===0}child(Z){let Q=this.segments.slice(this.offset,this.limit());return Z instanceof a1?Z.forEach((J)=>{Q.push(J)}):Q.push(Z),this.construct(Q)}limit(){return this.offset+this.length}popFirst(Z){return Z=Z===void 0?1:Z,this.construct(this.segments,this.offset+Z,this.length-Z)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(Z){return this.segments[this.offset+Z]}isEmpty(){return this.length===0}isPrefixOf(Z){if(Z.length<this.length)return!1;for(let Q=0;Q<this.length;Q++)if(this.get(Q)!==Z.get(Q))return!1;return!0}isImmediateParentOf(Z){if(this.length+1!==Z.length)return!1;for(let Q=0;Q<this.length;Q++)if(this.get(Q)!==Z.get(Q))return!1;return!0}forEach(Z){for(let Q=this.offset,J=this.limit();Q<J;Q++)Z(this.segments[Q])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(Z,Q){let J=Math.min(Z.length,Q.length);for(let $=0;$<J;$++){let w=Z.get($),W=Q.get($);if(w<W)return-1;if(w>W)return 1}return Z.length<Q.length?-1:Z.length>Q.length?1:0}}class V0 extends a1{construct(Z,Q,J){return new V0(Z,Q,J)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...Z){let Q=[];for(let J of Z){if(J.indexOf("//")>=0)throw new i(A.INVALID_ARGUMENT,`Invalid segment (${J}). Paths must not contain // in them.`);Q.push(...J.split("/").filter(($)=>$.length>0))}return new V0(Q)}static emptyPath(){return new V0([])}}var _X=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class O0 extends a1{construct(Z,Q,J){return new O0(Z,Q,J)}static isValidIdentifier(Z){return _X.test(Z)}canonicalString(){return this.toArray().map((Z)=>(Z=Z.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),O0.isValidIdentifier(Z)||(Z="`"+Z+"`"),Z)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new O0(["__name__"])}static fromServerFormat(Z){let Q=[],J="",$=0,w=()=>{if(J.length===0)throw new i(A.INVALID_ARGUMENT,`Invalid field path (${Z}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);Q.push(J),J=""},W=!1;for(;$<Z.length;){let x=Z[$];if(x==="\\"){if($+1===Z.length)throw new i(A.INVALID_ARGUMENT,"Path has trailing escape character: "+Z);let h=Z[$+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new i(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+Z);J+=h,$+=2}else x==="`"?(W=!W,$++):x!=="."||W?(J+=x,$++):(w(),$++)}if(w(),W)throw new i(A.INVALID_ARGUMENT,"Unterminated ` in path: "+Z);return new O0(Q)}static emptyPath(){return new O0([])}}class m{constructor(Z){this.path=Z}static fromPath(Z){return new m(V0.fromString(Z))}static fromName(Z){return new m(V0.fromString(Z).popFirst(5))}static empty(){return new m(V0.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(Z){return this.path.length>=2&&this.path.get(this.path.length-2)===Z}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(Z){return Z!==null&&V0.comparator(this.path,Z.path)===0}toString(){return this.path.toString()}static comparator(Z,Q){return V0.comparator(Z.path,Q.path)}static isDocumentKey(Z){return Z.length%2==0}static fromSegments(Z){return new m(new V0(Z.slice()))}}class gZ{constructor(Z,Q,J,$){this.indexId=Z,this.collectionGroup=Q,this.fields=J,this.indexState=$}}gZ.UNKNOWN_ID=-1;function PX(Z,Q){let J=Z.toTimestamp().seconds,$=Z.toTimestamp().nanoseconds+1,w=X0.fromTimestamp($===1e9?new B0(J+1,0):new B0(J,$));return new G2(w,m.empty(),Q)}function MX(Z){return new G2(Z.readTime,Z.key,-1)}class G2{constructor(Z,Q,J){this.readTime=Z,this.documentKey=Q,this.largestBatchId=J}static min(){return new G2(X0.min(),m.empty(),-1)}static max(){return new G2(X0.max(),m.empty(),-1)}}function lX(Z,Q){let J=Z.readTime.compareTo(Q.readTime);return J!==0?J:(J=m.comparator(Z.documentKey,Q.documentKey),J!==0?J:o(Z.largestBatchId,Q.largestBatchId))}var uX="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DZ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(Z){this.onCommittedListeners.push(Z)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((Z)=>Z())}}async function nZ(Z){if(Z.code!==A.FAILED_PRECONDITION||Z.message!==uX)throw Z;C("LocalStore","Unexpectedly lost primary lease")}class T{constructor(Z){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,Z((Q)=>{this.isDone=!0,this.result=Q,this.nextCallback&&this.nextCallback(Q)},(Q)=>{this.isDone=!0,this.error=Q,this.catchCallback&&this.catchCallback(Q)})}catch(Z){return this.next(void 0,Z)}next(Z,Q){return this.callbackAttached&&n(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(Q,this.error):this.wrapSuccess(Z,this.result):new T((J,$)=>{this.nextCallback=(w)=>{this.wrapSuccess(Z,w).next(J,$)},this.catchCallback=(w)=>{this.wrapFailure(Q,w).next(J,$)}})}toPromise(){return new Promise((Z,Q)=>{this.next(Z,Q)})}wrapUserFunction(Z){try{let Q=Z();return Q instanceof T?Q:T.resolve(Q)}catch(Q){return T.reject(Q)}}wrapSuccess(Z,Q){return Z?this.wrapUserFunction(()=>Z(Q)):T.resolve(Q)}wrapFailure(Z,Q){return Z?this.wrapUserFunction(()=>Z(Q)):T.reject(Q)}static resolve(Z){return new T((Q,J)=>{Q(Z)})}static reject(Z){return new T((Q,J)=>{J(Z)})}static waitFor(Z){return new T((Q,J)=>{let $=0,w=0,W=!1;Z.forEach((x)=>{++$,x.next(()=>{++w,W&&w===$&&Q()},(h)=>J(h))}),W=!0,w===$&&Q()})}static or(Z){let Q=T.resolve(!1);for(let J of Z)Q=Q.next(($)=>$?T.resolve($):J());return Q}static forEach(Z,Q){let J=[];return Z.forEach(($,w)=>{J.push(Q.call(this,$,w))}),this.waitFor(J)}static mapArray(Z,Q){return new T((J,$)=>{let w=Z.length,W=new Array(w),x=0;for(let h=0;h<w;h++){let j=h;Q(Z[j]).next((R)=>{W[j]=R,++x,x===w&&J(W)},(R)=>$(R))}})}static doWhile(Z,Q){return new T((J,$)=>{let w=()=>{Z()===!0?Q().next(()=>{w()},$):J()};w()})}}function CX(Z){let Q=Z.match(/Android ([\d.]+)/i),J=Q?Q[1].split(".").slice(0,2).join("."):"-1";return Number(J)}function $6(Z){return Z.name==="IndexedDbTransactionError"}class C4{constructor(Z,Q){this.previousValue=Z,Q&&(Q.sequenceNumberHandler=(J)=>this.ie(J),this.se=(J)=>Q.writeSequenceNumber(J))}ie(Z){return this.previousValue=Math.max(Z,this.previousValue),this.previousValue}next(){let Z=++this.previousValue;return this.se&&this.se(Z),Z}}C4.oe=-1;function r4(Z){return Z==null}function e1(Z){return Z===0&&1/Z==-1/0}function rX(Z){return typeof Z=="number"&&Number.isInteger(Z)&&!e1(Z)&&Z<=Number.MAX_SAFE_INTEGER&&Z>=Number.MIN_SAFE_INTEGER}var iX=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],$W=[...iX,"documentOverlays"],mX=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],gX=mX,DX=[...gX,"indexConfiguration","indexState","indexEntries"];var wW=[...DX,"globals"];function FZ(Z){let Q=0;for(let J in Z)Object.prototype.hasOwnProperty.call(Z,J)&&Q++;return Q}function V8(Z,Q){for(let J in Z)Object.prototype.hasOwnProperty.call(Z,J)&&Q(J,Z[J])}function sZ(Z){for(let Q in Z)if(Object.prototype.hasOwnProperty.call(Z,Q))return!1;return!0}class A0{constructor(Z,Q){this.comparator=Z,this.root=Q||R0.EMPTY}insert(Z,Q){return new A0(this.comparator,this.root.insert(Z,Q,this.comparator).copy(null,null,R0.BLACK,null,null))}remove(Z){return new A0(this.comparator,this.root.remove(Z,this.comparator).copy(null,null,R0.BLACK,null,null))}get(Z){let Q=this.root;for(;!Q.isEmpty();){let J=this.comparator(Z,Q.key);if(J===0)return Q.value;J<0?Q=Q.left:J>0&&(Q=Q.right)}return null}indexOf(Z){let Q=0,J=this.root;for(;!J.isEmpty();){let $=this.comparator(Z,J.key);if($===0)return Q+J.left.size;$<0?J=J.left:(Q+=J.left.size+1,J=J.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(Z){return this.root.inorderTraversal(Z)}forEach(Z){this.inorderTraversal((Q,J)=>(Z(Q,J),!1))}toString(){let Z=[];return this.inorderTraversal((Q,J)=>(Z.push(`${Q}:${J}`),!1)),`{${Z.join(", ")}}`}reverseTraversal(Z){return this.root.reverseTraversal(Z)}getIterator(){return new c1(this.root,null,this.comparator,!1)}getIteratorFrom(Z){return new c1(this.root,Z,this.comparator,!1)}getReverseIterator(){return new c1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(Z){return new c1(this.root,Z,this.comparator,!0)}}class c1{constructor(Z,Q,J,$){this.isReverse=$,this.nodeStack=[];let w=1;for(;!Z.isEmpty();)if(w=Q?J(Z.key,Q):1,Q&&$&&(w*=-1),w<0)Z=this.isReverse?Z.left:Z.right;else{if(w===0){this.nodeStack.push(Z);break}this.nodeStack.push(Z),Z=this.isReverse?Z.right:Z.left}}getNext(){let Z=this.nodeStack.pop(),Q={key:Z.key,value:Z.value};if(this.isReverse)for(Z=Z.left;!Z.isEmpty();)this.nodeStack.push(Z),Z=Z.right;else for(Z=Z.right;!Z.isEmpty();)this.nodeStack.push(Z),Z=Z.left;return Q}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let Z=this.nodeStack[this.nodeStack.length-1];return{key:Z.key,value:Z.value}}}class R0{constructor(Z,Q,J,$,w){this.key=Z,this.value=Q,this.color=J!=null?J:R0.RED,this.left=$!=null?$:R0.EMPTY,this.right=w!=null?w:R0.EMPTY,this.size=this.left.size+1+this.right.size}copy(Z,Q,J,$,w){return new R0(Z!=null?Z:this.key,Q!=null?Q:this.value,J!=null?J:this.color,$!=null?$:this.left,w!=null?w:this.right)}isEmpty(){return!1}inorderTraversal(Z){return this.left.inorderTraversal(Z)||Z(this.key,this.value)||this.right.inorderTraversal(Z)}reverseTraversal(Z){return this.right.reverseTraversal(Z)||Z(this.key,this.value)||this.left.reverseTraversal(Z)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(Z,Q,J){let $=this,w=J(Z,$.key);return $=w<0?$.copy(null,null,null,$.left.insert(Z,Q,J),null):w===0?$.copy(null,Q,null,null,null):$.copy(null,null,null,null,$.right.insert(Z,Q,J)),$.fixUp()}removeMin(){if(this.left.isEmpty())return R0.EMPTY;let Z=this;return Z.left.isRed()||Z.left.left.isRed()||(Z=Z.moveRedLeft()),Z=Z.copy(null,null,null,Z.left.removeMin(),null),Z.fixUp()}remove(Z,Q){let J,$=this;if(Q(Z,$.key)<0)$.left.isEmpty()||$.left.isRed()||$.left.left.isRed()||($=$.moveRedLeft()),$=$.copy(null,null,null,$.left.remove(Z,Q),null);else{if($.left.isRed()&&($=$.rotateRight()),$.right.isEmpty()||$.right.isRed()||$.right.left.isRed()||($=$.moveRedRight()),Q(Z,$.key)===0){if($.right.isEmpty())return R0.EMPTY;J=$.right.min(),$=$.copy(J.key,J.value,null,null,$.right.removeMin())}$=$.copy(null,null,null,null,$.right.remove(Z,Q))}return $.fixUp()}isRed(){return this.color}fixUp(){let Z=this;return Z.right.isRed()&&!Z.left.isRed()&&(Z=Z.rotateLeft()),Z.left.isRed()&&Z.left.left.isRed()&&(Z=Z.rotateRight()),Z.left.isRed()&&Z.right.isRed()&&(Z=Z.colorFlip()),Z}moveRedLeft(){let Z=this.colorFlip();return Z.right.left.isRed()&&(Z=Z.copy(null,null,null,null,Z.right.rotateRight()),Z=Z.rotateLeft(),Z=Z.colorFlip()),Z}moveRedRight(){let Z=this.colorFlip();return Z.left.left.isRed()&&(Z=Z.rotateRight(),Z=Z.colorFlip()),Z}rotateLeft(){let Z=this.copy(null,null,R0.RED,null,this.right.left);return this.right.copy(null,null,this.color,Z,null)}rotateRight(){let Z=this.copy(null,null,R0.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,Z)}colorFlip(){let Z=this.left.copy(null,null,!this.left.color,null,null),Q=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,Z,Q)}checkMaxDepth(){let Z=this.check();return Math.pow(2,Z)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw n();if(this.right.isRed())throw n();let Z=this.left.check();if(Z!==this.right.check())throw n();return Z+(this.isRed()?0:1)}}R0.EMPTY=null,R0.RED=!0,R0.BLACK=!1;R0.EMPTY=new class Z{constructor(){this.size=0}get key(){throw n()}get value(){throw n()}get color(){throw n()}get left(){throw n()}get right(){throw n()}copy(Q,J,$,w,W){return this}insert(Q,J,$){return new R0(Q,J)}remove(Q,J){return this}isEmpty(){return!0}inorderTraversal(Q){return!1}reverseTraversal(Q){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class v0{constructor(Z){this.comparator=Z,this.data=new A0(this.comparator)}has(Z){return this.data.get(Z)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(Z){return this.data.indexOf(Z)}forEach(Z){this.data.inorderTraversal((Q,J)=>(Z(Q),!1))}forEachInRange(Z,Q){let J=this.data.getIteratorFrom(Z[0]);for(;J.hasNext();){let $=J.getNext();if(this.comparator($.key,Z[1])>=0)return;Q($.key)}}forEachWhile(Z,Q){let J;for(J=Q!==void 0?this.data.getIteratorFrom(Q):this.data.getIterator();J.hasNext();)if(!Z(J.getNext().key))return}firstAfterOrEqual(Z){let Q=this.data.getIteratorFrom(Z);return Q.hasNext()?Q.getNext().key:null}getIterator(){return new N4(this.data.getIterator())}getIteratorFrom(Z){return new N4(this.data.getIteratorFrom(Z))}add(Z){return this.copy(this.data.remove(Z).insert(Z,!0))}delete(Z){return this.has(Z)?this.copy(this.data.remove(Z)):this}isEmpty(){return this.data.isEmpty()}unionWith(Z){let Q=this;return Q.size<Z.size&&(Q=Z,Z=this),Z.forEach((J)=>{Q=Q.add(J)}),Q}isEqual(Z){if(!(Z instanceof v0))return!1;if(this.size!==Z.size)return!1;let Q=this.data.getIterator(),J=Z.data.getIterator();for(;Q.hasNext();){let $=Q.getNext().key,w=J.getNext().key;if(this.comparator($,w)!==0)return!1}return!0}toArray(){let Z=[];return this.forEach((Q)=>{Z.push(Q)}),Z}toString(){let Z=[];return this.forEach((Q)=>Z.push(Q)),"SortedSet("+Z.toString()+")"}copy(Z){let Q=new v0(this.comparator);return Q.data=Z,Q}}class N4{constructor(Z){this.iter=Z}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class m0{constructor(Z){this.fields=Z,Z.sort(O0.comparator)}static empty(){return new m0([])}unionWith(Z){let Q=new v0(O0.comparator);for(let J of this.fields)Q=Q.add(J);for(let J of Z)Q=Q.add(J);return new m0(Q.toArray())}covers(Z){for(let Q of this.fields)if(Q.isPrefixOf(Z))return!0;return!1}isEqual(Z){return t2(this.fields,Z.fields,(Q,J)=>Q.isEqual(J))}}class bZ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class b0{constructor(Z){this.binaryString=Z}static fromBase64String(Z){let Q=function J($){try{return atob($)}catch(w){throw typeof DOMException!="undefined"&&w instanceof DOMException?new bZ("Invalid base64 string: "+w):w}}(Z);return new b0(Q)}static fromUint8Array(Z){let Q=function J($){let w="";for(let W=0;W<$.length;++W)w+=String.fromCharCode($[W]);return w}(Z);return new b0(Q)}[Symbol.iterator](){let Z=0;return{next:()=>Z<this.binaryString.length?{value:this.binaryString.charCodeAt(Z++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function Z(Q){return btoa(Q)}(this.binaryString)}toUint8Array(){return function Z(Q){let J=new Uint8Array(Q.length);for(let $=0;$<Q.length;$++)J[$]=Q.charCodeAt($);return J}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(Z){return o(this.binaryString,Z.binaryString)}isEqual(Z){return this.binaryString===Z.binaryString}}b0.EMPTY_BYTE_STRING=new b0("");var nX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function I2(Z){if(q0(!!Z),typeof Z=="string"){let Q=0,J=nX.exec(Z);if(q0(!!J),J[1]){let w=J[1];w=(w+"000000000").substr(0,9),Q=Number(w)}let $=new Date(Z);return{seconds:Math.floor($.getTime()/1000),nanos:Q}}return{seconds:z0(Z.seconds),nanos:z0(Z.nanos)}}function z0(Z){return typeof Z=="number"?Z:typeof Z=="string"?Number(Z):0}function E2(Z){return typeof Z=="string"?b0.fromBase64String(Z):b0.fromUint8Array(Z)}function i4(Z){var Q,J;return((J=(((Q=Z==null?void 0:Z.mapValue)===null||Q===void 0?void 0:Q.fields)||{}).__type__)===null||J===void 0?void 0:J.stringValue)==="server_timestamp"}function cZ(Z){let Q=Z.mapValue.fields.__previous_value__;return i4(Q)?cZ(Q):Q}function Z6(Z){let Q=I2(Z.mapValue.fields.__local_write_time__.timestampValue);return new B0(Q.seconds,Q.nanos)}class dZ{constructor(Z,Q,J,$,w,W,x,h,j){this.databaseId=Z,this.appId=Q,this.persistenceKey=J,this.host=$,this.ssl=w,this.forceLongPolling=W,this.autoDetectLongPolling=x,this.longPollingOptions=h,this.useFetchStreams=j}}class Q6{constructor(Z,Q){this.projectId=Z,this.database=Q||"(default)"}static empty(){return new Q6("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(Z){return Z instanceof Q6&&Z.projectId===this.projectId&&Z.database===this.database}}var d8={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function o2(Z){return"nullValue"in Z?0:("booleanValue"in Z)?1:("integerValue"in Z)||("doubleValue"in Z)?2:("timestampValue"in Z)?3:("stringValue"in Z)?5:("bytesValue"in Z)?6:("referenceValue"in Z)?7:("geoPointValue"in Z)?8:("arrayValue"in Z)?9:("mapValue"in Z)?i4(Z)?4:EZ(Z)?9007199254740991:tZ(Z)?10:11:n()}function c0(Z,Q){if(Z===Q)return!0;let J=o2(Z);if(J!==o2(Q))return!1;switch(J){case 0:case 9007199254740991:return!0;case 1:return Z.booleanValue===Q.booleanValue;case 4:return Z6(Z).isEqual(Z6(Q));case 3:return function $(w,W){if(typeof w.timestampValue=="string"&&typeof W.timestampValue=="string"&&w.timestampValue.length===W.timestampValue.length)return w.timestampValue===W.timestampValue;let x=I2(w.timestampValue),h=I2(W.timestampValue);return x.seconds===h.seconds&&x.nanos===h.nanos}(Z,Q);case 5:return Z.stringValue===Q.stringValue;case 6:return function $(w,W){return E2(w.bytesValue).isEqual(E2(W.bytesValue))}(Z,Q);case 7:return Z.referenceValue===Q.referenceValue;case 8:return function $(w,W){return z0(w.geoPointValue.latitude)===z0(W.geoPointValue.latitude)&&z0(w.geoPointValue.longitude)===z0(W.geoPointValue.longitude)}(Z,Q);case 2:return function $(w,W){if("integerValue"in w&&"integerValue"in W)return z0(w.integerValue)===z0(W.integerValue);if("doubleValue"in w&&"doubleValue"in W){let x=z0(w.doubleValue),h=z0(W.doubleValue);return x===h?e1(x)===e1(h):isNaN(x)&&isNaN(h)}return!1}(Z,Q);case 9:return t2(Z.arrayValue.values||[],Q.arrayValue.values||[],c0);case 10:case 11:return function $(w,W){let x=w.mapValue.fields||{},h=W.mapValue.fields||{};if(FZ(x)!==FZ(h))return!1;for(let j in x)if(x.hasOwnProperty(j)&&(h[j]===void 0||!c0(x[j],h[j])))return!1;return!0}(Z,Q);default:return n()}}function Z8(Z,Q){return(Z.values||[]).find((J)=>c0(J,Q))!==void 0}function a2(Z,Q){if(Z===Q)return 0;let J=o2(Z),$=o2(Q);if(J!==$)return o(J,$);switch(J){case 0:case 9007199254740991:return 0;case 1:return o(Z.booleanValue,Q.booleanValue);case 2:return function w(W,x){let h=z0(W.integerValue||W.doubleValue),j=z0(x.integerValue||x.doubleValue);return h<j?-1:h>j?1:h===j?0:isNaN(h)?isNaN(j)?0:-1:1}(Z,Q);case 3:return jZ(Z.timestampValue,Q.timestampValue);case 4:return jZ(Z6(Z),Z6(Q));case 5:return o(Z.stringValue,Q.stringValue);case 6:return function w(W,x){let h=E2(W),j=E2(x);return h.compareTo(j)}(Z.bytesValue,Q.bytesValue);case 7:return function w(W,x){let h=W.split("/"),j=x.split("/");for(let R=0;R<h.length&&R<j.length;R++){let H=o(h[R],j[R]);if(H!==0)return H}return o(h.length,j.length)}(Z.referenceValue,Q.referenceValue);case 8:return function w(W,x){let h=o(z0(W.latitude),z0(x.latitude));if(h!==0)return h;return o(z0(W.longitude),z0(x.longitude))}(Z.geoPointValue,Q.geoPointValue);case 9:return RZ(Z.arrayValue,Q.arrayValue);case 10:return function w(W,x){var h,j,R,H;let f=W.fields||{},K=x.fields||{},l=(h=f.value)===null||h===void 0?void 0:h.arrayValue,_=(j=K.value)===null||j===void 0?void 0:j.arrayValue,P=o(((R=l==null?void 0:l.values)===null||R===void 0?void 0:R.length)||0,((H=_==null?void 0:_.values)===null||H===void 0?void 0:H.length)||0);if(P!==0)return P;return RZ(l,_)}(Z.mapValue,Q.mapValue);case 11:return function w(W,x){if(W===d8.mapValue&&x===d8.mapValue)return 0;if(W===d8.mapValue)return 1;if(x===d8.mapValue)return-1;let h=W.fields||{},j=Object.keys(h),R=x.fields||{},H=Object.keys(R);j.sort(),H.sort();for(let f=0;f<j.length&&f<H.length;++f){let K=o(j[f],H[f]);if(K!==0)return K;let l=a2(h[j[f]],R[H[f]]);if(l!==0)return l}return o(j.length,H.length)}(Z.mapValue,Q.mapValue);default:throw n()}}function jZ(Z,Q){if(typeof Z=="string"&&typeof Q=="string"&&Z.length===Q.length)return o(Z,Q);let J=I2(Z),$=I2(Q),w=o(J.seconds,$.seconds);return w!==0?w:o(J.nanos,$.nanos)}function RZ(Z,Q){let J=Z.values||[],$=Q.values||[];for(let w=0;w<J.length&&w<$.length;++w){let W=a2(J[w],$[w]);if(W)return W}return o(J.length,$.length)}function e2(Z){return L4(Z)}function L4(Z){return"nullValue"in Z?"null":("booleanValue"in Z)?""+Z.booleanValue:("integerValue"in Z)?""+Z.integerValue:("doubleValue"in Z)?""+Z.doubleValue:("timestampValue"in Z)?function Q(J){let $=I2(J);return`time(${$.seconds},${$.nanos})`}(Z.timestampValue):("stringValue"in Z)?Z.stringValue:("bytesValue"in Z)?function Q(J){return E2(J).toBase64()}(Z.bytesValue):("referenceValue"in Z)?function Q(J){return m.fromName(J).toString()}(Z.referenceValue):("geoPointValue"in Z)?function Q(J){return`geo(${J.latitude},${J.longitude})`}(Z.geoPointValue):("arrayValue"in Z)?function Q(J){let $="[",w=!0;for(let W of J.values||[])w?w=!1:$+=",",$+=L4(W);return $+"]"}(Z.arrayValue):("mapValue"in Z)?function Q(J){let $=Object.keys(J.fields||{}).sort(),w="{",W=!0;for(let x of $)W?W=!1:w+=",",w+=`${x}:${L4(J.fields[x])}`;return w+"}"}(Z.mapValue):n()}function y4(Z){return!!Z&&"integerValue"in Z}function m4(Z){return!!Z&&"arrayValue"in Z}function o8(Z){return!!Z&&"mapValue"in Z}function tZ(Z){var Q,J;return((J=(((Q=Z==null?void 0:Z.mapValue)===null||Q===void 0?void 0:Q.fields)||{}).__type__)===null||J===void 0?void 0:J.stringValue)==="__vector__"}function d1(Z){if(Z.geoPointValue)return{geoPointValue:Object.assign({},Z.geoPointValue)};if(Z.timestampValue&&typeof Z.timestampValue=="object")return{timestampValue:Object.assign({},Z.timestampValue)};if(Z.mapValue){let Q={mapValue:{fields:{}}};return V8(Z.mapValue.fields,(J,$)=>Q.mapValue.fields[J]=d1($)),Q}if(Z.arrayValue){let Q={arrayValue:{values:[]}};for(let J=0;J<(Z.arrayValue.values||[]).length;++J)Q.arrayValue.values[J]=d1(Z.arrayValue.values[J]);return Q}return Object.assign({},Z)}function EZ(Z){return(((Z.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class i0{constructor(Z){this.value=Z}static empty(){return new i0({mapValue:{}})}field(Z){if(Z.isEmpty())return this.value;{let Q=this.value;for(let J=0;J<Z.length-1;++J)if(Q=(Q.mapValue.fields||{})[Z.get(J)],!o8(Q))return null;return Q=(Q.mapValue.fields||{})[Z.lastSegment()],Q||null}}set(Z,Q){this.getFieldsMap(Z.popLast())[Z.lastSegment()]=d1(Q)}setAll(Z){let Q=O0.emptyPath(),J={},$=[];Z.forEach((W,x)=>{if(!Q.isImmediateParentOf(x)){let h=this.getFieldsMap(Q);this.applyChanges(h,J,$),J={},$=[],Q=x.popLast()}W?J[x.lastSegment()]=d1(W):$.push(x.lastSegment())});let w=this.getFieldsMap(Q);this.applyChanges(w,J,$)}delete(Z){let Q=this.field(Z.popLast());o8(Q)&&Q.mapValue.fields&&delete Q.mapValue.fields[Z.lastSegment()]}isEqual(Z){return c0(this.value,Z.value)}getFieldsMap(Z){let Q=this.value;Q.mapValue.fields||(Q.mapValue={fields:{}});for(let J=0;J<Z.length;++J){let $=Q.mapValue.fields[Z.get(J)];o8($)&&$.mapValue.fields||($={mapValue:{fields:{}}},Q.mapValue.fields[Z.get(J)]=$),Q=$}return Q.mapValue.fields}applyChanges(Z,Q,J){V8(Q,($,w)=>Z[$]=w);for(let $ of J)delete Z[$]}clone(){return new i0(d1(this.value))}}function oZ(Z){let Q=[];return V8(Z.fields,(J,$)=>{let w=new O0([J]);if(o8($)){let W=oZ($.mapValue).fields;if(W.length===0)Q.push(w);else for(let x of W)Q.push(w.child(x))}else Q.push(w)}),new m0(Q)}class r0{constructor(Z,Q,J,$,w,W,x){this.key=Z,this.documentType=Q,this.version=J,this.readTime=$,this.createTime=w,this.data=W,this.documentState=x}static newInvalidDocument(Z){return new r0(Z,0,X0.min(),X0.min(),X0.min(),i0.empty(),0)}static newFoundDocument(Z,Q,J,$){return new r0(Z,1,Q,X0.min(),J,$,0)}static newNoDocument(Z,Q){return new r0(Z,2,Q,X0.min(),X0.min(),i0.empty(),0)}static newUnknownDocument(Z,Q){return new r0(Z,3,Q,X0.min(),X0.min(),i0.empty(),2)}convertToFoundDocument(Z,Q){return!this.createTime.isEqual(X0.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=Z),this.version=Z,this.documentType=1,this.data=Q,this.documentState=0,this}convertToNoDocument(Z){return this.version=Z,this.documentType=2,this.data=i0.empty(),this.documentState=0,this}convertToUnknownDocument(Z){return this.version=Z,this.documentType=3,this.data=i0.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X0.min(),this}setReadTime(Z){return this.readTime=Z,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(Z){return Z instanceof r0&&this.key.isEqual(Z.key)&&this.version.isEqual(Z.version)&&this.documentType===Z.documentType&&this.documentState===Z.documentState&&this.data.isEqual(Z.data)}mutableCopy(){return new r0(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Q8{constructor(Z,Q){this.position=Z,this.inclusive=Q}}function OZ(Z,Q,J){let $=0;for(let w=0;w<Z.position.length;w++){let W=Q[w],x=Z.position[w];if(W.field.isKeyField())$=m.comparator(m.fromName(x.referenceValue),J.key);else $=a2(x,J.data.field(W.field));if(W.dir==="desc"&&($*=-1),$!==0)break}return $}function GZ(Z,Q){if(Z===null)return Q===null;if(Q===null)return!1;if(Z.inclusive!==Q.inclusive||Z.position.length!==Q.position.length)return!1;for(let J=0;J<Z.position.length;J++)if(!c0(Z.position[J],Q.position[J]))return!1;return!0}class J8{constructor(Z,Q="asc"){this.field=Z,this.dir=Q}}function sX(Z,Q){return Z.dir===Q.dir&&Z.field.isEqual(Q.field)}class g4{}class x0 extends g4{constructor(Z,Q,J){super(),this.field=Z,this.op=Q,this.value=J}static create(Z,Q,J){return Z.isKeyField()?Q==="in"||Q==="not-in"?this.createKeyFieldInFilter(Z,Q,J):new J7(Z,Q,J):Q==="array-contains"?new V7(Z,J):Q==="in"?new W7(Z,J):Q==="not-in"?new z7(Z,J):Q==="array-contains-any"?new U7(Z,J):new x0(Z,Q,J)}static createKeyFieldInFilter(Z,Q,J){return Q==="in"?new X7(Z,J):new $7(Z,J)}matches(Z){let Q=Z.data.field(this.field);return this.op==="!="?Q!==null&&this.matchesComparison(a2(Q,this.value)):Q!==null&&o2(this.value)===o2(Q)&&this.matchesComparison(a2(Q,this.value))}matchesComparison(Z){switch(this.op){case"<":return Z<0;case"<=":return Z<=0;case"==":return Z===0;case"!=":return Z!==0;case">":return Z>0;case">=":return Z>=0;default:return n()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class k2 extends g4{constructor(Z,Q){super(),this.filters=Z,this.op=Q,this.ae=null}static create(Z,Q){return new k2(Z,Q)}matches(Z){return aZ(this)?this.filters.find((Q)=>!Q.matches(Z))===void 0:this.filters.find((Q)=>Q.matches(Z))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((Z,Q)=>Z.concat(Q.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function aZ(Z){return Z.op==="and"}function eZ(Z){return bX(Z)&&aZ(Z)}function bX(Z){for(let Q of Z.filters)if(Q instanceof k2)return!1;return!0}function v4(Z){if(Z instanceof x0)return Z.field.canonicalString()+Z.op.toString()+e2(Z.value);if(eZ(Z))return Z.filters.map((Q)=>v4(Q)).join(",");{let Q=Z.filters.map((J)=>v4(J)).join(",");return`${Z.op}(${Q})`}}function Z7(Z,Q){return Z instanceof x0?function J($,w){return w instanceof x0&&$.op===w.op&&$.field.isEqual(w.field)&&c0($.value,w.value)}(Z,Q):Z instanceof k2?function J($,w){if(w instanceof k2&&$.op===w.op&&$.filters.length===w.filters.length)return $.filters.reduce((W,x,h)=>W&&Z7(x,w.filters[h]),!0);return!1}(Z,Q):void n()}function Q7(Z){return Z instanceof x0?function Q(J){return`${J.field.canonicalString()} ${J.op} ${e2(J.value)}`}(Z):Z instanceof k2?function Q(J){return J.op.toString()+" {"+J.getFilters().map(Q7).join(" ,")+"}"}(Z):"Filter"}class J7 extends x0{constructor(Z,Q,J){super(Z,Q,J),this.key=m.fromName(J.referenceValue)}matches(Z){let Q=m.comparator(Z.key,this.key);return this.matchesComparison(Q)}}class X7 extends x0{constructor(Z,Q){super(Z,"in",Q),this.keys=w7("in",Q)}matches(Z){return this.keys.some((Q)=>Q.isEqual(Z.key))}}class $7 extends x0{constructor(Z,Q){super(Z,"not-in",Q),this.keys=w7("not-in",Q)}matches(Z){return!this.keys.some((Q)=>Q.isEqual(Z.key))}}function w7(Z,Q){var J;return(((J=Q.arrayValue)===null||J===void 0?void 0:J.values)||[]).map(($)=>m.fromName($.referenceValue))}class V7 extends x0{constructor(Z,Q){super(Z,"array-contains",Q)}matches(Z){let Q=Z.data.field(this.field);return m4(Q)&&Z8(Q.arrayValue,this.value)}}class W7 extends x0{constructor(Z,Q){super(Z,"in",Q)}matches(Z){let Q=Z.data.field(this.field);return Q!==null&&Z8(this.value.arrayValue,Q)}}class z7 extends x0{constructor(Z,Q){super(Z,"not-in",Q)}matches(Z){if(Z8(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let Q=Z.data.field(this.field);return Q!==null&&!Z8(this.value.arrayValue,Q)}}class U7 extends x0{constructor(Z,Q){super(Z,"array-contains-any",Q)}matches(Z){let Q=Z.data.field(this.field);return!(!m4(Q)||!Q.arrayValue.values)&&Q.arrayValue.values.some((J)=>Z8(this.value.arrayValue,J))}}class q7{constructor(Z,Q=null,J=[],$=[],w=null,W=null,x=null){this.path=Z,this.collectionGroup=Q,this.orderBy=J,this.filters=$,this.limit=w,this.startAt=W,this.endAt=x,this.ue=null}}function IZ(Z,Q=null,J=[],$=[],w=null,W=null,x=null){return new q7(Z,Q,J,$,w,W,x)}function D4(Z){let Q=e(Z);if(Q.ue===null){let J=Q.path.canonicalString();Q.collectionGroup!==null&&(J+="|cg:"+Q.collectionGroup),J+="|f:",J+=Q.filters.map(($)=>v4($)).join(","),J+="|ob:",J+=Q.orderBy.map(($)=>function w(W){return W.field.canonicalString()+W.dir}($)).join(","),r4(Q.limit)||(J+="|l:",J+=Q.limit),Q.startAt&&(J+="|lb:",J+=Q.startAt.inclusive?"b:":"a:",J+=Q.startAt.position.map(($)=>e2($)).join(",")),Q.endAt&&(J+="|ub:",J+=Q.endAt.inclusive?"a:":"b:",J+=Q.endAt.position.map(($)=>e2($)).join(",")),Q.ue=J}return Q.ue}function n4(Z,Q){if(Z.limit!==Q.limit)return!1;if(Z.orderBy.length!==Q.orderBy.length)return!1;for(let J=0;J<Z.orderBy.length;J++)if(!sX(Z.orderBy[J],Q.orderBy[J]))return!1;if(Z.filters.length!==Q.filters.length)return!1;for(let J=0;J<Z.filters.length;J++)if(!Z7(Z.filters[J],Q.filters[J]))return!1;return Z.collectionGroup===Q.collectionGroup&&(!!Z.path.isEqual(Q.path)&&(!!GZ(Z.startAt,Q.startAt)&&GZ(Z.endAt,Q.endAt)))}class W8{constructor(Z,Q=null,J=[],$=[],w=null,W="F",x=null,h=null){this.path=Z,this.collectionGroup=Q,this.explicitOrderBy=J,this.filters=$,this.limit=w,this.limitType=W,this.startAt=x,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function cX(Z,Q,J,$,w,W,x,h){return new W8(Z,Q,J,$,w,W,x,h)}function dX(Z){return new W8(Z)}function kZ(Z){return Z.filters.length===0&&Z.limit===null&&Z.startAt==null&&Z.endAt==null&&(Z.explicitOrderBy.length===0||Z.explicitOrderBy.length===1&&Z.explicitOrderBy[0].field.isKeyField())}function tX(Z){return Z.collectionGroup!==null}function t1(Z){let Q=e(Z);if(Q.ce===null){Q.ce=[];let J=new Set;for(let W of Q.explicitOrderBy)Q.ce.push(W),J.add(W.field.canonicalString());let $=Q.explicitOrderBy.length>0?Q.explicitOrderBy[Q.explicitOrderBy.length-1].dir:"asc";(function W(x){let h=new v0(O0.comparator);return x.filters.forEach((j)=>{j.getFlattenedFilters().forEach((R)=>{R.isInequality()&&(h=h.add(R.field))})}),h})(Q).forEach((W)=>{J.has(W.canonicalString())||W.isKeyField()||Q.ce.push(new J8(W,$))}),J.has(O0.keyField().canonicalString())||Q.ce.push(new J8(O0.keyField(),$))}return Q.ce}function _2(Z){let Q=e(Z);return Q.le||(Q.le=EX(Q,t1(Z))),Q.le}function EX(Z,Q){if(Z.limitType==="F")return IZ(Z.path,Z.collectionGroup,Q,Z.filters,Z.limit,Z.startAt,Z.endAt);{Q=Q.map((w)=>{let W=w.dir==="desc"?"asc":"desc";return new J8(w.field,W)});let J=Z.endAt?new Q8(Z.endAt.position,Z.endAt.inclusive):null,$=Z.startAt?new Q8(Z.startAt.position,Z.startAt.inclusive):null;return IZ(Z.path,Z.collectionGroup,Q,Z.filters,Z.limit,J,$)}}function H4(Z,Q,J){return new W8(Z.path,Z.collectionGroup,Z.explicitOrderBy.slice(),Z.filters.slice(),Q,J,Z.startAt,Z.endAt)}function x7(Z,Q){return n4(_2(Z),_2(Q))&&Z.limitType===Q.limitType}function B7(Z){return`${D4(_2(Z))}|lt:${Z.limitType}`}function b1(Z){return`Query(target=${function Q(J){let $=J.path.canonicalString();return J.collectionGroup!==null&&($+=" collectionGroup="+J.collectionGroup),J.filters.length>0&&($+=`, filters: [${J.filters.map((w)=>Q7(w)).join(", ")}]`),r4(J.limit)||($+=", limit: "+J.limit),J.orderBy.length>0&&($+=`, orderBy: [${J.orderBy.map((w)=>function W(x){return`${x.field.canonicalString()} (${x.dir})`}(w)).join(", ")}]`),J.startAt&&($+=", startAt: ",$+=J.startAt.inclusive?"b:":"a:",$+=J.startAt.position.map((w)=>e2(w)).join(",")),J.endAt&&($+=", endAt: ",$+=J.endAt.inclusive?"a:":"b:",$+=J.endAt.position.map((w)=>e2(w)).join(",")),`Target(${$})`}(_2(Z))}; limitType=${Z.limitType})`}function s4(Z,Q){return Q.isFoundDocument()&&function J($,w){let W=w.key.path;return $.collectionGroup!==null?w.key.hasCollectionId($.collectionGroup)&&$.path.isPrefixOf(W):m.isDocumentKey($.path)?$.path.isEqual(W):$.path.isImmediateParentOf(W)}(Z,Q)&&function J($,w){for(let W of t1($))if(!W.field.isKeyField()&&w.data.field(W.field)===null)return!1;return!0}(Z,Q)&&function J($,w){for(let W of $.filters)if(!W.matches(w))return!1;return!0}(Z,Q)&&function J($,w){if($.startAt&&!function W(x,h,j){let R=OZ(x,h,j);return x.inclusive?R<=0:R<0}($.startAt,t1($),w))return!1;if($.endAt&&!function W(x,h,j){let R=OZ(x,h,j);return x.inclusive?R>=0:R>0}($.endAt,t1($),w))return!1;return!0}(Z,Q)}function oX(Z){return(Q,J)=>{let $=!1;for(let w of t1(Z)){let W=aX(w,Q,J);if(W!==0)return W;$=$||w.field.isKeyField()}return 0}}function aX(Z,Q,J){let $=Z.field.isKeyField()?m.comparator(Q.key,J.key):function w(W,x,h){let j=x.data.field(W),R=h.data.field(W);return j!==null&&R!==null?a2(j,R):n()}(Z.field,Q,J);switch(Z.dir){case"asc":return $;case"desc":return-1*$;default:return n()}}class l2{constructor(Z,Q){this.mapKeyFn=Z,this.equalsFn=Q,this.inner={},this.innerSize=0}get(Z){let Q=this.mapKeyFn(Z),J=this.inner[Q];if(J!==void 0){for(let[$,w]of J)if(this.equalsFn($,Z))return w}}has(Z){return this.get(Z)!==void 0}set(Z,Q){let J=this.mapKeyFn(Z),$=this.inner[J];if($===void 0)return this.inner[J]=[[Z,Q]],void this.innerSize++;for(let w=0;w<$.length;w++)if(this.equalsFn($[w][0],Z))return void($[w]=[Z,Q]);$.push([Z,Q]),this.innerSize++}delete(Z){let Q=this.mapKeyFn(Z),J=this.inner[Q];if(J===void 0)return!1;for(let $=0;$<J.length;$++)if(this.equalsFn(J[$][0],Z))return J.length===1?delete this.inner[Q]:J.splice($,1),this.innerSize--,!0;return!1}forEach(Z){V8(this.inner,(Q,J)=>{for(let[$,w]of J)Z($,w)})}isEmpty(){return sZ(this.inner)}size(){return this.innerSize}}var eX=new A0(m.comparator);function J6(){return eX}var h7=new A0(m.comparator);function t8(...Z){let Q=h7;for(let J of Z)Q=Q.insert(J.key,J);return Q}function F7(Z){let Q=h7;return Z.forEach((J,$)=>Q=Q.insert(J,$.overlayedDocument)),Q}function p2(){return E1()}function j7(){return E1()}function E1(){return new l2((Z)=>Z.toString(),(Z,Q)=>Z.isEqual(Q))}var Z$=new A0(m.comparator),Q$=new v0(m.comparator);function y0(...Z){let Q=Q$;for(let J of Z)Q=Q.add(J);return Q}var J$=new v0(o);function X$(){return J$}function b4(Z,Q){if(Z.useProto3Json){if(isNaN(Q))return{doubleValue:"NaN"};if(Q===1/0)return{doubleValue:"Infinity"};if(Q===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:e1(Q)?"-0":Q}}function R7(Z){return{integerValue:""+Z}}function $$(Z,Q){return rX(Q)?R7(Q):b4(Z,Q)}class z8{constructor(){this._=void 0}}function w$(Z,Q,J){return Z instanceof X8?function $(w,W){let x={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:w.seconds,nanos:w.nanoseconds}}}};return W&&i4(W)&&(W=cZ(W)),W&&(x.fields.__previous_value__=W),{mapValue:x}}(J,Q):Z instanceof Z1?G7(Z,Q):Z instanceof Q1?I7(Z,Q):function $(w,W){let x=O7(w,W),h=SZ(x)+SZ(w.Pe);return y4(x)&&y4(w.Pe)?R7(h):b4(w.serializer,h)}(Z,Q)}function V$(Z,Q,J){return Z instanceof Z1?G7(Z,Q):Z instanceof Q1?I7(Z,Q):J}function O7(Z,Q){return Z instanceof $8?function J($){return y4($)||function w(W){return!!W&&"doubleValue"in W}($)}(Q)?Q:{integerValue:0}:null}class X8 extends z8{}class Z1 extends z8{constructor(Z){super(),this.elements=Z}}function G7(Z,Q){let J=k7(Q);for(let $ of Z.elements)J.some((w)=>c0(w,$))||J.push($);return{arrayValue:{values:J}}}class Q1 extends z8{constructor(Z){super(),this.elements=Z}}function I7(Z,Q){let J=k7(Q);for(let $ of Z.elements)J=J.filter((w)=>!c0(w,$));return{arrayValue:{values:J}}}class $8 extends z8{constructor(Z,Q){super(),this.serializer=Z,this.Pe=Q}}function SZ(Z){return z0(Z.integerValue||Z.doubleValue)}function k7(Z){return m4(Z)&&Z.arrayValue.values?Z.arrayValue.values.slice():[]}function W$(Z,Q){return Z.field.isEqual(Q.field)&&function J($,w){return $ instanceof Z1&&w instanceof Z1||$ instanceof Q1&&w instanceof Q1?t2($.elements,w.elements,c0):$ instanceof $8&&w instanceof $8?c0($.Pe,w.Pe):$ instanceof X8&&w instanceof X8}(Z.transform,Q.transform)}class S7{constructor(Z,Q){this.version=Z,this.transformResults=Q}}class J2{constructor(Z,Q){this.updateTime=Z,this.exists=Q}static none(){return new J2}static exists(Z){return new J2(void 0,Z)}static updateTime(Z){return new J2(Z)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(Z){return this.exists===Z.exists&&(this.updateTime?!!Z.updateTime&&this.updateTime.isEqual(Z.updateTime):!Z.updateTime)}}function a8(Z,Q){return Z.updateTime!==void 0?Q.isFoundDocument()&&Q.version.isEqual(Z.updateTime):Z.exists===void 0||Z.exists===Q.isFoundDocument()}class U8{}function N7(Z,Q){if(!Z.hasLocalMutations||Q&&Q.fields.length===0)return null;if(Q===null)return Z.isNoDocument()?new c4(Z.key,J2.none()):new $1(Z.key,Z.data,J2.none());{let J=Z.data,$=i0.empty(),w=new v0(O0.comparator);for(let W of Q.fields)if(!w.has(W)){let x=J.field(W);x===null&&W.length>1&&(W=W.popLast(),x=J.field(W)),x===null?$.delete(W):$.set(W,x),w=w.add(W)}return new N2(Z.key,$,new m0(w.toArray()),J2.none())}}function z$(Z,Q,J){Z instanceof $1?function $(w,W,x){let h=w.value.clone(),j=LZ(w.fieldTransforms,W,x.transformResults);h.setAll(j),W.convertToFoundDocument(x.version,h).setHasCommittedMutations()}(Z,Q,J):Z instanceof N2?function $(w,W,x){if(!a8(w.precondition,W))return void W.convertToUnknownDocument(x.version);let h=LZ(w.fieldTransforms,W,x.transformResults),j=W.data;j.setAll(L7(w)),j.setAll(h),W.convertToFoundDocument(x.version,j).setHasCommittedMutations()}(Z,Q,J):function $(w,W,x){W.convertToNoDocument(x.version).setHasCommittedMutations()}(0,Q,J)}function o1(Z,Q,J,$){return Z instanceof $1?function w(W,x,h,j){if(!a8(W.precondition,x))return h;let R=W.value.clone(),H=yZ(W.fieldTransforms,j,x);return R.setAll(H),x.convertToFoundDocument(x.version,R).setHasLocalMutations(),null}(Z,Q,J,$):Z instanceof N2?function w(W,x,h,j){if(!a8(W.precondition,x))return h;let R=yZ(W.fieldTransforms,j,x),H=x.data;if(H.setAll(L7(W)),H.setAll(R),x.convertToFoundDocument(x.version,H).setHasLocalMutations(),h===null)return null;return h.unionWith(W.fieldMask.fields).unionWith(W.fieldTransforms.map((f)=>f.field))}(Z,Q,J,$):function w(W,x,h){if(a8(W.precondition,x))return x.convertToNoDocument(x.version).setHasLocalMutations(),null;return h}(Z,Q,J)}function U$(Z,Q){let J=null;for(let $ of Z.fieldTransforms){let w=Q.data.field($.field),W=O7($.transform,w||null);W!=null&&(J===null&&(J=i0.empty()),J.set($.field,W))}return J||null}function NZ(Z,Q){return Z.type===Q.type&&(!!Z.key.isEqual(Q.key)&&(!!Z.precondition.isEqual(Q.precondition)&&(!!function J($,w){return $===void 0&&w===void 0||!(!$||!w)&&t2($,w,(W,x)=>W$(W,x))}(Z.fieldTransforms,Q.fieldTransforms)&&(Z.type===0?Z.value.isEqual(Q.value):Z.type!==1||Z.data.isEqual(Q.data)&&Z.fieldMask.isEqual(Q.fieldMask)))))}class $1 extends U8{constructor(Z,Q,J,$=[]){super(),this.key=Z,this.value=Q,this.precondition=J,this.fieldTransforms=$,this.type=0}getFieldMask(){return null}}class N2 extends U8{constructor(Z,Q,J,$,w=[]){super(),this.key=Z,this.data=Q,this.fieldMask=J,this.precondition=$,this.fieldTransforms=w,this.type=1}getFieldMask(){return this.fieldMask}}function L7(Z){let Q=new Map;return Z.fieldMask.fields.forEach((J)=>{if(!J.isEmpty()){let $=Z.data.field(J);Q.set(J,$)}}),Q}function LZ(Z,Q,J){let $=new Map;q0(Z.length===J.length);for(let w=0;w<J.length;w++){let W=Z[w],x=W.transform,h=Q.data.field(W.field);$.set(W.field,V$(x,h,J[w]))}return $}function yZ(Z,Q,J){let $=new Map;for(let w of Z){let W=w.transform,x=J.data.field(w.field);$.set(w.field,w$(W,x,Q))}return $}class c4 extends U8{constructor(Z,Q){super(),this.key=Z,this.precondition=Q,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class y7 extends U8{constructor(Z,Q){super(),this.key=Z,this.precondition=Q,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class v7{constructor(Z,Q,J,$){this.batchId=Z,this.localWriteTime=Q,this.baseMutations=J,this.mutations=$}applyToRemoteDocument(Z,Q){let J=Q.mutationResults;for(let $=0;$<this.mutations.length;$++){let w=this.mutations[$];if(w.key.isEqual(Z.key))z$(w,Z,J[$])}}applyToLocalView(Z,Q){for(let J of this.baseMutations)J.key.isEqual(Z.key)&&(Q=o1(J,Z,Q,this.localWriteTime));for(let J of this.mutations)J.key.isEqual(Z.key)&&(Q=o1(J,Z,Q,this.localWriteTime));return Q}applyToLocalDocumentSet(Z,Q){let J=j7();return this.mutations.forEach(($)=>{let w=Z.get($.key),W=w.overlayedDocument,x=this.applyToLocalView(W,w.mutatedFields);x=Q.has($.key)?null:x;let h=N7(W,x);h!==null&&J.set($.key,h),W.isValidDocument()||W.convertToNoDocument(X0.min())}),J}keys(){return this.mutations.reduce((Z,Q)=>Z.add(Q.key),y0())}isEqual(Z){return this.batchId===Z.batchId&&t2(this.mutations,Z.mutations,(Q,J)=>NZ(Q,J))&&t2(this.baseMutations,Z.baseMutations,(Q,J)=>NZ(Q,J))}}class d4{constructor(Z,Q,J,$){this.batch=Z,this.commitVersion=Q,this.mutationResults=J,this.docVersions=$}static from(Z,Q,J){q0(Z.mutations.length===J.length);let $=function W(){return Z$}(),w=Z.mutations;for(let W=0;W<w.length;W++)$=$.insert(w[W].key,J[W].version);return new d4(Z,Q,J,$)}}class H7{constructor(Z,Q){this.largestBatchId=Z,this.mutation=Q}getKey(){return this.mutation.key}isEqual(Z){return Z!==null&&this.mutation===Z.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}var W0,c;function q$(Z){switch(Z){default:return n();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0}}function x$(Z){if(Z===void 0)return M2("GRPC error has no .code"),A.UNKNOWN;switch(Z){case W0.OK:return A.OK;case W0.CANCELLED:return A.CANCELLED;case W0.UNKNOWN:return A.UNKNOWN;case W0.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case W0.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case W0.INTERNAL:return A.INTERNAL;case W0.UNAVAILABLE:return A.UNAVAILABLE;case W0.UNAUTHENTICATED:return A.UNAUTHENTICATED;case W0.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case W0.NOT_FOUND:return A.NOT_FOUND;case W0.ALREADY_EXISTS:return A.ALREADY_EXISTS;case W0.PERMISSION_DENIED:return A.PERMISSION_DENIED;case W0.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case W0.ABORTED:return A.ABORTED;case W0.OUT_OF_RANGE:return A.OUT_OF_RANGE;case W0.UNIMPLEMENTED:return A.UNIMPLEMENTED;case W0.DATA_LOSS:return A.DATA_LOSS;default:return n()}}(c=W0||(W0={}))[c.OK=0]="OK",c[c.CANCELLED=1]="CANCELLED",c[c.UNKNOWN=2]="UNKNOWN",c[c.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",c[c.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",c[c.NOT_FOUND=5]="NOT_FOUND",c[c.ALREADY_EXISTS=6]="ALREADY_EXISTS",c[c.PERMISSION_DENIED=7]="PERMISSION_DENIED",c[c.UNAUTHENTICATED=16]="UNAUTHENTICATED",c[c.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",c[c.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",c[c.ABORTED=10]="ABORTED",c[c.OUT_OF_RANGE=11]="OUT_OF_RANGE",c[c.UNIMPLEMENTED=12]="UNIMPLEMENTED",c[c.INTERNAL=13]="INTERNAL",c[c.UNAVAILABLE=14]="UNAVAILABLE",c[c.DATA_LOSS=15]="DATA_LOSS";var VW=new B4([4294967295,4294967295],0);var WW=(()=>{return{asc:"ASCENDING",desc:"DESCENDING"}})(),zW=(()=>{return{"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}})(),UW=(()=>{return{and:"AND",or:"OR"}})();class Y7{constructor(Z,Q){this.databaseId=Z,this.useProto3Json=Q}}function Y4(Z,Q){if(Z.useProto3Json)return`${new Date(1000*Q.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+Q.nanoseconds).slice(-9)}Z`;return{seconds:""+Q.seconds,nanos:Q.nanoseconds}}function B$(Z,Q){return Z.useProto3Json?Q.toBase64():Q.toUint8Array()}function h$(Z,Q){return Y4(Z,Q.toTimestamp())}function d2(Z){return q0(!!Z),X0.fromTimestamp(function Q(J){let $=I2(J);return new B0($.seconds,$.nanos)}(Z))}function f7(Z,Q){return f4(Z,Q).canonicalString()}function f4(Z,Q){let J=function $(w){return new V0(["projects",w.projectId,"databases",w.database])}(Z).child("documents");return Q===void 0?J:J.child(Q)}function F$(Z){let Q=V0.fromString(Z);return q0(N$(Q)),Q}function K4(Z,Q){return f7(Z.databaseId,Q.path)}function j$(Z){let Q=F$(Z);return Q.length===4?V0.emptyPath():O$(Q)}function R$(Z){return new V0(["projects",Z.databaseId.projectId,"databases",Z.databaseId.database]).canonicalString()}function O$(Z){return q0(Z.length>4&&Z.get(4)==="documents"),Z.popFirst(5)}function vZ(Z,Q,J){return{name:K4(Z,Q),fields:J.value.mapValue.fields}}function G$(Z,Q){let J;if(Q instanceof $1)J={update:vZ(Z,Q.key,Q.value)};else if(Q instanceof c4)J={delete:K4(Z,Q.key)};else if(Q instanceof N2)J={update:vZ(Z,Q.key,Q.data),updateMask:S$(Q.fieldMask)};else{if(!(Q instanceof y7))return n();J={verify:K4(Z,Q.key)}}return Q.fieldTransforms.length>0&&(J.updateTransforms=Q.fieldTransforms.map(($)=>function w(W,x){let h=x.transform;if(h instanceof X8)return{fieldPath:x.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Z1)return{fieldPath:x.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Q1)return{fieldPath:x.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof $8)return{fieldPath:x.field.canonicalString(),increment:h.Pe};throw n()}(0,$))),Q.precondition.isNone||(J.currentDocument=function $(w,W){return W.updateTime!==void 0?{updateTime:h$(w,W.updateTime)}:W.exists!==void 0?{exists:W.exists}:n()}(Z,Q.precondition)),J}function I$(Z,Q){return Z&&Z.length>0?(q0(Q!==void 0),Z.map((J)=>function $(w,W){let x=w.updateTime?d2(w.updateTime):d2(W);return x.isEqual(X0.min())&&(x=d2(W)),new S7(x,w.transformResults||[])}(J,Q))):[]}function k$(Z){let Q=j$(Z.parent),J=Z.structuredQuery,$=J.from?J.from.length:0,w=null;if($>0){q0($===1);let H=J.from[0];H.allDescendants?w=H.collectionId:Q=Q.child(H.collectionId)}let W=[];J.where&&(W=function H(f){let K=K7(f);if(K instanceof k2&&eZ(K))return K.getFilters();return[K]}(J.where));let x=[];J.orderBy&&(x=function H(f){return f.map((K)=>function l(_){return new J8(c2(_.field),function P(u){switch(u){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(K))}(J.orderBy));let h=null;J.limit&&(h=function H(f){let K;return K=typeof f=="object"?f.value:f,r4(K)?null:K}(J.limit));let j=null;J.startAt&&(j=function H(f){let K=!!f.before,l=f.values||[];return new Q8(l,K)}(J.startAt));let R=null;return J.endAt&&(R=function H(f){let K=!f.before,l=f.values||[];return new Q8(l,K)}(J.endAt)),cX(Q,w,x,W,h,"F",j,R)}function K7(Z){return Z.unaryFilter!==void 0?function Q(J){switch(J.unaryFilter.op){case"IS_NAN":let $=c2(J.unaryFilter.field);return x0.create($,"==",{doubleValue:NaN});case"IS_NULL":let w=c2(J.unaryFilter.field);return x0.create(w,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let W=c2(J.unaryFilter.field);return x0.create(W,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let x=c2(J.unaryFilter.field);return x0.create(x,"!=",{nullValue:"NULL_VALUE"});default:return n()}}(Z):Z.fieldFilter!==void 0?function Q(J){return x0.create(c2(J.fieldFilter.field),function $(w){switch(w){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return n()}}(J.fieldFilter.op),J.fieldFilter.value)}(Z):Z.compositeFilter!==void 0?function Q(J){return k2.create(J.compositeFilter.filters.map(($)=>K7($)),function $(w){switch(w){case"AND":return"and";case"OR":return"or";default:return n()}}(J.compositeFilter.op))}(Z):n()}function c2(Z){return O0.fromServerFormat(Z.fieldPath)}function S$(Z){let Q=[];return Z.fields.forEach((J)=>Q.push(J.canonicalString())),{fieldPaths:Q}}function N$(Z){return Z.length>=4&&Z.get(0)==="projects"&&Z.get(2)==="databases"}class T7{constructor(Z){this.ct=Z}}function L$(Z){let Q=k$({parent:Z.parent,structuredQuery:Z.structuredQuery});return Z.limitType==="LAST"?H4(Q,Q.limit,"L"):Q}class T4{constructor(){}It(Z,Q){this.Tt(Z,Q),Q.Et()}Tt(Z,Q){if("nullValue"in Z)this.dt(Q,5);else if("booleanValue"in Z)this.dt(Q,10),Q.At(Z.booleanValue?1:0);else if("integerValue"in Z)this.dt(Q,15),Q.At(z0(Z.integerValue));else if("doubleValue"in Z){let J=z0(Z.doubleValue);isNaN(J)?this.dt(Q,13):(this.dt(Q,15),e1(J)?Q.At(0):Q.At(J))}else if("timestampValue"in Z){let J=Z.timestampValue;this.dt(Q,20),typeof J=="string"&&(J=I2(J)),Q.Rt(`${J.seconds||""}`),Q.At(J.nanos||0)}else if("stringValue"in Z)this.Vt(Z.stringValue,Q),this.ft(Q);else if("bytesValue"in Z)this.dt(Q,30),Q.gt(E2(Z.bytesValue)),this.ft(Q);else if("referenceValue"in Z)this.yt(Z.referenceValue,Q);else if("geoPointValue"in Z){let J=Z.geoPointValue;this.dt(Q,45),Q.At(J.latitude||0),Q.At(J.longitude||0)}else"mapValue"in Z?EZ(Z)?this.dt(Q,Number.MAX_SAFE_INTEGER):tZ(Z)?this.wt(Z.mapValue,Q):(this.St(Z.mapValue,Q),this.ft(Q)):("arrayValue"in Z)?(this.bt(Z.arrayValue,Q),this.ft(Q)):n()}Vt(Z,Q){this.dt(Q,25),this.Dt(Z,Q)}Dt(Z,Q){Q.Rt(Z)}St(Z,Q){let J=Z.fields||{};this.dt(Q,55);for(let $ of Object.keys(J))this.Vt($,Q),this.Tt(J[$],Q)}wt(Z,Q){var J,$;let w=Z.fields||{};this.dt(Q,53);let W="value",x=(($=(J=w[W].arrayValue)===null||J===void 0?void 0:J.values)===null||$===void 0?void 0:$.length)||0;this.dt(Q,15),Q.At(z0(x)),this.Vt(W,Q),this.Tt(w[W],Q)}bt(Z,Q){let J=Z.values||[];this.dt(Q,50);for(let $ of J)this.Tt($,Q)}yt(Z,Q){this.dt(Q,37),m.fromName(Z).path.forEach((J)=>{this.dt(Q,60),this.Dt(J,Q)})}dt(Z,Q){Z.At(Q)}ft(Z){Z.At(2)}}T4.vt=new T4;class A7{constructor(){this.un=new p7}addToCollectionParentIndex(Z,Q){return this.un.add(Q),T.resolve()}getCollectionParents(Z,Q){return T.resolve(this.un.getEntries(Q))}addFieldIndex(Z,Q){return T.resolve()}deleteFieldIndex(Z,Q){return T.resolve()}deleteAllFieldIndexes(Z){return T.resolve()}createTargetIndexes(Z,Q){return T.resolve()}getDocumentsMatchingTarget(Z,Q){return T.resolve(null)}getIndexType(Z,Q){return T.resolve(0)}getFieldIndexes(Z,Q){return T.resolve([])}getNextCollectionGroupToUpdate(Z){return T.resolve(null)}getMinOffset(Z,Q){return T.resolve(G2.min())}getMinOffsetFromCollectionGroup(Z,Q){return T.resolve(G2.min())}updateCollectionGroup(Z,Q,J){return T.resolve()}updateIndexEntries(Z,Q){return T.resolve()}}class p7{constructor(){this.index={}}add(Z){let Q=Z.lastSegment(),J=Z.popLast(),$=this.index[Q]||new v0(V0.comparator),w=!$.has(J);return this.index[Q]=$.add(J),w}has(Z){let Q=Z.lastSegment(),J=Z.popLast(),$=this.index[Q];return $&&$.has(J)}getEntries(Z){return(this.index[Z]||new v0(V0.comparator)).toArray()}}var qW=new Uint8Array(0);class u0{constructor(Z,Q,J){this.cacheSizeCollectionThreshold=Z,this.percentileToCollect=Q,this.maximumSequenceNumbersToCollect=J}static withCacheSize(Z){return new u0(Z,u0.DEFAULT_COLLECTION_PERCENTILE,u0.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}u0.DEFAULT_COLLECTION_PERCENTILE=10,u0.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1000,u0.DEFAULT=new u0(41943040,u0.DEFAULT_COLLECTION_PERCENTILE,u0.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),u0.DISABLED=new u0(-1,0,0);class J1{constructor(Z){this.Ln=Z}next(){return this.Ln+=2,this.Ln}static Bn(){return new J1(0)}static kn(){return new J1(-1)}}class _7{constructor(){this.changes=new l2((Z)=>Z.toString(),(Z,Q)=>Z.isEqual(Q)),this.changesApplied=!1}addEntry(Z){this.assertNotApplied(),this.changes.set(Z.key,Z)}removeEntry(Z,Q){this.assertNotApplied(),this.changes.set(Z,r0.newInvalidDocument(Z).setReadTime(Q))}getEntry(Z,Q){this.assertNotApplied();let J=this.changes.get(Q);return J!==void 0?T.resolve(J):this.getFromCache(Z,Q)}getEntries(Z,Q){return this.getAllFromCache(Z,Q)}apply(Z){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(Z)}assertNotApplied(){}}class P7{constructor(Z,Q){this.overlayedDocument=Z,this.mutatedFields=Q}}class M7{constructor(Z,Q,J,$){this.remoteDocumentCache=Z,this.mutationQueue=Q,this.documentOverlayCache=J,this.indexManager=$}getDocument(Z,Q){let J=null;return this.documentOverlayCache.getOverlay(Z,Q).next(($)=>(J=$,this.remoteDocumentCache.getEntry(Z,Q))).next(($)=>(J!==null&&o1(J.mutation,$,m0.empty(),B0.now()),$))}getDocuments(Z,Q){return this.remoteDocumentCache.getEntries(Z,Q).next((J)=>this.getLocalViewOfDocuments(Z,J,y0()).next(()=>J))}getLocalViewOfDocuments(Z,Q,J=y0()){let $=p2();return this.populateOverlays(Z,$,Q).next(()=>this.computeViews(Z,Q,$,J).next((w)=>{let W=t8();return w.forEach((x,h)=>{W=W.insert(x,h.overlayedDocument)}),W}))}getOverlayedDocuments(Z,Q){let J=p2();return this.populateOverlays(Z,J,Q).next(()=>this.computeViews(Z,Q,J,y0()))}populateOverlays(Z,Q,J){let $=[];return J.forEach((w)=>{Q.has(w)||$.push(w)}),this.documentOverlayCache.getOverlays(Z,$).next((w)=>{w.forEach((W,x)=>{Q.set(W,x)})})}computeViews(Z,Q,J,$){let w=J6(),W=E1(),x=function h(){return E1()}();return Q.forEach((h,j)=>{let R=J.get(j.key);$.has(j.key)&&(R===void 0||R.mutation instanceof N2)?w=w.insert(j.key,j):R!==void 0?(W.set(j.key,R.mutation.getFieldMask()),o1(R.mutation,j,R.mutation.getFieldMask(),B0.now())):W.set(j.key,m0.empty())}),this.recalculateAndSaveOverlays(Z,w).next((h)=>(h.forEach((j,R)=>W.set(j,R)),Q.forEach((j,R)=>{var H;return x.set(j,new P7(R,(H=W.get(j))!==null&&H!==void 0?H:null))}),x))}recalculateAndSaveOverlays(Z,Q){let J=E1(),$=new A0((W,x)=>W-x),w=y0();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(Z,Q).next((W)=>{for(let x of W)x.keys().forEach((h)=>{let j=Q.get(h);if(j===null)return;let R=J.get(h)||m0.empty();R=x.applyToLocalView(j,R),J.set(h,R);let H=($.get(x.batchId)||y0()).add(h);$=$.insert(x.batchId,H)})}).next(()=>{let W=[],x=$.getReverseIterator();for(;x.hasNext();){let h=x.getNext(),j=h.key,R=h.value,H=j7();R.forEach((f)=>{if(!w.has(f)){let K=N7(Q.get(f),J.get(f));K!==null&&H.set(f,K),w=w.add(f)}}),W.push(this.documentOverlayCache.saveOverlays(Z,j,H))}return T.waitFor(W)}).next(()=>J)}recalculateAndSaveOverlaysForDocumentKeys(Z,Q){return this.remoteDocumentCache.getEntries(Z,Q).next((J)=>this.recalculateAndSaveOverlays(Z,J))}getDocumentsMatchingQuery(Z,Q,J,$){return function w(W){return m.isDocumentKey(W.path)&&W.collectionGroup===null&&W.filters.length===0}(Q)?this.getDocumentsMatchingDocumentQuery(Z,Q.path):tX(Q)?this.getDocumentsMatchingCollectionGroupQuery(Z,Q,J,$):this.getDocumentsMatchingCollectionQuery(Z,Q,J,$)}getNextDocuments(Z,Q,J,$){return this.remoteDocumentCache.getAllFromCollectionGroup(Z,Q,J,$).next((w)=>{let W=$-w.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(Z,Q,J.largestBatchId,$-w.size):T.resolve(p2()),x=-1,h=w;return W.next((j)=>T.forEach(j,(R,H)=>(x<H.largestBatchId&&(x=H.largestBatchId),w.get(R)?T.resolve():this.remoteDocumentCache.getEntry(Z,R).next((f)=>{h=h.insert(R,f)}))).next(()=>this.populateOverlays(Z,j,w)).next(()=>this.computeViews(Z,h,j,y0())).next((R)=>({batchId:x,changes:F7(R)})))})}getDocumentsMatchingDocumentQuery(Z,Q){return this.getDocument(Z,new m(Q)).next((J)=>{let $=t8();return J.isFoundDocument()&&($=$.insert(J.key,J)),$})}getDocumentsMatchingCollectionGroupQuery(Z,Q,J,$){let w=Q.collectionGroup,W=t8();return this.indexManager.getCollectionParents(Z,w).next((x)=>T.forEach(x,(h)=>{let j=function R(H,f){return new W8(f,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt)}(Q,h.child(w));return this.getDocumentsMatchingCollectionQuery(Z,j,J,$).next((R)=>{R.forEach((H,f)=>{W=W.insert(H,f)})})}).next(()=>W))}getDocumentsMatchingCollectionQuery(Z,Q,J,$){let w;return this.documentOverlayCache.getOverlaysForCollection(Z,Q.path,J.largestBatchId).next((W)=>(w=W,this.remoteDocumentCache.getDocumentsMatchingQuery(Z,Q,J,w,$))).next((W)=>{w.forEach((h,j)=>{let R=j.getKey();W.get(R)===null&&(W=W.insert(R,r0.newInvalidDocument(R)))});let x=t8();return W.forEach((h,j)=>{let R=w.get(h);R!==void 0&&o1(R.mutation,j,m0.empty(),B0.now()),s4(Q,j)&&(x=x.insert(h,j))}),x})}}class l7{constructor(Z){this.serializer=Z,this.hr=new Map,this.Pr=new Map}getBundleMetadata(Z,Q){return T.resolve(this.hr.get(Q))}saveBundleMetadata(Z,Q){return this.hr.set(Q.id,function J($){return{id:$.id,version:$.version,createTime:d2($.createTime)}}(Q)),T.resolve()}getNamedQuery(Z,Q){return T.resolve(this.Pr.get(Q))}saveNamedQuery(Z,Q){return this.Pr.set(Q.name,function J($){return{name:$.name,query:L$($.bundledQuery),readTime:d2($.readTime)}}(Q)),T.resolve()}}class u7{constructor(){this.overlays=new A0(m.comparator),this.Ir=new Map}getOverlay(Z,Q){return T.resolve(this.overlays.get(Q))}getOverlays(Z,Q){let J=p2();return T.forEach(Q,($)=>this.getOverlay(Z,$).next((w)=>{w!==null&&J.set($,w)})).next(()=>J)}saveOverlays(Z,Q,J){return J.forEach(($,w)=>{this.ht(Z,Q,w)}),T.resolve()}removeOverlaysForBatchId(Z,Q,J){let $=this.Ir.get(J);return $!==void 0&&($.forEach((w)=>this.overlays=this.overlays.remove(w)),this.Ir.delete(J)),T.resolve()}getOverlaysForCollection(Z,Q,J){let $=p2(),w=Q.length+1,W=new m(Q.child("")),x=this.overlays.getIteratorFrom(W);for(;x.hasNext();){let h=x.getNext().value,j=h.getKey();if(!Q.isPrefixOf(j.path))break;j.path.length===w&&(h.largestBatchId>J&&$.set(h.getKey(),h))}return T.resolve($)}getOverlaysForCollectionGroup(Z,Q,J,$){let w=new A0((j,R)=>j-R),W=this.overlays.getIterator();for(;W.hasNext();){let j=W.getNext().value;if(j.getKey().getCollectionGroup()===Q&&j.largestBatchId>J){let R=w.get(j.largestBatchId);R===null&&(R=p2(),w=w.insert(j.largestBatchId,R)),R.set(j.getKey(),j)}}let x=p2(),h=w.getIterator();for(;h.hasNext();)if(h.getNext().value.forEach((j,R)=>x.set(j,R)),x.size()>=$)break;return T.resolve(x)}ht(Z,Q,J){let $=this.overlays.get(J.key);if($!==null){let W=this.Ir.get($.largestBatchId).delete(J.key);this.Ir.set($.largestBatchId,W)}this.overlays=this.overlays.insert(J.key,new H7(Q,J));let w=this.Ir.get(Q);w===void 0&&(w=y0(),this.Ir.set(Q,w)),this.Ir.set(Q,w.add(J.key))}}class C7{constructor(){this.sessionToken=b0.EMPTY_BYTE_STRING}getSessionToken(Z){return T.resolve(this.sessionToken)}setSessionToken(Z,Q){return this.sessionToken=Q,T.resolve()}}class w6{constructor(){this.Tr=new v0(U0.Er),this.dr=new v0(U0.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(Z,Q){let J=new U0(Z,Q);this.Tr=this.Tr.add(J),this.dr=this.dr.add(J)}Rr(Z,Q){Z.forEach((J)=>this.addReference(J,Q))}removeReference(Z,Q){this.Vr(new U0(Z,Q))}mr(Z,Q){Z.forEach((J)=>this.removeReference(J,Q))}gr(Z){let Q=new m(new V0([])),J=new U0(Q,Z),$=new U0(Q,Z+1),w=[];return this.dr.forEachInRange([J,$],(W)=>{this.Vr(W),w.push(W.key)}),w}pr(){this.Tr.forEach((Z)=>this.Vr(Z))}Vr(Z){this.Tr=this.Tr.delete(Z),this.dr=this.dr.delete(Z)}yr(Z){let Q=new m(new V0([])),J=new U0(Q,Z),$=new U0(Q,Z+1),w=y0();return this.dr.forEachInRange([J,$],(W)=>{w=w.add(W.key)}),w}containsKey(Z){let Q=new U0(Z,0),J=this.Tr.firstAfterOrEqual(Q);return J!==null&&Z.isEqual(J.key)}}class U0{constructor(Z,Q){this.key=Z,this.wr=Q}static Er(Z,Q){return m.comparator(Z.key,Q.key)||o(Z.wr,Q.wr)}static Ar(Z,Q){return o(Z.wr,Q.wr)||m.comparator(Z.key,Q.key)}}class r7{constructor(Z,Q){this.indexManager=Z,this.referenceDelegate=Q,this.mutationQueue=[],this.Sr=1,this.br=new v0(U0.Er)}checkEmpty(Z){return T.resolve(this.mutationQueue.length===0)}addMutationBatch(Z,Q,J,$){let w=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let W=new v7(w,Q,J,$);this.mutationQueue.push(W);for(let x of $)this.br=this.br.add(new U0(x.key,w)),this.indexManager.addToCollectionParentIndex(Z,x.key.path.popLast());return T.resolve(W)}lookupMutationBatch(Z,Q){return T.resolve(this.Dr(Q))}getNextMutationBatchAfterBatchId(Z,Q){let J=Q+1,$=this.vr(J),w=$<0?0:$;return T.resolve(this.mutationQueue.length>w?this.mutationQueue[w]:null)}getHighestUnacknowledgedBatchId(){return T.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(Z){return T.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(Z,Q){let J=new U0(Q,0),$=new U0(Q,Number.POSITIVE_INFINITY),w=[];return this.br.forEachInRange([J,$],(W)=>{let x=this.Dr(W.wr);w.push(x)}),T.resolve(w)}getAllMutationBatchesAffectingDocumentKeys(Z,Q){let J=new v0(o);return Q.forEach(($)=>{let w=new U0($,0),W=new U0($,Number.POSITIVE_INFINITY);this.br.forEachInRange([w,W],(x)=>{J=J.add(x.wr)})}),T.resolve(this.Cr(J))}getAllMutationBatchesAffectingQuery(Z,Q){let J=Q.path,$=J.length+1,w=J;m.isDocumentKey(w)||(w=w.child(""));let W=new U0(new m(w),0),x=new v0(o);return this.br.forEachWhile((h)=>{let j=h.key.path;return!!J.isPrefixOf(j)&&(j.length===$&&(x=x.add(h.wr)),!0)},W),T.resolve(this.Cr(x))}Cr(Z){let Q=[];return Z.forEach((J)=>{let $=this.Dr(J);$!==null&&Q.push($)}),Q}removeMutationBatch(Z,Q){q0(this.Fr(Q.batchId,"removed")===0),this.mutationQueue.shift();let J=this.br;return T.forEach(Q.mutations,($)=>{let w=new U0($.key,Q.batchId);return J=J.delete(w),this.referenceDelegate.markPotentiallyOrphaned(Z,$.key)}).next(()=>{this.br=J})}On(Z){}containsKey(Z,Q){let J=new U0(Q,0),$=this.br.firstAfterOrEqual(J);return T.resolve(Q.isEqual($&&$.key))}performConsistencyCheck(Z){return this.mutationQueue.length,T.resolve()}Fr(Z,Q){return this.vr(Z)}vr(Z){if(this.mutationQueue.length===0)return 0;return Z-this.mutationQueue[0].batchId}Dr(Z){let Q=this.vr(Z);if(Q<0||Q>=this.mutationQueue.length)return null;return this.mutationQueue[Q]}}class i7{constructor(Z){this.Mr=Z,this.docs=function Q(){return new A0(m.comparator)}(),this.size=0}setIndexManager(Z){this.indexManager=Z}addEntry(Z,Q){let J=Q.key,$=this.docs.get(J),w=$?$.size:0,W=this.Mr(Q);return this.docs=this.docs.insert(J,{document:Q.mutableCopy(),size:W}),this.size+=W-w,this.indexManager.addToCollectionParentIndex(Z,J.path.popLast())}removeEntry(Z){let Q=this.docs.get(Z);Q&&(this.docs=this.docs.remove(Z),this.size-=Q.size)}getEntry(Z,Q){let J=this.docs.get(Q);return T.resolve(J?J.document.mutableCopy():r0.newInvalidDocument(Q))}getEntries(Z,Q){let J=J6();return Q.forEach(($)=>{let w=this.docs.get($);J=J.insert($,w?w.document.mutableCopy():r0.newInvalidDocument($))}),T.resolve(J)}getDocumentsMatchingQuery(Z,Q,J,$){let w=J6(),W=Q.path,x=new m(W.child("")),h=this.docs.getIteratorFrom(x);for(;h.hasNext();){let{key:j,value:{document:R}}=h.getNext();if(!W.isPrefixOf(j.path))break;j.path.length>W.length+1||(lX(MX(R),J)<=0||($.has(R.key)||s4(Q,R))&&(w=w.insert(R.key,R.mutableCopy())))}return T.resolve(w)}getAllFromCollectionGroup(Z,Q,J,$){n()}Or(Z,Q){return T.forEach(this.docs,(J)=>Q(J))}newChangeBuffer(Z){return new m7(this)}getSize(Z){return T.resolve(this.size)}}class m7 extends _7{constructor(Z){super(),this.cr=Z}applyChanges(Z){let Q=[];return this.changes.forEach((J,$)=>{$.isValidDocument()?Q.push(this.cr.addEntry(Z,$)):this.cr.removeEntry(J)}),T.waitFor(Q)}getFromCache(Z,Q){return this.cr.getEntry(Z,Q)}getAllFromCache(Z,Q){return this.cr.getEntries(Z,Q)}}class g7{constructor(Z){this.persistence=Z,this.Nr=new l2((Q)=>D4(Q),n4),this.lastRemoteSnapshotVersion=X0.min(),this.highestTargetId=0,this.Lr=0,this.Br=new w6,this.targetCount=0,this.kr=J1.Bn()}forEachTarget(Z,Q){return this.Nr.forEach((J,$)=>Q($)),T.resolve()}getLastRemoteSnapshotVersion(Z){return T.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(Z){return T.resolve(this.Lr)}allocateTargetId(Z){return this.highestTargetId=this.kr.next(),T.resolve(this.highestTargetId)}setTargetsMetadata(Z,Q,J){return J&&(this.lastRemoteSnapshotVersion=J),Q>this.Lr&&(this.Lr=Q),T.resolve()}Kn(Z){this.Nr.set(Z.target,Z);let Q=Z.targetId;Q>this.highestTargetId&&(this.kr=new J1(Q),this.highestTargetId=Q),Z.sequenceNumber>this.Lr&&(this.Lr=Z.sequenceNumber)}addTargetData(Z,Q){return this.Kn(Q),this.targetCount+=1,T.resolve()}updateTargetData(Z,Q){return this.Kn(Q),T.resolve()}removeTargetData(Z,Q){return this.Nr.delete(Q.target),this.Br.gr(Q.targetId),this.targetCount-=1,T.resolve()}removeTargets(Z,Q,J){let $=0,w=[];return this.Nr.forEach((W,x)=>{x.sequenceNumber<=Q&&J.get(x.targetId)===null&&(this.Nr.delete(W),w.push(this.removeMatchingKeysForTargetId(Z,x.targetId)),$++)}),T.waitFor(w).next(()=>$)}getTargetCount(Z){return T.resolve(this.targetCount)}getTargetData(Z,Q){let J=this.Nr.get(Q)||null;return T.resolve(J)}addMatchingKeys(Z,Q,J){return this.Br.Rr(Q,J),T.resolve()}removeMatchingKeys(Z,Q,J){this.Br.mr(Q,J);let $=this.persistence.referenceDelegate,w=[];return $&&Q.forEach((W)=>{w.push($.markPotentiallyOrphaned(Z,W))}),T.waitFor(w)}removeMatchingKeysForTargetId(Z,Q){return this.Br.gr(Q),T.resolve()}getMatchingKeysForTargetId(Z,Q){let J=this.Br.yr(Q);return T.resolve(J)}containsKey(Z,Q){return T.resolve(this.Br.containsKey(Q))}}class D7{constructor(Z,Q){this.qr={},this.overlays={},this.Qr=new C4(0),this.Kr=!1,this.Kr=!0,this.$r=new C7,this.referenceDelegate=Z(this),this.Ur=new g7(this),this.indexManager=new A7,this.remoteDocumentCache=function J($){return new i7($)}((J)=>this.referenceDelegate.Wr(J)),this.serializer=new T7(Q),this.Gr=new l7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(Z){return this.indexManager}getDocumentOverlayCache(Z){let Q=this.overlays[Z.toKey()];return Q||(Q=new u7,this.overlays[Z.toKey()]=Q),Q}getMutationQueue(Z,Q){let J=this.qr[Z.toKey()];return J||(J=new r7(Q,this.referenceDelegate),this.qr[Z.toKey()]=J),J}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(Z,Q,J){C("MemoryPersistence","Starting transaction:",Z);let $=new n7(this.Qr.next());return this.referenceDelegate.zr(),J($).next((w)=>this.referenceDelegate.jr($).next(()=>w)).toPromise().then((w)=>($.raiseOnCommittedEvent(),w))}Hr(Z,Q){return T.or(Object.values(this.qr).map((J)=>()=>J.containsKey(Z,Q)))}}class n7 extends DZ{constructor(Z){super(),this.currentSequenceNumber=Z}}class t4{constructor(Z){this.persistence=Z,this.Jr=new w6,this.Yr=null}static Zr(Z){return new t4(Z)}get Xr(){if(this.Yr)return this.Yr;throw n()}addReference(Z,Q,J){return this.Jr.addReference(J,Q),this.Xr.delete(J.toString()),T.resolve()}removeReference(Z,Q,J){return this.Jr.removeReference(J,Q),this.Xr.add(J.toString()),T.resolve()}markPotentiallyOrphaned(Z,Q){return this.Xr.add(Q.toString()),T.resolve()}removeTarget(Z,Q){this.Jr.gr(Q.targetId).forEach(($)=>this.Xr.add($.toString()));let J=this.persistence.getTargetCache();return J.getMatchingKeysForTargetId(Z,Q.targetId).next(($)=>{$.forEach((w)=>this.Xr.add(w.toString()))}).next(()=>J.removeTargetData(Z,Q))}zr(){this.Yr=new Set}jr(Z){let Q=this.persistence.getRemoteDocumentCache().newChangeBuffer();return T.forEach(this.Xr,(J)=>{let $=m.fromPath(J);return this.ei(Z,$).next((w)=>{w||Q.removeEntry($,X0.min())})}).next(()=>(this.Yr=null,Q.apply(Z)))}updateLimboDocument(Z,Q){return this.ei(Z,Q).next((J)=>{J?this.Xr.delete(Q.toString()):this.Xr.add(Q.toString())})}Wr(Z){return 0}ei(Z,Q){return T.or([()=>T.resolve(this.Jr.containsKey(Q)),()=>this.persistence.getTargetCache().containsKey(Z,Q),()=>this.persistence.Hr(Z,Q)])}}class E4{constructor(Z,Q,J,$){this.targetId=Z,this.fromCache=Q,this.$i=J,this.Ui=$}static Wi(Z,Q){let J=y0(),$=y0();for(let w of Q.docChanges)switch(w.type){case 0:J=J.add(w.doc.key);break;case 1:$=$.add(w.doc.key)}return new E4(Z,Q.fromCache,J,$)}}class s7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(Z){this._documentReadCount+=Z}}class b7{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function Z(){return i9()?8:CX(r9())>0?6:4}()}initialize(Z,Q){this.Ji=Z,this.indexManager=Q,this.Gi=!0}getDocumentsMatchingQuery(Z,Q,J,$){let w={result:null};return this.Yi(Z,Q).next((W)=>{w.result=W}).next(()=>{if(!w.result)return this.Zi(Z,Q,$,J).next((W)=>{w.result=W})}).next(()=>{if(w.result)return;let W=new s7;return this.Xi(Z,Q,W).next((x)=>{if(w.result=x,this.zi)return this.es(Z,Q,W,x.size)})}).next(()=>w.result)}es(Z,Q,J,$){return J.documentReadCount<this.ji?(s1()<=b.DEBUG&&C("QueryEngine","SDK will not create cache indexes for query:",b1(Q),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),T.resolve()):(s1()<=b.DEBUG&&C("QueryEngine","Query:",b1(Q),"scans",J.documentReadCount,"local documents and returns",$,"documents as results."),J.documentReadCount>this.Hi*$?(s1()<=b.DEBUG&&C("QueryEngine","The SDK decides to create cache indexes for query:",b1(Q),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(Z,_2(Q))):T.resolve())}Yi(Z,Q){if(kZ(Q))return T.resolve(null);let J=_2(Q);return this.indexManager.getIndexType(Z,J).next(($)=>$===0?null:(Q.limit!==null&&$===1&&(Q=H4(Q,null,"F"),J=_2(Q)),this.indexManager.getDocumentsMatchingTarget(Z,J).next((w)=>{let W=y0(...w);return this.Ji.getDocuments(Z,W).next((x)=>this.indexManager.getMinOffset(Z,J).next((h)=>{let j=this.ts(Q,x);return this.ns(Q,j,W,h.readTime)?this.Yi(Z,H4(Q,null,"F")):this.rs(Z,j,Q,h)}))})))}Zi(Z,Q,J,$){return kZ(Q)||$.isEqual(X0.min())?T.resolve(null):this.Ji.getDocuments(Z,J).next((w)=>{let W=this.ts(Q,w);return this.ns(Q,W,J,$)?T.resolve(null):(s1()<=b.DEBUG&&C("QueryEngine","Re-using previous result from %s to execute query: %s",$.toString(),b1(Q)),this.rs(Z,W,Q,PX($,-1)).next((x)=>x))})}ts(Z,Q){let J=new v0(oX(Z));return Q.forEach(($,w)=>{s4(Z,w)&&(J=J.add(w))}),J}ns(Z,Q,J,$){if(Z.limit===null)return!1;if(J.size!==Q.size)return!0;let w=Z.limitType==="F"?Q.last():Q.first();return!!w&&(w.hasPendingWrites||w.version.compareTo($)>0)}Xi(Z,Q,J){return s1()<=b.DEBUG&&C("QueryEngine","Using full collection scan to execute query:",b1(Q)),this.Ji.getDocumentsMatchingQuery(Z,Q,G2.min(),J)}rs(Z,Q,J,$){return this.Ji.getDocumentsMatchingQuery(Z,J,$).next((w)=>(Q.forEach((W)=>{w=w.insert(W.key,W)}),w))}}class c7{constructor(Z,Q,J,$){this.persistence=Z,this.ss=Q,this.serializer=$,this.os=new A0(o),this._s=new l2((w)=>D4(w),n4),this.us=new Map,this.cs=Z.getRemoteDocumentCache(),this.Ur=Z.getTargetCache(),this.Gr=Z.getBundleCache(),this.ls(J)}ls(Z){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(Z),this.indexManager=this.persistence.getIndexManager(Z),this.mutationQueue=this.persistence.getMutationQueue(Z,this.indexManager),this.localDocuments=new M7(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(Z){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(Q)=>Z.collect(Q,this.os))}}function y$(Z,Q,J,$){return new c7(Z,Q,J,$)}async function d7(Z,Q){let J=e(Z);return await J.persistence.runTransaction("Handle user change","readonly",($)=>{let w;return J.mutationQueue.getAllMutationBatches($).next((W)=>(w=W,J.ls(Q),J.mutationQueue.getAllMutationBatches($))).next((W)=>{let x=[],h=[],j=y0();for(let R of w){x.push(R.batchId);for(let H of R.mutations)j=j.add(H.key)}for(let R of W){h.push(R.batchId);for(let H of R.mutations)j=j.add(H.key)}return J.localDocuments.getDocuments($,j).next((R)=>({hs:R,removedBatchIds:x,addedBatchIds:h}))})})}function v$(Z,Q){let J=e(Z);return J.persistence.runTransaction("Acknowledge batch","readwrite-primary",($)=>{let w=Q.batch.keys(),W=J.cs.newChangeBuffer({trackRemovals:!0});return function x(h,j,R,H){let f=R.batch,K=f.keys(),l=T.resolve();return K.forEach((_)=>{l=l.next(()=>H.getEntry(j,_)).next((P)=>{let u=R.docVersions.get(_);q0(u!==null),P.version.compareTo(u)<0&&(f.applyToRemoteDocument(P,R),P.isValidDocument()&&(P.setReadTime(R.commitVersion),H.addEntry(P)))})}),l.next(()=>h.mutationQueue.removeMutationBatch(j,f))}(J,$,Q,W).next(()=>W.apply($)).next(()=>J.mutationQueue.performConsistencyCheck($)).next(()=>J.documentOverlayCache.removeOverlaysForBatchId($,w,Q.batch.batchId)).next(()=>J.localDocuments.recalculateAndSaveOverlaysForDocumentKeys($,function x(h){let j=y0();for(let R=0;R<h.mutationResults.length;++R)h.mutationResults[R].transformResults.length>0&&(j=j.add(h.batch.mutations[R].key));return j}(Q))).next(()=>J.localDocuments.getDocuments($,w))})}function H$(Z){let Q=e(Z);return Q.persistence.runTransaction("Get last remote snapshot version","readonly",(J)=>Q.Ur.getLastRemoteSnapshotVersion(J))}function Y$(Z,Q){let J=e(Z);return J.persistence.runTransaction("Get next mutation batch","readonly",($)=>(Q===void 0&&(Q=-1),J.mutationQueue.getNextMutationBatchAfterBatchId($,Q)))}class A4{constructor(){this.activeTargetIds=X$()}fs(Z){this.activeTargetIds=this.activeTargetIds.add(Z)}gs(Z){this.activeTargetIds=this.activeTargetIds.delete(Z)}Vs(){let Z={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(Z)}}class t7{constructor(){this.so=new A4,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(Z){}updateMutationState(Z,Q,J){}addLocalQueryTarget(Z){return this.so.fs(Z),this.oo[Z]||"not-current"}updateQueryState(Z,Q,J){this.oo[Z]=Q}removeLocalQueryTarget(Z){this.so.gs(Z)}isLocalQueryTarget(Z){return this.so.activeTargetIds.has(Z)}clearQueryState(Z){delete this.oo[Z]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(Z){return this.so.activeTargetIds.has(Z)}start(){return this.so=new A4,Promise.resolve()}handleUserChange(Z,Q,J){}setOnlineState(Z){}shutdown(){}writeSequenceNumber(Z){}notifyBundleLoaded(Z){}}class E7{_o(Z){}shutdown(){}}class p4{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(Z){this.ho.push(Z)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){C("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let Z of this.ho)Z(0)}lo(){C("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let Z of this.ho)Z(1)}static D(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}var E8=null;function I4(){return E8===null?E8=function Z(){return 268435456+Math.round(2147483648*Math.random())}():E8++,"0x"+E8.toString(16)}var f$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class o7{constructor(Z){this.Io=Z.Io,this.To=Z.To}Eo(Z){this.Ao=Z}Ro(Z){this.Vo=Z}mo(Z){this.fo=Z}onMessage(Z){this.po=Z}close(){this.To()}send(Z){this.Io(Z)}yo(){this.Ao()}wo(){this.Vo()}So(Z){this.fo(Z)}bo(Z){this.po(Z)}}var L0="WebChannelConnection";class a7 extends class Z{constructor(Q){this.databaseInfo=Q,this.databaseId=Q.databaseId;let J=Q.ssl?"https":"http",$=encodeURIComponent(this.databaseId.projectId),w=encodeURIComponent(this.databaseId.database);this.Do=J+"://"+Q.host,this.vo=`projects/${$}/databases/${w}`,this.Co=this.databaseId.database==="(default)"?`project_id=${$}`:`project_id=${$}&database_id=${w}`}get Fo(){return!1}Mo(Q,J,$,w,W){let x=I4(),h=this.xo(Q,J.toUriEncodedString());C("RestConnection",`Sending RPC '${Q}' ${x}:`,h,$);let j={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(j,w,W),this.No(Q,h,j,$).then((R)=>(C("RestConnection",`Received RPC '${Q}' ${x}: `,R),R),(R)=>{throw e8("RestConnection",`RPC '${Q}' ${x} failed with error: `,R,"url: ",h,"request:",$),R})}Lo(Q,J,$,w,W,x){return this.Mo(Q,J,$,w,W)}Oo(Q,J,$){Q["X-Goog-Api-Client"]=function w(){return"gl-js/ fire/"+X1}(),Q["Content-Type"]="text/plain",this.databaseInfo.appId&&(Q["X-Firebase-GMPID"]=this.databaseInfo.appId),J&&J.headers.forEach((w,W)=>Q[W]=w),$&&$.headers.forEach((w,W)=>Q[W]=w)}xo(Q,J){let $=f$[Q];return`${this.Do}/v1/${J}:${$}`}terminate(){}}{constructor(Z){super(Z),this.forceLongPolling=Z.forceLongPolling,this.autoDetectLongPolling=Z.autoDetectLongPolling,this.useFetchStreams=Z.useFetchStreams,this.longPollingOptions=Z.longPollingOptions}No(Z,Q,J,$){let w=I4();return new Promise((W,x)=>{let h=new h4;h.setWithCredentials(!0),h.listenOnce(j4.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case n1.NO_ERROR:let R=h.getResponseJson();C(L0,`XHR for RPC '${Z}' ${w} received:`,JSON.stringify(R)),W(R);break;case n1.TIMEOUT:C(L0,`RPC '${Z}' ${w} timed out`),x(new i(A.DEADLINE_EXCEEDED,"Request time out"));break;case n1.HTTP_ERROR:let H=h.getStatus();if(C(L0,`RPC '${Z}' ${w} failed with status:`,H,"response text:",h.getResponseText()),H>0){let f=h.getResponseJson();Array.isArray(f)&&(f=f[0]);let K=f==null?void 0:f.error;if(K&&K.status&&K.message){let l=function _(P){let u=P.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(u)>=0?u:A.UNKNOWN}(K.status);x(new i(l,K.message))}else x(new i(A.UNKNOWN,"Server responded with status "+h.getStatus()))}else x(new i(A.UNAVAILABLE,"Connection failed."));break;default:n()}}finally{C(L0,`RPC '${Z}' ${w} completed.`)}});let j=JSON.stringify($);C(L0,`RPC '${Z}' ${w} sending request:`,$),h.send(Q,"POST",j,J,15)})}Bo(Z,Q,J){let $=I4(),w=[this.Do,"/","google.firestore.v1.Firestore","/",Z,"/channel"],W=G4(),x=O4(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:600000},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},j=this.longPollingOptions.timeoutSeconds;j!==void 0&&(h.longPollingTimeout=Math.round(1000*j)),this.useFetchStreams&&(h.xmlHttpFactory=new F4({})),this.Oo(h.initMessageHeaders,Q,J),h.encodeInitMessageHeaders=!0;let R=w.join("");C(L0,`Creating RPC '${Z}' stream ${$}: ${R}`,h);let H=W.createWebChannel(R,h),f=!1,K=!1,l=new o7({Io:(P)=>{K?C(L0,`Not sending because RPC '${Z}' stream ${$} is closed:`,P):(f||(C(L0,`Opening RPC '${Z}' stream ${$} transport.`),H.open(),f=!0),C(L0,`RPC '${Z}' stream ${$} sending:`,P),H.send(P))},To:()=>H.close()}),_=(P,u,r)=>{P.listen(u,(g)=>{try{r(g)}catch(t){setTimeout(()=>{throw t},0)}})};return _(H,b2.EventType.OPEN,()=>{K||(C(L0,`RPC '${Z}' stream ${$} transport opened.`),l.yo())}),_(H,b2.EventType.CLOSE,()=>{K||(K=!0,C(L0,`RPC '${Z}' stream ${$} transport closed`),l.So())}),_(H,b2.EventType.ERROR,(P)=>{K||(K=!0,e8(L0,`RPC '${Z}' stream ${$} transport errored:`,P),l.So(new i(A.UNAVAILABLE,"The operation could not be completed")))}),_(H,b2.EventType.MESSAGE,(P)=>{var u;if(!K){let r=P.data[0];q0(!!r);let g=r,t=g.error||((u=g[0])===null||u===void 0?void 0:u.error);if(t){C(L0,`RPC '${Z}' stream ${$} received error:`,t);let h0=t.status,P0=function y(O){let I=W0[O];if(I!==void 0)return x$(I)}(h0),p0=t.message;P0===void 0&&(P0=A.INTERNAL,p0="Unknown error status: "+h0+" with message "+t.message),K=!0,l.So(new i(P0,p0)),H.close()}else C(L0,`RPC '${Z}' stream ${$} received:`,r),l.bo(r)}}),_(x,R4.STAT_EVENT,(P)=>{P.stat===c8.PROXY?C(L0,`RPC '${Z}' stream ${$} detected buffering proxy`):P.stat===c8.NOPROXY&&C(L0,`RPC '${Z}' stream ${$} detected no buffering proxy`)}),setTimeout(()=>{l.wo()},0),l}}function k4(){return typeof document!="undefined"?document:null}function V6(Z){return new Y7(Z,!0)}class o4{constructor(Z,Q,J=1000,$=1.5,w=60000){this.ui=Z,this.timerId=Q,this.ko=J,this.qo=$,this.Qo=w,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(Z){this.cancel();let Q=Math.floor(this.Ko+this.zo()),J=Math.max(0,Date.now()-this.Uo),$=Math.max(0,Q-J);$>0&&C("ExponentialBackoff",`Backing off for ${$} ms (base delay: ${this.Ko} ms, delay with jitter: ${Q} ms, last attempt: ${J} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,$,()=>(this.Uo=Date.now(),Z())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-0.5)*this.Ko}}class e7{constructor(Z,Q,J,$,w,W,x,h){this.ui=Z,this.Ho=J,this.Jo=$,this.connection=w,this.authCredentialsProvider=W,this.appCheckCredentialsProvider=x,this.listener=h,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new o4(Z,Q)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,60000,()=>this.__()))}a_(Z){this.u_(),this.stream.send(Z)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(Z,Q){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,Z!==4?this.t_.reset():Q&&Q.code===A.RESOURCE_EXHAUSTED?(M2(Q.toString()),M2("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):Q&&Q.code===A.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=Z,await this.listener.mo(Q)}l_(){}auth(){this.state=1;let Z=this.h_(this.Yo),Q=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([J,$])=>{this.Yo===Q&&this.P_(J,$)},(J)=>{Z(()=>{let $=new i(A.UNKNOWN,"Fetching auth token failed: "+J.message);return this.I_($)})})}P_(Z,Q){let J=this.h_(this.Yo);this.stream=this.T_(Z,Q),this.stream.Eo(()=>{J(()=>this.listener.Eo())}),this.stream.Ro(()=>{J(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(($)=>{J(()=>this.I_($))}),this.stream.onMessage(($)=>{J(()=>++this.e_==1?this.E_($):this.onNext($))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(Z){return C("PersistentStream",`close with error: ${Z}`),this.stream=null,this.close(4,Z)}h_(Z){return(Q)=>{this.ui.enqueueAndForget(()=>this.Yo===Z?Q():(C("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZQ extends e7{constructor(Z,Q,J,$,w,W){super(Z,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",Q,J,$,W),this.serializer=w}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(Z,Q){return this.connection.Bo("Write",Z,Q)}E_(Z){return q0(!!Z.streamToken),this.lastStreamToken=Z.streamToken,q0(!Z.writeResults||Z.writeResults.length===0),this.listener.f_()}onNext(Z){q0(!!Z.streamToken),this.lastStreamToken=Z.streamToken,this.t_.reset();let Q=I$(Z.writeResults,Z.commitTime),J=d2(Z.commitTime);return this.listener.g_(J,Q)}p_(){let Z={};Z.database=R$(this.serializer),this.a_(Z)}m_(Z){let Q={streamToken:this.lastStreamToken,writes:Z.map((J)=>G$(this.serializer,J))};this.a_(Q)}}class QQ extends class Z{}{constructor(Z,Q,J,$){super(),this.authCredentials=Z,this.appCheckCredentials=Q,this.connection=J,this.serializer=$,this.y_=!1}w_(){if(this.y_)throw new i(A.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(Z,Q,J,$){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([w,W])=>this.connection.Mo(Z,f4(Q,J),$,w,W)).catch((w)=>{throw w.name==="FirebaseError"?(w.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),w):new i(A.UNKNOWN,w.toString())})}Lo(Z,Q,J,$,w){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([W,x])=>this.connection.Lo(Z,f4(Q,J),$,W,x,w)).catch((W)=>{throw W.name==="FirebaseError"?(W.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),W):new i(A.UNKNOWN,W.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class JQ{constructor(Z,Q){this.asyncQueue=Z,this.onlineStateHandler=Q,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(Z){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${Z.toString()}`),this.C_("Offline")))}set(Z){this.x_(),this.S_=0,Z==="Online"&&(this.D_=!1),this.C_(Z)}C_(Z){Z!==this.state&&(this.state=Z,this.onlineStateHandler(Z))}F_(Z){let Q=`Could not reach Cloud Firestore backend. ${Z}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(M2(Q),this.D_=!1):C("OnlineStateTracker",Q)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class XQ{constructor(Z,Q,J,$,w){this.localStore=Z,this.datastore=Q,this.asyncQueue=J,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=w,this.k_._o((W)=>{J.enqueueAndForget(async()=>{x8(this)&&(C("RemoteStore","Restarting streams for network reachability change."),await async function x(h){let j=e(h);j.L_.add(4),await q8(j),j.q_.set("Unknown"),j.L_.delete(4),await W6(j)}(this))})}),this.q_=new JQ(J,$)}}async function W6(Z){if(x8(Z))for(let Q of Z.B_)await Q(!0)}async function q8(Z){for(let Q of Z.B_)await Q(!1)}function x8(Z){return e(Z).L_.size===0}async function $Q(Z,Q,J){if(!$6(Q))throw Q;Z.L_.add(1),await q8(Z),Z.q_.set("Offline"),J||(J=()=>H$(Z.localStore)),Z.asyncQueue.enqueueRetryable(async()=>{C("RemoteStore","Retrying IndexedDB access"),await J(),Z.L_.delete(1),await W6(Z)})}function wQ(Z,Q){return Q().catch((J)=>$Q(Z,J,Q))}async function z6(Z){let Q=e(Z),J=S2(Q),$=Q.O_.length>0?Q.O_[Q.O_.length-1].batchId:-1;for(;K$(Q);)try{let w=await Y$(Q.localStore,$);if(w===null){Q.O_.length===0&&J.o_();break}$=w.batchId,T$(Q,w)}catch(w){await $Q(Q,w)}VQ(Q)&&WQ(Q)}function K$(Z){return x8(Z)&&Z.O_.length<10}function T$(Z,Q){Z.O_.push(Q);let J=S2(Z);J.r_()&&J.V_&&J.m_(Q.mutations)}function VQ(Z){return x8(Z)&&!S2(Z).n_()&&Z.O_.length>0}function WQ(Z){S2(Z).start()}async function A$(Z){S2(Z).p_()}async function p$(Z){let Q=S2(Z);for(let J of Z.O_)Q.m_(J.mutations)}async function _$(Z,Q,J){let $=Z.O_.shift(),w=d4.from($,Q,J);await wQ(Z,()=>Z.remoteSyncer.applySuccessfulWrite(w)),await z6(Z)}async function P$(Z,Q){Q&&S2(Z).V_&&await async function J($,w){if(function W(x){return q$(x)&&x!==A.ABORTED}(w.code)){let W=$.O_.shift();S2($).s_(),await wQ($,()=>$.remoteSyncer.rejectFailedWrite(W.batchId,w)),await z6($)}}(Z,Q),VQ(Z)&&WQ(Z)}async function HZ(Z,Q){let J=e(Z);J.asyncQueue.verifyOperationInProgress(),C("RemoteStore","RemoteStore received new credentials");let $=x8(J);J.L_.add(3),await q8(J),$&&J.q_.set("Unknown"),await J.remoteSyncer.handleCredentialChange(Q),J.L_.delete(3),await W6(J)}async function M$(Z,Q){let J=e(Z);Q?(J.L_.delete(2),await W6(J)):Q||(J.L_.add(2),await q8(J),J.q_.set("Unknown"))}function S2(Z){return Z.U_||(Z.U_=function Q(J,$,w){let W=e(J);return W.w_(),new ZQ($,W.connection,W.authCredentials,W.appCheckCredentials,W.serializer,w)}(Z.datastore,Z.asyncQueue,{Eo:()=>Promise.resolve(),Ro:A$.bind(null,Z),mo:P$.bind(null,Z),f_:p$.bind(null,Z),g_:_$.bind(null,Z)}),Z.B_.push(async(Q)=>{Q?(Z.U_.s_(),await z6(Z)):(await Z.U_.stop(),Z.O_.length>0&&(C("RemoteStore",`Stopping write stream with ${Z.O_.length} pending writes`),Z.O_=[]))})),Z.U_}class a4{constructor(Z,Q,J,$,w){this.asyncQueue=Z,this.timerId=Q,this.targetTimeMs=J,this.op=$,this.removalCallback=w,this.deferred=new R2,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((W)=>{})}get promise(){return this.deferred.promise}static createAndSchedule(Z,Q,J,$,w){let W=Date.now()+J,x=new a4(Z,Q,W,$,w);return x.start(J),x}start(Z){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),Z)}skipDelay(){return this.handleDelayElapsed()}cancel(Z){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new i(A.CANCELLED,"Operation cancelled"+(Z?": "+Z:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((Z)=>this.deferred.resolve(Z))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zQ(Z,Q){if(M2("AsyncQueue",`${Q}: ${Z}`),$6(Z))return new i(A.UNAVAILABLE,`${Q}: ${Z}`);throw Z}class UQ{constructor(){this.queries=YZ(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function Z(Q,J){let $=e(Q),w=$.queries;$.queries=YZ(),w.forEach((W,x)=>{for(let h of x.j_)h.onError(J)})})(this,new i(A.ABORTED,"Firestore shutting down"))}}function YZ(){return new l2((Z)=>B7(Z),x7)}function l$(Z){Z.Y_.forEach((Q)=>{Q.next()})}var fZ,KZ;(KZ=fZ||(fZ={})).ea="default",KZ.Cache="cache";class qQ{constructor(Z,Q,J,$,w,W){this.localStore=Z,this.remoteStore=Q,this.eventManager=J,this.sharedClientState=$,this.currentUser=w,this.maxConcurrentLimboResolutions=W,this.Ca={},this.Fa=new l2((x)=>B7(x),x7),this.Ma=new Map,this.xa=new Set,this.Oa=new A0(m.comparator),this.Na=new Map,this.La=new w6,this.Ba={},this.ka=new Map,this.qa=J1.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function u$(Z,Q,J){let $=m$(Z);try{let w=await function W(x,h){let j=e(x),R=B0.now(),H=h.reduce((l,_)=>l.add(_.key),y0()),f,K;return j.persistence.runTransaction("Locally write mutations","readwrite",(l)=>{let _=J6(),P=y0();return j.cs.getEntries(l,H).next((u)=>{_=u,_.forEach((r,g)=>{g.isValidDocument()||(P=P.add(r))})}).next(()=>j.localDocuments.getOverlayedDocuments(l,_)).next((u)=>{f=u;let r=[];for(let g of h){let t=U$(g,f.get(g.key).overlayedDocument);t!=null&&r.push(new N2(g.key,t,oZ(t.value.mapValue),J2.exists(!0)))}return j.mutationQueue.addMutationBatch(l,R,r,h)}).next((u)=>{K=u;let r=u.applyToLocalDocumentSet(f,P);return j.documentOverlayCache.saveOverlays(l,u.batchId,r)})}).then(()=>({batchId:K.batchId,changes:F7(f)}))}($.localStore,Q);$.sharedClientState.addPendingMutation(w.batchId),function W(x,h,j){let R=x.Ba[x.currentUser.toKey()];R||(R=new A0(o)),R=R.insert(h,j),x.Ba[x.currentUser.toKey()]=R}($,w.batchId,J),await U6($,w.changes),await z6($.remoteStore)}catch(w){let W=zQ(w,"Failed to persist write");J.reject(W)}}function TZ(Z,Q,J){let $=e(Z);if($.isPrimaryClient&&J===0||!$.isPrimaryClient&&J===1){let w=[];$.Fa.forEach((W,x)=>{let h=x.view.Z_(Q);h.snapshot&&w.push(h.snapshot)}),function W(x,h){let j=e(x);j.onlineState=h;let R=!1;j.queries.forEach((H,f)=>{for(let K of f.j_)K.Z_(h)&&(R=!0)}),R&&l$(j)}($.eventManager,Q),w.length&&$.Ca.d_(w),$.onlineState=Q,$.isPrimaryClient&&$.sharedClientState.setOnlineState(Q)}}async function C$(Z,Q){let J=e(Z),$=Q.batch.batchId;try{let w=await v$(J.localStore,Q);BQ(J,$,null),xQ(J,$),J.sharedClientState.updateMutationState($,"acknowledged"),await U6(J,w)}catch(w){await nZ(w)}}async function r$(Z,Q,J){let $=e(Z);try{let w=await function W(x,h){let j=e(x);return j.persistence.runTransaction("Reject batch","readwrite-primary",(R)=>{let H;return j.mutationQueue.lookupMutationBatch(R,h).next((f)=>(q0(f!==null),H=f.keys(),j.mutationQueue.removeMutationBatch(R,f))).next(()=>j.mutationQueue.performConsistencyCheck(R)).next(()=>j.documentOverlayCache.removeOverlaysForBatchId(R,H,h)).next(()=>j.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(R,H)).next(()=>j.localDocuments.getDocuments(R,H))})}($.localStore,Q);BQ($,Q,J),xQ($,Q),$.sharedClientState.updateMutationState(Q,"rejected",J),await U6($,w)}catch(w){await nZ(w)}}function xQ(Z,Q){(Z.ka.get(Q)||[]).forEach((J)=>{J.resolve()}),Z.ka.delete(Q)}function BQ(Z,Q,J){let $=e(Z),w=$.Ba[$.currentUser.toKey()];if(w){let W=w.get(Q);W&&(J?W.reject(J):W.resolve(),w=w.remove(Q)),$.Ba[$.currentUser.toKey()]=w}}async function U6(Z,Q,J){let $=e(Z),w=[],W=[],x=[];$.Fa.isEmpty()||($.Fa.forEach((h,j)=>{x.push($.Ka(j,Q,J).then((R)=>{var H;if((R||J)&&$.isPrimaryClient){let f=R?!R.fromCache:(H=J==null?void 0:J.targetChanges.get(j.targetId))===null||H===void 0?void 0:H.current;$.sharedClientState.updateQueryState(j.targetId,f?"current":"not-current")}if(R){w.push(R);let f=E4.Wi(j.targetId,R);W.push(f)}}))}),await Promise.all(x),$.Ca.d_(w),await async function h(j,R){let H=e(j);try{await H.persistence.runTransaction("notifyLocalViewChanges","readwrite",(f)=>T.forEach(R,(K)=>T.forEach(K.$i,(l)=>H.persistence.referenceDelegate.addReference(f,K.targetId,l)).next(()=>T.forEach(K.Ui,(l)=>H.persistence.referenceDelegate.removeReference(f,K.targetId,l)))))}catch(f){if(!$6(f))throw f;C("LocalStore","Failed to update sequence numbers: "+f)}for(let f of R){let K=f.targetId;if(!f.fromCache){let l=H.os.get(K),_=l.snapshotVersion,P=l.withLastLimboFreeSnapshotVersion(_);H.os=H.os.insert(K,P)}}}($.localStore,W))}async function i$(Z,Q){let J=e(Z);if(!J.currentUser.isEqual(Q)){C("SyncEngine","User change. New user:",Q.toKey());let $=await d7(J.localStore,Q);J.currentUser=Q,function w(W,x){W.ka.forEach((h)=>{h.forEach((j)=>{j.reject(new i(A.CANCELLED,x))})}),W.ka.clear()}(J,"'waitForPendingWrites' promise is rejected due to a user change."),J.sharedClientState.handleUserChange(Q,$.removedBatchIds,$.addedBatchIds),await U6(J,$.hs)}}function m$(Z){let Q=e(Z);return Q.remoteStore.remoteSyncer.applySuccessfulWrite=C$.bind(null,Q),Q.remoteStore.remoteSyncer.rejectFailedWrite=r$.bind(null,Q),Q}class _4{constructor(){this.synchronizeTabs=!1}async initialize(Z){this.serializer=V6(Z.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(Z),this.persistence=this.createPersistence(Z),await this.persistence.start(),this.localStore=this.createLocalStore(Z),this.gcScheduler=this.createGarbageCollectionScheduler(Z,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(Z,this.localStore)}createGarbageCollectionScheduler(Z,Q){return null}createIndexBackfillerScheduler(Z,Q){return null}createLocalStore(Z){return y$(this.persistence,new b7,Z.initialUser,this.serializer)}createPersistence(Z){return new D7(t4.Zr,this.serializer)}createSharedClientState(Z){return new t7}async terminate(){var Z,Q;(Z=this.gcScheduler)===null||Z===void 0||Z.stop(),(Q=this.indexBackfillerScheduler)===null||Q===void 0||Q.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class hQ{async initialize(Z,Q){this.localStore||(this.localStore=Z.localStore,this.sharedClientState=Z.sharedClientState,this.datastore=this.createDatastore(Q),this.remoteStore=this.createRemoteStore(Q),this.eventManager=this.createEventManager(Q),this.syncEngine=this.createSyncEngine(Q,!Z.synchronizeTabs),this.sharedClientState.onlineStateHandler=(J)=>TZ(this.syncEngine,J,1),this.remoteStore.remoteSyncer.handleCredentialChange=i$.bind(null,this.syncEngine),await M$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(Z){return function Q(){return new UQ}()}createDatastore(Z){let Q=V6(Z.databaseInfo.databaseId),J=function $(w){return new a7(w)}(Z.databaseInfo);return function $(w,W,x,h){return new QQ(w,W,x,h)}(Z.authCredentials,Z.appCheckCredentials,J,Q)}createRemoteStore(Z){return function Q(J,$,w,W,x){return new XQ(J,$,w,W,x)}(this.localStore,this.datastore,Z.asyncQueue,(Q)=>TZ(this.syncEngine,Q,0),function Q(){return p4.D()?new p4:new E7}())}createSyncEngine(Z,Q){return function J($,w,W,x,h,j,R){let H=new qQ($,w,W,x,h,j);return R&&(H.Qa=!0),H}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,Z.initialUser,Z.maxConcurrentLimboResolutions,Q)}async terminate(){var Z,Q;await async function J($){let w=e($);C("RemoteStore","RemoteStore shutting down."),w.L_.add(5),await q8(w),w.k_.shutdown(),w.q_.set("Unknown")}(this.remoteStore),(Z=this.datastore)===null||Z===void 0||Z.terminate(),(Q=this.eventManager)===null||Q===void 0||Q.terminate()}}class FQ{constructor(Z,Q,J,$){this.authCredentials=Z,this.appCheckCredentials=Q,this.asyncQueue=J,this.databaseInfo=$,this.user=j0.UNAUTHENTICATED,this.clientId=u4.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(J,async(w)=>{C("FirestoreClient","Received user=",w.uid),await this.authCredentialListener(w),this.user=w}),this.appCheckCredentials.start(J,(w)=>(C("FirestoreClient","Received new app check token=",w),this.appCheckCredentialListener(w,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(Z){this.authCredentialListener=Z}setAppCheckTokenChangeListener(Z){this.appCheckCredentialListener=Z}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new i(A.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let Z=new R2;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),Z.resolve()}catch(Q){let J=zQ(Q,"Failed to shutdown persistence");Z.reject(J)}}),Z.promise}}async function S4(Z,Q){Z.asyncQueue.verifyOperationInProgress(),C("FirestoreClient","Initializing OfflineComponentProvider");let J=Z.configuration;await Q.initialize(J);let $=J.initialUser;Z.setCredentialChangeListener(async(w)=>{$.isEqual(w)||(await d7(Q.localStore,w),$=w)}),Q.persistence.setDatabaseDeletedListener(()=>Z.terminate()),Z._offlineComponents=Q}async function AZ(Z,Q){Z.asyncQueue.verifyOperationInProgress();let J=await D$(Z);C("FirestoreClient","Initializing OnlineComponentProvider"),await Q.initialize(J,Z.configuration),Z.setCredentialChangeListener(($)=>HZ(Q.remoteStore,$)),Z.setAppCheckTokenChangeListener(($,w)=>HZ(Q.remoteStore,w)),Z._onlineComponents=Q}function g$(Z){return Z.name==="FirebaseError"?Z.code===A.FAILED_PRECONDITION||Z.code===A.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&Z instanceof DOMException)||(Z.code===22||Z.code===20||Z.code===11)}async function D$(Z){if(!Z._offlineComponents)if(Z._uninitializedComponentsProvider){C("FirestoreClient","Using user provided OfflineComponentProvider");try{await S4(Z,Z._uninitializedComponentsProvider._offline)}catch(Q){let J=Q;if(!g$(J))throw J;e8("Error using user provided cache. Falling back to memory cache: "+J),await S4(Z,new _4)}}else C("FirestoreClient","Using default OfflineComponentProvider"),await S4(Z,new _4);return Z._offlineComponents}async function n$(Z){return Z._onlineComponents||(Z._uninitializedComponentsProvider?(C("FirestoreClient","Using user provided OnlineComponentProvider"),await AZ(Z,Z._uninitializedComponentsProvider._online)):(C("FirestoreClient","Using default OnlineComponentProvider"),await AZ(Z,new hQ))),Z._onlineComponents}function s$(Z){return n$(Z).then((Q)=>Q.syncEngine)}function jQ(Z){let Q={};return Z.timeoutSeconds!==void 0&&(Q.timeoutSeconds=Z.timeoutSeconds),Q}var pZ=new Map;function RQ(Z,Q,J){if(!J)throw new i(A.INVALID_ARGUMENT,`Function ${Z}() cannot be called with an empty ${Q}.`)}function b$(Z,Q,J,$){if(Q===!0&&$===!0)throw new i(A.INVALID_ARGUMENT,`${Z} and ${J} cannot be used together.`)}function _Z(Z){if(!m.isDocumentKey(Z))throw new i(A.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${Z} has ${Z.length}.`)}function PZ(Z){if(m.isDocumentKey(Z))throw new i(A.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${Z} has ${Z.length}.`)}function e4(Z){if(Z===void 0)return"undefined";if(Z===null)return"null";if(typeof Z=="string")return Z.length>20&&(Z=`${Z.substring(0,20)}...`),JSON.stringify(Z);if(typeof Z=="number"||typeof Z=="boolean")return""+Z;if(typeof Z=="object"){if(Z instanceof Array)return"an array";{let Q=function J($){if($.constructor)return $.constructor.name;return null}(Z);return Q?`a custom ${Q} object`:"an object"}}return typeof Z=="function"?"a function":n()}function OQ(Z,Q){if("_delegate"in Z&&(Z=Z._delegate),!(Z instanceof Q)){if(Q.name===Z.constructor.name)throw new i(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let J=e4(Z);throw new i(A.INVALID_ARGUMENT,`Expected type '${Q.name}', but it was: ${J}`)}}return Z}class P4{constructor(Z){var Q,J;if(Z.host===void 0){if(Z.ssl!==void 0)throw new i(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=Z.host,this.ssl=(Q=Z.ssl)===null||Q===void 0||Q;if(this.credentials=Z.credentials,this.ignoreUndefinedProperties=!!Z.ignoreUndefinedProperties,this.localCache=Z.localCache,Z.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(Z.cacheSizeBytes!==-1&&Z.cacheSizeBytes<1048576)throw new i(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=Z.cacheSizeBytes}b$("experimentalForceLongPolling",Z.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",Z.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!Z.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:Z.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!Z.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jQ((J=Z.experimentalLongPollingOptions)!==null&&J!==void 0?J:{}),function $(w){if(w.timeoutSeconds!==void 0){if(isNaN(w.timeoutSeconds))throw new i(A.INVALID_ARGUMENT,`invalid long polling timeout: ${w.timeoutSeconds} (must not be NaN)`);if(w.timeoutSeconds<5)throw new i(A.INVALID_ARGUMENT,`invalid long polling timeout: ${w.timeoutSeconds} (minimum allowed value is 5)`);if(w.timeoutSeconds>30)throw new i(A.INVALID_ARGUMENT,`invalid long polling timeout: ${w.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!Z.useFetchStreams}isEqual(Z){return this.host===Z.host&&this.ssl===Z.ssl&&this.credentials===Z.credentials&&this.cacheSizeBytes===Z.cacheSizeBytes&&this.experimentalForceLongPolling===Z.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===Z.experimentalAutoDetectLongPolling&&function Q(J,$){return J.timeoutSeconds===$.timeoutSeconds}(this.experimentalLongPollingOptions,Z.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===Z.ignoreUndefinedProperties&&this.useFetchStreams===Z.useFetchStreams}}class B8{constructor(Z,Q,J,$){this._authCredentials=Z,this._appCheckCredentials=Q,this._databaseId=J,this._app=$,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P4({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new i(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(Z){if(this._settingsFrozen)throw new i(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P4(Z),Z.credentials!==void 0&&(this._authCredentials=function Q(J){if(!J)return new MZ;switch(J.type){case"firstParty":return new rZ(J.sessionIndex||"0",J.iamToken||null,J.authTokenFactory||null);case"provider":return J.client;default:throw new i(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(Z.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function Z(Q){let J=pZ.get(Q);J&&(C("ComponentProvider","Removing Datastore"),pZ.delete(Q),J.terminate())}(this),Promise.resolve()}}function c$(Z,Q,J,$={}){var w;let W=(Z=OQ(Z,B8))._getSettings(),x=`${Q}:${J}`;if(W.host!=="firestore.googleapis.com"&&W.host!==x&&e8("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),Z._setSettings(Object.assign(Object.assign({},W),{host:x,ssl:!1})),$.mockUserToken){let h,j;if(typeof $.mockUserToken=="string")h=$.mockUserToken,j=j0.MOCK_USER;else{h=C9($.mockUserToken,(w=Z._app)===null||w===void 0?void 0:w.options.projectId);let R=$.mockUserToken.sub||$.mockUserToken.user_id;if(!R)throw new i(A.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");j=new j0(R)}Z._authCredentials=new lZ(new l4(h,j))}}class Z5{constructor(Z,Q,J){this.converter=Q,this._query=J,this.type="query",this.firestore=Z}withConverter(Z){return new Z5(this.firestore,Z,this._query)}}class X2{constructor(Z,Q,J){this.converter=Q,this._key=J,this.type="document",this.firestore=Z}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new O2(this.firestore,this.converter,this._key.path.popLast())}withConverter(Z){return new X2(this.firestore,Z,this._key)}}class O2 extends Z5{constructor(Z,Q,J){super(Z,Q,dX(J)),this._path=J,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let Z=this._path.popLast();return Z.isEmpty()?null:new X2(this.firestore,null,new m(Z))}withConverter(Z){return new O2(this.firestore,Z,this._path)}}function h8(Z,Q,...J){if(Z=n2(Z),RQ("collection","path",Q),Z instanceof B8){let $=V0.fromString(Q,...J);return PZ($),new O2(Z,null,$)}{if(!(Z instanceof X2||Z instanceof O2))throw new i(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let $=Z._path.child(V0.fromString(Q,...J));return PZ($),new O2(Z.firestore,null,$)}}function d$(Z,Q,...J){if(Z=n2(Z),arguments.length===1&&(Q=u4.newId()),RQ("doc","path",Q),Z instanceof B8){let $=V0.fromString(Q,...J);return _Z($),new X2(Z,null,new m($))}{if(!(Z instanceof X2||Z instanceof O2))throw new i(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let $=Z._path.child(V0.fromString(Q,...J));return _Z($),new X2(Z.firestore,Z instanceof O2?Z.converter:null,new m($))}}class GQ{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new o4(this,"async_queue_retry"),this.Eu=()=>{let Q=k4();Q&&C("AsyncQueue","Visibility state changed to "+Q.visibilityState),this.t_.jo()};let Z=k4();Z&&typeof Z.addEventListener=="function"&&Z.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(Z){this.enqueue(Z)}enqueueAndForgetEvenWhileRestricted(Z){this.du(),this.Au(Z)}enterRestrictedMode(Z){if(!this.cu){this.cu=!0,this.Iu=Z||!1;let Q=k4();Q&&typeof Q.removeEventListener=="function"&&Q.removeEventListener("visibilitychange",this.Eu)}}enqueue(Z){if(this.du(),this.cu)return new Promise(()=>{});let Q=new R2;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(Z().then(Q.resolve,Q.reject),Q.promise)).then(()=>Q.promise)}enqueueRetryable(Z){this.enqueueAndForget(()=>(this.uu.push(Z),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(Z){if(!$6(Z))throw Z;C("AsyncQueue","Operation failed with retryable error: "+Z)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(Z){let Q=this.au.then(()=>(this.Pu=!0,Z().catch((J)=>{this.hu=J,this.Pu=!1;let $=function w(W){let x=W.message||"";return W.stack&&(x=W.stack.includes(W.message)?W.stack:W.message+`
`+W.stack),x}(J);throw M2("INTERNAL UNHANDLED ERROR: ",$),J}).then((J)=>(this.Pu=!1,J))));return this.au=Q,Q}enqueueAfterDelay(Z,Q,J){this.du(),this.Tu.indexOf(Z)>-1&&(Q=0);let $=a4.createAndSchedule(this,Z,Q,J,(w)=>this.Vu(w));return this.lu.push($),$}du(){this.hu&&n()}verifyOperationInProgress(){}async mu(){let Z;do Z=this.au,await Z;while(Z!==this.au)}fu(Z){for(let Q of this.lu)if(Q.timerId===Z)return!0;return!1}gu(Z){return this.mu().then(()=>{this.lu.sort((Q,J)=>Q.targetTimeMs-J.targetTimeMs);for(let Q of this.lu)if(Q.skipDelay(),Z!=="all"&&Q.timerId===Z)break;return this.mu()})}pu(Z){this.Tu.push(Z)}Vu(Z){let Q=this.lu.indexOf(Z);this.lu.splice(Q,1)}}class Q5 extends B8{constructor(Z,Q,J,$){super(Z,Q,J,$),this.type="firestore",this._queue=function w(){return new GQ}(),this._persistenceKey=($==null?void 0:$.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||kQ(this),this._firestoreClient.terminate()}}function IQ(Z,Q){let J=typeof Z=="object"?Z:wZ(),$=typeof Z=="string"?Z:Q||"(default)",w=JZ(J,"firestore").getImmediate({identifier:$});if(!w._initialized){let W=u9("firestore");W&&c$(w,...W)}return w}function t$(Z){return Z._firestoreClient||kQ(Z),Z._firestoreClient.verifyNotTerminated(),Z._firestoreClient}function kQ(Z){var Q,J,$;let w=Z._freezeSettings(),W=function x(h,j,R,H){return new dZ(h,j,R,H.host,H.ssl,H.experimentalForceLongPolling,H.experimentalAutoDetectLongPolling,jQ(H.experimentalLongPollingOptions),H.useFetchStreams)}(Z._databaseId,((Q=Z._app)===null||Q===void 0?void 0:Q.options.appId)||"",Z._persistenceKey,w);Z._firestoreClient=new FQ(Z._authCredentials,Z._appCheckCredentials,Z._queue,W),((J=w.localCache)===null||J===void 0?void 0:J._offlineComponentProvider)&&(($=w.localCache)===null||$===void 0?void 0:$._onlineComponentProvider)&&(Z._firestoreClient._uninitializedComponentsProvider={_offlineKind:w.localCache.kind,_offline:w.localCache._offlineComponentProvider,_online:w.localCache._onlineComponentProvider})}class w8{constructor(Z){this._byteString=Z}static fromBase64String(Z){try{return new w8(b0.fromBase64String(Z))}catch(Q){throw new i(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+Q)}}static fromUint8Array(Z){return new w8(b0.fromUint8Array(Z))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(Z){return this._byteString.isEqual(Z._byteString)}}class J5{constructor(...Z){for(let Q=0;Q<Z.length;++Q)if(Z[Q].length===0)throw new i(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new O0(Z)}isEqual(Z){return this._internalPath.isEqual(Z._internalPath)}}class X5{constructor(Z){this._methodName=Z}}class $5{constructor(Z,Q){if(!isFinite(Z)||Z<-90||Z>90)throw new i(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+Z);if(!isFinite(Q)||Q<-180||Q>180)throw new i(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+Q);this._lat=Z,this._long=Q}get latitude(){return this._lat}get longitude(){return this._long}isEqual(Z){return this._lat===Z._lat&&this._long===Z._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(Z){return o(this._lat,Z._lat)||o(this._long,Z._long)}}class w5{constructor(Z){this._values=(Z||[]).map((Q)=>Q)}toArray(){return this._values.map((Z)=>Z)}isEqual(Z){return function Q(J,$){if(J.length!==$.length)return!1;for(let w=0;w<J.length;++w)if(J[w]!==$[w])return!1;return!0}(this._values,Z._values)}}var E$=/^__.*__$/;class SQ{constructor(Z,Q,J){this.data=Z,this.fieldMask=Q,this.fieldTransforms=J}toMutation(Z,Q){return this.fieldMask!==null?new N2(Z,this.data,this.fieldMask,Q,this.fieldTransforms):new $1(Z,this.data,Q,this.fieldTransforms)}}function NQ(Z){switch(Z){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw n()}}class V5{constructor(Z,Q,J,$,w,W){this.settings=Z,this.databaseId=Q,this.serializer=J,this.ignoreUndefinedProperties=$,w===void 0&&this.yu(),this.fieldTransforms=w||[],this.fieldMask=W||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(Z){return new V5(Object.assign(Object.assign({},this.settings),Z),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(Z){var Q;let J=(Q=this.path)===null||Q===void 0?void 0:Q.child(Z),$=this.Su({path:J,Du:!1});return $.vu(Z),$}Cu(Z){var Q;let J=(Q=this.path)===null||Q===void 0?void 0:Q.child(Z),$=this.Su({path:J,Du:!1});return $.yu(),$}Fu(Z){return this.Su({path:void 0,Du:!0})}Mu(Z){return X6(Z,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(Z){return this.fieldMask.find((Q)=>Z.isPrefixOf(Q))!==void 0||this.fieldTransforms.find((Q)=>Z.isPrefixOf(Q.field))!==void 0}yu(){if(this.path)for(let Z=0;Z<this.path.length;Z++)this.vu(this.path.get(Z))}vu(Z){if(Z.length===0)throw this.Mu("Document fields must not be empty");if(NQ(this.wu)&&E$.test(Z))throw this.Mu('Document fields cannot begin and end with "__"')}}class LQ{constructor(Z,Q,J){this.databaseId=Z,this.ignoreUndefinedProperties=Q,this.serializer=J||V6(Z)}Nu(Z,Q,J,$=!1){return new V5({wu:Z,methodName:Q,Ou:J,path:O0.emptyPath(),Du:!1,xu:$},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function o$(Z){let Q=Z._freezeSettings(),J=V6(Z._databaseId);return new LQ(Z._databaseId,!!Q.ignoreUndefinedProperties,J)}function a$(Z,Q,J,$,w,W={}){let x=Z.Nu(W.merge||W.mergeFields?2:0,Q,J,w);YQ("Data must be an object, but it was:",x,$);let h=vQ($,x),j,R;if(W.merge)j=new m0(x.fieldMask),R=x.fieldTransforms;else if(W.mergeFields){let H=[];for(let f of W.mergeFields){let K=e$(Q,f,J);if(!x.contains(K))throw new i(A.INVALID_ARGUMENT,`Field '${K}' is specified in your field mask but missing from your input data.`);J3(H,K)||H.push(K)}j=new m0(H),R=x.fieldTransforms.filter((f)=>j.covers(f.field))}else j=null,R=x.fieldTransforms;return new SQ(new i0(h),j,R)}function yQ(Z,Q){if(HQ(Z=n2(Z)))return YQ("Unsupported field value:",Q,Z),vQ(Z,Q);if(Z instanceof X5)return function J($,w){if(!NQ(w.wu))throw w.Mu(`${$._methodName}() can only be used with update() and set()`);if(!w.path)throw w.Mu(`${$._methodName}() is not currently supported inside arrays`);let W=$._toFieldTransform(w);W&&w.fieldTransforms.push(W)}(Z,Q),null;if(Z===void 0&&Q.ignoreUndefinedProperties)return null;if(Q.path&&Q.fieldMask.push(Q.path),Z instanceof Array){if(Q.settings.Du&&Q.wu!==4)throw Q.Mu("Nested arrays are not supported");return function J($,w){let W=[],x=0;for(let h of $){let j=yQ(h,w.Fu(x));j==null&&(j={nullValue:"NULL_VALUE"}),W.push(j),x++}return{arrayValue:{values:W}}}(Z,Q)}return function J($,w){if(($=n2($))===null)return{nullValue:"NULL_VALUE"};if(typeof $=="number")return $$(w.serializer,$);if(typeof $=="boolean")return{booleanValue:$};if(typeof $=="string")return{stringValue:$};if($ instanceof Date){let W=B0.fromDate($);return{timestampValue:Y4(w.serializer,W)}}if($ instanceof B0){let W=new B0($.seconds,1000*Math.floor($.nanoseconds/1000));return{timestampValue:Y4(w.serializer,W)}}if($ instanceof $5)return{geoPointValue:{latitude:$.latitude,longitude:$.longitude}};if($ instanceof w8)return{bytesValue:B$(w.serializer,$._byteString)};if($ instanceof X2){let W=w.databaseId,x=$.firestore._databaseId;if(!x.isEqual(W))throw w.Mu(`Document reference is for database ${x.projectId}/${x.database} but should be for database ${W.projectId}/${W.database}`);return{referenceValue:f7($.firestore._databaseId||w.databaseId,$._key.path)}}if($ instanceof w5)return function W(x,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:x.toArray().map((j)=>{if(typeof j!="number")throw h.Mu("VectorValues must only contain numeric values.");return b4(h.serializer,j)})}}}}}}($,w);throw w.Mu(`Unsupported field value: ${e4($)}`)}(Z,Q)}function vQ(Z,Q){let J={};return sZ(Z)?Q.path&&Q.path.length>0&&Q.fieldMask.push(Q.path):V8(Z,($,w)=>{let W=yQ(w,Q.bu($));W!=null&&(J[$]=W)}),{mapValue:{fields:J}}}function HQ(Z){return!(typeof Z!="object"||Z===null||Z instanceof Array||Z instanceof Date||Z instanceof B0||Z instanceof $5||Z instanceof w8||Z instanceof X2||Z instanceof X5||Z instanceof w5)}function YQ(Z,Q,J){if(!HQ(J)||!function $(w){return typeof w=="object"&&w!==null&&(Object.getPrototypeOf(w)===Object.prototype||Object.getPrototypeOf(w)===null)}(J)){let $=e4(J);throw $==="an object"?Q.Mu(Z+" a custom object"):Q.Mu(Z+" "+$)}}function e$(Z,Q,J){if((Q=n2(Q))instanceof J5)return Q._internalPath;if(typeof Q=="string")return Q3(Z,Q);throw X6("Field path arguments must be of type string or ",Z,!1,void 0,J)}var Z3=new RegExp("[~\\*/\\[\\]]");function Q3(Z,Q,J){if(Q.search(Z3)>=0)throw X6(`Invalid field path (${Q}). Paths must not contain '~', '*', '/', '[', or ']'`,Z,!1,void 0,J);try{return new J5(...Q.split("."))._internalPath}catch($){throw X6(`Invalid field path (${Q}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,Z,!1,void 0,J)}}function X6(Z,Q,J,$,w){let W=$&&!$.isEmpty(),x=w!==void 0,h=`Function ${Q}() called with invalid data`;J&&(h+=" (via `toFirestore()`)"),h+=". ";let j="";return(W||x)&&(j+=" (found",W&&(j+=` in field ${$}`),x&&(j+=` in document ${w}`),j+=")"),new i(A.INVALID_ARGUMENT,h+Z+j)}function J3(Z,Q){return Z.some((J)=>J.isEqual(Q))}function X3(Z,Q,J){let $;return $=Z?J&&(J.merge||J.mergeFields)?Z.toFirestore(Q,J):Z.toFirestore(Q):Q,$}function F8(Z,Q){let J=OQ(Z.firestore,Q5),$=d$(Z),w=X3(Z.converter,Q);return $3(J,[a$(o$(Z.firestore),"addDoc",$._key,w,Z.converter!==null,{}).toMutation($._key,J2.exists(!1))]).then(()=>$)}function $3(Z,Q){return function J($,w){let W=new R2;return $.asyncQueue.enqueueAndForget(async()=>u$(await s$($),w,W)),W.promise}(t$(Z),Q)}(function Z(Q,J=!0){(function $(w){X1=w})($Z),g1(new q4("firestore",($,{instanceIdentifier:w,options:W})=>{let x=$.getProvider("app").getImmediate(),h=new Q5(new uZ($.getProvider("auth-internal")),new mZ($.getProvider("app-check-internal")),function j(R,H){if(!Object.prototype.hasOwnProperty.apply(R.options,["projectId"]))throw new i(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Q6(R.options.projectId,H)}(x,w),x);return W=Object.assign({useFetchStreams:J},W),h._setSettings(W),h},"PUBLIC").setMultipleInstances(!0)),j2(hZ,"4.7.0",Q),j2(hZ,"4.7.0","esm2017")})();class K0{static db;static init(){let Z=U4({apiKey:"AIzaSyBsy1sNYcvbKYhD6evfTc-AE9MtgJIVX7I",authDomain:"biemer-rq2-2.firebaseapp.com",projectId:"biemer-rq2-2",storageBucket:"biemer-rq2-2.firebasestorage.app",messagingSenderId:"455291545423",appId:"1:455291545423:web:ff1fb29b0f2aa6146c873a"});K0.db=IQ(Z)}static submitAttempt(){let Z={diedFrom:M.diedFrom,"stamina-left":M.staminaLeft,time:M.time,won:M.playerWon,order:M.order,playerID:M.playerID,levels:M.levels,pathX:M.playerPathX,pathY:M.playerPathY};if(M.playerID==="null")console.log("Data not submitted:",Z);else F8(h8(K0.db,`rq2.2_play_${M.director}_${M.version}`),Z)}static submitBeatGame(){F8(h8(K0.db,`rq2.2_beatgame_${M.version}`),{playerID:M.playerID,director:M.director})}static submitSurvey(Z){Z.difficulty=M.difficultyScore;let Q=Object.keys(M.demographicSurveyData);for(let J=0;J<Q.length;++J){let $=Q[J];Z[$]=M.demographicSurveyData[$]}if(M.playerID==="null")console.log("Data not submitted:",Z);else Z.playerID=M.playerID,F8(h8(K0.db,`rq2.2_survey_${M.director}_${M.version}`),Z),console.log("Survey submitted.")}static submitTutorial(){let Z={diedToEnemy:M.tutorialDiedToEnemy,diedToStamina:M.tutorialDiedToStamina,playerID:M.playerID};if(M.playerID==="null")console.log("Data not submitted:",Z);else F8(h8(K0.db,`rq2.2_tutorial_${M.director}_${M.version}`),Z),console.log("Tutorial data submitted.")}}class j8 extends w0{componentsRequired=new Set([]);steps=[];index=0;playerID;textID;constructor(Z,Q){super();let J=new Y1;this.playerID=Z,this.textID=Q,this.steps.push(["Press 'A' to move your character, the '@' symbol, left.",(R,H)=>{if(R.isKeyDown(5)||R.isKeyDown(0)){let f=this.ecs.getComponents(H).get(a);return f.setX(f.getX()-1),!0}return!1}]),this.steps.push(["Press 'D' to move your character right.",(R,H)=>{if(R.isKeyDown(7)||R.isKeyDown(1)){let f=this.ecs.getComponents(H).get(a);return f.setX(f.getX()+1),!0}return!1}]),this.steps.push(["Press 'S' to move your character down.",(R,H)=>{if(R.isKeyDown(6)||R.isKeyDown(2)){let f=this.ecs.getComponents(H).get(a);return f.setY(f.getY()+1),!0}return!1}]),this.steps.push(["Press 'W' to move your character up.",(R,H)=>{if(R.isKeyDown(4)||R.isKeyDown(3)){let f=this.ecs.getComponents(H).get(a);return f.setY(f.getY()-1),!0}return!1}]);let $,w,W,x=new a(20,10),h=new a(30,10),j=new a(28,10);this.steps.push(["Press ' ' (space) to spend one turn and not move.",(R,H)=>{if(R.isKeyDown(10)){for(let P=15;P<35;++P){let u=this.ecs.addEntity();this.ecs.addComponent(u,new a(P,5)),this.ecs.addComponent(u,new D0),this.ecs.addComponent(u,new N0("X")),J.set(new a(P,5),u);let r=this.ecs.addEntity();this.ecs.addComponent(r,new a(P,15)),this.ecs.addComponent(r,new D0),this.ecs.addComponent(r,new N0("X")),J.set(new a(P,15),r)}for(let P=5;P<=15;++P){let u=this.ecs.addEntity();this.ecs.addComponent(u,new a(15,P)),this.ecs.addComponent(u,new D0),this.ecs.addComponent(u,new N0("X")),J.set(new a(15,P),u);let r=this.ecs.addEntity();this.ecs.addComponent(r,new a(35,P)),this.ecs.addComponent(r,new D0),this.ecs.addComponent(r,new N0("X")),J.set(new a(35,P),r)}return $=this.ecs.addEntity(),w=this.ecs.addEntity(),W=this.ecs.addEntity(),this.ecs.addComponent($,x),this.ecs.addComponent($,new N0("*")),this.ecs.addComponent(w,new D2),this.ecs.addComponent(w,h),this.ecs.addComponent(w,new N0("o")),this.ecs.addComponent(w,new D2),this.ecs.setBB("grid collisions",J),this.ecs.addSystem(5,new l1),this.ecs.addSystem(10,new M1),this.ecs.addSystem(50,new P1),this.ecs.addSystem(80,new u1),this.ecs.addSystem(85,new r1),!0}return!1}]),this.steps.push(["That * is a switch. Run into it to open the portal.",(R,H)=>{let f=this.ecs.getComponents(this.playerID),K=f.get(a),l=f.get(f0);if(K.equals(x))return this.ecs.removeEntity($),this.ecs.getComponents(w).get(N0).character="O",this.ecs.addComponent(W,j),this.ecs.addComponent(W,new N0("#")),this.ecs.addComponent(W,new h2("Enemy",new a(j.getX(),j.getY()))),this.ecs.addComponent(W,new _1(j)),this.ecs.addComponent(W,new K2),!0;if(l.stamina<=0)++M.tutorialDiedToStamina,l.stamina=M0,K.setX(25),K.setY(5),this.ecs.getComponents(this.textID).get(n0).text="Try to hit the '*' switch before you run out of stamina.";return!1}]),this.steps.push(["Go through the opened portal, if you can...",(R,H)=>{let f=this.ecs.getComponents(this.playerID),K=f.get(a),l=f.get(f0);if(this.ecs.getBB("game over")==o0||l.stamina<=0||K.equals(j)){if(l.stamina<=0)++M.tutorialDiedToStamina;else if(K.equals(j))++M.tutorialDiedToEnemy;K.setX(x.getX()),K.setY(x.getY()),j.setX(28),j.setY(8),l.stamina=M0,this.ecs.setBB("game over",C8),this.ecs.getComponents(this.textID).get(n0).text="Try to avoid the enemy and not run out of stamina!"}if(K.equals(h))return K0.submitTutorial(),x2.set("completed tutorial","true"),console.log(x2.get("completed tutorial")),!0;return!1}])}update(Z,Q){if(this.steps[this.index][1](Z,this.playerID))if(++this.index,this.index>=this.steps.length)this.ecs.setBB("tutorial over",!0);else this.ecs.getComponents(this.textID).get(n0).text=this.steps[this.index][0]}}class R8 extends w0{componentsRequired=new Set([s.Position2d,n0]);update(Z,Q){let J=this.ecs.getBB("x mod"),$=this.ecs.getBB("y mod");Z.setFont(20);for(let w of Q.values()){let W=this.ecs.getComponents(w),x=W.get(n0),h=W.get(s.Position2d);Z.drawText(h.getX()*J,h.getY()*$,x.text)}}}var $2={EnemyAI:P1,PlayerCollision:M1,PlayerMovement:l1,PortalSystem:c6,RenderSystem:C1,UpdatePlayerTurn:d6,RenderGameInfo:u1,RenderEnemyTerritory:r1,TutorialSystem:j8,TutorialRenderSystem:R8};class O8{src;tgt;probability;constructor(Z,Q,J){this.src=Z,this.tgt=Q,this.probability=J}}class G8{name;reward;utility;isTerminal;neighbors;constructor(Z,Q,J,$,w){this.name=Z,this.reward=Q,this.utility=J,this.isTerminal=$,this.neighbors=w}}class q6{nodes;edges;constructor(){this.nodes={},this.edges={}}getNode(Z){return this.nodes[Z]}hasNode(Z){return Z in this.nodes}addNode(Z){this.nodes[Z.name]=Z}addDefaultNode(Z,Q=1,J=0,$=!1,w=null){if(w==null)w=[];this.nodes[Z]=new G8(Z,Q,J,$,w)}removeNode(Z){let Q=[];for(let J of Object.values(this.edges)){if(J.src==Z||J.tgt==Z)Q.push(J);let $=J.probability,w=-1;for(let j=0;j<$.length;j++){let[R,H]=$[j];if(R==Z){w=j;break}}if(w==-1)continue;let W=$[w][1];$.splice(w,1);let x=$.length,h=W/x;J.probability=$.map(([j,R])=>[j,R+h])}for(let J of Q)this.removeEdge(J.src,J.tgt);delete this.nodes[Z]}getEdge(Z,Q){return this.edges[`${Z},${Q}`]}hasEdge(Z,Q){return`${Z},${Q}`in this.edges}addEdge(Z){this.edges[`${Z.src},${Z.tgt}`]=Z;let Q=this.nodes[Z.src].neighbors;if(!Q.includes(Z.tgt))Q.push(Z.tgt)}addDefaultEdge(Z,Q,J=null){if(J==null)J=[[Q,1]];this.addEdge(new O8(Z,Q,J))}removeEdge(Z,Q){let J=this.nodes[Z],$=J.neighbors.indexOf(Q);J.neighbors.splice($,1),delete this.edges[`${Z},${Q}`]}neighbors(Z){return this.nodes[Z].neighbors}setNodeUtilities(Z){for(let[Q,J]of Object.entries(Z))this.nodes[Q].utility=J}utility(Z){return this.nodes[Z].utility}reward(Z){return this.nodes[Z].reward}isTerminal(Z){return this.nodes[Z].isTerminal}mapNodes(Z){for(let Q of Object.values(this.nodes))Z(Q)}mapEdges(Z){for(let Q of Object.values(this.edges))Z(Q)}}function w2(Z){return Z[Math.floor(Math.random()*Z.length)]}function w1(Z,Q,J,$){let w=Z.getEdge(Q,J).probability,W=w.length,x=0;for(let h=0;h<W;++h){let[j,R]=w[h];x+=R*(Z.reward(j)+$*Z.utility(j))}return x}function x6(Z,Q,J){let $=Z.getNode(Q);if($.isTerminal)return 0;let w=$.neighbors,W=w.length,x=-1/0;for(let h=0;h<W;++h)x=Math.max(x,w1(Z,Q,w[h],J));return x}function W5(Z){for(let Q in Z.nodes)Z.nodes[Q].utility=0}function B6(Z){let Q={};for(let J in Z.nodes)if(!Z.getNode(J).isTerminal)Q[J]=[...Z.neighbors(J)];return Q}function z5(Z,Q){let J={};for(let $ in Z.nodes){if(Z.getNode($).isTerminal)continue;let w=-1/0,W=[];for(let x of Z.neighbors($)){let h=w1(Z,$,x,Q);if(h===w)W.push(x);else if(h>w)w=h,W.length=0,W.push(x)}J[$]=W}return J}function w3(Z,Q,J,$){for(let w=0;w<$;++w)for(let W in Z.nodes){let x=Z.getNode(W);if(!x.isTerminal)x.utility=w1(Z,W,w2(Q[W]),J)}}function V3(Z,Q,J,$){for(let w=0;w<$;++w){let W={};for(let x in Z.nodes)if(!Z.getNode(x).isTerminal)W[x]=w1(Z,x,w2(Q[x]),J);Z.setNodeUtilities(W)}}function W3(Z,Q,J,$){for(let w=0;w<$;++w)for(let W in Z.nodes)Z.getNode(W).utility=x6(Z,W,J)}function z3(Z,Q,J,$){for(let w=0;w<$;++w){let W={};for(let x in Z.nodes)W[x]=x6(Z,x,J);Z.setNodeUtilities(W)}}function fQ(Z,Q,J){let $=!1;for(let w in Z.nodes){if(Z.getNode(w).isTerminal)continue;let W=null,x=-1/0;for(let h of Z.neighbors(w)){let j=w1(Z,w,h,J);if(j===x);else if(j>x)W=h,x=j}if(w2(Q[w])!==W)Q[w].length=0,Q[w].push(W),$=!0}return $}function U5(Z,Q,J=!1,$=!1,w=10,W=!0){if(W)W5(Z);let x=B6(Z),h;if(J&&$)h=w3;else if(J&&!$)h=V3;else if(!J&&$)h=W3;else h=z3;let j=!0;while(j)h(Z,x,Q,w),j=fQ(Z,x,Q);return h(Z,x,Q,w),fQ(Z,x,Q),z5(Z,Q)}function q5(Z){return B6(Z)}class N extends G8{visitedCount;sumPercentCompleted;depth;difficulty;enjoyability;constructor(Z,Q,J,$,w,W,x){super(Z,Q,$,w,W);this.difficulty=Q,this.enjoyability=J,this.depth=x,this.visitedCount=1,this.sumPercentCompleted=1}updateReward(Z){switch(M.director){case K1:this.reward=this.difficulty;break;case r8:this.reward=this.enjoyability;break;case A1:break;case p1:this.reward=(this.difficulty+this.enjoyability)/2;break;case T1:this.reward=Z?this.difficulty:this.enjoyability;break;default:console.error(`Error: update reward on director "${M.director}" not possible.`);break}this.reward*=this.visitedCount}}class q extends O8{link;constructor(Z,Q,J,$){super(Z,Q,J);this.link=$}}var V=new q6;V.addNode(new N(l0,0,0,0,!1,[],-1));V.addNode(new N(U,-5,-5,0,!0,[],-1));V.addNode(new N("0_0_0",-1,-1,0,!1,[],0));V.addNode(new N("0_1_0",-0.5238095238095237,-0.11904761904761896,0,!1,[],1));V.addNode(new N("0_11_0",-0.6984126984126984,-0.04761904761904756,0,!1,[],27));V.addNode(new N("0_12_0",-0.5306122448979592,-0.12244897959183665,0,!1,[],28));V.addNode(new N("0_13_0",-0.8095238095238095,-0.1428571428571429,0,!1,[],29));V.addNode(new N("0_14_0",-0.5428571428571428,-0.1428571428571429,0,!1,[],29));V.addNode(new N("0_2_0",-0.4693877551020408,-0.16326530612244905,0,!1,[],2));V.addNode(new N("0_3_0",-0.4897959183673469,-0.26530612244897955,0,!1,[],3));V.addNode(new N("0_4_0",-0.4285714285714286,-0.18367346938775508,0,!1,[],4));V.addNode(new N("0_5_0",-0.1428571428571429,-0.2142857142857143,0,!1,[],5));V.addNode(new N("0_6_0",-0.4693877551020408,-0.18367346938775508,0,!1,[],6));V.addNode(new N("10_0_0",-0.3214285714285714,-0.1071428571428571,0,!1,[],10));V.addNode(new N("10_1_0",-0.4571428571428572,-0.22857142857142854,0,!1,[],11));V.addNode(new N("10_2_0",-0.1428571428571429,0,0,!1,[],12));V.addNode(new N("10_3_0",-0.3928571428571429,-0.3928571428571429,0,!1,[],13));V.addNode(new N("10_4_0",-0.6734693877551021,-0.3877551020408163,0,!1,[],14));V.addNode(new N("10_5_0",-0.3928571428571429,-0.0714285714285714,0,!1,[],15));V.addNode(new N("10_6_0",-0.5357142857142857,-0.1607142857142857,0,!1,[],16));V.addNode(new N("10_7_0",-0.4821428571428571,-0.25,0,!1,[],17));V.addNode(new N("11_0_0",-0.3142857142857143,-0.2857142857142857,0,!1,[],11));V.addNode(new N("11_1_0",-0.33333333333333326,-0.2857142857142857,0,!1,[],12));V.addNode(new N("11_2_0",-0.3928571428571429,-0.1964285714285714,0,!1,[],13));V.addNode(new N("11_3_0",-0.375,-0.3928571428571429,0,!1,[],14));V.addNode(new N("11_4_0",-0.2857142857142857,-0.2142857142857143,0,!1,[],15));V.addNode(new N("11_5_0",-0.4464285714285714,-0.1785714285714286,0,!1,[],16));V.addNode(new N("11_6_0",-0.4285714285714286,-0.0714285714285714,0,!1,[],17));V.addNode(new N("12_0_0",-0.3214285714285714,-0.2678571428571429,0,!1,[],12));V.addNode(new N("12_1_0",-0.4285714285714286,-0.04761904761904756,0,!1,[],13));V.addNode(new N("12_2_0",-0.08571428571428563,-0.37142857142857133,0,!1,[],14));V.addNode(new N("12_3_0",-0.26190476190476186,-0.4285714285714286,0,!1,[],15));V.addNode(new N("12_4_0",-0.4,-0.11428571428571421,0,!1,[],16));V.addNode(new N("12_5_0",-0.2857142857142857,-0.09523809523809523,0,!1,[],17));V.addNode(new N("12_6_0",-0.1428571428571429,-0.6190476190476191,0,!1,[],18));V.addNode(new N("13_0_0",-0.3142857142857143,-0.4,0,!1,[],13));V.addNode(new N("13_1_0",-0.23809523809523814,-0.4285714285714286,0,!1,[],14));V.addNode(new N("13_2_0",-0.4285714285714286,-0.20408163265306123,0,!1,[],15));V.addNode(new N("13_3_0",-0.4107142857142857,-0.2678571428571429,0,!1,[],16));V.addNode(new N("13_4_0",-0.5714285714285714,-0.34285714285714286,0,!1,[],17));V.addNode(new N("14_0_0",-0.2857142857142857,-0.2142857142857143,0,!1,[],14));V.addNode(new N("14_1_0",-0.48571428571428565,-0.17142857142857149,0,!1,[],15));V.addNode(new N("14_2_0",-0.1428571428571429,-0.4285714285714286,0,!1,[],16));V.addNode(new N("14_3_0",-0.26190476190476186,-0.16666666666666674,0,!1,[],17));V.addNode(new N("14_4_0",-0.20000000000000007,-0.2571428571428571,0,!1,[],18));V.addNode(new N("15_0_0",-0.5714285714285714,-0.2857142857142857,0,!1,[],15));V.addNode(new N("15_1_0",-0.2142857142857143,-0.2142857142857143,0,!1,[],16));V.addNode(new N("15_2_0",-0.3571428571428571,-0.1071428571428571,0,!1,[],17));V.addNode(new N("15_3_0",-0.37142857142857133,-0.08571428571428563,0,!1,[],18));V.addNode(new N("15_4_0",-0.33333333333333326,-0.1428571428571429,0,!1,[],19));V.addNode(new N("16_1_0",-0.375,-0.1607142857142857,0,!1,[],17));V.addNode(new N("16_2_0",-0.2142857142857143,-0.25,0,!1,[],18));V.addNode(new N("16_3_0",-0.2857142857142857,-0.3571428571428571,0,!1,[],19));V.addNode(new N("16_4_0",-0.2142857142857143,-0.2142857142857143,0,!1,[],20));V.addNode(new N("17_2_0",-0.22857142857142854,-0.2857142857142857,0,!1,[],19));V.addNode(new N("17_4_0",-0.5238095238095237,-0.2063492063492064,0,!1,[],19));V.addNode(new N("17_5_0",-0.1428571428571429,-0.5,0,!1,[],18));V.addNode(new N("18_2_0",-0.16326530612244905,-0.16326530612244905,0,!1,[],20));V.addNode(new N("18_3_0",-0.33333333333333326,-0.1428571428571429,0,!1,[],21));V.addNode(new N("1_0_0",-0.4,-0.2571428571428571,0,!1,[],1));V.addNode(new N("1_1_0",-0.5357142857142857,-0.1071428571428571,0,!1,[],2));V.addNode(new N("1_11_0",-0.0714285714285714,-0.4285714285714286,0,!1,[],26));V.addNode(new N("1_12_0",-0.20000000000000007,-0.3142857142857143,0,!1,[],27));V.addNode(new N("1_13_0",-0.8214285714285714,-0.2142857142857143,0,!1,[],28));V.addNode(new N("1_14_0",-0.34285714285714286,-0.2571428571428571,0,!1,[],28));V.addNode(new N("1_15_0",-0.2142857142857143,-0.3214285714285714,0,!1,[],29));V.addNode(new N("1_16_0",-0.6666666666666666,-0.19047619047619047,0,!1,[],30));V.addNode(new N("1_17_0",-0.4571428571428572,-0.2857142857142857,0,!1,[],31));V.addNode(new N("1_2_0",-0.5238095238095237,-0.38095238095238104,0,!1,[],3));V.addNode(new N("1_3_0",-0.5714285714285714,-0.09523809523809523,0,!1,[],4));V.addNode(new N("1_4_0",-0.2857142857142857,-0.19047619047619047,0,!1,[],5));V.addNode(new N("1_5_0",-0.47619047619047616,-0.40476190476190477,0,!1,[],6));V.addNode(new N("2_0_0",-0.22857142857142854,-0.22857142857142854,0,!1,[],2));V.addNode(new N("2_1_0",-0.2857142857142857,-0.33333333333333326,0,!1,[],3));V.addNode(new N("2_10_0",-0.4693877551020408,-0.2857142857142857,0,!1,[],24));V.addNode(new N("2_11_0",-0.2571428571428571,-0.2571428571428571,0,!1,[],25));V.addNode(new N("2_12_0",-0.2857142857142857,0,0,!1,[],26));V.addNode(new N("2_13_0",-0.34285714285714286,-0.17142857142857149,0,!1,[],27));V.addNode(new N("2_14_0",-0.34693877551020413,-0.1428571428571429,0,!1,[],27));V.addNode(new N("2_15_0",-0.33333333333333326,-0.26190476190476186,0,!1,[],28));V.addNode(new N("2_16_0",-0.5,-0.3571428571428571,0,!1,[],29));V.addNode(new N("2_2_0",-0.5428571428571428,-0.2857142857142857,0,!1,[],4));V.addNode(new N("2_3_0",-0.5142857142857142,-0.2571428571428571,0,!1,[],5));V.addNode(new N("2_4_0",-0.7142857142857143,-0.38095238095238104,0,!1,[],6));V.addNode(new N("3_0_0",-0.40476190476190477,-0.33333333333333326,0,!1,[],3));V.addNode(new N("3_1_0",-0.3571428571428571,-0.2857142857142857,0,!1,[],4));V.addNode(new N("3_10_0",0,-0.8571428571428572,0,!1,[],23));V.addNode(new N("3_11_0",-0.48571428571428565,-0.20000000000000007,0,!1,[],24));V.addNode(new N("3_12_0",-0.7142857142857143,-0.33333333333333326,0,!1,[],25));V.addNode(new N("3_13_0",-0.2857142857142857,-0.1785714285714286,0,!1,[],26));V.addNode(new N("3_14_0",-0.1428571428571429,0,0,!1,[],26));V.addNode(new N("3_15_0",-0.30952380952380953,-0.23809523809523814,0,!1,[],27));V.addNode(new N("3_16_0",-0.16326530612244905,-0.34693877551020413,0,!1,[],28));V.addNode(new N("3_2_0",-0.6938775510204082,-0.12244897959183665,0,!1,[],5));V.addNode(new N("3_3_0",-0.6734693877551021,-0.16326530612244905,0,!1,[],8));V.addNode(new N("3_4_0",-0.4285714285714286,-0.05714285714285716,0,!1,[],9));V.addNode(new N("4_0_0",-0.17142857142857149,-0.22857142857142854,0,!1,[],4));V.addNode(new N("4_1_0",-0.3142857142857143,-0.29999999999999993,0,!1,[],5));V.addNode(new N("4_10_0",-0.3571428571428571,-0.1607142857142857,0,!1,[],22));V.addNode(new N("4_11_0",-0.6326530612244898,-0.34693877551020413,0,!1,[],23));V.addNode(new N("4_12_0",-0.1071428571428571,-0.3571428571428571,0,!1,[],24));V.addNode(new N("4_13_0",-0.2142857142857143,-0.16666666666666674,0,!1,[],25));V.addNode(new N("4_14_0",-0.3214285714285714,-0.3571428571428571,0,!1,[],25));V.addNode(new N("4_15_0",-0.20000000000000007,-0.4285714285714286,0,!1,[],26));V.addNode(new N("4_16_0",-0.2857142857142857,-0.2142857142857143,0,!1,[],27));V.addNode(new N("4_2_0",-0.2857142857142857,-0.1785714285714286,0,!1,[],6));V.addNode(new N("4_3_0",-0.3571428571428571,-0.1428571428571429,0,!1,[],7));V.addNode(new N("4_4_0",-0.47619047619047616,-0.19047619047619047,0,!1,[],8));V.addNode(new N("4_8_0",-0.4571428571428572,-0.1428571428571429,0,!1,[],20));V.addNode(new N("4_9_0",-0.4285714285714286,-0.11428571428571421,0,!1,[],21));V.addNode(new N("5_0_0",0,-0.33333333333333326,0,!1,[],5));V.addNode(new N("5_1_0",-0.1428571428571429,-0.3877551020408163,0,!1,[],6));V.addNode(new N("5_10_0",-0.37142857142857133,-0.3142857142857143,0,!1,[],21));V.addNode(new N("5_11_0",-0.20000000000000007,-0.34285714285714286,0,!1,[],22));V.addNode(new N("5_12_0",-0.3571428571428571,-0.19047619047619047,0,!1,[],23));V.addNode(new N("5_13_0",-0.47619047619047616,-0.47619047619047616,0,!1,[],24));V.addNode(new N("5_14_0",-0.22857142857142854,-0.3142857142857143,0,!1,[],24));V.addNode(new N("5_15_0",-0.5,-0.2857142857142857,0,!1,[],25));V.addNode(new N("5_2_0",-0.75,-0.3214285714285714,0,!1,[],7));V.addNode(new N("5_3_0",-0.38095238095238104,-0.33333333333333326,0,!1,[],8));V.addNode(new N("5_4_0",-0.3877551020408163,-0.40816326530612235,0,!1,[],9));V.addNode(new N("5_5_0",-0.4897959183673469,-0.12244897959183665,0,!1,[],14));V.addNode(new N("5_7_0",-0.5079365079365079,-0.2222222222222222,0,!1,[],18));V.addNode(new N("5_8_0",-0.3214285714285714,-0.3571428571428571,0,!1,[],19));V.addNode(new N("5_9_0",-0.3214285714285714,-0.3571428571428571,0,!1,[],20));V.addNode(new N("6_0_0",-0.326530612244898,-0.30612244897959184,0,!1,[],6));V.addNode(new N("6_1_0",-0.2857142857142857,-0.2678571428571429,0,!1,[],7));V.addNode(new N("6_10_0",-0.2857142857142857,-0.20408163265306123,0,!1,[],20));V.addNode(new N("6_11_0",-0.2857142857142857,-0.1428571428571429,0,!1,[],21));V.addNode(new N("6_12_0",-0.4642857142857143,-0.4642857142857143,0,!1,[],22));V.addNode(new N("6_14_0",-0.2857142857142857,0,0,!1,[],23));V.addNode(new N("6_15_0",-0.1785714285714286,-0.2142857142857143,0,!1,[],24));V.addNode(new N("6_2_0",-0.3928571428571429,-0.3928571428571429,0,!1,[],8));V.addNode(new N("6_3_0",-0.47619047619047616,-0.19047619047619047,0,!1,[],9));V.addNode(new N("6_4_0",-0.2857142857142857,-0.2857142857142857,0,!1,[],12));V.addNode(new N("6_5_0",-0.6428571428571428,-0.1428571428571429,0,!1,[],13));V.addNode(new N("6_7_0",-0.4,-0.1428571428571429,0,!1,[],17));V.addNode(new N("6_8_0",-0.5476190476190477,-0.40476190476190477,0,!1,[],18));V.addNode(new N("6_9_0",-0.4693877551020408,-0.12244897959183665,0,!1,[],19));V.addNode(new N("7_0_0",-0.2857142857142857,-0.20000000000000007,0,!1,[],7));V.addNode(new N("7_1_0",-0.2857142857142857,-0.4571428571428572,0,!1,[],8));V.addNode(new N("7_10_0",-0.04761904761904756,0,0,!1,[],19));V.addNode(new N("7_2_0",-0.38095238095238104,-0.2857142857142857,0,!1,[],9));V.addNode(new N("7_3_0",-0.6122448979591837,-0.26530612244897955,0,!1,[],10));V.addNode(new N("7_4_0",-0.4571428571428572,-0.2857142857142857,0,!1,[],11));V.addNode(new N("7_5_0",-0.4285714285714286,-0.11428571428571421,0,!1,[],12));V.addNode(new N("7_7_0",-0.4285714285714286,-0.1785714285714286,0,!1,[],16));V.addNode(new N("7_8_0",-0.2857142857142857,-0.2142857142857143,0,!1,[],17));V.addNode(new N("7_9_0",-0.38095238095238104,-0.38095238095238104,0,!1,[],18));V.addNode(new N("8_0_0",-0.4642857142857143,-0.1071428571428571,0,!1,[],8));V.addNode(new N("8_1_0",-0.4821428571428571,-0.2321428571428571,0,!1,[],9));V.addNode(new N("8_2_0",-0.5918367346938775,-0.16326530612244905,0,!1,[],10));V.addNode(new N("8_3_0",-0.4571428571428572,-0.22857142857142854,0,!1,[],11));V.addNode(new N("8_4_0",-0.5918367346938775,-0.04081632653061218,0,!1,[],12));V.addNode(new N("8_5_0",-0.5476190476190477,-0.2142857142857143,0,!1,[],13));V.addNode(new N("8_6_0",-0.2571428571428571,-0.11428571428571421,0,!1,[],14));V.addNode(new N("8_7_0",-0.4693877551020408,-0.26530612244897955,0,!1,[],15));V.addNode(new N("8_8_0",-0.38095238095238104,-0.09523809523809523,0,!1,[],16));V.addNode(new N("8_9_0",-0.5357142857142857,-0.1785714285714286,0,!1,[],17));V.addNode(new N("9_0_0",-0.47619047619047616,-0.2142857142857143,0,!1,[],9));V.addNode(new N("9_1_0",-0.48571428571428565,-0.1428571428571429,0,!1,[],10));V.addNode(new N("9_2_0",-0.5142857142857142,-0.02857142857142858,0,!1,[],11));V.addNode(new N("9_3_0",-0.4642857142857143,-0.25,0,!1,[],12));V.addNode(new N("9_4_0",-0.4285714285714286,-0.1428571428571429,0,!1,[],13));V.addNode(new N("9_5_0",-0.45238095238095233,-0.1428571428571429,0,!1,[],14));V.addNode(new N("9_6_0",-0.33333333333333326,-0.23809523809523814,0,!1,[],15));V.addNode(new N("9_7_0",-0.38095238095238104,-0.33333333333333326,0,!1,[],16));V.addNode(new N("end",0,0,0,!0,[],20));V.addEdge(new q(l0,"0_0_0",[["0_0_0",0.99],[U,0.01]],[]));V.addEdge(new q("13_1_0","13_2_0",[["13_2_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("13_1_0","13_0_0",[["13_0_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("13_1_0","14_1_0",[["14_1_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("13_1_0","12_1_0",[["12_1_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("1_5_0","0_5_0",[["0_5_0",0.99],[U,0.01]],[]));V.addEdge(new q("6_4_0","6_5_0",[["6_5_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("6_4_0","7_4_0",[["7_4_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("6_5_0","6_4_0",[["6_4_0",0.99],[U,0.01]],["-----&-----","---------&-"]));V.addEdge(new q("6_5_0","7_5_0",[["7_5_0",0.99],[U,0.01]],["-----&-----","---------&-"]));V.addEdge(new q("6_5_0","5_5_0",[["5_5_0",0.99],[U,0.01]],[]));V.addEdge(new q("17_5_0","17_4_0",[["17_4_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("17_5_0","12_5_0",[["12_5_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("4_0_0","4_1_0",[["4_1_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("4_0_0","5_0_0",[["5_0_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("4_0_0","3_0_0",[["3_0_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("12_3_0","12_2_0",[["12_2_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("12_3_0","13_3_0",[["13_3_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("12_3_0","11_3_0",[["11_3_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("2_4_0","2_3_0",[["2_3_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("2_4_0","1_4_0",[["1_4_0",0.99],[U,0.01]],["-----&-----","---------&-"]));V.addEdge(new q("8_3_0","8_4_0",[["8_4_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("8_3_0","8_2_0",[["8_2_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("8_3_0","9_3_0",[["9_3_0",0.99],[U,0.01]],["---------&-","---------&-"]));V.addEdge(new q("8_3_0","7_3_0",[["7_3_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("15_1_0","15_2_0",[["15_2_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("15_1_0","15_0_0",[["15_0_0",0.99],[U,0.01]],[]));V.addEdge(new q("15_1_0","16_1_0",[["16_1_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("15_1_0","14_1_0",[["14_1_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("11_3_0","11_2_0",[["11_2_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("11_3_0","12_3_0",[["12_3_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("11_3_0","10_3_0",[["10_3_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("2_1_0","2_2_0",[["2_2_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("2_1_0","2_0_0",[["2_0_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("2_1_0","3_1_0",[["3_1_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("2_1_0","1_1_0",[["1_1_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("13_3_0","13_4_0",[["13_4_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("13_3_0","13_2_0",[["13_2_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("13_3_0","14_3_0",[["14_3_0",0.99],[U,0.01]],["---------&-","-&---------"]));V.addEdge(new q("13_3_0","12_3_0",[["12_3_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("4_3_0","4_4_0",[["4_4_0",0.99],[U,0.01]],["---------&-","-&---------"]));V.addEdge(new q("4_3_0","4_2_0",[["4_2_0",0.99],[U,0.01]],["---------&-","-&---------"]));V.addEdge(new q("4_3_0","5_3_0",[["5_3_0",0.99],[U,0.01]],["---------&-","-&---------"]));V.addEdge(new q("4_3_0","3_3_0",[["3_3_0",0.99],[U,0.01]],["---------&-","-&---------"]));V.addEdge(new q("14_2_0","14_3_0",[["14_3_0",0.99],[U,0.01]],["-&---------","---------&-"]));V.addEdge(new q("14_2_0","14_1_0",[["14_1_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("14_2_0","15_2_0",[["15_2_0",0.99],[U,0.01]],["-----&-----","-&---------","-----&-----"]));V.addEdge(new q("14_2_0","13_2_0",[["13_2_0",0.99],[U,0.01]],["---------&-","-&---------"]));V.addEdge(new q("1_4_0","1_5_0",[["1_5_0",0.99],[U,0.01]],[]));V.addEdge(new q("1_4_0","1_3_0",[["1_3_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("1_4_0","2_4_0",[["2_4_0",0.99],[U,0.01]],["-----&-----","---------&-"]));V.addEdge(new q("1_4_0","0_4_0",[["0_4_0",0.99],[U,0.01]],["-----&-----","---------&-"]));V.addEdge(new q("5_1_0","5_2_0",[["5_2_0",0.99],[U,0.01]],["---------&-","-&---------"]));V.addEdge(new q("5_1_0","5_0_0",[["5_0_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("5_1_0","6_1_0",[["6_1_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("5_1_0","4_1_0",[["4_1_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("3_12_0","3_13_0",[["3_13_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("3_12_0","3_11_0",[["3_11_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("3_12_0","4_12_0",[["4_12_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("3_12_0","2_12_0",[["2_12_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("3_4_0","4_4_0",[["4_4_0",0.99],[U,0.01]],["-----&-----","---------&-"]));V.addEdge(new q("4_4_0","4_3_0",[["4_3_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("4_4_0","5_4_0",[["5_4_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("4_4_0","3_4_0",[["3_4_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("8_4_0","8_5_0",[["8_5_0",0.99],[U,0.01]],["-----&-----","---------&-"]));V.addEdge(new q("8_4_0","8_3_0",[["8_3_0",0.99],[U,0.01]],["-----&-----","---------&-"]));V.addEdge(new q("8_4_0","9_4_0",[["9_4_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("8_4_0","7_4_0",[["7_4_0",0.99],[U,0.01]],["-----&-----","---------&-"]));V.addEdge(new q("6_3_0","6_2_0",[["6_2_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("6_3_0","7_3_0",[["7_3_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("5_3_0","5_2_0",[["5_2_0",0.99],[U,0.01]],["-----&-----","---------&-"]));V.addEdge(new q("5_3_0","4_3_0",[["4_3_0",0.99],[U,0.01]],["-----&-----","---------&-"]));V.addEdge(new q("13_0_0","13_1_0",[["13_1_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("13_0_0","14_0_0",[["14_0_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("13_0_0","12_0_0",[["12_0_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("2_12_0","2_13_0",[["2_13_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("2_12_0","2_11_0",[["2_11_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("2_12_0","3_12_0",[["3_12_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("2_12_0","1_12_0",[["1_12_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("17_4_0","17_5_0",[["17_5_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("17_4_0","16_4_0",[["16_4_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("8_2_0","8_3_0",[["8_3_0",0.99],[U,0.01]],["---------&-","---------&-"]));V.addEdge(new q("8_2_0","8_1_0",[["8_1_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("8_2_0","9_2_0",[["9_2_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("3_1_0","3_2_0",[["3_2_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("3_1_0","3_0_0",[["3_0_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("3_1_0","4_1_0",[["4_1_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("3_1_0","2_1_0",[["2_1_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("0_1_0","0_2_0",[["0_2_0",0.99],[U,0.01]],[]));V.addEdge(new q("0_1_0","0_0_0",[["0_0_0",0.99],[U,0.01]],[]));V.addEdge(new q("0_1_0","1_1_0",[["1_1_0",0.99],[U,0.01]],[]));V.addEdge(new q("9_3_0","9_4_0",[["9_4_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("9_3_0","9_2_0",[["9_2_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("9_3_0","10_3_0",[["10_3_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("9_3_0","8_3_0",[["8_3_0",0.99],[U,0.01]],["---------&-","---------&-"]));V.addEdge(new q("0_4_0","0_5_0",[["0_5_0",0.99],[U,0.01]],[]));V.addEdge(new q("0_4_0","0_3_0",[["0_3_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("0_4_0","1_4_0",[["1_4_0",0.99],[U,0.01]],["-----&-----","---------&-"]));V.addEdge(new q("0_3_0","0_4_0",[["0_4_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("0_3_0","0_2_0",[["0_2_0",0.99],[U,0.01]],[]));V.addEdge(new q("0_3_0","1_3_0",[["1_3_0",0.99],[U,0.01]],[]));V.addEdge(new q("1_2_0","1_3_0",[["1_3_0",0.99],[U,0.01]],[]));V.addEdge(new q("1_2_0","1_1_0",[["1_1_0",0.99],[U,0.01]],[]));V.addEdge(new q("1_2_0","2_2_0",[["2_2_0",0.99],[U,0.01]],[]));V.addEdge(new q("1_2_0","0_2_0",[["0_2_0",0.99],[U,0.01]],[]));V.addEdge(new q("2_3_0","2_2_0",[["2_2_0",0.99],[U,0.01]],[]));V.addEdge(new q("2_3_0","1_3_0",[["1_3_0",0.99],[U,0.01]],[]));V.addEdge(new q("7_7_0","7_8_0",[["7_8_0",0.99],[U,0.01]],["-----&-----","-&---------"]));V.addEdge(new q("7_7_0","8_7_0",[["8_7_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));V.addEdge(new q("7_7_0","6_7_0",[["6_7_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));V.addEdge(new q("13_2_0","13_3_0",[["13_3_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("13_2_0","13_1_0",[["13_1_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("13_2_0","14_2_0",[["14_2_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("13_2_0","12_2_0",[["12_2_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("0_2_0","0_3_0",[["0_3_0",0.99],[U,0.01]],[]));V.addEdge(new q("0_2_0","0_1_0",[["0_1_0",0.99],[U,0.01]],[]));V.addEdge(new q("0_2_0","1_2_0",[["1_2_0",0.99],[U,0.01]],[]));V.addEdge(new q("4_1_0","4_2_0",[["4_2_0",0.99],[U,0.01]],["-----&-----","---------&-"]));V.addEdge(new q("4_1_0","4_0_0",[["4_0_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("4_1_0","5_1_0",[["5_1_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("4_1_0","3_1_0",[["3_1_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("3_2_0","3_1_0",[["3_1_0",0.99],[U,0.01]],[]));V.addEdge(new q("3_2_0","4_2_0",[["4_2_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("3_2_0","2_2_0",[["2_2_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("6_2_0","6_3_0",[["6_3_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("6_2_0","6_1_0",[["6_1_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("6_2_0","7_2_0",[["7_2_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("6_2_0","5_2_0",[["5_2_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("9_0_0","9_1_0",[["9_1_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("9_0_0","10_0_0",[["10_0_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("9_0_0","8_0_0",[["8_0_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("8_0_0","8_1_0",[["8_1_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("8_0_0","9_0_0",[["9_0_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("8_0_0","7_0_0",[["7_0_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("5_8_0","5_9_0",[["5_9_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("5_8_0","5_7_0",[["5_7_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("5_8_0","6_8_0",[["6_8_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("5_8_0","4_8_0",[["4_8_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("2_11_0","2_12_0",[["2_12_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("2_11_0","2_10_0",[["2_10_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("2_11_0","3_11_0",[["3_11_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("2_11_0","1_11_0",[["1_11_0",0.99],[U,0.01]],[]));V.addEdge(new q("0_5_0","0_6_0",[["0_6_0",0.99],[U,0.01]],[]));V.addEdge(new q("0_5_0","0_4_0",[["0_4_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("0_5_0","1_5_0",[["1_5_0",0.99],[U,0.01]],[]));V.addEdge(new q("14_1_0","14_2_0",[["14_2_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("14_1_0","14_0_0",[["14_0_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("14_1_0","15_1_0",[["15_1_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("14_1_0","13_1_0",[["13_1_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("7_1_0","7_2_0",[["7_2_0",0.99],[U,0.01]],["-----&-----","---------&-"]));V.addEdge(new q("7_1_0","7_0_0",[["7_0_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("7_1_0","8_1_0",[["8_1_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("7_1_0","6_1_0",[["6_1_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("1_16_0","1_17_0",[["1_17_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("1_16_0","1_15_0",[["1_15_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("1_16_0","2_16_0",[["2_16_0",0.99],[U,0.01]],[]));V.addEdge(new q("14_0_0","14_1_0",[["14_1_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("14_0_0","15_0_0",[["15_0_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("14_0_0","13_0_0",[["13_0_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("3_3_0","3_4_0",[["3_4_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("3_3_0","3_2_0",[["3_2_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("3_3_0","4_3_0",[["4_3_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("3_3_0","2_3_0",[["2_3_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("1_13_0","1_14_0",[["1_14_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("1_13_0","1_12_0",[["1_12_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("1_13_0","2_13_0",[["2_13_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("1_13_0","0_13_0",[["0_13_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("12_0_0","12_1_0",[["12_1_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("12_0_0","13_0_0",[["13_0_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("12_0_0","11_0_0",[["11_0_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("5_10_0","5_11_0",[["5_11_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("5_10_0","5_9_0",[["5_9_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("5_10_0","6_10_0",[["6_10_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("5_10_0","4_10_0",[["4_10_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("16_2_0","16_3_0",[["16_3_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("16_2_0","16_1_0",[["16_1_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("16_2_0","17_2_0",[["17_2_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("16_2_0","15_2_0",[["15_2_0",0.99],[U,0.01]],["-----&-----","-&---------"]));V.addEdge(new q("11_1_0","11_2_0",[["11_2_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("11_1_0","11_0_0",[["11_0_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("11_1_0","12_1_0",[["12_1_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("11_1_0","10_1_0",[["10_1_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("7_2_0","7_3_0",[["7_3_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("7_2_0","7_1_0",[["7_1_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("7_2_0","8_2_0",[["8_2_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("7_2_0","6_2_0",[["6_2_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("4_10_0","4_11_0",[["4_11_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("4_10_0","4_9_0",[["4_9_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("4_10_0","5_10_0",[["5_10_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("4_10_0","3_10_0",[["3_10_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("1_1_0","1_2_0",[["1_2_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("1_1_0","1_0_0",[["1_0_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("1_1_0","2_1_0",[["2_1_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("1_1_0","0_1_0",[["0_1_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("7_0_0","7_1_0",[["7_1_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("7_0_0","8_0_0",[["8_0_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("7_0_0","6_0_0",[["6_0_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("5_5_0","5_4_0",[["5_4_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("5_5_0","6_5_0",[["6_5_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("0_6_0","0_5_0",[["0_5_0",0.99],[U,0.01]],[]));V.addEdge(new q("1_3_0","1_2_0",[["1_2_0",0.99],[U,0.01]],[]));V.addEdge(new q("1_3_0","2_3_0",[["2_3_0",0.99],[U,0.01]],[]));V.addEdge(new q("1_3_0","0_3_0",[["0_3_0",0.99],[U,0.01]],[]));V.addEdge(new q("5_2_0","5_1_0",[["5_1_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("5_2_0","6_2_0",[["6_2_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("5_2_0","4_2_0",[["4_2_0",0.99],[U,0.01]],["---------&-","---------&-"]));V.addEdge(new q("10_0_0","10_1_0",[["10_1_0",0.99],[U,0.01]],["-----&-----","-&---------"]));V.addEdge(new q("10_0_0","11_0_0",[["11_0_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("10_0_0","9_0_0",[["9_0_0",0.99],[U,0.01]],["-----&-----","-&---------"]));V.addEdge(new q("3_0_0","3_1_0",[["3_1_0",0.99],[U,0.01]],[]));V.addEdge(new q("3_0_0","4_0_0",[["4_0_0",0.99],[U,0.01]],[]));V.addEdge(new q("3_0_0","2_0_0",[["2_0_0",0.99],[U,0.01]],[]));V.addEdge(new q("4_8_0","4_9_0",[["4_9_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("4_8_0","5_8_0",[["5_8_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("7_3_0","7_4_0",[["7_4_0",0.99],[U,0.01]],["---------&-","---------&-"]));V.addEdge(new q("7_3_0","7_2_0",[["7_2_0",0.99],[U,0.01]],["---------&-","---------&-"]));V.addEdge(new q("7_3_0","8_3_0",[["8_3_0",0.99],[U,0.01]],["---------&-","---------&-"]));V.addEdge(new q("7_3_0","6_3_0",[["6_3_0",0.99],[U,0.01]],["-----&-----","-----&-----","---------&-","---------&-"]));V.addEdge(new q("15_0_0","15_1_0",[["15_1_0",0.99],[U,0.01]],[]));V.addEdge(new q("15_0_0","14_0_0",[["14_0_0",0.99],[U,0.01]],[]));V.addEdge(new q("0_12_0","0_13_0",[["0_13_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("0_12_0","0_11_0",[["0_11_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("0_12_0","1_12_0",[["1_12_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("12_1_0","12_2_0",[["12_2_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("12_1_0","12_0_0",[["12_0_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("12_1_0","13_1_0",[["13_1_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("12_1_0","11_1_0",[["11_1_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("4_2_0","4_3_0",[["4_3_0",0.99],[U,0.01]],["---------&-","---------&-"]));V.addEdge(new q("4_2_0","4_1_0",[["4_1_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("4_2_0","5_2_0",[["5_2_0",0.99],[U,0.01]],["---------&-","---------&-"]));V.addEdge(new q("4_2_0","3_2_0",[["3_2_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("5_7_0","5_8_0",[["5_8_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("5_7_0","6_7_0",[["6_7_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("5_0_0","5_1_0",[["5_1_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("5_0_0","6_0_0",[["6_0_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("5_0_0","4_0_0",[["4_0_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("15_2_0","15_3_0",[["15_3_0",0.99],[U,0.01]],["-&---------","---------&-"]));V.addEdge(new q("15_2_0","15_1_0",[["15_1_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("15_2_0","16_2_0",[["16_2_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("15_2_0","14_2_0",[["14_2_0",0.99],[U,0.01]],["-----&-----","-&---------","-----&-----"]));V.addEdge(new q("8_1_0","8_2_0",[["8_2_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("8_1_0","8_0_0",[["8_0_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("8_1_0","9_1_0",[["9_1_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("8_1_0","7_1_0",[["7_1_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("3_10_0","3_11_0",[["3_11_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("3_10_0","4_10_0",[["4_10_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("3_10_0","2_10_0",[["2_10_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("0_0_0","0_1_0",[["0_1_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("0_0_0","1_0_0",[["1_0_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("10_3_0","10_4_0",[["10_4_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("10_3_0","10_2_0",[["10_2_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("10_3_0","11_3_0",[["11_3_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("10_3_0","9_3_0",[["9_3_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("5_4_0","4_4_0",[["4_4_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("2_2_0","2_3_0",[["2_3_0",0.99],[U,0.01]],[]));V.addEdge(new q("2_2_0","2_1_0",[["2_1_0",0.99],[U,0.01]],[]));V.addEdge(new q("2_2_0","3_2_0",[["3_2_0",0.99],[U,0.01]],[]));V.addEdge(new q("2_2_0","1_2_0",[["1_2_0",0.99],[U,0.01]],[]));V.addEdge(new q("6_0_0","6_1_0",[["6_1_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("6_0_0","7_0_0",[["7_0_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("6_0_0","5_0_0",[["5_0_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("15_3_0","15_4_0",[["15_4_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("15_3_0","15_2_0",[["15_2_0",0.99],[U,0.01]],["-----&-----","-&---------","-&---------"]));V.addEdge(new q("15_3_0","16_3_0",[["16_3_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("15_3_0","14_3_0",[["14_3_0",0.99],[U,0.01]],["---------&-","-&---------"]));V.addEdge(new q("4_11_0","4_12_0",[["4_12_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("4_11_0","4_10_0",[["4_10_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("4_11_0","5_11_0",[["5_11_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("4_11_0","3_11_0",[["3_11_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("9_4_0","9_5_0",[["9_5_0",0.99],[U,0.01]],["---------&-","---------&-"]));V.addEdge(new q("9_4_0","9_3_0",[["9_3_0",0.99],[U,0.01]],["---------&-","---------&-"]));V.addEdge(new q("9_4_0","10_4_0",[["10_4_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("9_4_0","8_4_0",[["8_4_0",0.99],[U,0.01]],["---------&-","---------&-"]));V.addEdge(new q("11_0_0","11_1_0",[["11_1_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("11_0_0","12_0_0",[["12_0_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("11_0_0","10_0_0",[["10_0_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("5_9_0","5_10_0",[["5_10_0",0.99],[U,0.01]],[]));V.addEdge(new q("5_9_0","5_8_0",[["5_8_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("5_9_0","6_9_0",[["6_9_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("5_9_0","4_9_0",[["4_9_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("5_12_0","5_13_0",[["5_13_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("5_12_0","5_11_0",[["5_11_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("5_12_0","6_12_0",[["6_12_0",0.99],[U,0.01]],[]));V.addEdge(new q("5_12_0","4_12_0",[["4_12_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("8_5_0","8_6_0",[["8_6_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));V.addEdge(new q("8_5_0","8_4_0",[["8_4_0",0.99],[U,0.01]],["-----&-----","---------&-"]));V.addEdge(new q("8_5_0","9_5_0",[["9_5_0",0.99],[U,0.01]],["-----&-----","---------&-"]));V.addEdge(new q("8_5_0","7_5_0",[["7_5_0",0.99],[U,0.01]],["-----&-----","---------&-"]));V.addEdge(new q("1_11_0","1_12_0",[["1_12_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("1_11_0","2_11_0",[["2_11_0",0.99],[U,0.01]],[]));V.addEdge(new q("1_11_0","0_11_0",[["0_11_0",0.99],[U,0.01]],[]));V.addEdge(new q("2_0_0","2_1_0",[["2_1_0",0.99],[U,0.01]],[]));V.addEdge(new q("2_0_0","3_0_0",[["3_0_0",0.99],[U,0.01]],[]));V.addEdge(new q("2_0_0","1_0_0",[["1_0_0",0.99],[U,0.01]],[]));V.addEdge(new q("14_3_0","14_4_0",[["14_4_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("14_3_0","14_2_0",[["14_2_0",0.99],[U,0.01]],["-----&-----","-&---------","-&---------"]));V.addEdge(new q("14_3_0","15_3_0",[["15_3_0",0.99],[U,0.01]],["-----&-----","-&---------"]));V.addEdge(new q("14_3_0","13_3_0",[["13_3_0",0.99],[U,0.01]],["---------&-","-&---------"]));V.addEdge(new q("7_8_0","7_9_0",[["7_9_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("7_8_0","7_7_0",[["7_7_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("7_8_0","8_8_0",[["8_8_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("7_8_0","6_8_0",[["6_8_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("1_12_0","1_13_0",[["1_13_0",0.99],[U,0.01]],[]));V.addEdge(new q("1_12_0","1_11_0",[["1_11_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("1_12_0","2_12_0",[["2_12_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("1_12_0","0_12_0",[["0_12_0",0.99],[U,0.01]],[]));V.addEdge(new q("10_1_0","10_2_0",[["10_2_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("10_1_0","10_0_0",[["10_0_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("10_1_0","11_1_0",[["11_1_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("10_1_0","9_1_0",[["9_1_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("0_11_0","0_12_0",[["0_12_0",0.99],[U,0.01]],[]));V.addEdge(new q("0_11_0","1_11_0",[["1_11_0",0.99],[U,0.01]],[]));V.addEdge(new q("16_3_0","16_4_0",[["16_4_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("16_3_0","16_2_0",[["16_2_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("16_3_0","15_3_0",[["15_3_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));V.addEdge(new q("9_2_0","9_3_0",[["9_3_0",0.99],[U,0.01]],["---------&-","---------&-"]));V.addEdge(new q("9_2_0","9_1_0",[["9_1_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("9_2_0","10_2_0",[["10_2_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("9_2_0","8_2_0",[["8_2_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("3_13_0","3_14_0",[["3_14_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("3_13_0","3_12_0",[["3_12_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("3_13_0","4_13_0",[["4_13_0",0.99],[U,0.01]],[]));V.addEdge(new q("3_13_0","2_13_0",[["2_13_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("4_12_0","4_13_0",[["4_13_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("4_12_0","4_11_0",[["4_11_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("4_12_0","5_12_0",[["5_12_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("4_12_0","3_12_0",[["3_12_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("1_0_0","1_1_0",[["1_1_0",0.99],[U,0.01]],[]));V.addEdge(new q("1_0_0","2_0_0",[["2_0_0",0.99],[U,0.01]],[]));V.addEdge(new q("1_0_0","0_0_0",[["0_0_0",0.99],[U,0.01]],[]));V.addEdge(new q("7_4_0","7_5_0",[["7_5_0",0.99],[U,0.01]],["-----&-----","---------&-"]));V.addEdge(new q("7_4_0","7_3_0",[["7_3_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("7_4_0","8_4_0",[["8_4_0",0.99],[U,0.01]],["-----&-----","---------&-"]));V.addEdge(new q("7_4_0","6_4_0",[["6_4_0",0.99],[U,0.01]],["-----&-----","---------&-"]));V.addEdge(new q("9_1_0","9_2_0",[["9_2_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("9_1_0","9_0_0",[["9_0_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("9_1_0","10_1_0",[["10_1_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("9_1_0","8_1_0",[["8_1_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("4_9_0","4_10_0",[["4_10_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("4_9_0","4_8_0",[["4_8_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("4_9_0","5_9_0",[["5_9_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("1_14_0","1_15_0",[["1_15_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("1_14_0","1_13_0",[["1_13_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("1_14_0","2_14_0",[["2_14_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("1_14_0","0_14_0",[["0_14_0",0.99],[U,0.01]],[]));V.addEdge(new q("2_10_0","2_11_0",[["2_11_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("2_10_0","3_10_0",[["3_10_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("8_7_0","8_8_0",[["8_8_0",0.99],[U,0.01]],["---------&-","-&---------"]));V.addEdge(new q("8_7_0","8_6_0",[["8_6_0",0.99],[U,0.01]],["---------&-","-&---------"]));V.addEdge(new q("8_7_0","9_7_0",[["9_7_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));V.addEdge(new q("8_7_0","7_7_0",[["7_7_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));V.addEdge(new q("11_2_0","11_3_0",[["11_3_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("11_2_0","11_1_0",[["11_1_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("11_2_0","12_2_0",[["12_2_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("11_2_0","10_2_0",[["10_2_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("6_7_0","6_8_0",[["6_8_0",0.99],[U,0.01]],[]));V.addEdge(new q("6_7_0","7_7_0",[["7_7_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("6_7_0","5_7_0",[["5_7_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("2_13_0","2_14_0",[["2_14_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("2_13_0","2_12_0",[["2_12_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("2_13_0","3_13_0",[["3_13_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("2_13_0","1_13_0",[["1_13_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("6_1_0","6_2_0",[["6_2_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("6_1_0","6_0_0",[["6_0_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("6_1_0","7_1_0",[["7_1_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("6_1_0","5_1_0",[["5_1_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("3_11_0","3_12_0",[["3_12_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("3_11_0","3_10_0",[["3_10_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("3_11_0","4_11_0",[["4_11_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("3_11_0","2_11_0",[["2_11_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("10_2_0","10_3_0",[["10_3_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("10_2_0","10_1_0",[["10_1_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("10_2_0","11_2_0",[["11_2_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("10_2_0","9_2_0",[["9_2_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("17_2_0","18_2_0",[["18_2_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("17_2_0","16_2_0",[["16_2_0",0.99],[U,0.01]],[]));V.addEdge(new q("16_4_0","16_3_0",[["16_3_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("16_4_0","17_4_0",[["17_4_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("16_4_0","15_4_0",[["15_4_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("8_8_0","8_9_0",[["8_9_0",0.99],[U,0.01]],["-&---------","-----&-----"]));V.addEdge(new q("8_8_0","8_7_0",[["8_7_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));V.addEdge(new q("8_8_0","7_8_0",[["7_8_0",0.99],[U,0.01]],["-----&-----","-&---------"]));V.addEdge(new q("10_4_0","10_5_0",[["10_5_0",0.99],[U,0.01]],["---------&-","---------&-"]));V.addEdge(new q("10_4_0","10_3_0",[["10_3_0",0.99],[U,0.01]],[]));V.addEdge(new q("10_4_0","11_4_0",[["11_4_0",0.99],[U,0.01]],[]));V.addEdge(new q("10_4_0","9_4_0",[["9_4_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("0_14_0","0_13_0",[["0_13_0",0.99],[U,0.01]],[]));V.addEdge(new q("0_14_0","1_14_0",[["1_14_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("2_16_0","2_15_0",[["2_15_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("2_16_0","3_16_0",[["3_16_0",0.99],[U,0.01]],[]));V.addEdge(new q("2_16_0","1_16_0",[["1_16_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("15_4_0","15_3_0",[["15_3_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));V.addEdge(new q("15_4_0","16_4_0",[["16_4_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("15_4_0","14_4_0",[["14_4_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("8_6_0","8_7_0",[["8_7_0",0.99],[U,0.01]],["---------&-","-&---------"]));V.addEdge(new q("8_6_0","8_5_0",[["8_5_0",0.99],[U,0.01]],["-&---------","---------&-"]));V.addEdge(new q("8_6_0","9_6_0",[["9_6_0",0.99],[U,0.01]],["-----&-----","-----&-----","-----&-----"]));V.addEdge(new q("7_5_0","7_4_0",[["7_4_0",0.99],[U,0.01]],["-----&-----","---------&-"]));V.addEdge(new q("7_5_0","8_5_0",[["8_5_0",0.99],[U,0.01]],["-----&-----","---------&-"]));V.addEdge(new q("7_5_0","6_5_0",[["6_5_0",0.99],[U,0.01]],["-----&-----","---------&-"]));V.addEdge(new q("6_10_0","6_11_0",[["6_11_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("6_10_0","6_9_0",[["6_9_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("6_10_0","7_10_0",[["7_10_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("6_10_0","5_10_0",[["5_10_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("6_8_0","6_9_0",[["6_9_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("6_8_0","6_7_0",[["6_7_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("6_8_0","7_8_0",[["7_8_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("6_8_0","5_8_0",[["5_8_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("12_2_0","12_3_0",[["12_3_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("12_2_0","12_1_0",[["12_1_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("12_2_0","13_2_0",[["13_2_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("12_2_0","11_2_0",[["11_2_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("4_13_0","4_14_0",[["4_14_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("4_13_0","4_12_0",[["4_12_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("4_13_0","5_13_0",[["5_13_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("4_13_0","3_13_0",[["3_13_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("3_14_0","3_15_0",[["3_15_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("3_14_0","3_13_0",[["3_13_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("3_14_0","4_14_0",[["4_14_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("3_14_0","2_14_0",[["2_14_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("11_4_0","11_5_0",[["11_5_0",0.99],[U,0.01]],["---------&-","---------&-","-----&-----"]));V.addEdge(new q("11_4_0","11_3_0",[["11_3_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("11_4_0","12_4_0",[["12_4_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("11_4_0","10_4_0",[["10_4_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("10_6_0","10_7_0",[["10_7_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("10_6_0","10_5_0",[["10_5_0",0.99],[U,0.01]],["-----&-----","---------&-"]));V.addEdge(new q("10_6_0","11_6_0",[["11_6_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("10_6_0","9_6_0",[["9_6_0",0.99],[U,0.01]],["-----&-----","-&---------"]));V.addEdge(new q("0_13_0","0_14_0",[["0_14_0",0.99],[U,0.01]],[]));V.addEdge(new q("0_13_0","0_12_0",[["0_12_0",0.99],[U,0.01]],[]));V.addEdge(new q("0_13_0","1_13_0",[["1_13_0",0.99],[U,0.01]],[]));V.addEdge(new q("11_5_0","11_6_0",[["11_6_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("11_5_0","11_4_0",[["11_4_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("11_5_0","12_5_0",[["12_5_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("11_5_0","10_5_0",[["10_5_0",0.99],[U,0.01]],["-----&-----","---------&-"]));V.addEdge(new q("8_9_0","8_8_0",[["8_8_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("8_9_0","7_9_0",[["7_9_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("9_7_0","9_6_0",[["9_6_0",0.99],[U,0.01]],["-----&-----","-----&-----","---------&-","-----&-----"]));V.addEdge(new q("2_14_0","2_15_0",[["2_15_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("2_14_0","2_13_0",[["2_13_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("2_14_0","3_14_0",[["3_14_0",0.99],[U,0.01]],["-----&-----","-&---------"]));V.addEdge(new q("2_14_0","1_14_0",[["1_14_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("9_5_0","9_6_0",[["9_6_0",0.99],[U,0.01]],["-----&-----","-&---------"]));V.addEdge(new q("9_5_0","9_4_0",[["9_4_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("9_5_0","10_5_0",[["10_5_0",0.99],[U,0.01]],["-----&-----","---------&-"]));V.addEdge(new q("9_5_0","8_5_0",[["8_5_0",0.99],[U,0.01]],["-----&-----","---------&-"]));V.addEdge(new q("12_5_0","12_6_0",[["12_6_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("12_5_0","12_4_0",[["12_4_0",0.99],[U,0.01]],[]));V.addEdge(new q("12_5_0","17_5_0",[["17_5_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("12_5_0","11_5_0",[["11_5_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("10_5_0","10_6_0",[["10_6_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("10_5_0","10_4_0",[["10_4_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("10_5_0","11_5_0",[["11_5_0",0.99],[U,0.01]],["-----&-----","---------&-"]));V.addEdge(new q("10_5_0","9_5_0",[["9_5_0",0.99],[U,0.01]],["-----&-----","---------&-"]));V.addEdge(new q("1_15_0","1_16_0",[["1_16_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("1_15_0","1_14_0",[["1_14_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("1_15_0","2_15_0",[["2_15_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("12_4_0","12_5_0",[["12_5_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("12_4_0","12_3_0",[["12_3_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("12_4_0","13_4_0",[["13_4_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));V.addEdge(new q("12_4_0","11_4_0",[["11_4_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("3_16_0","3_15_0",[["3_15_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("3_16_0","4_16_0",[["4_16_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));V.addEdge(new q("3_16_0","2_16_0",[["2_16_0",0.99],[U,0.01]],[]));V.addEdge(new q("9_6_0","9_7_0",[["9_7_0",0.99],[U,0.01]],["-----&-----","---------&-","-----&-----"]));V.addEdge(new q("9_6_0","10_6_0",[["10_6_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("9_6_0","8_6_0",[["8_6_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));V.addEdge(new q("2_15_0","2_16_0",[["2_16_0",0.99],[U,0.01]],[]));V.addEdge(new q("2_15_0","2_14_0",[["2_14_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("2_15_0","3_15_0",[["3_15_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("2_15_0","1_15_0",[["1_15_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("4_16_0","4_15_0",[["4_15_0",0.99],[U,0.01]],[]));V.addEdge(new q("4_16_0","3_16_0",[["3_16_0",0.99],[U,0.01]],[]));V.addEdge(new q("7_9_0","7_10_0",[["7_10_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("7_9_0","7_8_0",[["7_8_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("7_9_0","8_9_0",[["8_9_0",0.99],[U,0.01]],[]));V.addEdge(new q("7_9_0","6_9_0",[["6_9_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("5_14_0","5_15_0",[["5_15_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));V.addEdge(new q("5_14_0","5_13_0",[["5_13_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("5_14_0","6_14_0",[["6_14_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));V.addEdge(new q("5_14_0","4_14_0",[["4_14_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("5_13_0","5_14_0",[["5_14_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("5_13_0","5_12_0",[["5_12_0",0.99],[U,0.01]],[]));V.addEdge(new q("5_13_0","4_13_0",[["4_13_0",0.99],[U,0.01]],[]));V.addEdge(new q("4_14_0","4_15_0",[["4_15_0",0.99],[U,0.01]],[]));V.addEdge(new q("4_14_0","4_13_0",[["4_13_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("4_14_0","5_14_0",[["5_14_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("4_14_0","3_14_0",[["3_14_0",0.99],[U,0.01]],["-----&-----","-&---------"]));V.addEdge(new q("10_7_0","10_6_0",[["10_6_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("10_7_0","9_7_0",[["9_7_0",0.99],[U,0.01]],["---------&-","-&---------"]));V.addEdge(new q("4_15_0","4_16_0",[["4_16_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));V.addEdge(new q("4_15_0","4_14_0",[["4_14_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("4_15_0","5_15_0",[["5_15_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));V.addEdge(new q("4_15_0","3_15_0",[["3_15_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("5_11_0","5_12_0",[["5_12_0",0.99],[U,0.01]],[]));V.addEdge(new q("5_11_0","5_10_0",[["5_10_0",0.99],[U,0.01]],[]));V.addEdge(new q("5_11_0","6_11_0",[["6_11_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("5_11_0","4_11_0",[["4_11_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("16_1_0","16_2_0",[["16_2_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("16_1_0","15_1_0",[["15_1_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("11_6_0","11_5_0",[["11_5_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("11_6_0","12_6_0",[["12_6_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("11_6_0","10_6_0",[["10_6_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("18_2_0","18_3_0",[["18_3_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("18_2_0","17_2_0",[["17_2_0",0.99],[U,0.01]],["-&---------","-----&-----"]));V.addEdge(new q("12_6_0","12_5_0",[["12_5_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("12_6_0","11_6_0",[["11_6_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("6_9_0","6_10_0",[["6_10_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("6_9_0","6_8_0",[["6_8_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("6_9_0","7_9_0",[["7_9_0",0.99],[U,0.01]],[]));V.addEdge(new q("6_9_0","5_9_0",[["5_9_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("3_15_0","3_16_0",[["3_16_0",0.99],[U,0.01]],[]));V.addEdge(new q("3_15_0","3_14_0",[["3_14_0",0.99],[U,0.01]],["-----&-----","-&---------"]));V.addEdge(new q("3_15_0","4_15_0",[["4_15_0",0.99],[U,0.01]],[]));V.addEdge(new q("3_15_0","2_15_0",[["2_15_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("7_10_0","7_9_0",[["7_9_0",0.99],[U,0.01]],[]));V.addEdge(new q("7_10_0","6_10_0",[["6_10_0",0.99],[U,0.01]],["-----&-----","---------&-"]));V.addEdge(new q("6_15_0","6_14_0",[["6_14_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));V.addEdge(new q("6_15_0","5_15_0",[["5_15_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));V.addEdge(new q("5_15_0","5_14_0",[["5_14_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("5_15_0","6_15_0",[["6_15_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));V.addEdge(new q("5_15_0","4_15_0",[["4_15_0",0.99],[U,0.01]],[]));V.addEdge(new q("18_3_0","18_2_0",[["18_2_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("13_4_0","13_3_0",[["13_3_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));V.addEdge(new q("13_4_0","14_4_0",[["14_4_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("13_4_0","12_4_0",[["12_4_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("6_14_0","6_15_0",[["6_15_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("6_14_0","6_12_0",[["6_12_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("6_14_0","5_14_0",[["5_14_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("6_11_0","6_12_0",[["6_12_0",0.99],[U,0.01]],[]));V.addEdge(new q("6_11_0","6_10_0",[["6_10_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("6_11_0","5_11_0",[["5_11_0",0.99],[U,0.01]],["---------&-"]));V.addEdge(new q("14_4_0","14_3_0",[["14_3_0",0.99],[U,0.01]],["---------&-","-&---------"]));V.addEdge(new q("14_4_0","15_4_0",[["15_4_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("14_4_0","13_4_0",[["13_4_0",0.99],[U,0.01]],["-&---------"]));V.addEdge(new q("6_12_0","6_14_0",[["6_14_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("6_12_0","6_11_0",[["6_11_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("6_12_0","5_12_0",[["5_12_0",0.99],[U,0.01]],[]));V.addEdge(new q("1_17_0","1_16_0",[["1_16_0",0.99],[U,0.01]],["-----&-----"]));V.addEdge(new q("7_10_0","end",[["end",0.99],[U,0.01]],[]));var KQ={"2_8_0":["XX----------XXX","XX----------XXX","XX---XX-----XXX","XX-#-XXXX---XXX","XX-----XX------","XXXX---XX------","XXXX---XX-----#","XXXX--#XX---XXX","XXXX---XX---XXX","-------XX---XXX","&------XX---XXX"],"13_1_0":["----^^^^^^^^^^^","---------------","---------------","----------X----","----------X-&-&","----------XXXXX","-#--------X-*#*","----------X----","---------------","---------------","----^^^^^^^^^^^"],"1_5_0":["XX-------------","XX-------------","XX---XX--------","XX-#-XXXX------","XX-----XX------","XXXX---XX---&--","XXXX---XX------","XXXX--#XX------","XXXX---XX------","-------XX------","&------XX------"],"6_4_0":["--------X------","--------X------","X-------X---^--","XXX-----X---^--","-XX---------^--","-XX---------^--","-XX-----#-#-#-#","#XX--#---------","-XX------------","-XX-----XXXXXXX","-XX-----XXXXXXX"],"0_8_0":["XX--------XXX--","XX--------XXX--","XX---XX---XXX--","XX-#-XX---XXX--","XX--------XXX--","XXXX----XXXXXXX","XXXX----XXXXXXX","XXXX----XXXXXXX","XXXX----XXXXXXX","---------------","&----------&---"],"6_5_0":["------X--^^^^^^","------X----X--X","X-----X----X--X","XXX---X----X--X","-XX--------X--X","-XX--------X--X","-XX--------X--X","#XX---X----X--X","-XX---X----X--X","-XX---X--------","-XX---X--^^^^^^"],"17_5_0":["^^^^^^^^^^^^^^^","----X----------","-X--X-------X--","XX--X--XXX--XX-","XX--X--X*X--XXX","#*--X--X&---*#X","XX--X--X*X--XXX","XX--X--XXX--XX-","-X--X-------X--","---------------","^^^^^^^^^^^^^^^"],"4_0_0":["---------------","---------------","---------------","---X--------#--","---X-----------","XXXX-----------","#*-X-----------","---X--#--------","---------#-----","---------------","---------------"],"12_3_0":["-----^^^^^^^^^^","---------------","X--------------","XXX-------X----","-XX-------X-&-&","-XX-------XXXXX","-XX-------X-*#*","#XX-------X----","-XX------------","-XX------------","-XX--^^^^^^^^^^"],"2_4_0":["-------------XX","-------------XX","X------------XX","XXX----------XX","-XX----------XX","-XX----------XX","-XX----------XX","#XX--#-------XX","-XX-----#----XX","-XX------------","-XX------------"],"2_6_0":["XX-------------","XX-------------","XX---XX--------","XX-#-XXXX-----X","XX-----XX-----X","XXXX---XX-----X","XXXX---XX-----X","XXXX--#XX-----X","XXXX---XX--#---","-------XX------","&------XX------"],"8_3_0":["----------^^^^^","---------------","X-----------X--","XXX---------XX-","-XX---------XXX","-XX---------*#X","-XX---------XXX","#XX--#------XX-","-XX---------X--","-XX------------","-XX-------^^^^^"],"15_1_0":["-^^^^^^^^^^^^^^","---------------","---------------","----------X----","----------X-&-&","----------XXXXX","----------X-*#*","----------X----","---------------","---------------","-^^^^^^^^^^^^^^"],"11_3_0":["------^^^^^^^^^","---------------","X--------------","XXX-------X----","-XX-------X-&-&","-XX-------XXXXX","-XX-------X-*#*","#XX-------X----","-XX------------","-XX------------","-XX---^^^^^^^^^"],"2_1_0":["-----------XX--","---------------","---------------","---X-----------","---X-----------","XXXX-----------","#*-X-----------","---X--#--------","---------------","---------------","-----------XX--"],"13_3_0":["----^^^^^^^^^^^","------*#X--X--X","------XXX--X--X","------XX---X--X","------X----X--X","------X----X-#X","-#----X----X--X","------X----X--X","------X----X--X","---------------","----^^^^^^^^^^^"],"4_6_0":["XX----------^^^","XX-------------","XX---XX--------","XX-#-XXXX-----X","XX-----XX-----X","XXXX---XX-----X","XXXX---XX-----X","XXXX--#XX-----X","XXXX---XX------","-------XX------","&------XX---^^^"],"4_3_0":["--------------X","--------------X","X-------------X","XXX-----------X","-XX-----------X","-XX--------#--X","-XX-----------X","#XX--#--------X","-XX-----#-----X","-XX------------","-XX--------*---"],"14_2_0":["---^^^^^^^^^^^^","---------------","--------------X","-----X-----X--X","-----X-&-&-X--X","-----XXXXXXX--*","-----X-*#*-X--X","-----X-----X--X","--------------X","---------------","---^^^^^^^^^^^^"],"1_4_0":["-------------XX","-------------XX","X------------XX","XXX----------XX","-XX----------XX","-XX----------XX","-XX----------XX","#XX--#-------XX","-XX----------XX","-XX------------","-XX------------"],"5_1_0":["---------------","---------------","---------------","---X----------X","---X---------^X","XXXX--------^^X","#*-X---------^X","---X--#-------X","---------#-----","---------------","---------------"],"3_12_0":["-----XXXXXXXXXX","-----XXXXXXXXXX","X----XXXXXXXXXX","XXX--XXXXXXXXXX","-XX----------#X","-XX-----------X","-XX----#--#----","#XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX"],"3_4_0":["------------XX-","------------XX-","X-----------XX-","XXX---------XX#","-XX---------XX-","-XX---------XX-","-XX---------XX-","#XX--#------XXX","-XX-----#-----X","-XX------------","-XX------------"],"4_4_0":["------------X--","---------------","X-----------X--","XXX---------XX-","-XX---------XXX","-XX---------*#X","-XX---------XXX","#XX--#------XX-","-XX-----#---X--","-XX------------","-XX---------X--"],"8_4_0":["---------^^^^^^","-----------X--X","X----------X--X","XXX--------X--X","-XX--------X--X","-XX--------X-#X","-XX--------X--X","#XX--#-----X--X","-XX--------X--X","-XX------------","-XX------^^^^^^"],"6_3_0":["-----------^^^^","-------------X-","X------------X-","XXX----------X-","-XX----------X-","-XX----------X-","-XX----------X-","#XX--#-------X-","-XX-----#----X-","-XX------------","-XX--------^^^^"],"1_10_0":["XX---------XXXX","XX---------XXXX","XX---XX----XXXX","XX-#-XXXX--XXXX","XX-----XX--XXX-","XXXX---XX--XX--","XXXX---XX------","XXXX--#XX--XXXX","XXXX---XX--XXXX","-------XX--XXXX","&------XX--XXXX"],"5_3_0":["------------^^^","--------------X","X-------------X","XXX-----------X","-XX-----------X","-XX-----------X","-XX-----------X","#XX--#--------X","-XX-----#-----X","-XX------------","-XX---------^^^"],"3_5_0":["XX-------------","XX-------------","XX---XX-------&","XX-#-XXXX------","XX-----XX------","XXXX---XX--#---","XXXX---XX------","XXXX--#XX------","XXXX---XX------","-------XX------","&------XX--*---"],"13_0_0":["--^^^^^^^^^^^^^","---------------","---------------","-----------X---","-----------X-&-","-----------XXXX","-----------X-*#","-----------X---","---------------","---------------","--^^^^^^^^^^^^^"],"2_12_0":["------XXXXXXXXX","------XXXXXXXXX","X-----XXXXXXXXX","XXX---XXXXXXXXX","-XX-----#XXXXX-","-XX------XXXXX-","-XX-------*----","#XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX"],"17_4_0":["^^^^^^^^^^^^^^^","--X--X--X--X--X","--X--X--X--X--X","--X--X--X--X--X","--X--X--X--X--X","-#X-#X-#X-#X-#X","--X--X--X--X--X","--X--X--X--X--X","--X--X--X--X--X","---------------","^^^^^^^^^^^^^^^"],"8_2_0":["---------^^^^^^","--------------*","X--------------","XXX----------^^","-XX--------^^^^","-XX-----------&","-XX--------^^^^","#XX--#-------^^","-XX------------","-XX-----------*","-XX------^^^^^^"],"3_1_0":["------------XX-","---------------","---------------","---X-----------","---X-----------","XXXX-----------","#*-X-----------","---X--#--------","---------#-----","---------------","------------XX-"],"0_1_0":["---------------","------------X--","------------X--","------------X--","------------X--","-----------&X-&","------------X--","-*----------X--","------------X--","------------X--","------------X--"],"9_3_0":["--------^^^^^^^","---------------","X-----------X--","XXX---------XX-","-XX---------XXX","-XX---------*#X","-XX---------XXX","#XX--#------XX-","-XX---------X--","-XX------------","-XX-----^^^^^^^"],"0_4_0":["-------------XX","-------------XX","X------------XX","XXX----------XX","-XX----------XX","-XX----------XX","-XX----------XX","#XX----------XX","-XX----------XX","-XX------------","-XX------------"],"0_3_0":["---------------","------------X--","X-----------X--","XXX---------X--","-XX---------X--","-XX--------&X-&","-XX---------X--","#XX---------X--","-XX---------X--","-XX---------X--","-XX---------X--"],"1_2_0":["---------------","---------------","X--------------","XXX------------","-XX------------","-XX-----------&","-XX------------","#XX--#---------","-XX------------","-XX------------","-XX------------"],"2_3_0":["---------------","------------X--","X-----------X--","XXX---------X--","-XX---------X--","-XX--------&X-&","-XX---------X--","#XX--#------X--","-XX-----#---X--","-XX---------X--","-XX---------X--"],"7_7_0":["-*XXXXXXXXXXXXX","--XXXXXXX-----*","--XXXXXX-------","--XXXXX------^^","-----------^^^^","-#------------&","----#------^^^^","--XXXXX------^^","--XXXXXX-------","--XXXXXXX-----*","--XXXXXXXXXXXXX"],"13_2_0":["----^^^^^^^^^^^","---------------","-------------X-","--------XXX--XX","--------X*X--XX","--------X&---*#","--------X*X--XX","-*------XXX--XX","-------------X-","---------------","----^^^^^^^^^^^"],"0_2_0":["---------------","---------------","X--------------","XXX------------","-XX------------","-XX-----------&","-XX------------","#XX------------","-XX------------","-XX------------","-XX------------"],"4_5_0":["XX-------------","XX-------------","XX---XX--------","XX-#-XXXX-----#","XX-----XX------","XXXX---XX--#---","XXXX---XX------","XXXX--#XX------","XXXX---XX------","-------XX------","&------XX--*---"],"4_1_0":["------------XXX","---------------","---------------","---X-----------","---X----------^","XXXX-----------","#*-X----------^","---X--#--------","---------#-----","---------------","------------XXX"],"0_9_0":["XX---------XXXX","XX---------XXXX","XX---XX----XXXX","XX-#-XXXX--XXXX","XX-----XX--XXXX","XXXX---XX--XXXX","XXXX---XX--XXXX","XXXX---XX--XXXX","XXXX---XX------","-------XX------","&------XX--XXXX"],"3_2_0":["---------------","---------------","X--------------","XXX------------","-XX------------","-XX-----------&","-XX------------","#XX--#---------","-XX-----#--#---","-XX------------","-XX------------"],"6_2_0":["-------------&-","------------^^^","X-----------^^^","XXX---------^^^","-XX---------^^^","-XX---------^^^","-XX---------^^^","#XX--#------^^^","-XX-----#---^^^","-XX---------^^^","-XX----------*-"],"9_0_0":["------^^^^^^^^^","---------------","---------------","---X-----------","---X-----------","XXXX-----------","#*-X-----------","---X-----------","---------------","---------------","------^^^^^^^^^"],"8_0_0":["---------^^^^^^","---------------","---------------","---X-----------","---X-----------","XXXX-----------","#*-X-----------","---X--#--------","---------------","---------------","---------^^^^^^"],"5_8_0":["-----XXXXXX---&","-----XXXXXX--^^","X----XXXXXX--^^","XXX--XXXXXX--^^","-XX----*-----^^","-XX----------^^","-XX-----#----^^","#XX--XXXXXX--^^","-XX--XXXXXX--^^","-XX--XXXXXX--^^","-XX--XXXXXX---*"],"1_9_0":["XX---------XXXX","XX---------XXXX","XX---XX----XXXX","XX-#-XXXX--XXXX","XX-----XX--XXXX","XXXX---XX--XXXX","XXXX---XX--XXXX","XXXX--#XX--XXXX","XXXX---XX------","-------XX------","&------XX--XXXX"],"2_11_0":["XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX-#-","XX--XXX--XXX---","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","XXXXXXXXXX*XXX-","---------------","&----&----#----"],"0_5_0":["XX-------------","XX-------------","XX---XX--------","XX-#-XXXX------","XX-----XX------","XXXX---XX-----&","XXXX---XX------","XXXX---XX------","XXXX---XX------","-------XX------","&------XX------"],"14_1_0":["--^^^^^^^^^^^^^","---------------","---------------","----------X----","----------X-&-&","----------XXXXX","----------X-*#*","----------X----","---------------","---------------","--^^^^^^^^^^^^^"],"7_1_0":["----------^^^^^","---------------","---------------","---X----------X","---X----------X","XXXX----------X","#*-X----------X","---X--#-------X","---------------","---------------","----------^^^^^"],"1_16_0":["-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","----#XXXXXXXXXX","-----XXXXXXXXXX","------*--------","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX"],"14_0_0":["-^^^^^^^^^^^^^^","---------------","---------------","-----------X---","-----------X-&-","-----------XXXX","-----------X-*#","-----------X---","---------------","---------------","-^^^^^^^^^^^^^^"],"3_3_0":["---------------","-----------^---","X--------------","XXX--------^--X","-XX-----------X","-XX--------^--X","-XX-----------X","#XX--#-----^--X","-XX-----#-----X","-XX--------^--X","-XX-----------X"],"3_7_0":["XX----------X--","XX-------------","XX---XX-----X--","XX-#-XXXX---XX-","XX-----XX---XXX","XXXX---XX---*#X","XXXX---XX---XXX","XXXX--#XX---XX-","XXXX---XX---X--","-------XX------","&------XX---X--"],"1_13_0":["---XXXXXXXXXXXX","---XXXXXXXXXXXX","---XXXXXXXXXXXX","---XXXXXXXXXXXX","-----#XXXXXXX--","------XXXXXX---","-------*-------","---XXXXXXXXXXXX","---XXXXXXXXXXXX","---XXXXXXXXXXXX","---XXXXXXXXXXXX"],"12_0_0":["----^^^^^^^^^^^","---------------","---------------","-----------X---","-----------X-&-","-----------XXXX","-----------X-*#","-*---------X---","---------------","---------------","----^^^^^^^^^^^"],"5_10_0":["----XXXXXXXXXXX","----XXXXXXXXXXX","----XXXXXXXXXXX","----XXXXXXXXXXX","------*------*-","---------------","-#-----#--#---#","----XXXXXXXXXXX","----XXXXXXXXXXX","----XXXXXXXXXXX","----XXXXXXXXXXX"],"16_2_0":["^^^^^^^^^^^^^^^","---------------","---------------","--------X-----X","--------X-&-&-X","--------XXXXXXX","--------X-*#*-X","X-------X-----X","XX-------------","#X-------------","^^^^^^^^^^^^^^^"],"11_1_0":["------^^^^^^^^^","---------X--X--","---------X--X--","---------X--X--","---#-----X--X--","---------X-#X-#","---------X--X--","-*-------X--X--","---------X--X--","---------------","------^^^^^^^^^"],"0_10_0":["XX---------XXXX","XX---------XXXX","XX---XX----XXXX","XX-#-XXXX--XXXX","XX-----XX--XXX-","XXXX---XX--XX--","XXXX---XX------","XXXX---XX--XXXX","XXXX---XX--XXXX","-------XX--XXXX","&------XX--XXXX"],"7_2_0":["---------^^^^^^","---------------","X--------------","XXX------------","-XX------------","-XX------------","-XX------------","#XX--#---------","-XX------------","-XX------------","-XX------^^^^^^"],"4_10_0":["------XXXXXXXXX","------XXXXXXXXX","X-----XXXXXXXXX","XXX---XXXXXXXXX","-XX-----*---*--","-XX------------","-XX------#---#-","#XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX"],"1_1_0":["-----------XX--","---------------","---------------","---X-----------","---X-----------","XXXX-----------","#*-X-----------","---X-----------","---------------","---------------","-----------XX--"],"7_0_0":["-------------&-","------------^^^","------------^^^","---X--------^^^","---X--------^^^","XXXX--------^^^","#*-X--------^^^","---X--#-----^^^","---------#--^^^","------------^^^","-------------*-"],"5_5_0":["XX-----------&-","XX----------^^^","XX---XX-----^^^","XX-#-XXXX---^^^","XX-----XX---^^^","XXXX---XX---^^^","XXXX---XX---^^^","XXXX--#XX---^^^","XXXX---XX---^^^","-------XX---^^^","&------XX----*-"],"0_6_0":["XX-------------","XX----------X--","XX---XX-----X--","XX-#-XXXX---X--","XX-----XX---X--","XXXX---XX--&X-&","XXXX---XX---X--","XXXX---XX---X--","XXXX---XX---X--","-------XX---X--","&------XX---X--"],"4_7_0":["XX---------X---","XX---------X---","XX---XX----X--^","XX-#-XXXX--X--^","XX-----XX-----^","XXXX---XX-----^","XXXX---XX--#-#-","XXXX--#XX------","XXXX---XX------","-------XX--XXXX","&------XX--XXXX"],"1_3_0":["---------------","------------X--","X-----------X--","XXX---------X--","-XX---------X--","-XX--------&X-&","-XX---------X--","#XX--#------X--","-XX---------X--","-XX---------X--","-XX---------X--"],"6_6_0":["XX---------^^^^","XX-------------","XX---XX-------X","XX-#-XXXX-----X","XX-----XX-----X","XXXX---XX-----*","XXXX---XX-----X","XXXX--#XX-----X","XXXX---XX-----X","-------XX------","&------XX--^^^^"],"1_6_0":["XX-------------","XX----------X--","XX---XX-----X--","XX-#-XXXX---X--","XX-----XX---X--","XXXX---XX--&X-&","XXXX---XX---X--","XXXX--#XX---X--","XXXX---XX---X--","-------XX---X--","&------XX---X--"],"5_2_0":["---------------","---------------","X--------------","XXX-----------#","-XX------------","-XX--------#---","-XX------------","#XX--#---------","-XX-----#------","-XX------------","-XX--------*---"],"10_0_0":["------^^^^^^^^^","--------------*","---------------","---X---------^^","---X-------^^^^","XXXX----------&","#*-X-------^^^^","---X---------^^","---------------","--------------*","------^^^^^^^^^"],"3_0_0":["---------------","---------------","---------------","---X-----------","---X-----------","XXXX--------&--","#*-X-----------","---X--#--------","---------#-----","---------------","---------------"],"4_8_0":["--------XXXXXXX","--------XXXXXXX","X-------XXXXXXX","XXX-----XXXXXXX","-XX----------*-","-XX------------","-XX-------#---#","#XX--#--XXXXXXX","-XX-----XXXXXXX","-XX-----XXXXXXX","-XX-----XXXXXXX"],"7_3_0":["-----------^^^^","---------------","X--------------","XXX----------XX","-XX----------X*","-XX----------X&","-XX----------X*","#XX--#-------XX","-XX-----#------","-XX------------","-XX--------^^^^"],"15_0_0":["^^^^^^^^^^^^^^^","--------------*","---------------","-------------^^","-----------^^^^","--------------&","-----------^^^^","X------------^^","XX-------------","#X------------*","^^^^^^^^^^^^^^^"],"0_12_0":["--XXXXX--XXXXXX","--XXXXX--XXXXXX","--XXXXX--XXXXXX","--XXXXX--XXXXXX","---------XXXXXX","---------XXXXX-","---------------","--XXXXX--XXXXXX","--XXXXX--XXXXXX","--XXXXX--XXXXXX","--XXXXX--XXXXXX"],"12_1_0":["----^^^^^^^^^^^","---------X--X--","---------X--X--","---------X--X--","---------X--X--","---------X-#X-#","---------X--X--","-*-------X--X--","---------X--X--","---------------","----^^^^^^^^^^^"],"2_5_0":["XX-------------","XX-------------","XX---XX--------","XX-#-XXXX------","XX-----XX------","XXXX---XX-----&","XXXX---XX------","XXXX--#XX------","XXXX---XX--#---","-------XX------","&------XX------"],"4_2_0":["---------------","---------------","X--------------","XXX------------","-XX------------","-XX--------#---","-XX------------","#XX--#---------","-XX-----#------","-XX------------","-XX--------*---"],"2_9_0":["XX---------XXXX","XX---------XXXX","XX---XX----XXXX","XX-#-XXXX--XXXX","XX-----XX------","XXXX---XX------","XXXX---XX----#-","XXXX--#XX--XXXX","XXXX---XX--XXXX","-------XX--XXXX","&------XX--XXXX"],"5_7_0":["-----XXXXX---&-","-----XXXXX--^^^","X----XXXXX--^^^","XXX--XXXXX--^^^","-XX---------^^^","-XX---------^^^","-XX----#----^^^","#XX--XXXXX--^^^","-XX--XXXXX--^^^","-XX--XXXXX--^^^","-XX--XXXXX---*-"],"5_0_0":["---------------","---------------","---------------","---X--------#--","---X-----------","XXXX-----#-----","#*-X-----------","---X--#--------","---------------","---------------","---------*-----"],"15_2_0":["--^^^^^^^^^^^^^","---------------","--------------X","-----X-----X--X","-----X-&-&-X--X","-----XXXXXXX--*","-----X-*#*-X--X","-----X-----X--X","--------------X","---------------","--^^^^^^^^^^^^^"],"8_1_0":["----------^^^^^","------------X--","------------X--","---X--------X--","---X--------X--","XXXX--------X-#","#*-X--------X--","---X--#-----X--","------------X--","---------------","----------^^^^^"],"0_7_0":["XX-------------","XX-------------","XX---XX----XX--","XX-#-XX----XXXX","XX-----------XX","XXXX----XX---XX","XXXX----XX---XX","XXXX----XX---XX","XXXX----XX---XX","-------------XX","&------------XX"],"1_7_0":["XX-----------XX","XX-----------XX","XX---XX------XX","XX-#-XXXX----XX","XX-----XX----XX","XXXX---XX----XX","XXXX---XX----XX","XXXX--#XX----XX","XXXX---XX----XX","-------XX------","&------XX------"],"3_10_0":["-------XXXXXXXX","-------XXXXXXXX","X------XXXXXXXX","XXX----XXXXXXXX","-XX---------#XX","-XX----------XX","-XX------#----*","#XX----XXXXXXXX","-XX----XXXXXXXX","-XX----XXXXXXXX","-XX----XXXXXXXX"],"0_0_0":["---------XX----","---------------","---------------","---------------","---------------","---------------","-#-------------","---------------","---------------","---------------","---------XX----"],"10_3_0":["--------^^^^^^^","---------------","X--------------","XXX-------X----","-XX-------X-&-&","-XX-------XXXXX","-XX-------X-*#*","#XX--#----X----","-XX------------","-XX------------","-XX-----^^^^^^^"],"5_4_0":["---------X-----","---------X-----","X--------X---^-","XXX------X---^-","-XX----------^-","-XX----------^-","-XX------#-#-#-","#XX--#---------","-XX------------","-XX------XXXXXX","-XX------XXXXXX"],"2_2_0":["---------------","---------------","X--------------","XXX------------","-XX------------","-XX-----------&","-XX------------","#XX--#---------","-XX-----#------","-XX------------","-XX------------"],"3_9_0":["XX---------XXXX","XX---------XXXX","XX---XX----XXXX","XX-#-XXXX--XXXX","XX-----XX----*-","XXXX---XX------","XXXX---XX-----#","XXXX--#XX--XXXX","XXXX---XX--XXXX","-------XX--XXXX","&------XX--XXXX"],"6_0_0":["--------------&","-------------^^","-------------^^","---X---------^^","---X---------^^","XXXX---------^^","#*-X---------^^","---X--#------^^","---------#---^^","-------------^^","--------------*"],"5_6_0":["XX----------^^^","XX-------------","XX---XX-------X","XX-#-XXXX-----X","XX-----XX-----X","XXXX---XX-----*","XXXX---XX-----X","XXXX--#XX-----X","XXXX---XX-----X","-------XX------","&------XX---^^^"],"3_6_0":["XX------------X","XX------------X","XX---XX-------X","XX-#-XXXX-----X","XX-----XX-----X","XXXX---XX--#--X","XXXX---XX-----X","XXXX--#XX-----X","XXXX---XX-----X","-------XX------","&------XX--*---"],"2_7_0":["XX----------XX-","XX----------XX-","XX---XX-----XX-","XX-#-XXXX---XX#","XX-----XX---XX-","XXXX---XX---XX-","XXXX---XX---XX-","XXXX--#XX---XXX","XXXX---XX-----X","-------XX------","&------XX------"],"15_3_0":["--^^^^^^^^^^^^^","----*#X--X--X--","----XXX--X--X--","----XX---X--X--","----X----X--X--","----X----X-#X-#","----X----X--X--","----X----X--X--","----X----X--X--","---------------","--^^^^^^^^^^^^^"],"4_11_0":["------XXXXXXXXX","------XXXXXXXXX","X-----XXXXXXXXX","XXX---XXXXXXXXX","-XX-----*---#XX","-XX----------XX","-XX------#----*","#XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX"],"9_4_0":["-------^^^^^^^^","---------------","X-------------X","XXX------XXX--X","-XX------X*X--X","-XX------X&---*","-XX------X*X--X","#XX------XXX--X","-XX-----------X","-XX------------","-XX----^^^^^^^^"],"11_0_0":["------^^^^^^^^^","---------------","---------------","-----------X---","---#-------X-&-","-----------XXXX","-----------X-*#","-*---------X---","---------------","---------------","------^^^^^^^^^"],"5_9_0":["-*XXXXXXXXXXXXX","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","-------------^^","-#------------&","----#---#----^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXXXXXX"],"5_12_0":["-*XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","-------------*-","-#-----&-------","----#-----#---#","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"8_5_0":["------^^^^^^^^^","--------X--X--X","X-------X--X--X","XXX-----X--X--X","-XX-----X--X--X","-XX-----X--X--X","-XX-----X--X--X","#XX-----X--X--X","-XX-----X--X--X","-XX------------","-XX---^^^^^^^^^"],"1_11_0":["XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","XXXXXXXXXX*XXX-","---------------","&----&----#----"],"2_0_0":["---------------","---------------","---------------","---X-----------","---X-----------","XXXX----------&","#*-X-----------","---X--#--------","---------------","---------------","---------------"],"14_3_0":["--^^^^^^^^^^^^^","------*#X--X--X","------XXX--X--X","------XX---X--X","------X----X--X","------X----X-#X","------X----X--X","------X----X--X","------X----X--X","---------------","--^^^^^^^^^^^^^"],"7_8_0":["-*XXXXXXXXX---&","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","-------*-----^^","-#-----------^^","----#---#----^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX---*"],"3_8_0":["XX---------XXXX","XX---------XX--","XX---XX----XX--","XX-#-XXXX--XX--","XX-----XX------","XXXX---XX------","XXXX---XX------","XXXX--#XX--XX--","XXXX---XX--XX--","-------XX--XX*#","&------XX--XXXX"],"1_8_0":["XX----------XXX","XX----------XXX","XX---XX-----XXX","XX-#-XXXX---XXX","XX-----XX---XXX","XXXX---XX---XXX","XXXX---XX---XXX","XXXX--#XX---XXX","XXXX---XX------","-------XX------","&------XX---XXX"],"7_6_0":["XX---------^^^^","XX-------------","XX---XX------X-","XX-#-XXXX----XX","XX-----XX----XX","XXXX---XX----*#","XXXX---XX----XX","XXXX--#XX----XX","XXXX---XX----X-","-------XX------","&------XX--^^^^"],"1_12_0":["-----XXXXXXXXXX","-----XXXXXXXXXX","X----XXXXXXXXXX","XXX--XXXXXXXXXX","-XX----&--&--#X","-XX-----------X","-XX------------","#XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX"],"10_1_0":["------^^^^^^^^^","------------X--","------------X--","---X--------X--","---X--------X--","XXXX--------X-#","#*-X--------X--","---X--------X--","------------X--","---------------","------^^^^^^^^^"],"0_11_0":["XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","---------------","&----&----&----"],"16_3_0":["^^^^^^^^^^^^^^^","---------------","-------------X-","--------XXX--XX","--------X*X--XX","--------X&---*#","--------X*X--XX","X-------XXX--XX","XX-----------X-","#X-------------","^^^^^^^^^^^^^^^"],"9_2_0":["------^^^^^^^^^","--------------*","X--------------","XXX----------^^","-XX--------^^^^","-XX-----------&","-XX--------^^^^","#XX----------^^","-XX------------","-XX-----------*","-XX---^^^^^^^^^"],"3_13_0":["-*XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","-----#XXXX-----","-#----XXXX--&--","-------*-------","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"4_12_0":["-----XXXXXXXXXX","-----XXXXXXXXXX","X----XXXXXXXXXX","XXX--XXXXXXXXXX","-XX----*---#XXX","-XX---------XXX","-XX-----#----*-","#XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX"],"1_0_0":["---------------","---------------","---------------","---X-----------","---X-----------","XXXX----------&","#*-X-----------","---X-----------","---------------","---------------","---------------"],"7_4_0":["---------^^^^^^","-----------X--X","X----------X--X","XXX--------X--X","-XX--------X--X","-XX--------X--X","-XX--------X--X","#XX--#-----X--X","-XX--------X--X","-XX------------","-XX------^^^^^^"],"9_1_0":["------^^^^^^^^^","---------------","---------------","---X----------X","---X----------X","XXXX----------X","#*-X----------X","---X----------X","---------------","---------------","------^^^^^^^^^"],"4_9_0":["-------XXXXXXXX","-------XXXXXXXX","X------XXXXXXXX","XXX----XXXXXXXX","-XX------*---*-","-XX------------","-XX-------#---#","#XX----XXXXXXXX","-XX----XXXXXXXX","-XX----XXXXXXXX","-XX----XXXXXXXX"],"1_14_0":["--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","----#XXXXXXXX--","-----XXXXXXX---","------*--------","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"2_10_0":["-------XXXXXXXX","-------XXXXXXXX","X------XXXXXXXX","XXX----XXXXXXXX","-XX---------#XX","-XX------&---XX","-XX-----------*","#XX----XXXXXXXX","-XX----XXXXXXXX","-XX----XXXXXXXX","-XX----XXXXXXXX"],"8_7_0":["-*XXXXXXXXXXXXX","--XXXXXX-----*-","--XXXXXX-------","--XXXXXX----^^^","----------^^^^^","-#-----------&-","----#-----^^^^^","--XXXXXX----^^^","--XXXXXX-------","--XXXXXX-----*-","--XXXXXXXXXXXXX"],"11_2_0":["------^^^^^^^^^","---------X--X--","---------X--X--","---X-----X--X--","---X-----X--X--","XXXX-----X-#X-#","#*-X-----X--X--","---X-----X--X--","---------X--X--","---------------","------^^^^^^^^^"],"6_7_0":["-*XXXXXXXXXXXXX","--XX---&---XXXX","--XX--^^^--XXXX","--XX--^^^--XXXX","------^^^----*-","-#----^^^------","------^^^-----#","--XX--^^^--XXXX","--XX--^^^--XXXX","--XX---&---XXXX","--XXXXXXXXXXXXX"],"2_13_0":["-----XXXXXXXXXX","-----XXXXXXXXXX","X----XXXXXXXXXX","XXX--XXXXXXXXXX","-XX----#XXXXX--","-XX-----XXXXX--","-XX------*-----","#XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX"],"6_1_0":["------------^^^","--------------X","--------------X","---X-----------","---X-----------","XXXX-----------","#*-X-----------","---X--#--------","---------#-----","---------------","------------^^^"],"3_11_0":["------XXXXXXXXX","------XXXXXXXXX","X-----XXXXXXXXX","XXX---XXXXXXXXX","-XX--------#XXX","-XX---------XXX","-XX-----#----*-","#XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX"],"10_2_0":["-----^^^^^^^^^^","--------------*","X--------------","XXX----------^^","-XX--------^^^^","-XX-----------&","-XX--------^^^^","#XX----------^^","-XX------------","-XX-----------*","-XX--^^^^^^^^^^"],"17_2_0":["^^^^^^^^^^^^^^^","---------------","---------------","-----XXX--X----","-----X*X--X-&-&","-----X&---XXXXX","-----X*X--X-*#*","X----XXX--X----","XX-------------","#X-------------","^^^^^^^^^^^^^^^"],"16_4_0":["^^^^^^^^^^^^^^^","-----X--X--X--X","-----X--X--X--X","-----X--X--X--X","-----X--X--X--X","-----X-#X-#X-#X","-----X--X--X--X","X----X--X--X--X","XX---X--X--X--X","#X-------------","^^^^^^^^^^^^^^^"],"8_8_0":["-*XXXXXXXXXXXXX","--XXXXXXX-----*","--XXXXXXX------","--XXXXXXX----^^","----*------^^^^","-#------------&","-----#-----^^^^","--XXXXXXX----^^","--XXXXXXX------","--XXXXXXX-----*","--XXXXXXXXXXXXX"],"10_4_0":["------^^^^^^^^^","---------------","X-------------X","XXX------XXX--X","-XX------X*X--X","-XX------X&---*","-XX------X*X--X","#XX------XXX--X","-XX-----------X","-XX------------","-XX---^^^^^^^^^"],"0_14_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","-------&-------","---------------","----------*----","&-XXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"2_16_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","-------#XXXXXXX","--------XXXXXXX","----#----*-----","&-XXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"15_4_0":["^^^^^^^^^^^^^^^","-----X--X--X--X","-----X--X--X--X","-----X--X--X--X","-----X--X--X--X","-----X-#X-#X--X","-----X--X--X--X","X----X--X--X--X","XX---X--X--X--X","#X-------------","^^^^^^^^^^^^^^^"],"8_6_0":["-*XXXXXXXXXXXXX","--XXXXX-----*--","--XXXXX--------","--XXXXX----^^^-","---------^^^^^^","-#----------&--","----#----^^^^^^","--XXXXX----^^^-","--XXXXX--------","--XXXXX-----*--","--XXXXXXXXXXXXX"],"7_5_0":["------X--^^^^^^","------X----X--X","X-----X----X--X","XXX---X----X--X","-XX--------X--X","-XX--------X-#X","-XX--------X--X","#XX---X----X--X","-XX---X----X--X","-XX---X--------","-XX---X--^^^^^^"],"6_10_0":["-*XXXXXXXXXXXXX","--XXXXXXXXX----","--XXXXXXXXX--X-","--XXXXXXXXX--X-","-------*-----X-","-#-----------X-","----#---#----X-","--XXXXXXXXX--XX","--XXXXXXXXX--XX","--XXXXXXXXX-&*#","--XXXXXXXXXXXXX"],"6_8_0":["-*XXXXXXXX--^^^","--XXXXXXXX-----","--XXXXXXXX----X","--XXXXXXXX----X","--------------X","-#-----&------*","----#---------X","--XXXXXXXX----X","--XXXXXXXX----X","--XXXXXXXX-----","--XXXXXXXX--^^^"],"12_2_0":["------^^^^^^^^^","---------------","-------------X-","--------XXX--XX","---#----X*X--XX","--------X&---*#","--------X*X--XX","-*------XXX--XX","-------------X-","---------------","------^^^^^^^^^"],"4_13_0":["-*XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","----------#XXXX","-#-----&---XXXX","----#-------*--","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"17_3_0":["^^^^^^^^^^^^^^^","---------------","--------------X","-----X-----X--X","-----X-&-&-X--X","-----XXXXXXX--*","-----X-*#*-X--X","X----X-----X--X","XX------------X","#X-------------","^^^^^^^^^^^^^^^"],"3_14_0":["-*XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","-----#XXXXXXX--","-#----XXXXXX---","-------*-------","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"11_4_0":["------^^^^^^^^^","---------------","X--------------","XXX-----X-----X","-XX-----X-&-&-X","-XX-----XXXXXXX","-XX-----X-*#*-X","#XX-----X-----X","-XX------------","-XX------------","-XX---^^^^^^^^^"],"10_6_0":["XXX--^^^^^^^^^^","XXX-----X--X--X","XXX-----X--X--X","XXX-----X--X--X","XXX-----X--X--X","XXX-----X-#X-#X","XXX-----X--X--X","X-------X--X--X","--------X--X--X","-XX------------","XXX--^^^^^^^^^^"],"0_13_0":["-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXX-&-X","---------------","---------------","-------#-------","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX"],"11_5_0":["-----^^^^^^^^^^","--------X--X--X","X-------X--X--X","XXX-----X--X--X","-XX-----X--X--X","-XX-----X-#X-#X","-XX-----X--X--X","#XX-----X--X--X","-XX-----X--X--X","-XX------------","-XX--^^^^^^^^^^"],"8_9_0":["XXXXXXXX--^^^^^","XXXXXXXX-------","XXXXXXXX----X--","XXXXXXXX----XX-","----*-------XXX","------------*#X","-----#------XXX","&-XXXXXX----XX-","XXXXXXXX----X--","XXXXXXXX-------","XXXXXXXX--^^^^^"],"9_7_0":["XXXXXXXXXXXXXXX","----*-----XXXXX","----------XXXXX","---^^^----XXXXX","^^^^^^^^----*--","----&----------","^^^^^^^^-----#-","---^^^----XXXXX","----------XXXXX","----*-----XXXXX","XXXXXXXXXXXXXXX"],"2_14_0":["--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","-------#XXXXXXX","--------XXXXXX-","----#----*-----","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"9_5_0":["------^^^^^^^^^","--------X--X--X","X-------X--X--X","XXX-----X--X--X","-XX-----X--X--X","-XX-----X-#X--X","-XX-----X--X--X","#XX-----X--X--X","-XX-----X--X--X","-XX------------","-XX---^^^^^^^^^"],"12_5_0":["-----^^^^^^^^^^","---------------","X-----------X--","XXX----XXX--XX-","-XX----X*X--XXX","-XX----X&---*#X","-XX----X*X--XXX","#XX----XXX--XX-","-XX---------X--","-XX------------","-XX--^^^^^^^^^^"],"10_5_0":["------^^^^^^^^^","--------X--X--X","X-------X--X--X","XXX-----X--X--X","-XX-----X--X--X","-XX-----X-#X-#X","-XX-----X--X--X","#XX-----X--X--X","-XX-----X--X--X","-XX------------","-XX---^^^^^^^^^"],"1_15_0":["--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","----#XXXXXXXXXX","-----XXXXXXXXXX","------*--------","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"12_4_0":["-----^^^^^^^^^^","---------------","X--------------","XXX-----X-----X","-XX-----X-&-&-X","-XX-----XXXXXXX","-XX-----X-*#*-X","#XX-----X-----X","-XX------------","-XX------------","-XX--^^^^^^^^^^"],"3_16_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","----#XXXX--#XXX","-----XXXX---XXX","------*------*-","&-XXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"9_6_0":["XXXXXXXXXXXXXXX","-----*-----XXXX","-----------XXXX","----^^^----XXXX","^^^^^^^^^------","-----&---------","^^^^^^^^^----#-","----^^^----XXXX","-----------XXXX","-----*-----XXXX","XXXXXXXXXXXXXXX"],"2_15_0":["-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-------#XXXXXXX","--------XXXXXX-","----#----*-----","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX"],"4_16_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","---*---#XXXXXXX","--------XXXXXX-","#---#----*-----","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"7_9_0":["XXXXXXXX--^^^^^","XXXXXXXX-------","XXXXXXXX----X--","XXXXXXXX----XX-","------------XXX","------------*#X","----#-------XXX","&-XXXXXX----XX-","XXXXXXXX----X--","XXXXXXXX-------","XXXXXXXX--^^^^^"],"5_14_0":["-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","---*---*---#XXX","------------XXX","----#---#----*-","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX"],"5_13_0":["-*XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","----*------#XXX","-#------&---XXX","-----#-------*-","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"4_14_0":["-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","---*---#XXXX--#","--------XXXX---","----#----*-----","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX"],"10_7_0":["^^^^^^^^^--XXXX","-----------XXXX","-X---------XXXX","XX--XXX----XXXX","XX--X*X----XXX-","#*--X&-----XX--","XX--X*X--------","XX--XXX----XXXX","-X---------XXXX","-----------XXXX","^^^^^^^^^--XXXX"],"4_15_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","-------*---#XXX","------------XXX","----#---#----*-","&-XXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"5_11_0":["-*XXXXXXXXXXXXX","--XXXXXXXXX*&XX","--XXXXXXXXX--XX","--XXXXXXXXX--XX","-------*-------","-#-------------","----#---#------","--XXXXXXXXX--XX","--XXXXXXXXX--XX","--XXXXXXXXX--XX","--XXXXXXXXXXXXX"],"16_1_0":["^^^^^^^^^^^^^^^","---------------","---------------","----------X----","----------X-&-&","----------XXXXX","----------X-*#*","X---------X----","XX-------------","#X-------------","^^^^^^^^^^^^^^^"],"11_6_0":["XXX--^^^^^^^^^^","XXX------------","XXX---------X--","XXX----XXX--XX-","XXX----X*X--XXX","XXX----X&---*#X","XXX----X*X--XXX","XXX----XXX--XX-","XXX---------X--","---------------","XXX--^^^^^^^^^^"],"18_2_0":["^^^^^^^^^^^^^^^","---------------","---------------","-X-----X--X----","-X-&-&-X--X-&-&","-XXXXXXX--XXXXX","-X-*#*-X--X-*#*","-X-----X--X----","---------------","---------------","^^^^^^^^^^^^^^^"],"12_6_0":["^^^^^^^^^--XXXX","-----------XXXX","-X---------XXXX","XX--XXX----XXXX","XX--X*X------*-","#*--X&---------","XX--X*X-------#","XX--XXX----XXXX","-X---------XXXX","-----------XXXX","^^^^^^^^^--XXXX"],"6_9_0":["-*XXXXXXXXXXXXX","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","-------*-----^^","-#------------&","----#---#----^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXXXXXX"],"3_15_0":["-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","---*---#XXXXXXX","--------XXXXXX-","----#----*-----","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX"],"7_10_0":["XXXXXXXXXXXXXXX","------XXXXXXXXX","------XXXXXXXXX","------XXXXXXXXX","^^^^----*------","------------#--","^^^^-----#----*","------XXXXXXXXX","------XXXXXXXXX","------XXXXXXXXX","XXXXXXXXXXXXXXX"],"6_15_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","---*---*---#XXX","------------XXX","#---#---#----*-","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"5_15_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","---*------#XXXX","-----------XXXX","#---#--#----*--","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"18_3_0":["^^^^^^^^^^^^^^^","---------------","-X-------------","XX---XXX--X----","XX---X*X--X-&-&","#*---X&---XXXXX","XX---X*X--X-*#*","XX---XXX--X----","-X-------------","---------------","^^^^^^^^^^^^^^^"],"13_4_0":["---^^^^^^^^^^^^","-----X--X--X--X","-----X--X--X--X","X----X--X--X--X","X----X--X--X--X","X----X-#X-#X-#X","X----X--X--X--X","X----X--X--X--X","-----X--X--X--X","---------------","---^^^^^^^^^^^^"],"6_14_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","---*---------*-","---------------","#---#--#--#---#","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"6_11_0":["-*XXXXXXXXXXXXX","--XXXXXXXXXX*&X","--XXXXXXXXXX--X","--XXXXXXXXXX--X","----*---*------","-#-------------","-----#---#-----","--XXXXXXXXXX--X","--XXXXXXXXXX--X","--XXXXXXXXXX--X","--XXXXXXXXXXXXX"],"14_4_0":["^^^^^^^^^^^^^^^","-X---------X--X","-X---------X--X","-X--X--X---X--X","-X--X--X---X--X","-X--XXXX---X--X","-X--X--X---X--X","-X--X--X---X--X","-X---------X--X","-#-------------","^^^^^^^^^^^^^^^"],"6_12_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXX----","XXXXXXXXXXX--X-","XXXXXXXXXXX--X-","---*---*-----X-","-------------X-","#---#---#----X-","XXXXXXXXXXX--XX","XXXXXXXXXXX--XX","XXXXXXXXXXX-&*#","XXXXXXXXXXXXXXX"],"1_17_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","X---#XXXXXXXXXX","-----XXXXXXXXXX","------*--------","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],end:["","","","","","","","","","",""]};class x5{playerIsOnLastLevel=!1;keys=[];columnsPerLevel=[];lossesInARow=0;playerWonLastRound=!1;levelsPlayed=0;optimizeDifficulty;type;constructor(Z){if(Z===void 0)if(new URLSearchParams(window.location.search).has("default"))this.type=p1;else this.type=w2([A1,K1,r8,T1,p1]);else this.type=Z;if(console.log(`Director: ${this.type}`),M.director=this.type,this.type==K1)this.optimizeDifficulty=!0;else this.optimizeDifficulty=!1;for(let Q in V.nodes)V.nodes[Q].updateReward(this.optimizeDifficulty)}update(Z,Q){if(++this.levelsPlayed,console.log(this.levelsPlayed,this.type),this.levelsPlayed%p9==0&&this.type==T1){console.log("switch!"),this.optimizeDifficulty=!this.optimizeDifficulty;for(let W in V.nodes)V.nodes[W].updateReward(this.optimizeDifficulty)}let J=this.keys.length,$=[];if(Z){this.lossesInARow=0;for(let W=0;W<J;++W)$.push(1)}else{let W=Q;for(let x=0;x<J;++x)if(W>this.columnsPerLevel[x])$[x]=1,W-=this.columnsPerLevel[x];else{$[x]=W/this.columnsPerLevel[x];break}}let w=$.length;for(let W=0;W<w;++W){let x=$[W],h=this.keys[W],j=V.getNode(h);if(x===1&&h!=="end"){if(!V.hasEdge(l0,h))console.log(`'adding edge: ${l0} -> ${h}`),V.addEdge(new q(l0,h,[[h,1],[U,0]],[]))}++j.visitedCount,j.sumPercentCompleted+=x,j.updateReward(this.optimizeDifficulty);let R=j.sumPercentCompleted/j.visitedCount,H=1-R;V.mapEdges((f)=>{if(f.tgt===h)f.probability[0][1]=R,f.probability[1][1]=H})}if(!Z){++this.lossesInARow;for(let W=0;W<this.lossesInARow;++W){let x=V.getNode(l0).neighbors,h=x.length;if(h===1)break;let j="",R=1e4,H=0;for(let f=0;f<h;++f){let K=x[f];if(K==="0_0_0")continue;let l=V.getNode(K),_=l.depth;if(_<R||_===R&&H<l.difficulty)j=K,R=_,H=l.difficulty}console.log("removing edge:",j,R,H),V.removeEdge(l0,j)}}this.playerWonLastRound=Z}get(Z){let Q;if(this.type==A1)Q=q5(V);else Q=U5(V,0.95,!0,!0,20);if(this.columnsPerLevel=[],this.playerWonLastRound){let W=w2(Q[l0]);if(W==="end")this.keys=[l0];else this.keys=[W]}else this.keys=[l0];for(let W=0;W<Z;++W){let x=w2(Q[this.keys[W]]);if(this.keys.push(x),x===b6)break}this.keys.splice(0,1),this.playerIsOnLastLevel=this.keys.includes(b6);let J,$=new Array(T2).fill(""),w=this.keys.length;for(let W=0;W<w;++W){let x=KQ[this.keys[W]].slice();if(W>0){let j=V.getEdge(this.keys[W-1],this.keys[W]).link,R=j.length;if(R>0)for(let H=0;H<R;++H){let f=j[H];for(J=0;J<T2;++J)x[J]=f[J]+x[J]}}this.columnsPerLevel.push(x[0].length);for(J=0;J<T2;++J)$[J]+=x[J]}return console.log($.join(`
`)),$}}class B5 extends g2{playerBeatGameIndex=0;playerWonIndex=0;playerLostIndex=0;selfIndex=0;mainMenuIndex=0;director;start=0;constructor(){super();this.director=new x5(void 0),this.setBB("game over",0),this.setBB("restart",!1)}onEnter(Z){let W=1000,x=0,h=1000,j=0,R=new B2.GridCollisions,H=0,f=this.director.get(2),l=f[0].length+4;for(let _=0;_<T2;++_){let P=[...`--${f[_]}--`];if(_==0)P[0]="@";else if(_==T2-1)P[l-1]="O";for(let u=0;u<l;++u){let r=P[u],g=this.addEntity(),t=8+u,h0=7+_;if(W=Math.min(W,t),x=Math.max(x,t),h=Math.min(h,h0),j=Math.max(j,h0),r=="-")continue;this.addComponent(g,new D.Render(r));let P0=new s.Position2d(t,h0);if(this.addComponent(g,P0),R.set(P0,g),r=="O")this.addComponent(g,new D.Portal),this.setBB("portal id",g);else if(r=="@")this.addComponent(g,new D.Player(M0,0)),this.addComponent(g,new D.Movable),this.setBB("player id",g);else if(r=="*")this.addComponent(g,new D.Switch),H+=1;else if(r=="#")this.addComponent(g,new D.Movable),this.addComponent(g,new D.Enemy("Enemy",new s.Position2d(t,h0))),this.addComponent(g,new D.Territory(P0));else if(r=="^")this.addComponent(g,new D.Enemy("Spike",new s.Position2d(t,h0)));else if(r=="/"||r=="\\"||r=="X")this.addComponent(g,new D0);else if(r=="&")this.addComponent(g,new D.Food)}}for(let _=3;_<Z.height/20-1;++_)for(let P=1;P<Z.width/20-1;++P)if(P<W||P>x||_<h||_>j){let u=this.addEntity();this.addComponent(u,new D.Render("X"));let r=new s.Position2d(P,_);if(this.addComponent(u,r),P==W-1||_==h-1||P==x+1||_==j+1)R.set(r,u),this.addComponent(u,new D.Collider)}this.setBB("switch count",H),this.setBB("offset x",8),this.setBB("offset y",7),this.setBB("x mod",20),this.setBB("y mod",20),this.setBB("grid collisions",R),this.setBB("time step",0),this.addSystem(0,new $2.PlayerMovement),this.addSystem(10,new $2.PlayerCollision),this.addSystem(20,new $2.EnemyAI),this.addSystem(90,new $2.PortalSystem),this.addSystem(95,new $2.RenderEnemyTerritory),this.addSystem(100,new $2.RenderSystem),this.addSystem(110,new $2.RenderGameInfo),this.addSystem(900,new $2.UpdatePlayerTurn),M.diedFrom="",M.playerWon=!1,M.levels=this.director.keys,this.start=Date.now()}onExit(Z){let Q=this.getBB("game over"),J=this.getBB("player id"),$=this.getComponents(J).get(f0).furthestColumn;this.director.update(Q===1,$),++M.order,M.playerPathX.length=0,M.playerPathY.length=0,this.clear()}customUpdate(Z){let Q=this.getBB("game over");if(Q===-1||Q===1){let $=(Date.now()-this.start)/1000;if(M.time=$,K0.submitAttempt(),Q===1)if(this.director.keys.includes("end"))return this.playerBeatGameIndex;else return this.playerWonIndex;return this.playerLostIndex}else if(Z.keyDown.has(9))return this.selfIndex;else if(Z.keyDown.has(8))return this.mainMenuIndex;return-1}}class h5 extends T0{gameSceneIndex=0;surveySceneIndex=0;timer=0;constructor(){super()}onEnter(Z){this.timer=0}onExit(Z){}update(Z){if(performance.now()-i8>m8)return this.surveySceneIndex;if(this.timer+=Z.delta,this.timer>2||Z.keyDown.has(12))return this.gameSceneIndex;else return Z.setFont(40),Z.drawText(360,240,"You lost! :/","red"),-1}}class F5 extends T0{gameSceneIndex=0;surveySceneIndex=0;timer=0;constructor(){super()}onEnter(Z){this.timer=0}onExit(Z){}update(Z){if(performance.now()-i8>m8)return this.surveySceneIndex;if(this.timer+=Z.delta,this.timer>2||Z.keyDown.has(12))return B2.Cookie.set(Z.getBB("level"),"b"),this.gameSceneIndex;else return Z.setFont(40),Z.drawText(420,240,"You won!","green"),-1}}class j5 extends T0{sceneIndex=0;gameIndex=0;tutorialIndex=0;surveyIndex=0;timer=0;constructor(){super()}onEnter(Z){}onExit(Z){}update(Z){if(Z.keyDown.has(12)){if(Z.keyDown.clear(),x2.get("completed tutorial"))return this.gameIndex;return this.tutorialIndex}else return Z.setFont(40),Z.drawText(360,100,"DungeonGrams"),Z.setFont(20),Z.drawText(385,150,"Press Enter to Start"),Z.drawText(250,200,"& gives you stamina","yellow"),Z.drawText(250,222,"Collect all * to open the portal.","yellow"),Z.drawText(250,244,"Step through the portal O to win!","yellow"),Z.drawText(250,266,"But make sure to avoid the enemies # and traps ^","yellow"),Z.drawText(250,350,"WASD or Arrows to move","green"),Z.drawText(250,375,"Space to do nothing for a turn","green"),Z.drawText(250,400,"R to restart","green"),Z.drawText(250,425,"Q to quit","green"),-1}}class R5 extends g2{gameSceneIndex=0;constructor(){super();this.setBB("x mod",20),this.setBB("y mod",20),this.setBB("turn",0),this.setBB("tutorial over",!1),this.setBB("time step",0);let Z=this.addEntity();this.setBB("player id",Z),this.addComponent(Z,new s.Position2d(25,10)),this.addComponent(Z,new K2),this.addComponent(Z,new f0(M0,0)),this.addComponent(Z,new N0("@"));let Q=this.addEntity();this.addComponent(Q,new s.Position2d(5,20)),this.addComponent(Q,new n0("Press 'A' to move left.")),this.addSystem(0,new j8(Z,Q)),this.addSystem(90,new R8),this.addSystem(100,new C1)}customUpdate(Z){if(this.getBB("tutorial over"))return console.log(this.gameSceneIndex,"done"),this.gameSceneIndex;return-1}onEnter(Z){}onExit(Z){}}class O5 extends T0{constructor(){super()}onEnter(Z){document.getElementById("game").style.display="none",document.getElementById("demographic").style.display="block",Z.shutoff()}onExit(Z){}update(Z){return-1}}class G5 extends T0{surveySceneIndex=0;timer=0;constructor(){super()}onEnter(Z){this.timer=0,K0.submitBeatGame()}onExit(Z){}update(Z){if(this.timer+=Z.delta,this.timer>2||Z.keyDown.has(12))return B2.Cookie.set(Z.getBB("level"),"b"),this.surveySceneIndex;return Z.setFont(40),Z.drawText(310,240,"You beat the game!","#19f00a"),-1}}var L2={Game:B5,PlayerLost:h5,PlayerWon:F5,StartMenu:j5,Tutorial:R5,Survey:O5,PlayerBeatGame:G5};var y2=["I liked the look and feel of the game.","The game was not too easy and not too hard to play.","It was easy to know how to perform actions in the game.","The goals of the game were clear to me.","The game gave clear feedback on my progress towards the goals.","I felt free to play the game in my own way.","I wanted to explore how the game evolved.","I was fully focused on the game.","I felt I was good at playing this game.","Playing the game was meaningful to me.","I had a good time playing this game."];function I5(Z){let Q=Z.length-1;for(;Q>0;--Q){let J=Math.floor(Math.random()*(Q+1)),$=Z[Q];Z[Q]=Z[J],Z[J]=$}}K0.init();if(location.hostname==="localhost"||location.hostname==="127.0.0.1"||location.hostname==="")M.playerID="-1";else{if(new URLSearchParams(window.location.search).has("id"))M.playerID=crypto.randomUUID();else M.playerID="-1";console.log(M.playerID)}console.log(`Player ID: ${M.playerID}`);var d0=new u8;d0.displayFPS=!1;var h6=new L2.StartMenu,W1=new L2.Game,S5=new L2.PlayerLost,N5=new L2.PlayerWon,AQ=new L2.Tutorial,U3=new L2.Survey,pQ=new L2.PlayerBeatGame,q3=d0.addScene(h6),I8=d0.addScene(W1),x3=d0.addScene(S5),B3=d0.addScene(N5),h3=d0.addScene(AQ),F6=d0.addScene(U3),F3=d0.addScene(pQ);h6.tutorialIndex=h3;h6.gameIndex=I8;h6.surveyIndex=F6;W1.playerBeatGameIndex=F3;W1.playerLostIndex=x3;W1.playerWonIndex=B3;W1.selfIndex=I8;W1.mainMenuIndex=q3;S5.gameSceneIndex=I8;S5.surveySceneIndex=F6;N5.gameSceneIndex=I8;N5.surveySceneIndex=F6;AQ.gameSceneIndex=I8;pQ.surveySceneIndex=F6;d0.start();I5(y2);I5(y2);var L5=document.getElementById("questionnaire"),u2=0;for(;u2<y2.length;++u2){let Z=y2[u2],Q=Z.split(" ").join("_"),J=`<fieldset id="${Q}" style="margin-left:15%; margin-right:15%">
  <label for="${Q}" required><b>${Z}</b></label>
    <br/>
    <br/>
    <table>
      <tr>
        <td></td>
        <td>-3</td>
        <td>-2</td>
        <td>-1</td>
        <td>&#20;0</td>
        <td>&#20;1</td>
        <td>&#20;2</td>
        <td>&#20;3</td>
        <td></td>
      </tr>
      <tr>
        <td>Strongly disagree</td>
        <td><input type="radio" name="${Q}" value="-3"/></td>
        <td><input type="radio" name="${Q}" value="-2"/></td>
        <td><input type="radio" name="${Q}" value="-1"/></td>
        <td><input type="radio" name="${Q}" value="0"/></td>
        <td><input type="radio" name="${Q}" value="1"/></td>
        <td><input type="radio" name="${Q}" value="2"/></td>
        <td><input type="radio" name="${Q}" value="3"/></td>
        <td>Strongly agree</td>
      </tr>
    </table>
  </fieldset>
  <br/>`;L5.innerHTML+=J}var y5=document.createElement("button");y5.type="submit";y5.innerText="Submit";L5.appendChild(y5);L5.onsubmit=(Z)=>{Z.preventDefault();let Q={};for(u2=0;u2<y2.length;++u2){let J=y2[u2],$=J.split(" ").join("_"),w=document.getElementsByName($),W=!1;for(let x=0;x<7;++x){let h=w[x];if(h.checked){Q[J]=Number(h.value),W=!0;break}}document.getElementById($).style.borderColor=W?"white":"red"}if(Object.keys(Q).length==y2.length)K0.submitSurvey(Q),document.getElementById("survey").style.display="none",document.getElementById("complete").style.display="block";else document.getElementById("errorText").innerText="Please fill in the whole questionnaire. Red boxes indicate missed answers."};var V1="demo-games",j3=document.getElementById("demo-submit"),TQ=["demo-age","demo-time"];j3.onclick=()=>{let Z={};for(let $=0;$<TQ.length;++$){let w=TQ[$],W=document.getElementsByName(w);for(let x=0;x<W.length;++x)if(W[x].checked){Z[w]=W[x].value;break}if(w in Z)document.getElementById(w).style.borderColor="white";else document.getElementById(w).style.borderColor="red"}let Q=document.getElementsByName(V1),J=[];for(let $=0;$<Q.length;++$){let w=Q[$];if(w.checked)J.push(w.value)}if(J.length>0)Z[V1]=J,document.getElementById(V1).style.borderColor="white";else document.getElementById(V1).style.borderColor="red",document.getElementById("demoErrorText").innerText="Please fill in the whole questionnaire. Red boxes indicate missed answers.";if(Object.keys(Z).length===3)M.demographicSurveyData=Z,document.getElementById("demographic").style.display="none",document.getElementById("difficulty").style.display="block"};document.getElementById("demo-none").onclick=()=>{let Z=document.getElementsByName(V1);for(let Q=0;Q<Z.length;++Q)Z[Q].checked=Z[Q].value==="None of the above"};var k5=document.getElementsByName(V1);for(let Z=0;Z<k5.length;++Z)if(k5[Z].value!=="None of the above")k5[Z].onclick=()=>{document.getElementById("demo-none").checked=!1};document.getElementById("diff-submit").onclick=()=>{let Z=document.getElementsByName("diff-answer"),Q=!1;for(let J=0;J<Z.length;++J)if(Z[J].checked){Q=!0,M.difficultyScore=Number(Z[J].value),document.getElementById("difficulty").style.display="none",document.getElementById("survey").style.display="block";break}if(!Q)document.getElementById("difficulty-q").style.borderColor="red",document.getElementById("difficultyErrorText").innerText="Please fill in the whole questionnaire. Red boxes indicate missed answers."};document.getElementById("done").onclick=()=>{d0.shutoff(),document.getElementById("game").style.display="none",document.getElementById("demographic").style.display="block"};
