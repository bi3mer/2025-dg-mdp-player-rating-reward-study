var BJ=Object.defineProperty;var r6=(Z,Q)=>{for(var J in Q)BJ(Z,J,{get:Q[J],enumerable:!0,configurable:!0,set:($)=>Q[J]=()=>$})};function i6(Z){switch(Z){case"Down":case"ArrowDown":return 2;case"Up":case"ArrowUp":return 3;case"Right":case"ArrowRight":return 1;case"Left":case"ArrowLeft":return 0;case" ":case"Space":return 10;case"Escape":return 11;case"a":case"A":return 5;case"s":case"S":return 6;case"d":case"D":return 7;case"w":case"W":return 4;case"r":case"R":return 9;case"q":case"Q":return 8;case"Enter":return 12;default:return console.warn(`Unhandled key: ${Z}.`),13}}class u2{keyDown=new Set;keyPress=new Set;width;height;delta;clearBackground=!0;displayFPS=!0;scenes=new Array;sceneIndex=0;ctx;blackBoard=new Map;fontSize=20;font="Courier New";running=!0;constructor(){window.addEventListener("keydown",(Q)=>{let J=i6(Q.key);if(J==2||J==3||J==0||J==1)Q.preventDefault();if(!this.keyDown.has(J))this.keyDown.add(J);this.keyPress.add(J)}),window.addEventListener("keyup",(Q)=>{let J=i6(Q.key);this.keyDown.delete(J)});let Z=document.getElementById("canvas");this.ctx=Z.getContext("2d"),this.setFont(),this.width=Z.width,this.height=Z.height,this.delta=0}isKeyDown(Z){return this.keyDown.has(Z)}setBB(Z,Q){this.blackBoard.set(Z,Q)}getBB(Z){return this.blackBoard.get(Z)}addScene(Z){return this.scenes.push(Z),this.scenes.length-1}start(){let Z,Q;this.scenes[this.sceneIndex].onEnter(this);let J=($)=>{if(this.delta=($-Z)/1000,Z=$,Q=Math.round(1/this.delta),this.clearBackground)this.ctx.fillStyle="black",this.ctx.fillRect(0,0,this.width,this.height);if(this.update(),this.displayFPS&&this.clearBackground){let V=this.fontSize,z=this.font;this.setFont(8,"Courier New"),this.drawText(this.width-60,15,`FPS: ${Q}`,"red"),this.setFont(V,z)}if(this.keyPress.clear(),this.running)window.requestAnimationFrame(J)};window.requestAnimationFrame(J)}update(){let Z=this.scenes[this.sceneIndex].update(this);if(Z!==-1)this.scenes[this.sceneIndex].onExit(this),this.sceneIndex=Z,this.scenes[this.sceneIndex].onEnter(this)}setFont(Z=void 0,Q=void 0){if(Z!=null)this.fontSize=Z;if(Q!=null)this.font=Q;this.ctx.font=`${this.fontSize}px ${this.font}`}drawRectOutline(Z,Q,J,$,V,z){this.ctx.lineWidth=V,this.ctx.strokeStyle=z,this.ctx.strokeRect(Z,Q,J,$)}drawRect(Z,Q,J,$,V){this.ctx.fillStyle=V,this.ctx.fillRect(Z,Q,J,$)}drawText(Z,Q,J,$="white",V=!1,z="white"){if(V){let B=this.ctx.measureText(J);this.drawRect(Z-1,Q-this.fontSize*0.7,B.width,this.fontSize-2,z)}this.ctx.fillStyle=$,this.ctx.fillText(J,Z,Q)}shutoff(){this.running=!1}}class J0{}class g6{map=new Map;add(Z){this.map.set(Z.constructor,Z)}get(Z){return this.map.get(Z)}has(Z){return this.map.has(Z)}hasAll(Z){for(let Q of Z)if(!this.map.has(Q))return!1;return!0}delete(Z){this.map.delete(Z)}}class V0{ecs}class A0{}class g1 extends A0{entities=new Map;priorityToSystem=new Map;priorityToComponents=new Map;priorities=new Array;blackBoard=new Map;nextEntityID=0;entitiesToDestroy=new Array;update(Z){for(let Q of this.priorities){let J=this.priorityToSystem.get(Q),$=this.priorityToComponents.get(Q);J.update(Z,$)}while(this.entitiesToDestroy.length>0)this.destroyEntity(this.entitiesToDestroy.pop());return this.customUpdate(Z)}addEntity(){let Z=this.nextEntityID;return this.nextEntityID++,this.entities.set(Z,new g6),Z}removeEntity(Z){this.entitiesToDestroy.push(Z)}addComponent(Z,Q){this.entities.get(Z).add(Q),this.checkE(Z)}getComponents(Z){return this.entities.get(Z)}removeComponent(Z,Q){this.entities.get(Z)?.delete(Q),this.checkE(Z)}setBB(Z,Q){this.blackBoard.set(Z,Q)}getBB(Z){return this.blackBoard.get(Z)}addSystem(Z,Q){if(this.priorities.includes(Z)){alert("Fatal error. Check the console."),console.error(`${Q} can not be used since priority ${Z} already in use.`);return}Q.ecs=this,this.priorityToSystem.set(Z,Q),this.priorityToComponents.set(Z,new Set),this.priorities.push(Z),this.priorities.sort();for(let J of this.entities.keys())this.checkES(J,Z)}clear(){this.entities.clear(),this.priorityToComponents.clear(),this.priorityToSystem.clear(),this.blackBoard.clear(),this.priorities.length=0,this.nextEntityID=0}destroyEntity(Z){this.entities.delete(Z);for(let Q of this.priorities)this.priorityToComponents.get(Q)?.delete(Z)}checkE(Z){for(let Q of this.priorities)this.checkES(Z,Q)}checkES(Z,Q){let J=this.entities.get(Z),$=this.priorityToSystem.get(Q).componentsRequired;if(J.hasAll($))this.priorityToComponents.get(Q).add(Z);else this.priorityToComponents.get(Q).delete(Z)}}var s={};r6(s,{Position2d:()=>o});class o extends J0{x;y;oldX;oldY;changed=!1;constructor(Z,Q){super();this.x=Z;this.y=Q;this.x=Z,this.y=Q,this.oldX=Z,this.oldY=Q}toArray(){return[this.x,this.y]}equals(Z){return this.x==Z.x&&this.y==Z.y}hash(){return(this.x+this.y)*(this.x+this.y+1)/2+this.y}oldHash(){return(this.oldX+this.oldY)*(this.oldX+this.oldY+1)/2+this.oldY}updated(){return this.changed}set(Z,Q){this.changed=!0,this.x=Z,this.y=Q}setPos(Z){this.changed=!0,this.x=Z.x,this.y=Z.y}setX(Z){this.changed=!0,this.x=Z}setY(Z){this.changed=!0,this.y=Z}getX(){return this.x}getY(){return this.y}acceptChange(){this.changed=!1,this.oldX=this.x,this.oldY=this.y}rejectChange(){this.changed=!1,this.x=this.oldX,this.y=this.oldY}euclideanDistance(Z){let Q=Math.pow(this.x-Z.x,2),J=Math.pow(this.y-Z.y,2);return Math.sqrt(Q+J)}add(Z){return new o(this.x+Z.x,this.y+Z.y)}}var B1={};r6(B1,{GridCollisions:()=>Y8,Cookie:()=>q1});class Y8{grid=new Map;get(Z){return this.grid.get(Z.hash())}set(Z,Q){let J=Z.hash();if(this.grid.has(J))return!1;return this.grid.set(J,Q),!0}remove(Z,Q){if(Q)this.grid.delete(Z.hash());else this.grid.delete(Z.oldHash())}acceptChange(Z,Q){this.grid.delete(Z.oldHash()),Z.acceptChange(),this.grid.set(Z.hash(),Q)}}var q1={};r6(q1,{set:()=>hJ,get:()=>xJ});function hJ(Z,Q){let J=new Date;J.setTime(J.getTime()+2678400000),document.cookie=Z+"="+Q+"; expires="+J.toUTCString()+"; path=/"}function xJ(Z){let J=("; "+document.cookie).split("; "+Z+"=");if(J!=null&&J.length==2)return J.pop().split(";").shift();return}class D0 extends J0{constructor(){super()}}class K1 extends J0{constructor(){super()}}class f0 extends J0{stamina;furthestColumn;constructor(Z,Q){super();this.stamina=Z;this.furthestColumn=Q}}class D1 extends J0{constructor(){super()}}class N0 extends J0{character;constructor(Z){super();this.character=Z}}class D6 extends J0{constructor(){super()}}class h1 extends J0{type;startPosition;constructor(Z,Q){super();this.type=Z;this.startPosition=Q}}class n6 extends J0{constructor(){super()}}var A1=11,M0=40,fZ=30,o0=-1,KZ=1,C2=0,f8=8,s6=7,a0=3;var l0="start",U="death",b6="end",AZ="#FF000022",TZ="#FF440011",K8="difficulty",m2="enjoyment",A8="switch",T8="random",p8="mean",pZ=3,r2=performance.now(),i2=600000;class _8 extends J0{territory;constructor(Z){super();this.territory=[];for(let Q=-a0;Q<=a0;++Q)for(let J=-a0;J<=a0;++J){let $=new s.Position2d(J+Z.getX(),Q+Z.getY());if(Z.euclideanDistance($)<=a0)this.territory.push($)}}}var D={Collider:D0,Enemy:h1,Movable:K1,Player:f0,Portal:D1,Render:N0,Switch:D6,Food:n6,Territory:_8,VisibleText:Text};class M{static playerID="-1";static playerWon=!1;static order=0;static staminaLeft=0;static time=0;static levels=[];static diedFrom="Stamina";static playerGaveUp=!1;static gamesPlayed=0;static director="-1";static version="1.0.0";static tutorialDiedToEnemy=0;static tutorialDiedToStamina=0;static playerPathX=[];static playerPathY=[];static customData={}}class P8 extends V0{componentsRequired=new Set([s.Position2d,D.Enemy,D.Movable]);constructor(){super()}update(Z,Q){if(this.ecs.getBB("time step")%3!=0)return;let J=this.ecs.getBB("player id"),$=this.ecs.getComponents(J),V=$.get(s.Position2d),z=this.ecs.getBB("grid collisions");Z:for(let x of Q){let j=this.ecs.getComponents(x),R=j.get(s.Position2d),H=j.get(h1).startPosition,f,K=H.euclideanDistance(V),l=R.euclideanDistance(H);if(K<=a0&&l<=a0)f=V;else f=H;let _=this.getMoves(R,f),P=_.length;for(let u=0;u<P;++u){let m=R.add(_[u]);if(m.equals(V)){M.staminaLeft=$.get(f0).stamina,M.diedFrom=j.get(h1).type,this.ecs.setBB("game over",o0);break Z}else if(z.get(m)===void 0){R.setPos(m),z.acceptChange(R,x);break}}}let B=this.ecs.getBB("time step");this.ecs.setBB("time step",B+1)}getMoves(Z,Q){let J=new Array,$=Z.getY()-s6,V=Z.getX()-f8,z=Q.getY()-$-s6,B=Q.getX()-V-f8;if(z==0&&B==0)return J;if(Math.abs(z)>Math.abs(B)){if(z!==0)J.push(new s.Position2d(0,Math.sign(z)));if(B!==0)J.push(new s.Position2d(Math.sign(B),0))}else if(Math.abs(B)>Math.abs(z)){if(B!==0)J.push(new s.Position2d(Math.sign(B),0));if(z!==0)J.push(new s.Position2d(0,Math.sign(z)))}else if((V+$)%2==0){if(z!==0)J.push(new s.Position2d(0,Math.sign(z)));if(B!==0)J.push(new s.Position2d(Math.sign(B),0))}else{if(B!==0)J.push(new s.Position2d(Math.sign(B),0));if(z!==0)J.push(new s.Position2d(0,Math.sign(z)))}return J}}class M8 extends V0{componentsRequired=new Set([]);update(Z,Q){let J=this.ecs.getBB("player id"),$=this.ecs.getComponents(J),V=$.get(s.Position2d);if(!V.updated())return;let z=$.get(D.Player);if(z.stamina<=0)M.diedFrom="Stamina",M.staminaLeft=0,this.ecs.setBB("game over",o0);let B=this.ecs.getBB("grid collisions"),x=B.get(V);if(x==null){B.acceptChange(V,J);return}let j=this.ecs.getComponents(x);if(j.has(D.Switch)){let R=this.ecs.getBB("switch count")-1;this.ecs.setBB("switch count",R),this.ecs.removeEntity(x),B.acceptChange(V,J);return}if(j.has(D.Enemy)){M.diedFrom=j.get(D.Enemy).type,M.staminaLeft=z.stamina,this.ecs.setBB("game over",o0);return}if(j.has(D.Portal)){if(this.ecs.getBB("switch count")==0)M.diedFrom="",M.playerWon=!0,M.staminaLeft=z.stamina,this.ecs.setBB("game over",KZ);else V.rejectChange();return}if(j.has(D.Food)){z.stamina=Math.min(z.stamina+fZ,M0),this.ecs.removeEntity(x),B.acceptChange(V,J),this.ecs.setBB("game over",C2);return}V.rejectChange()}}class l8 extends V0{componentsRequired=new Set([o,N0,f0]);updateTimeStep(){let Z=this.ecs.getBB("time step");this.ecs.setBB("time step",Z+1)}update(Z,Q){let J=Q.values().next().value,$=this.ecs.getComponents(J),V=$.get(f0),z=$.get(o),B=z.getX(),x=z.getY();for(let j of Z.keyPress){let R=!1;switch(j){case 5:case 0:this.updateTimeStep(),R=!0,V.stamina-=1,z.setX(B-1);break;case 6:case 2:this.updateTimeStep(),R=!0,z.setY(x+1),V.stamina-=1;break;case 7:case 1:this.updateTimeStep(),R=!0,z.setX(B+1),V.stamina-=1;break;case 4:case 3:this.updateTimeStep(),R=!0,z.setY(x-1),V.stamina-=1;break;case 10:if(this.updateTimeStep(),V.stamina-=1,R=!0,V.stamina<=0)M.diedFrom="Stamina",this.ecs.setBB("game over",o0);break}if(R){M.playerPathX.push(z.x),M.playerPathY.push(z.y),V.furthestColumn=Math.max(V.furthestColumn,z.getX()-f8);break}}}}class c6 extends V0{componentsRequired=new Set([D.Portal,D.Render]);update(Z,Q){let[J]=Q;if(this.ecs.getBB("switch count")==0)this.ecs.getComponents(J).get(D.Render).character="O";else this.ecs.getComponents(J).get(D.Render).character="o"}}class u8 extends V0{componentsRequired=new Set([D.Player]);update(Z,Q){let[J]=Q,$=this.ecs.getComponents(J).get(D.Player).stamina,V;if($>20)V="green";else if($>10)V="#8B8000";else V="red";Z.drawRect(20,20,$*8,20,V);let z=M0*8;Z.drawRectOutline(19,18,z+2,22,2,"gray"),Z.drawText(M0*4,35,`${$}`,"white");let B=this.ecs.getBB("time step"),x=B<10?890:875;Z.drawText(x,30,`Turn: ${B}`)}}class C8 extends V0{componentsRequired=new Set([s.Position2d,D.Render]);charToColor={"@":"white","-":"#d9d1d0",X:"#636363","*":"#0ccef0","\\":"#c300d1","/":"#c300d1",o:"#414d42",O:"#19f00a","#":"red","^":"#f0cd0a","&":"#259c2b"};update(Z,Q){let J=this.ecs.getBB("x mod"),$=this.ecs.getBB("y mod");Z.setFont(20);for(let V of Q.values()){let z=this.ecs.getComponents(V),B=z.get(D.Render),x=z.get(s.Position2d),j=B.character,R=this.charToColor[j];Z.drawText(x.getX()*J,x.getY()*$,j,R)}}}class d6 extends V0{componentsRequired=new Set([]);update(Z,Q){this.ecs.setBB("player turn",!0)}}class m8 extends V0{componentsRequired=new Set([D.Territory]);update(Z,Q){let J=(this.ecs.getBB("time step")+1)%3===0?AZ:TZ,$=this.ecs.getBB("x mod"),V=this.ecs.getBB("y mod"),z=this.ecs.getBB("player id"),B=this.ecs.getComponents(z).get(s.Position2d);for(let x of Q.values()){let j=this.ecs.getComponents(x);if(j.get(s.Position2d).euclideanDistance(B)>4)continue;let R=j.get(D.Territory).territory,H=R.length;for(let f=0;f<H;++f){let K=R[f];Z.drawText(K.getX()*$,K.getY()*V," ","#000000",!0,J)}}}}class n0 extends J0{text;constructor(Z){super();this.text=Z}}var PZ=function(Z){let Q=[],J=0;for(let $=0;$<Z.length;$++){let V=Z.charCodeAt($);if(V<128)Q[J++]=V;else if(V<2048)Q[J++]=V>>6|192,Q[J++]=V&63|128;else if((V&64512)===55296&&$+1<Z.length&&(Z.charCodeAt($+1)&64512)===56320)V=65536+((V&1023)<<10)+(Z.charCodeAt(++$)&1023),Q[J++]=V>>18|240,Q[J++]=V>>12&63|128,Q[J++]=V>>6&63|128,Q[J++]=V&63|128;else Q[J++]=V>>12|224,Q[J++]=V>>6&63|128,Q[J++]=V&63|128}return Q},FJ=function(Z){let Q=[],J=0,$=0;while(J<Z.length){let V=Z[J++];if(V<128)Q[$++]=String.fromCharCode(V);else if(V>191&&V<224){let z=Z[J++];Q[$++]=String.fromCharCode((V&31)<<6|z&63)}else if(V>239&&V<365){let z=Z[J++],B=Z[J++],x=Z[J++],j=((V&7)<<18|(z&63)<<12|(B&63)<<6|x&63)-65536;Q[$++]=String.fromCharCode(55296+(j>>10)),Q[$++]=String.fromCharCode(56320+(j&1023))}else{let z=Z[J++],B=Z[J++];Q[$++]=String.fromCharCode((V&15)<<12|(z&63)<<6|B&63)}}return Q.join("")},MZ={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob==="function",encodeByteArray(Z,Q){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();let J=Q?this.byteToCharMapWebSafe_:this.byteToCharMap_,$=[];for(let V=0;V<Z.length;V+=3){let z=Z[V],B=V+1<Z.length,x=B?Z[V+1]:0,j=V+2<Z.length,R=j?Z[V+2]:0,H=z>>2,f=(z&3)<<4|x>>4,K=(x&15)<<2|R>>6,l=R&63;if(!j){if(l=64,!B)K=64}$.push(J[H],J[f],J[K],J[l])}return $.join("")},encodeString(Z,Q){if(this.HAS_NATIVE_SUPPORT&&!Q)return btoa(Z);return this.encodeByteArray(PZ(Z),Q)},decodeString(Z,Q){if(this.HAS_NATIVE_SUPPORT&&!Q)return atob(Z);return FJ(this.decodeStringToByteArray(Z,Q))},decodeStringToByteArray(Z,Q){this.init_();let J=Q?this.charToByteMapWebSafe_:this.charToByteMap_,$=[];for(let V=0;V<Z.length;){let z=J[Z.charAt(V++)],x=V<Z.length?J[Z.charAt(V)]:0;++V;let R=V<Z.length?J[Z.charAt(V)]:64;++V;let f=V<Z.length?J[Z.charAt(V)]:64;if(++V,z==null||x==null||R==null||f==null)throw new lZ;let K=z<<2|x>>4;if($.push(K),R!==64){let l=x<<4&240|R>>2;if($.push(l),f!==64){let _=R<<6&192|f;$.push(_)}}}return $},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)if(this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length)this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z}}};class lZ extends Error{constructor(){super(...arguments);this.name="DecodeBase64StringError"}}var jJ=function(Z){let Q=PZ(Z);return MZ.encodeByteArray(Q,!0)},r8=function(Z){return jJ(Z).replace(/\./g,"")},RJ=function(Z){try{return MZ.decodeString(Z,!0)}catch(Q){console.error("base64Decode failed: ",Q)}return null};function OJ(){if(typeof self!=="undefined")return self;if(typeof window!=="undefined")return window;if(typeof global!=="undefined")return global;throw new Error("Unable to locate global object.")}var GJ=()=>OJ().__FIREBASE_DEFAULTS__,IJ=()=>{if(typeof process==="undefined"||typeof process.env==="undefined")return;let Z=process.env.__FIREBASE_DEFAULTS__;if(Z)return JSON.parse(Z)},kJ=()=>{if(typeof document==="undefined")return;let Z;try{Z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(J){return}let Q=Z&&RJ(Z[1]);return Q&&JSON.parse(Q)},E6=()=>{try{return GJ()||IJ()||kJ()}catch(Z){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Z}`);return}},SJ=(Z)=>{var Q,J;return(J=(Q=E6())===null||Q===void 0?void 0:Q.emulatorHosts)===null||J===void 0?void 0:J[Z]},uZ=(Z)=>{let Q=SJ(Z);if(!Q)return;let J=Q.lastIndexOf(":");if(J<=0||J+1===Q.length)throw new Error(`Invalid host ${Q} with no separate hostname and port!`);let $=parseInt(Q.substring(J+1),10);if(Q[0]==="[")return[Q.substring(1,J-1),$];else return[Q.substring(0,J),$]},t6=()=>{var Z;return(Z=E6())===null||Z===void 0?void 0:Z.config};class g2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,Q)=>{this.resolve=Z,this.reject=Q})}wrapCallback(Z){return(Q,J)=>{if(Q)this.reject(Q);else this.resolve(J);if(typeof Z==="function")if(this.promise.catch(()=>{}),Z.length===1)Z(Q);else Z(Q,J)}}}function CZ(Z,Q){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let J={alg:"none",type:"JWT"},$=Q||"demo-project",V=Z.iat||0,z=Z.sub||Z.user_id;if(!z)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let B=Object.assign({iss:`https://securetoken.google.com/${$}`,aud:$,iat:V,exp:V+3600,auth_time:V,sub:z,user_id:z,firebase:{sign_in_provider:"custom",identities:{}}},Z),x="";return[r8(JSON.stringify(J)),r8(JSON.stringify(B)),x].join(".")}function mZ(){if(typeof navigator!=="undefined"&&typeof navigator.userAgent==="string")return navigator.userAgent;else return""}function NJ(){var Z;let Q=(Z=E6())===null||Z===void 0?void 0:Z.forceEnvironment;if(Q==="node")return!0;else if(Q==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(J){return!1}}function rZ(){return!NJ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function o6(){try{return typeof indexedDB==="object"}catch(Z){return!1}}function iZ(){return new Promise((Z,Q)=>{try{let J=!0,$="validate-browser-context-for-indexeddb-analytics-module",V=self.indexedDB.open($);V.onsuccess=()=>{if(V.result.close(),!J)self.indexedDB.deleteDatabase($);Z(!0)},V.onupgradeneeded=()=>{J=!1},V.onerror=()=>{var z;Q(((z=V.error)===null||z===void 0?void 0:z.message)||"")}}catch(J){Q(J)}})}var LJ="FirebaseError";class e0 extends Error{constructor(Z,Q,J){super(Q);if(this.code=Z,this.customData=J,this.name=LJ,Object.setPrototypeOf(this,e0.prototype),Error.captureStackTrace)Error.captureStackTrace(this,D2.prototype.create)}}class D2{constructor(Z,Q,J){this.service=Z,this.serviceName=Q,this.errors=J}create(Z,...Q){let J=Q[0]||{},$=`${this.service}/${Z}`,V=this.errors[Z],z=V?yJ(V,J):"Error",B=`${this.serviceName}: ${z} (${$}).`;return new e0($,B,J)}}function yJ(Z,Q){return Z.replace(vJ,(J,$)=>{let V=Q[$];return V!=null?String(V):`<${$}?>`})}var vJ=/\{\$([^}]+)}/g;function i8(Z,Q){if(Z===Q)return!0;let J=Object.keys(Z),$=Object.keys(Q);for(let V of J){if(!$.includes(V))return!1;let z=Z[V],B=Q[V];if(_Z(z)&&_Z(B)){if(!i8(z,B))return!1}else if(z!==B)return!1}for(let V of $)if(!J.includes(V))return!1;return!0}function _Z(Z){return Z!==null&&typeof Z==="object"}function n1(Z){if(Z&&Z._delegate)return Z._delegate;else return Z}class s1{constructor(Z,Q,J){this.name=Z,this.instanceFactory=Q,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}var T1="[DEFAULT]";class gZ{constructor(Z,Q){this.name=Z,this.container=Q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){let Q=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(Q)){let J=new g2;if(this.instancesDeferred.set(Q,J),this.isInitialized(Q)||this.shouldAutoInitialize())try{let $=this.getOrInitializeService({instanceIdentifier:Q});if($)J.resolve($)}catch($){}}return this.instancesDeferred.get(Q).promise}getImmediate(Z){var Q;let J=this.normalizeInstanceIdentifier(Z===null||Z===void 0?void 0:Z.identifier),$=(Q=Z===null||Z===void 0?void 0:Z.optional)!==null&&Q!==void 0?Q:!1;if(this.isInitialized(J)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:J})}catch(V){if($)return null;else throw V}else if($)return null;else throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,!this.shouldAutoInitialize())return;if(YJ(Z))try{this.getOrInitializeService({instanceIdentifier:T1})}catch(Q){}for(let[Q,J]of this.instancesDeferred.entries()){let $=this.normalizeInstanceIdentifier(Q);try{let V=this.getOrInitializeService({instanceIdentifier:$});J.resolve(V)}catch(V){}}}clearInstance(Z=T1){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}async delete(){let Z=Array.from(this.instances.values());await Promise.all([...Z.filter((Q)=>("INTERNAL"in Q)).map((Q)=>Q.INTERNAL.delete()),...Z.filter((Q)=>("_delete"in Q)).map((Q)=>Q._delete())])}isComponentSet(){return this.component!=null}isInitialized(Z=T1){return this.instances.has(Z)}getOptions(Z=T1){return this.instancesOptions.get(Z)||{}}initialize(Z={}){let{options:Q={}}=Z,J=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let $=this.getOrInitializeService({instanceIdentifier:J,options:Q});for(let[V,z]of this.instancesDeferred.entries()){let B=this.normalizeInstanceIdentifier(V);if(J===B)z.resolve($)}return $}onInit(Z,Q){var J;let $=this.normalizeInstanceIdentifier(Q),V=(J=this.onInitCallbacks.get($))!==null&&J!==void 0?J:new Set;V.add(Z),this.onInitCallbacks.set($,V);let z=this.instances.get($);if(z)Z(z,$);return()=>{V.delete(Z)}}invokeOnInitCallbacks(Z,Q){let J=this.onInitCallbacks.get(Q);if(!J)return;for(let $ of J)try{$(Z,Q)}catch(V){}}getOrInitializeService({instanceIdentifier:Z,options:Q={}}){let J=this.instances.get(Z);if(!J&&this.component){if(J=this.component.instanceFactory(this.container,{instanceIdentifier:HJ(Z),options:Q}),this.instances.set(Z,J),this.instancesOptions.set(Z,Q),this.invokeOnInitCallbacks(J,Z),this.component.onInstanceCreated)try{this.component.onInstanceCreated(this.container,Z,J)}catch($){}}return J||null}normalizeInstanceIdentifier(Z=T1){if(this.component)return this.component.multipleInstances?Z:T1;else return Z}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HJ(Z){return Z===T1?void 0:Z}function YJ(Z){return Z.instantiationMode==="EAGER"}class a6{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){let Q=this.getProvider(Z.name);if(Q.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);Q.setComponent(Z)}addOrOverwriteComponent(Z){if(this.getProvider(Z.name).isComponentSet())this.providers.delete(Z.name);this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);let Q=new gZ(Z,this);return this.providers.set(Z,Q),Q}getProviders(){return Array.from(this.providers.values())}}var fJ=[],Q0;(function(Z){Z[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT"})(Q0||(Q0={}));var KJ={debug:Q0.DEBUG,verbose:Q0.VERBOSE,info:Q0.INFO,warn:Q0.WARN,error:Q0.ERROR,silent:Q0.SILENT},AJ=Q0.INFO,TJ={[Q0.DEBUG]:"log",[Q0.VERBOSE]:"log",[Q0.INFO]:"info",[Q0.WARN]:"warn",[Q0.ERROR]:"error"},pJ=(Z,Q,...J)=>{if(Q<Z.logLevel)return;let $=new Date().toISOString(),V=TJ[Q];if(V)console[V](`[${$}]  ${Z.name}:`,...J);else throw new Error(`Attempted to log a message with an invalid logType (value: ${Q})`)};class e6{constructor(Z){this.name=Z,this._logLevel=AJ,this._logHandler=pJ,this._userLogHandler=null,fJ.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in Q0))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel=typeof Z==="string"?KJ[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if(typeof Z!=="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,Q0.DEBUG,...Z),this._logHandler(this,Q0.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,Q0.VERBOSE,...Z),this._logHandler(this,Q0.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,Q0.INFO,...Z),this._logHandler(this,Q0.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,Q0.WARN,...Z),this._logHandler(this,Q0.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,Q0.ERROR,...Z),this._logHandler(this,Q0.ERROR,...Z)}}var _J=(Z,Q)=>Q.some((J)=>Z instanceof J),DZ,nZ;function PJ(){return DZ||(DZ=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MJ(){return nZ||(nZ=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var sZ=new WeakMap,Q4=new WeakMap,bZ=new WeakMap,Z4=new WeakMap,X4=new WeakMap;function lJ(Z){let Q=new Promise((J,$)=>{let V=()=>{Z.removeEventListener("success",z),Z.removeEventListener("error",B)},z=()=>{J(s0(Z.result)),V()},B=()=>{$(Z.error),V()};Z.addEventListener("success",z),Z.addEventListener("error",B)});return Q.then((J)=>{if(J instanceof IDBCursor)sZ.set(J,Z)}).catch(()=>{}),X4.set(Q,Z),Q}function uJ(Z){if(Q4.has(Z))return;let Q=new Promise((J,$)=>{let V=()=>{Z.removeEventListener("complete",z),Z.removeEventListener("error",B),Z.removeEventListener("abort",B)},z=()=>{J(),V()},B=()=>{$(Z.error||new DOMException("AbortError","AbortError")),V()};Z.addEventListener("complete",z),Z.addEventListener("error",B),Z.addEventListener("abort",B)});Q4.set(Z,Q)}var J4={get(Z,Q,J){if(Z instanceof IDBTransaction){if(Q==="done")return Q4.get(Z);if(Q==="objectStoreNames")return Z.objectStoreNames||bZ.get(Z);if(Q==="store")return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return s0(Z[Q])},set(Z,Q,J){return Z[Q]=J,!0},has(Z,Q){if(Z instanceof IDBTransaction&&(Q==="done"||Q==="store"))return!0;return Q in Z}};function cZ(Z){J4=Z(J4)}function CJ(Z){if(Z===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype))return function(Q,...J){let $=Z.call(n2(this),Q,...J);return bZ.set($,Q.sort?Q.sort():[Q]),s0($)};if(MJ().includes(Z))return function(...Q){return Z.apply(n2(this),Q),s0(sZ.get(this))};return function(...Q){return s0(Z.apply(n2(this),Q))}}function mJ(Z){if(typeof Z==="function")return CJ(Z);if(Z instanceof IDBTransaction)uJ(Z);if(_J(Z,PJ()))return new Proxy(Z,J4);return Z}function s0(Z){if(Z instanceof IDBRequest)return lJ(Z);if(Z4.has(Z))return Z4.get(Z);let Q=mJ(Z);if(Q!==Z)Z4.set(Z,Q),X4.set(Q,Z);return Q}var n2=(Z)=>X4.get(Z);function EZ(Z,Q,{blocked:J,upgrade:$,blocking:V,terminated:z}={}){let B=indexedDB.open(Z,Q),x=s0(B);if($)B.addEventListener("upgradeneeded",(j)=>{$(s0(B.result),j.oldVersion,j.newVersion,s0(B.transaction),j)});if(J)B.addEventListener("blocked",(j)=>J(j.oldVersion,j.newVersion,j));return x.then((j)=>{if(z)j.addEventListener("close",()=>z());if(V)j.addEventListener("versionchange",(R)=>V(R.oldVersion,R.newVersion,R))}).catch(()=>{}),x}var rJ=["get","getKey","getAll","getAllKeys","count"],iJ=["put","add","delete","clear"],$4=new Map;function dZ(Z,Q){if(!(Z instanceof IDBDatabase&&!(Q in Z)&&typeof Q==="string"))return;if($4.get(Q))return $4.get(Q);let J=Q.replace(/FromIndex$/,""),$=Q!==J,V=iJ.includes(J);if(!(J in($?IDBIndex:IDBObjectStore).prototype)||!(V||rJ.includes(J)))return;let z=async function(B,...x){let j=this.transaction(B,V?"readwrite":"readonly"),R=j.store;if($)R=R.index(x.shift());return(await Promise.all([R[J](...x),V&&j.done]))[0]};return $4.set(Q,z),z}cZ((Z)=>({...Z,get:(Q,J,$)=>dZ(Q,J)||Z.get(Q,J,$),has:(Q,J)=>!!dZ(Q,J)||Z.has(Q,J)}));class Q7{constructor(Z){this.container=Z}getPlatformInfoString(){return this.container.getProviders().map((Q)=>{if(gJ(Q)){let J=Q.getImmediate();return`${J.library}/${J.version}`}else return null}).filter((Q)=>Q).join(" ")}}function gJ(Z){let Q=Z.getComponent();return(Q===null||Q===void 0?void 0:Q.type)==="VERSION"}var w4="@firebase/app",tZ="0.10.9",Z1=new e6("@firebase/app"),DJ="@firebase/app-compat",nJ="@firebase/analytics-compat",sJ="@firebase/analytics",bJ="@firebase/app-check-compat",cJ="@firebase/app-check",dJ="@firebase/auth",EJ="@firebase/auth-compat",tJ="@firebase/database",oJ="@firebase/database-compat",aJ="@firebase/functions",eJ="@firebase/functions-compat",ZX="@firebase/installations",QX="@firebase/installations-compat",JX="@firebase/messaging",XX="@firebase/messaging-compat",$X="@firebase/performance",VX="@firebase/performance-compat",wX="@firebase/remote-config",zX="@firebase/remote-config-compat",WX="@firebase/storage",UX="@firebase/storage-compat",qX="@firebase/firestore",BX="@firebase/vertexai-preview",hX="@firebase/firestore-compat",xX="firebase",FX="10.13.0",z4="[DEFAULT]",jX={[w4]:"fire-core",[DJ]:"fire-core-compat",[sJ]:"fire-analytics",[nJ]:"fire-analytics-compat",[cJ]:"fire-app-check",[bJ]:"fire-app-check-compat",[dJ]:"fire-auth",[EJ]:"fire-auth-compat",[tJ]:"fire-rtdb",[oJ]:"fire-rtdb-compat",[aJ]:"fire-fn",[eJ]:"fire-fn-compat",[ZX]:"fire-iid",[QX]:"fire-iid-compat",[JX]:"fire-fcm",[XX]:"fire-fcm-compat",[$X]:"fire-perf",[VX]:"fire-perf-compat",[wX]:"fire-rc",[zX]:"fire-rc-compat",[WX]:"fire-gcs",[UX]:"fire-gcs-compat",[qX]:"fire-fst",[hX]:"fire-fst-compat",[BX]:"fire-vertex","fire-js":"fire-js",[xX]:"fire-js-all"},s2=new Map,RX=new Map,W4=new Map;function oZ(Z,Q){try{Z.container.addComponent(Q)}catch(J){Z1.debug(`Component ${Q.name} failed to register with FirebaseApp ${Z.name}`,J)}}function g8(Z){let Q=Z.name;if(W4.has(Q))return Z1.debug(`There were multiple attempts to register component ${Q}.`),!1;W4.set(Q,Z);for(let J of s2.values())oZ(J,Z);for(let J of RX.values())oZ(J,Z);return!0}function J7(Z,Q){let J=Z.container.getProvider("heartbeat").getImmediate({optional:!0});if(J)J.triggerHeartbeat();return Z.container.getProvider(Q)}var OX={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}'",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["server-app-deleted"]:"Firebase Server App has been deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",["finalization-registry-not-supported"]:"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",["invalid-server-app-environment"]:"FirebaseServerApp is not for use in browser environments."},x1=new D2("app","Firebase",OX);class X7{constructor(Z,Q,J){this._isDeleted=!1,this._options=Object.assign({},Z),this._config=Object.assign({},Q),this._name=Q.name,this._automaticDataCollectionEnabled=Q.automaticDataCollectionEnabled,this._container=J,this.container.addComponent(new s1("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Z){this.checkDestroyed(),this._automaticDataCollectionEnabled=Z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Z){this._isDeleted=Z}checkDestroyed(){if(this.isDeleted)throw x1.create("app-deleted",{appName:this._name})}}var $7=FX;function U4(Z,Q={}){let J=Z;if(typeof Q!=="object")Q={name:Q};let $=Object.assign({name:z4,automaticDataCollectionEnabled:!1},Q),V=$.name;if(typeof V!=="string"||!V)throw x1.create("bad-app-name",{appName:String(V)});if(J||(J=t6()),!J)throw x1.create("no-options");let z=s2.get(V);if(z)if(i8(J,z.options)&&i8($,z.config))return z;else throw x1.create("duplicate-app",{appName:V});let B=new a6(V);for(let j of W4.values())B.addComponent(j);let x=new X7(J,$,B);return s2.set(V,x),x}function V7(Z=z4){let Q=s2.get(Z);if(!Q&&Z===z4&&t6())return U4();if(!Q)throw x1.create("no-app",{appName:Z});return Q}function F1(Z,Q,J){var $;let V=($=jX[Z])!==null&&$!==void 0?$:Z;if(J)V+=`-${J}`;let z=V.match(/\s|\//),B=Q.match(/\s|\//);if(z||B){let x=[`Unable to register library "${V}" with version "${Q}":`];if(z)x.push(`library name "${V}" contains illegal characters (whitespace or "/")`);if(z&&B)x.push("and");if(B)x.push(`version name "${Q}" contains illegal characters (whitespace or "/")`);Z1.warn(x.join(" "));return}g8(new s1(`${V}-version`,()=>({library:V,version:Q}),"VERSION"))}var GX="firebase-heartbeat-database",IX=1,D8="firebase-heartbeat-store",V4=null;function w7(){if(!V4)V4=EZ(GX,IX,{upgrade:(Z,Q)=>{switch(Q){case 0:try{Z.createObjectStore(D8)}catch(J){console.warn(J)}}}}).catch((Z)=>{throw x1.create("idb-open",{originalErrorMessage:Z.message})});return V4}async function kX(Z){try{let J=(await w7()).transaction(D8),$=await J.objectStore(D8).get(z7(Z));return await J.done,$}catch(Q){if(Q instanceof e0)Z1.warn(Q.message);else{let J=x1.create("idb-get",{originalErrorMessage:Q===null||Q===void 0?void 0:Q.message});Z1.warn(J.message)}}}async function aZ(Z,Q){try{let $=(await w7()).transaction(D8,"readwrite");await $.objectStore(D8).put(Q,z7(Z)),await $.done}catch(J){if(J instanceof e0)Z1.warn(J.message);else{let $=x1.create("idb-set",{originalErrorMessage:J===null||J===void 0?void 0:J.message});Z1.warn($.message)}}}function z7(Z){return`${Z.name}!${Z.options.appId}`}var SX=1024,NX=2592000000;class W7{constructor(Z){this.container=Z,this._heartbeatsCache=null;let Q=this.container.getProvider("app").getImmediate();this._storage=new U7(Q),this._heartbeatsCachePromise=this._storage.read().then((J)=>{return this._heartbeatsCache=J,J})}async triggerHeartbeat(){var Z,Q,J;try{let V=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),z=eZ();if(console.log("heartbeats",(Z=this._heartbeatsCache)===null||Z===void 0?void 0:Z.heartbeats),((Q=this._heartbeatsCache)===null||Q===void 0?void 0:Q.heartbeats)==null){if(this._heartbeatsCache=await this._heartbeatsCachePromise,((J=this._heartbeatsCache)===null||J===void 0?void 0:J.heartbeats)==null)return}if(this._heartbeatsCache.lastSentHeartbeatDate===z||this._heartbeatsCache.heartbeats.some((B)=>B.date===z))return;else this._heartbeatsCache.heartbeats.push({date:z,agent:V});return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((B)=>{let x=new Date(B.date).valueOf();return Date.now()-x<=NX}),this._storage.overwrite(this._heartbeatsCache)}catch($){Z1.warn($)}}async getHeartbeatsHeader(){var Z;try{if(this._heartbeatsCache===null)await this._heartbeatsCachePromise;if(((Z=this._heartbeatsCache)===null||Z===void 0?void 0:Z.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let Q=eZ(),{heartbeatsToSend:J,unsentEntries:$}=LX(this._heartbeatsCache.heartbeats),V=r8(JSON.stringify({version:2,heartbeats:J}));if(this._heartbeatsCache.lastSentHeartbeatDate=Q,$.length>0)this._heartbeatsCache.heartbeats=$,await this._storage.overwrite(this._heartbeatsCache);else this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);return V}catch(Q){return Z1.warn(Q),""}}}function eZ(){return new Date().toISOString().substring(0,10)}function LX(Z,Q=SX){let J=[],$=Z.slice();for(let V of Z){let z=J.find((B)=>B.agent===V.agent);if(!z){if(J.push({agent:V.agent,dates:[V.date]}),Z7(J)>Q){J.pop();break}}else if(z.dates.push(V.date),Z7(J)>Q){z.dates.pop();break}$=$.slice(1)}return{heartbeatsToSend:J,unsentEntries:$}}class U7{constructor(Z){this.app=Z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){if(!o6())return!1;else return iZ().then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};else{let Q=await kX(this.app);if(Q===null||Q===void 0?void 0:Q.heartbeats)return Q;else return{heartbeats:[]}}}async overwrite(Z){var Q;if(!await this._canUseIndexedDBPromise)return;else{let $=await this.read();return aZ(this.app,{lastSentHeartbeatDate:(Q=Z.lastSentHeartbeatDate)!==null&&Q!==void 0?Q:$.lastSentHeartbeatDate,heartbeats:Z.heartbeats})}}async add(Z){var Q;if(!await this._canUseIndexedDBPromise)return;else{let $=await this.read();return aZ(this.app,{lastSentHeartbeatDate:(Q=Z.lastSentHeartbeatDate)!==null&&Q!==void 0?Q:$.lastSentHeartbeatDate,heartbeats:[...$.heartbeats,...Z.heartbeats]})}}}function Z7(Z){return r8(JSON.stringify({version:2,heartbeats:Z})).length}function yX(Z){g8(new s1("platform-logger",(Q)=>new Q7(Q),"PRIVATE")),g8(new s1("heartbeat",(Q)=>new W7(Q),"PRIVATE")),F1(w4,tZ,Z),F1(w4,tZ,"esm2017"),F1("fire-js","")}yX("");var vX="firebase",HX="10.13.0";F1(vX,HX,"app");class q4{constructor(Z,Q,J){this.name=Z,this.instanceFactory=Q,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}var YX=[],b;(function(Z){Z[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT"})(b||(b={}));var fX={debug:b.DEBUG,verbose:b.VERBOSE,info:b.INFO,warn:b.WARN,error:b.ERROR,silent:b.SILENT},KX=b.INFO,AX={[b.DEBUG]:"log",[b.VERBOSE]:"log",[b.INFO]:"info",[b.WARN]:"warn",[b.ERROR]:"error"},TX=(Z,Q,...J)=>{if(Q<Z.logLevel)return;let $=new Date().toISOString(),V=AX[Q];if(V)console[V](`[${$}]  ${Z.name}:`,...J);else throw new Error(`Attempted to log a message with an invalid logType (value: ${Q})`)};class B4{constructor(Z){this.name=Z,this._logLevel=KX,this._logHandler=TX,this._userLogHandler=null,YX.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in b))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel=typeof Z==="string"?fX[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if(typeof Z!=="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,b.DEBUG,...Z),this._logHandler(this,b.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,b.VERBOSE,...Z),this._logHandler(this,b.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,b.INFO,...Z),this._logHandler(this,b.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,b.WARN,...Z),this._logHandler(this,b.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,b.ERROR,...Z),this._logHandler(this,b.ERROR,...Z)}}var q7=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{},B7={},h4,h7;(function(){var Z;function Q(y,O){function I(){}I.prototype=O.prototype,y.D=O.prototype,y.prototype=new I,y.prototype.constructor=y,y.C=function(k,S,v){for(var G=Array(arguments.length-2),g0=2;g0<arguments.length;g0++)G[g0-2]=arguments[g0];return O.prototype[S].apply(k,G)}}function J(){this.blockSize=-1}function $(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}Q($,J),$.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function V(y,O,I){I||(I=0);var k=Array(16);if(typeof O==="string")for(var S=0;16>S;++S)k[S]=O.charCodeAt(I++)|O.charCodeAt(I++)<<8|O.charCodeAt(I++)<<16|O.charCodeAt(I++)<<24;else for(S=0;16>S;++S)k[S]=O[I++]|O[I++]<<8|O[I++]<<16|O[I++]<<24;O=y.g[0],I=y.g[1],S=y.g[2];var v=y.g[3],G=O+(v^I&(S^v))+k[0]+3614090360&4294967295;O=I+(G<<7&4294967295|G>>>25),G=v+(S^O&(I^S))+k[1]+3905402710&4294967295,v=O+(G<<12&4294967295|G>>>20),G=S+(I^v&(O^I))+k[2]+606105819&4294967295,S=v+(G<<17&4294967295|G>>>15),G=I+(O^S&(v^O))+k[3]+3250441966&4294967295,I=S+(G<<22&4294967295|G>>>10),G=O+(v^I&(S^v))+k[4]+4118548399&4294967295,O=I+(G<<7&4294967295|G>>>25),G=v+(S^O&(I^S))+k[5]+1200080426&4294967295,v=O+(G<<12&4294967295|G>>>20),G=S+(I^v&(O^I))+k[6]+2821735955&4294967295,S=v+(G<<17&4294967295|G>>>15),G=I+(O^S&(v^O))+k[7]+4249261313&4294967295,I=S+(G<<22&4294967295|G>>>10),G=O+(v^I&(S^v))+k[8]+1770035416&4294967295,O=I+(G<<7&4294967295|G>>>25),G=v+(S^O&(I^S))+k[9]+2336552879&4294967295,v=O+(G<<12&4294967295|G>>>20),G=S+(I^v&(O^I))+k[10]+4294925233&4294967295,S=v+(G<<17&4294967295|G>>>15),G=I+(O^S&(v^O))+k[11]+2304563134&4294967295,I=S+(G<<22&4294967295|G>>>10),G=O+(v^I&(S^v))+k[12]+1804603682&4294967295,O=I+(G<<7&4294967295|G>>>25),G=v+(S^O&(I^S))+k[13]+4254626195&4294967295,v=O+(G<<12&4294967295|G>>>20),G=S+(I^v&(O^I))+k[14]+2792965006&4294967295,S=v+(G<<17&4294967295|G>>>15),G=I+(O^S&(v^O))+k[15]+1236535329&4294967295,I=S+(G<<22&4294967295|G>>>10),G=O+(S^v&(I^S))+k[1]+4129170786&4294967295,O=I+(G<<5&4294967295|G>>>27),G=v+(I^S&(O^I))+k[6]+3225465664&4294967295,v=O+(G<<9&4294967295|G>>>23),G=S+(O^I&(v^O))+k[11]+643717713&4294967295,S=v+(G<<14&4294967295|G>>>18),G=I+(v^O&(S^v))+k[0]+3921069994&4294967295,I=S+(G<<20&4294967295|G>>>12),G=O+(S^v&(I^S))+k[5]+3593408605&4294967295,O=I+(G<<5&4294967295|G>>>27),G=v+(I^S&(O^I))+k[10]+38016083&4294967295,v=O+(G<<9&4294967295|G>>>23),G=S+(O^I&(v^O))+k[15]+3634488961&4294967295,S=v+(G<<14&4294967295|G>>>18),G=I+(v^O&(S^v))+k[4]+3889429448&4294967295,I=S+(G<<20&4294967295|G>>>12),G=O+(S^v&(I^S))+k[9]+568446438&4294967295,O=I+(G<<5&4294967295|G>>>27),G=v+(I^S&(O^I))+k[14]+3275163606&4294967295,v=O+(G<<9&4294967295|G>>>23),G=S+(O^I&(v^O))+k[3]+4107603335&4294967295,S=v+(G<<14&4294967295|G>>>18),G=I+(v^O&(S^v))+k[8]+1163531501&4294967295,I=S+(G<<20&4294967295|G>>>12),G=O+(S^v&(I^S))+k[13]+2850285829&4294967295,O=I+(G<<5&4294967295|G>>>27),G=v+(I^S&(O^I))+k[2]+4243563512&4294967295,v=O+(G<<9&4294967295|G>>>23),G=S+(O^I&(v^O))+k[7]+1735328473&4294967295,S=v+(G<<14&4294967295|G>>>18),G=I+(v^O&(S^v))+k[12]+2368359562&4294967295,I=S+(G<<20&4294967295|G>>>12),G=O+(I^S^v)+k[5]+4294588738&4294967295,O=I+(G<<4&4294967295|G>>>28),G=v+(O^I^S)+k[8]+2272392833&4294967295,v=O+(G<<11&4294967295|G>>>21),G=S+(v^O^I)+k[11]+1839030562&4294967295,S=v+(G<<16&4294967295|G>>>16),G=I+(S^v^O)+k[14]+4259657740&4294967295,I=S+(G<<23&4294967295|G>>>9),G=O+(I^S^v)+k[1]+2763975236&4294967295,O=I+(G<<4&4294967295|G>>>28),G=v+(O^I^S)+k[4]+1272893353&4294967295,v=O+(G<<11&4294967295|G>>>21),G=S+(v^O^I)+k[7]+4139469664&4294967295,S=v+(G<<16&4294967295|G>>>16),G=I+(S^v^O)+k[10]+3200236656&4294967295,I=S+(G<<23&4294967295|G>>>9),G=O+(I^S^v)+k[13]+681279174&4294967295,O=I+(G<<4&4294967295|G>>>28),G=v+(O^I^S)+k[0]+3936430074&4294967295,v=O+(G<<11&4294967295|G>>>21),G=S+(v^O^I)+k[3]+3572445317&4294967295,S=v+(G<<16&4294967295|G>>>16),G=I+(S^v^O)+k[6]+76029189&4294967295,I=S+(G<<23&4294967295|G>>>9),G=O+(I^S^v)+k[9]+3654602809&4294967295,O=I+(G<<4&4294967295|G>>>28),G=v+(O^I^S)+k[12]+3873151461&4294967295,v=O+(G<<11&4294967295|G>>>21),G=S+(v^O^I)+k[15]+530742520&4294967295,S=v+(G<<16&4294967295|G>>>16),G=I+(S^v^O)+k[2]+3299628645&4294967295,I=S+(G<<23&4294967295|G>>>9),G=O+(S^(I|~v))+k[0]+4096336452&4294967295,O=I+(G<<6&4294967295|G>>>26),G=v+(I^(O|~S))+k[7]+1126891415&4294967295,v=O+(G<<10&4294967295|G>>>22),G=S+(O^(v|~I))+k[14]+2878612391&4294967295,S=v+(G<<15&4294967295|G>>>17),G=I+(v^(S|~O))+k[5]+4237533241&4294967295,I=S+(G<<21&4294967295|G>>>11),G=O+(S^(I|~v))+k[12]+1700485571&4294967295,O=I+(G<<6&4294967295|G>>>26),G=v+(I^(O|~S))+k[3]+2399980690&4294967295,v=O+(G<<10&4294967295|G>>>22),G=S+(O^(v|~I))+k[10]+4293915773&4294967295,S=v+(G<<15&4294967295|G>>>17),G=I+(v^(S|~O))+k[1]+2240044497&4294967295,I=S+(G<<21&4294967295|G>>>11),G=O+(S^(I|~v))+k[8]+1873313359&4294967295,O=I+(G<<6&4294967295|G>>>26),G=v+(I^(O|~S))+k[15]+4264355552&4294967295,v=O+(G<<10&4294967295|G>>>22),G=S+(O^(v|~I))+k[6]+2734768916&4294967295,S=v+(G<<15&4294967295|G>>>17),G=I+(v^(S|~O))+k[13]+1309151649&4294967295,I=S+(G<<21&4294967295|G>>>11),G=O+(S^(I|~v))+k[4]+4149444226&4294967295,O=I+(G<<6&4294967295|G>>>26),G=v+(I^(O|~S))+k[11]+3174756917&4294967295,v=O+(G<<10&4294967295|G>>>22),G=S+(O^(v|~I))+k[2]+718787259&4294967295,S=v+(G<<15&4294967295|G>>>17),G=I+(v^(S|~O))+k[9]+3951481745&4294967295,y.g[0]=y.g[0]+O&4294967295,y.g[1]=y.g[1]+(S+(G<<21&4294967295|G>>>11))&4294967295,y.g[2]=y.g[2]+S&4294967295,y.g[3]=y.g[3]+v&4294967295}$.prototype.u=function(y,O){O===void 0&&(O=y.length);for(var I=O-this.blockSize,k=this.B,S=this.h,v=0;v<O;){if(S==0)for(;v<=I;)V(this,y,v),v+=this.blockSize;if(typeof y==="string"){for(;v<O;)if(k[S++]=y.charCodeAt(v++),S==this.blockSize){V(this,k),S=0;break}}else for(;v<O;)if(k[S++]=y[v++],S==this.blockSize){V(this,k),S=0;break}}this.h=S,this.o+=O},$.prototype.v=function(){var y=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);y[0]=128;for(var O=1;O<y.length-8;++O)y[O]=0;var I=8*this.o;for(O=y.length-8;O<y.length;++O)y[O]=I&255,I/=256;this.u(y),y=Array(16);for(O=I=0;4>O;++O)for(var k=0;32>k;k+=8)y[I++]=this.g[O]>>>k&255;return y};function z(y,O){var I=x;return Object.prototype.hasOwnProperty.call(I,y)?I[y]:I[y]=O(y)}function B(y,O){this.h=O;for(var I=[],k=!0,S=y.length-1;0<=S;S--){var v=y[S]|0;k&&v==O||(I[S]=v,k=!1)}this.g=I}var x={};function j(y){return-128<=y&&128>y?z(y,function(O){return new B([O|0],0>O?-1:0)}):new B([y|0],0>y?-1:0)}function R(y){if(isNaN(y)||!isFinite(y))return f;if(0>y)return u(R(-y));for(var O=[],I=1,k=0;y>=I;k++)O[k]=y/I|0,I*=4294967296;return new B(O,0)}function H(y,O){if(y.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(y.charAt(0)=="-")return u(H(y.substring(1),O));if(0<=y.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=R(Math.pow(O,8)),k=f,S=0;S<y.length;S+=8){var v=Math.min(8,y.length-S),G=parseInt(y.substring(S,S+v),O);8>v?(v=R(Math.pow(O,v)),k=k.j(v).add(R(G))):(k=k.j(I),k=k.add(R(G)))}return k}var f=j(0),K=j(1),l=j(16777216);Z=B.prototype,Z.m=function(){if(P(this))return-u(this).m();for(var y=0,O=1,I=0;I<this.g.length;I++){var k=this.i(I);y+=(0<=k?k:4294967296+k)*O,O*=4294967296}return y},Z.toString=function(y){if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(_(this))return"0";if(P(this))return"-"+u(this).toString(y);for(var O=R(Math.pow(y,6)),I=this,k="";;){var S=x0(I,O).g;I=m(I,S.j(O));var v=((0<I.g.length?I.g[0]:I.h)>>>0).toString(y);if(I=S,_(I))return v+k;for(;6>v.length;)v="0"+v;k=v+k}},Z.i=function(y){return 0>y?0:y<this.g.length?this.g[y]:this.h};function _(y){if(y.h!=0)return!1;for(var O=0;O<y.g.length;O++)if(y.g[O]!=0)return!1;return!0}function P(y){return y.h==-1}Z.l=function(y){return y=m(this,y),P(y)?-1:_(y)?0:1};function u(y){for(var O=y.g.length,I=[],k=0;k<O;k++)I[k]=~y.g[k];return new B(I,~y.h).add(K)}Z.abs=function(){return P(this)?u(this):this},Z.add=function(y){for(var O=Math.max(this.g.length,y.g.length),I=[],k=0,S=0;S<=O;S++){var v=k+(this.i(S)&65535)+(y.i(S)&65535),G=(v>>>16)+(this.i(S)>>>16)+(y.i(S)>>>16);k=G>>>16,v&=65535,G&=65535,I[S]=G<<16|v}return new B(I,I[I.length-1]&-2147483648?-1:0)};function m(y,O){return y.add(u(O))}Z.j=function(y){if(_(this)||_(y))return f;if(P(this))return P(y)?u(this).j(u(y)):u(u(this).j(y));if(P(y))return u(this.j(u(y)));if(0>this.l(l)&&0>y.l(l))return R(this.m()*y.m());for(var O=this.g.length+y.g.length,I=[],k=0;k<2*O;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var S=0;S<y.g.length;S++){var v=this.i(k)>>>16,G=this.i(k)&65535,g0=y.i(S)>>>16,W8=y.i(S)&65535;I[2*k+2*S]+=G*W8,g(I,2*k+2*S),I[2*k+2*S+1]+=v*W8,g(I,2*k+2*S+1),I[2*k+2*S+1]+=G*g0,g(I,2*k+2*S+1),I[2*k+2*S+2]+=v*g0,g(I,2*k+2*S+2)}for(k=0;k<O;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=O;k<2*O;k++)I[k]=0;return new B(I,0)};function g(y,O){for(;(y[O]&65535)!=y[O];)y[O+1]+=y[O]>>>16,y[O]&=65535,O++}function E(y,O){this.g=y,this.h=O}function x0(y,O){if(_(O))throw Error("division by zero");if(_(y))return new E(f,f);if(P(y))return O=x0(u(y),O),new E(u(O.g),u(O.h));if(P(O))return O=x0(y,u(O)),new E(u(O.g),O.h);if(30<y.g.length){if(P(y)||P(O))throw Error("slowDivide_ only works with positive integers.");for(var I=K,k=O;0>=k.l(y);)I=P0(I),k=P0(k);var S=p0(I,1),v=p0(k,1);k=p0(k,2);for(I=p0(I,2);!_(k);){var G=v.add(k);0>=G.l(y)&&(S=S.add(I),v=G),k=p0(k,1),I=p0(I,1)}return O=m(y,S.j(O)),new E(S,O)}for(S=f;0<=y.l(O);){I=Math.max(1,Math.floor(y.m()/O.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),v=R(I);for(G=v.j(O);P(G)||0<G.l(y);)I-=k,v=R(I),G=v.j(O);_(v)&&(v=K),S=S.add(v),y=m(y,G)}return new E(S,y)}Z.A=function(y){return x0(this,y).h},Z.and=function(y){for(var O=Math.max(this.g.length,y.g.length),I=[],k=0;k<O;k++)I[k]=this.i(k)&y.i(k);return new B(I,this.h&y.h)},Z.or=function(y){for(var O=Math.max(this.g.length,y.g.length),I=[],k=0;k<O;k++)I[k]=this.i(k)|y.i(k);return new B(I,this.h|y.h)},Z.xor=function(y){for(var O=Math.max(this.g.length,y.g.length),I=[],k=0;k<O;k++)I[k]=this.i(k)^y.i(k);return new B(I,this.h^y.h)};function P0(y){for(var O=y.g.length+1,I=[],k=0;k<O;k++)I[k]=y.i(k)<<1|y.i(k-1)>>>31;return new B(I,y.h)}function p0(y,O){var I=O>>5;O%=32;for(var k=y.g.length-I,S=[],v=0;v<k;v++)S[v]=0<O?y.i(v+I)>>>O|y.i(v+I+1)<<32-O:y.i(v+I);return new B(S,y.h)}$.prototype.digest=$.prototype.v,$.prototype.reset=$.prototype.s,$.prototype.update=$.prototype.u,h7=B7.Md5=$,B.prototype.add=B.prototype.add,B.prototype.multiply=B.prototype.j,B.prototype.modulo=B.prototype.A,B.prototype.compare=B.prototype.l,B.prototype.toNumber=B.prototype.m,B.prototype.toString=B.prototype.toString,B.prototype.getBits=B.prototype.i,B.fromNumber=R,B.fromString=H,h4=B7.Integer=B}).apply(typeof q7!=="undefined"?q7:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});var b2=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{},Q1={},x4,F4,b1,j4,n8,c2,R4,O4,G4;(function(){var Z,Q=typeof Object.defineProperties=="function"?Object.defineProperty:function(X,W,h){if(X==Array.prototype||X==Object.prototype)return X;return X[W]=h.value,X};function J(X){X=[typeof globalThis=="object"&&globalThis,X,typeof window=="object"&&window,typeof self=="object"&&self,typeof b2=="object"&&b2];for(var W=0;W<X.length;++W){var h=X[W];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var $=J(this);function V(X,W){if(W)Z:{var h=$;X=X.split(".");for(var F=0;F<X.length-1;F++){var L=X[F];if(!(L in h))break Z;h=h[L]}X=X[X.length-1],F=h[X],W=W(F),W!=F&&W!=null&&Q(h,X,{configurable:!0,writable:!0,value:W})}}function z(X,W){X instanceof String&&(X+="");var h=0,F=!1,L={next:function(){if(!F&&h<X.length){var Y=h++;return{value:W(Y,X[Y]),done:!1}}return F=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}V("Array.prototype.values",function(X){return X?X:function(){return z(this,function(W,h){return h})}});var B=B||{},x=this||self;function j(X){var W=typeof X;return W=W!="object"?W:X?Array.isArray(X)?"array":W:"null",W=="array"||W=="object"&&typeof X.length=="number"}function R(X){var W=typeof X;return W=="object"&&X!=null||W=="function"}function H(X,W,h){return X.call.apply(X.bind,arguments)}function f(X,W,h){if(!X)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,F),X.apply(W,L)}}return function(){return X.apply(W,arguments)}}function K(X,W,h){return K=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?H:f,K.apply(null,arguments)}function l(X,W){var h=Array.prototype.slice.call(arguments,1);return function(){var F=h.slice();return F.push.apply(F,arguments),X.apply(this,F)}}function _(X,W){function h(){}h.prototype=W.prototype,X.aa=W.prototype,X.prototype=new h,X.prototype.constructor=X,X.Qb=function(F,L,Y){for(var p=Array(arguments.length-2),t=2;t<arguments.length;t++)p[t-2]=arguments[t];return W.prototype[L].apply(F,p)}}function P(X){let W=X.length;if(0<W){let h=Array(W);for(let F=0;F<W;F++)h[F]=X[F];return h}return[]}function u(X,W){for(let h=1;h<arguments.length;h++){let F=arguments[h];if(j(F)){let L=X.length||0,Y=F.length||0;X.length=L+Y;for(let p=0;p<Y;p++)X[L+p]=F[p]}else X.push(F)}}class m{constructor(X,W){this.i=X,this.j=W,this.h=0,this.g=null}get(){let X;return 0<this.h?(this.h--,X=this.g,this.g=X.next,X.next=null):X=this.i(),X}}function g(X){return/^[\s\xa0]*$/.test(X)}function E(){var X=x.navigator;return X&&(X=X.userAgent)?X:""}function x0(X){return x0[" "](X),X}x0[" "]=function(){};var P0=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function p0(X,W,h){for(let F in X)W.call(h,X[F],F,X)}function y(X,W){for(let h in X)W.call(void 0,X[h],h,X)}function O(X){let W={};for(let h in X)W[h]=X[h];return W}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(X,W){let h,F;for(let L=1;L<arguments.length;L++){F=arguments[L];for(h in F)X[h]=F[h];for(let Y=0;Y<I.length;Y++)h=I[Y],Object.prototype.hasOwnProperty.call(F,h)&&(X[h]=F[h])}}function S(X){var W=1;X=X.split(":");let h=[];for(;0<W&&X.length;)h.push(X.shift()),W--;return X.length&&h.push(X.join(":")),h}function v(X){x.setTimeout(()=>{throw X},0)}function G(){var X=j6;let W=null;return X.g&&(W=X.g,X.g=X.g.next,X.g||(X.h=null),W.next=null),W}class g0{constructor(){this.h=this.g=null}add(X,W){let h=W8.get();h.set(X,W),this.h?this.h.next=h:this.g=h,this.h=h}}var W8=new m(()=>new v9,(X)=>X.reset());class v9{constructor(){this.next=this.g=this.h=null}set(X,W){this.h=X,this.g=W,this.next=null}reset(){this.next=this.g=this.h=null}}let U8,q8=!1,j6=new g0,H9=()=>{let X=x.Promise.resolve(void 0);U8=()=>{X.then(_5)}};var _5=()=>{for(var X;X=G();){try{X.h.call(X.g)}catch(h){v(h)}var W=W8;W.j(X),100>W.h&&(W.h++,X.next=W.g,W.g=X)}q8=!1};function w1(){this.s=this.s,this.C=this.C}w1.prototype.s=!1,w1.prototype.ma=function(){this.s||(this.s=!0,this.N())},w1.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G0(X,W){this.type=X,this.g=this.target=W,this.defaultPrevented=!1}G0.prototype.h=function(){this.defaultPrevented=!0};var P5=function(){if(!x.addEventListener||!Object.defineProperty)return!1;var X=!1,W=Object.defineProperty({},"passive",{get:function(){X=!0}});try{let h=()=>{};x.addEventListener("test",h,W),x.removeEventListener("test",h,W)}catch(h){}return X}();function B8(X,W){if(G0.call(this,X?X.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,X){var h=this.type=X.type,F=X.changedTouches&&X.changedTouches.length?X.changedTouches[0]:null;if(this.target=X.target||X.srcElement,this.g=W,W=X.relatedTarget){if(P0){Z:{try{x0(W.nodeName);var L=!0;break Z}catch(Y){}L=!1}L||(W=null)}}else h=="mouseover"?W=X.fromElement:h=="mouseout"&&(W=X.toElement);this.relatedTarget=W,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0),this.button=X.button,this.key=X.key||"",this.ctrlKey=X.ctrlKey,this.altKey=X.altKey,this.shiftKey=X.shiftKey,this.metaKey=X.metaKey,this.pointerId=X.pointerId||0,this.pointerType=typeof X.pointerType==="string"?X.pointerType:M5[X.pointerType]||"",this.state=X.state,this.i=X,X.defaultPrevented&&B8.aa.h.call(this)}}_(B8,G0);var M5={2:"touch",3:"pen",4:"mouse"};B8.prototype.h=function(){B8.aa.h.call(this);var X=this.i;X.preventDefault?X.preventDefault():X.returnValue=!1};var h8="closure_listenable_"+(1e6*Math.random()|0),l5=0;function u5(X,W,h,F,L){this.listener=X,this.proxy=null,this.src=W,this.type=h,this.capture=!!F,this.ha=L,this.key=++l5,this.da=this.fa=!1}function k2(X){X.da=!0,X.listener=null,X.proxy=null,X.src=null,X.ha=null}function S2(X){this.src=X,this.g={},this.h=0}S2.prototype.add=function(X,W,h,F,L){var Y=X.toString();X=this.g[Y],X||(X=this.g[Y]=[],this.h++);var p=O6(X,W,F,L);return-1<p?(W=X[p],h||(W.fa=!1)):(W=new u5(W,this.src,Y,!!F,L),W.fa=h,X.push(W)),W};function R6(X,W){var h=W.type;if(h in X.g){var F=X.g[h],L=Array.prototype.indexOf.call(F,W,void 0),Y;(Y=0<=L)&&Array.prototype.splice.call(F,L,1),Y&&(k2(W),X.g[h].length==0&&(delete X.g[h],X.h--))}}function O6(X,W,h,F){for(var L=0;L<X.length;++L){var Y=X[L];if(!Y.da&&Y.listener==W&&Y.capture==!!h&&Y.ha==F)return L}return-1}var G6="closure_lm_"+(1e6*Math.random()|0),I6={};function Y9(X,W,h,F,L){if(F&&F.once)return K9(X,W,h,F,L);if(Array.isArray(W)){for(var Y=0;Y<W.length;Y++)Y9(X,W[Y],h,F,L);return null}return h=L6(h),X&&X[h8]?X.K(W,h,R(F)?!!F.capture:!!F,L):f9(X,W,h,!1,F,L)}function f9(X,W,h,F,L,Y){if(!W)throw Error("Invalid event type");var p=R(L)?!!L.capture:!!L,t=S6(X);if(t||(X[G6]=t=new S2(X)),h=t.add(W,h,F,p,Y),h.proxy)return h;if(F=C5(),h.proxy=F,F.src=X,F.listener=h,X.addEventListener)P5||(L=p),L===void 0&&(L=!1),X.addEventListener(W.toString(),F,L);else if(X.attachEvent)X.attachEvent(T9(W.toString()),F);else if(X.addListener&&X.removeListener)X.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return h}function C5(){function X(h){return W.call(X.src,X.listener,h)}let W=m5;return X}function K9(X,W,h,F,L){if(Array.isArray(W)){for(var Y=0;Y<W.length;Y++)K9(X,W[Y],h,F,L);return null}return h=L6(h),X&&X[h8]?X.L(W,h,R(F)?!!F.capture:!!F,L):f9(X,W,h,!0,F,L)}function A9(X,W,h,F,L){if(Array.isArray(W))for(var Y=0;Y<W.length;Y++)A9(X,W[Y],h,F,L);else(F=R(F)?!!F.capture:!!F,h=L6(h),X&&X[h8])?(X=X.i,W=String(W).toString(),(W in X.g)&&(Y=X.g[W],h=O6(Y,h,F,L),-1<h&&(k2(Y[h]),Array.prototype.splice.call(Y,h,1),Y.length==0&&(delete X.g[W],X.h--)))):X&&(X=S6(X))&&(W=X.g[W.toString()],X=-1,W&&(X=O6(W,h,F,L)),(h=-1<X?W[X]:null)&&k6(h))}function k6(X){if(typeof X!=="number"&&X&&!X.da){var W=X.src;if(W&&W[h8])R6(W.i,X);else{var{type:h,proxy:F}=X;W.removeEventListener?W.removeEventListener(h,F,X.capture):W.detachEvent?W.detachEvent(T9(h),F):W.addListener&&W.removeListener&&W.removeListener(F),(h=S6(W))?(R6(h,X),h.h==0&&(h.src=null,W[G6]=null)):k2(X)}}}function T9(X){return X in I6?I6[X]:I6[X]="on"+X}function m5(X,W){if(X.da)X=!0;else{W=new B8(W,this);var h=X.listener,F=X.ha||X.src;X.fa&&k6(X),X=h.call(F,W)}return X}function S6(X){return X=X[G6],X instanceof S2?X:null}var N6="__closure_events_fn_"+(1e9*Math.random()>>>0);function L6(X){if(typeof X==="function")return X;return X[N6]||(X[N6]=function(W){return X.handleEvent(W)}),X[N6]}function I0(){w1.call(this),this.i=new S2(this),this.M=this,this.F=null}_(I0,w1),I0.prototype[h8]=!0,I0.prototype.removeEventListener=function(X,W,h,F){A9(this,X,W,h,F)};function H0(X,W){var h,F=X.F;if(F)for(h=[];F;F=F.F)h.push(F);if(X=X.M,F=W.type||W,typeof W==="string")W=new G0(W,X);else if(W instanceof G0)W.target=W.target||X;else{var L=W;W=new G0(F,X),k(W,L)}if(L=!0,h)for(var Y=h.length-1;0<=Y;Y--){var p=W.g=h[Y];L=N2(p,F,!0,W)&&L}if(p=W.g=X,L=N2(p,F,!0,W)&&L,L=N2(p,F,!1,W)&&L,h)for(Y=0;Y<h.length;Y++)p=W.g=h[Y],L=N2(p,F,!1,W)&&L}I0.prototype.N=function(){if(I0.aa.N.call(this),this.i){var X=this.i,W;for(W in X.g){for(var h=X.g[W],F=0;F<h.length;F++)k2(h[F]);delete X.g[W],X.h--}}this.F=null},I0.prototype.K=function(X,W,h,F){return this.i.add(String(X),W,!1,h,F)},I0.prototype.L=function(X,W,h,F){return this.i.add(String(X),W,!0,h,F)};function N2(X,W,h,F){if(W=X.i.g[String(W)],!W)return!0;W=W.concat();for(var L=!0,Y=0;Y<W.length;++Y){var p=W[Y];if(p&&!p.da&&p.capture==h){var t=p.listener,F0=p.ha||p.src;p.fa&&R6(X.i,p),L=t.call(F0,F)!==!1&&L}}return L&&!F.defaultPrevented}function p9(X,W,h){if(typeof X==="function")h&&(X=K(X,h));else if(X&&typeof X.handleEvent=="function")X=K(X.handleEvent,X);else throw Error("Invalid listener argument");return 2147483647<Number(W)?-1:x.setTimeout(X,W||0)}function _9(X){X.g=p9(()=>{X.g=null,X.i&&(X.i=!1,_9(X))},X.l);let W=X.h;X.h=null,X.m.apply(null,W)}class P9 extends w1{constructor(X,W){super();this.m=X,this.l=W,this.h=null,this.i=!1,this.g=null}j(X){this.h=arguments,this.g?this.i=!0:_9(this)}N(){super.N(),this.g&&(x.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function x8(X){w1.call(this),this.h=X,this.g={}}_(x8,w1);var M9=[];function l9(X){p0(X.g,function(W,h){this.g.hasOwnProperty(h)&&k6(W)},X),X.g={}}x8.prototype.N=function(){x8.aa.N.call(this),l9(this)},x8.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var y6=x.JSON.stringify,r5=x.JSON.parse,i5=class{stringify(X){return x.JSON.stringify(X,void 0)}parse(X){return x.JSON.parse(X,void 0)}};function v6(){}v6.prototype.h=null;function u9(X){return X.h||(X.h=X.i())}function C9(){}var F8={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function H6(){G0.call(this,"d")}_(H6,G0);function Y6(){G0.call(this,"c")}_(Y6,G0);var y1={},m9=null;function L2(){return m9=m9||new I0}y1.La="serverreachability";function r9(X){G0.call(this,y1.La,X)}_(r9,G0);function j8(X){let W=L2();H0(W,new r9(W))}y1.STAT_EVENT="statevent";function i9(X,W){G0.call(this,y1.STAT_EVENT,X),this.stat=W}_(i9,G0);function Y0(X){let W=L2();H0(W,new i9(W,X))}y1.Ma="timingevent";function g9(X,W){G0.call(this,y1.Ma,X),this.size=W}_(g9,G0);function R8(X,W){if(typeof X!=="function")throw Error("Fn must not be null and must be a function");return x.setTimeout(function(){X()},W)}function O8(){this.g=!0}O8.prototype.xa=function(){this.g=!1};function g5(X,W,h,F,L,Y){X.info(function(){if(X.g)if(Y){var p="";for(var t=Y.split("&"),F0=0;F0<t.length;F0++){var d=t[F0].split("=");if(1<d.length){var k0=d[0];d=d[1];var S0=k0.split("_");p=2<=S0.length&&S0[1]=="type"?p+(k0+"="+d+"&"):p+(k0+"=redacted&")}}}else p=null;else p=Y;return"XMLHTTP REQ ("+F+") [attempt "+L+"]: "+W+`
`+h+`
`+p})}function D5(X,W,h,F,L,Y,p){X.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+L+"]: "+W+`
`+h+`
`+Y+" "+p})}function C1(X,W,h,F){X.info(function(){return"XMLHTTP TEXT ("+W+"): "+s5(X,h)+(F?" "+F:"")})}function n5(X,W){X.info(function(){return"TIMEOUT: "+W})}O8.prototype.info=function(){};function s5(X,W){if(!X.g)return W;if(!W)return null;try{var h=JSON.parse(W);if(h){for(X=0;X<h.length;X++)if(Array.isArray(h[X])){var F=h[X];if(!(2>F.length)){var L=F[1];if(Array.isArray(L)&&!(1>L.length)){var Y=L[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var p=1;p<L.length;p++)L[p]=""}}}}return y6(h)}catch(t){return W}}var y2={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},D9={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},f6;function v2(){}_(v2,v6),v2.prototype.g=function(){return new XMLHttpRequest},v2.prototype.i=function(){return{}},f6=new v2;function z1(X,W,h,F){this.j=X,this.i=W,this.l=h,this.R=F||1,this.U=new x8(this),this.I=45000,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new n9}function n9(){this.i=null,this.g="",this.h=!1}var s9={},K6={};function A6(X,W,h){X.L=1,X.v=K2(E0(W)),X.m=h,X.P=!0,b9(X,null)}function b9(X,W){X.F=Date.now(),H2(X),X.A=E0(X.v);var{A:h,R:F}=X;Array.isArray(F)||(F=[String(F)]),wZ(h.i,"t",F),X.C=0,h=X.j.J,X.h=new n9,X.g=yZ(X.j,h?W:null,!X.m),0<X.O&&(X.M=new P9(K(X.Y,X,X.g),X.O)),W=X.U,h=X.g,F=X.ca;var L="readystatechange";Array.isArray(L)||(L&&(M9[0]=L.toString()),L=M9);for(var Y=0;Y<L.length;Y++){var p=Y9(h,L[Y],F||W.handleEvent,!1,W.h||W);if(!p)break;W.g[p.key]=p}W=X.H?O(X.H):{},X.m?(X.u||(X.u="POST"),W["Content-Type"]="application/x-www-form-urlencoded",X.g.ea(X.A,X.u,X.m,W)):(X.u="GET",X.g.ea(X.A,X.u,null,W)),j8(),g5(X.i,X.u,X.A,X.l,X.R,X.m)}z1.prototype.ca=function(X){X=X.target;let W=this.M;W&&t0(X)==3?W.j():this.Y(X)},z1.prototype.Y=function(X){try{if(X==this.g)Z:{let S0=t0(this.g);var W=this.g.Ba();let i1=this.g.Z();if(!(3>S0)&&(S0!=3||this.g&&(this.h.h||this.g.oa()||xZ(this.g)))){this.J||S0!=4||W==7||(W==8||0>=i1?j8(3):j8(2)),T6(this);var h=this.g.Z();this.X=h;Q:if(c9(this)){var F=xZ(this.g);X="";var L=F.length,Y=t0(this.g)==4;if(!this.h.i){if(typeof TextDecoder==="undefined"){v1(this),G8(this);var p="";break Q}this.h.i=new x.TextDecoder}for(W=0;W<L;W++)this.h.h=!0,X+=this.h.i.decode(F[W],{stream:!(Y&&W==L-1)});F.length=0,this.h.g+=X,this.C=0,p=this.h.g}else p=this.g.oa();if(this.o=h==200,D5(this.i,this.u,this.A,this.l,this.R,S0,h),this.o){if(this.T&&!this.K){Q:{if(this.g){var t,F0=this.g;if((t=F0.g?F0.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(t)){var d=t;break Q}}d=null}if(h=d)C1(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,p6(this,h);else{this.o=!1,this.s=3,Y0(12),v1(this),G8(this);break Z}}if(this.P){h=!0;let C0;for(;!this.J&&this.C<p.length;)if(C0=b5(this,p),C0==K6){S0==4&&(this.s=4,Y0(14),h=!1),C1(this.i,this.l,null,"[Incomplete Response]");break}else if(C0==s9){this.s=4,Y0(15),C1(this.i,this.l,p,"[Invalid Chunk]"),h=!1;break}else C1(this.i,this.l,C0,null),p6(this,C0);if(c9(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),S0!=4||p.length!=0||this.h.h||(this.s=1,Y0(16),h=!1),this.o=this.o&&h,!h)C1(this.i,this.l,p,"[Invalid Chunked Response]"),v1(this),G8(this);else if(0<p.length&&!this.W){this.W=!0;var k0=this.j;k0.g==this&&k0.ba&&!k0.M&&(k0.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),C6(k0),k0.M=!0,Y0(11))}}else C1(this.i,this.l,p,null),p6(this,p);S0==4&&v1(this),this.o&&!this.J&&(S0==4?kZ(this.j,this):(this.o=!1,H2(this)))}else UJ(this.g),h==400&&0<p.indexOf("Unknown SID")?(this.s=3,Y0(12)):(this.s=0,Y0(13)),v1(this),G8(this)}}}catch(S0){}finally{}};function c9(X){return X.g?X.u=="GET"&&X.L!=2&&X.j.Ca:!1}function b5(X,W){var h=X.C,F=W.indexOf(`
`,h);if(F==-1)return K6;if(h=Number(W.substring(h,F)),isNaN(h))return s9;if(F+=1,F+h>W.length)return K6;return W=W.slice(F,F+h),X.C=F+h,W}z1.prototype.cancel=function(){this.J=!0,v1(this)};function H2(X){X.S=Date.now()+X.I,d9(X,X.I)}function d9(X,W){if(X.B!=null)throw Error("WatchDog timer not null");X.B=R8(K(X.ba,X),W)}function T6(X){X.B&&(x.clearTimeout(X.B),X.B=null)}z1.prototype.ba=function(){this.B=null;let X=Date.now();0<=X-this.S?(n5(this.i,this.A),this.L!=2&&(j8(),Y0(17)),v1(this),this.s=2,G8(this)):d9(this,this.S-X)};function G8(X){X.j.G==0||X.J||kZ(X.j,X)}function v1(X){T6(X);var W=X.M;W&&typeof W.ma=="function"&&W.ma(),X.M=null,l9(X.U),X.g&&(W=X.g,X.g=null,W.abort(),W.ma())}function p6(X,W){try{var h=X.j;if(h.G!=0&&(h.g==X||_6(h.h,X))){if(!X.K&&_6(h.h,X)&&h.G==3){try{var F=h.Da.g.parse(W)}catch(d){F=null}if(Array.isArray(F)&&F.length==3){var L=F;if(L[0]==0)Z:if(!h.u){if(h.g)if(h.g.F+3000<X.F)P2(h),p2(h);else break Z;u6(h),Y0(18)}else h.za=L[1],0<h.za-h.T&&37500>L[2]&&h.F&&h.v==0&&!h.C&&(h.C=R8(K(h.Za,h),6000));if(1>=o9(h.h)&&h.ca){try{h.ca()}catch(d){}h.ca=void 0}}else Y1(h,11)}else if((X.K||h.g==X)&&P2(h),!g(W))for(L=h.Da.g.parse(W),W=0;W<L.length;W++){let d=L[W];if(h.T=d[0],d=d[1],h.G==2)if(d[0]=="c"){h.K=d[1],h.ia=d[2];let k0=d[3];k0!=null&&(h.la=k0,h.j.info("VER="+h.la));let S0=d[4];S0!=null&&(h.Aa=S0,h.j.info("SVER="+h.Aa));let i1=d[5];i1!=null&&typeof i1==="number"&&0<i1&&(F=1.5*i1,h.L=F,h.j.info("backChannelRequestTimeoutMs_="+F)),F=h;let C0=X.g;if(C0){let l2=C0.g?C0.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l2){var Y=F.h;Y.g||l2.indexOf("spdy")==-1&&l2.indexOf("quic")==-1&&l2.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(P6(Y,Y.h),Y.h=null))}if(F.D){let m6=C0.g?C0.g.getResponseHeader("X-HTTP-Session-Id"):null;m6&&(F.ya=m6,Z0(F.I,F.D,m6))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-X.F,h.j.info("Handshake RTT: "+h.R+"ms")),F=h;var p=X;if(F.qa=LZ(F,F.J?F.ia:null,F.W),p.K){a9(F.h,p);var t=p,F0=F.L;F0&&(t.I=F0),t.B&&(T6(t),H2(t)),F.g=p}else GZ(F);0<h.i.length&&_2(h)}else d[0]!="stop"&&d[0]!="close"||Y1(h,7);else h.G==3&&(d[0]=="stop"||d[0]=="close"?d[0]=="stop"?Y1(h,7):l6(h):d[0]!="noop"&&h.l&&h.l.ta(d),h.v=0)}}j8(4)}catch(d){}}var c5=class{constructor(X,W){this.g=X,this.map=W}};function E9(X){this.l=X||10,x.PerformanceNavigationTiming?(X=x.performance.getEntriesByType("navigation"),X=0<X.length&&(X[0].nextHopProtocol=="hq"||X[0].nextHopProtocol=="h2")):X=!!(x.chrome&&x.chrome.loadTimes&&x.chrome.loadTimes()&&x.chrome.loadTimes().wasFetchedViaSpdy),this.j=X?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function t9(X){return X.h?!0:X.g?X.g.size>=X.j:!1}function o9(X){return X.h?1:X.g?X.g.size:0}function _6(X,W){return X.h?X.h==W:X.g?X.g.has(W):!1}function P6(X,W){X.g?X.g.add(W):X.h=W}function a9(X,W){X.h&&X.h==W?X.h=null:X.g&&X.g.has(W)&&X.g.delete(W)}E9.prototype.cancel=function(){if(this.i=e9(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let X of this.g.values())X.cancel();this.g.clear()}};function e9(X){if(X.h!=null)return X.i.concat(X.h.D);if(X.g!=null&&X.g.size!==0){let W=X.i;for(let h of X.g.values())W=W.concat(h.D);return W}return P(X.i)}function d5(X){if(X.V&&typeof X.V=="function")return X.V();if(typeof Map!=="undefined"&&X instanceof Map||typeof Set!=="undefined"&&X instanceof Set)return Array.from(X.values());if(typeof X==="string")return X.split("");if(j(X)){for(var W=[],h=X.length,F=0;F<h;F++)W.push(X[F]);return W}W=[],h=0;for(F in X)W[h++]=X[F];return W}function E5(X){if(X.na&&typeof X.na=="function")return X.na();if(!X.V||typeof X.V!="function"){if(typeof Map!=="undefined"&&X instanceof Map)return Array.from(X.keys());if(!(typeof Set!=="undefined"&&X instanceof Set)){if(j(X)||typeof X==="string"){var W=[];X=X.length;for(var h=0;h<X;h++)W.push(h);return W}W=[],h=0;for(let F in X)W[h++]=F;return W}}}function ZZ(X,W){if(X.forEach&&typeof X.forEach=="function")X.forEach(W,void 0);else if(j(X)||typeof X==="string")Array.prototype.forEach.call(X,W,void 0);else for(var h=E5(X),F=d5(X),L=F.length,Y=0;Y<L;Y++)W.call(void 0,F[Y],h&&h[Y],X)}var QZ=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function t5(X,W){if(X){X=X.split("&");for(var h=0;h<X.length;h++){var F=X[h].indexOf("="),L=null;if(0<=F){var Y=X[h].substring(0,F);L=X[h].substring(F+1)}else Y=X[h];W(Y,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function H1(X){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,X instanceof H1){this.h=X.h,Y2(this,X.j),this.o=X.o,this.g=X.g,f2(this,X.s),this.l=X.l;var W=X.i,h=new S8;h.i=W.i,W.g&&(h.g=new Map(W.g),h.h=W.h),JZ(this,h),this.m=X.m}else X&&(W=String(X).match(QZ))?(this.h=!1,Y2(this,W[1]||"",!0),this.o=I8(W[2]||""),this.g=I8(W[3]||"",!0),f2(this,W[4]),this.l=I8(W[5]||"",!0),JZ(this,W[6]||"",!0),this.m=I8(W[7]||"")):(this.h=!1,this.i=new S8(null,this.h))}H1.prototype.toString=function(){var X=[],W=this.j;W&&X.push(k8(W,XZ,!0),":");var h=this.g;if(h||W=="file")X.push("//"),(W=this.o)&&X.push(k8(W,XZ,!0),"@"),X.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&X.push(":",String(h));if(h=this.l)this.g&&h.charAt(0)!="/"&&X.push("/"),X.push(k8(h,h.charAt(0)=="/"?e5:a5,!0));return(h=this.i.toString())&&X.push("?",h),(h=this.m)&&X.push("#",k8(h,QJ)),X.join("")};function E0(X){return new H1(X)}function Y2(X,W,h){X.j=h?I8(W,!0):W,X.j&&(X.j=X.j.replace(/:$/,""))}function f2(X,W){if(W){if(W=Number(W),isNaN(W)||0>W)throw Error("Bad port number "+W);X.s=W}else X.s=null}function JZ(X,W,h){W instanceof S8?(X.i=W,JJ(X.i,X.h)):(h||(W=k8(W,ZJ)),X.i=new S8(W,X.h))}function Z0(X,W,h){X.i.set(W,h)}function K2(X){return Z0(X,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),X}function I8(X,W){return X?W?decodeURI(X.replace(/%25/g,"%2525")):decodeURIComponent(X):""}function k8(X,W,h){return typeof X==="string"?(X=encodeURI(X).replace(W,o5),h&&(X=X.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),X):null}function o5(X){return X=X.charCodeAt(0),"%"+(X>>4&15).toString(16)+(X&15).toString(16)}var XZ=/[#\/\?@]/g,a5=/[#\?:]/g,e5=/[#\?]/g,ZJ=/[#\?@]/g,QJ=/#/g;function S8(X,W){this.h=this.g=null,this.i=X||null,this.j=!!W}function W1(X){X.g||(X.g=new Map,X.h=0,X.i&&t5(X.i,function(W,h){X.add(decodeURIComponent(W.replace(/\+/g," ")),h)}))}Z=S8.prototype,Z.add=function(X,W){W1(this),this.i=null,X=m1(this,X);var h=this.g.get(X);return h||this.g.set(X,h=[]),h.push(W),this.h+=1,this};function $Z(X,W){W1(X),W=m1(X,W),X.g.has(W)&&(X.i=null,X.h-=X.g.get(W).length,X.g.delete(W))}function VZ(X,W){return W1(X),W=m1(X,W),X.g.has(W)}Z.forEach=function(X,W){W1(this),this.g.forEach(function(h,F){h.forEach(function(L){X.call(W,L,F,this)},this)},this)},Z.na=function(){W1(this);let X=Array.from(this.g.values()),W=Array.from(this.g.keys()),h=[];for(let F=0;F<W.length;F++){let L=X[F];for(let Y=0;Y<L.length;Y++)h.push(W[F])}return h},Z.V=function(X){W1(this);let W=[];if(typeof X==="string")VZ(this,X)&&(W=W.concat(this.g.get(m1(this,X))));else{X=Array.from(this.g.values());for(let h=0;h<X.length;h++)W=W.concat(X[h])}return W},Z.set=function(X,W){return W1(this),this.i=null,X=m1(this,X),VZ(this,X)&&(this.h-=this.g.get(X).length),this.g.set(X,[W]),this.h+=1,this},Z.get=function(X,W){if(!X)return W;return X=this.V(X),0<X.length?String(X[0]):W};function wZ(X,W,h){$Z(X,W),0<h.length&&(X.i=null,X.g.set(m1(X,W),P(h)),X.h+=h.length)}Z.toString=function(){if(this.i)return this.i;if(!this.g)return"";let X=[],W=Array.from(this.g.keys());for(var h=0;h<W.length;h++){var F=W[h];let Y=encodeURIComponent(String(F)),p=this.V(F);for(F=0;F<p.length;F++){var L=Y;p[F]!==""&&(L+="="+encodeURIComponent(String(p[F]))),X.push(L)}}return this.i=X.join("&")};function m1(X,W){return W=String(W),X.j&&(W=W.toLowerCase()),W}function JJ(X,W){W&&!X.j&&(W1(X),X.i=null,X.g.forEach(function(h,F){var L=F.toLowerCase();F!=L&&($Z(this,F),wZ(this,L,h))},X)),X.j=W}function XJ(X,W){let h=new O8;if(x.Image){let F=new Image;F.onload=l(U1,h,"TestLoadImage: loaded",!0,W,F),F.onerror=l(U1,h,"TestLoadImage: error",!1,W,F),F.onabort=l(U1,h,"TestLoadImage: abort",!1,W,F),F.ontimeout=l(U1,h,"TestLoadImage: timeout",!1,W,F),x.setTimeout(function(){if(F.ontimeout)F.ontimeout()},1e4),F.src=X}else W(!1)}function $J(X,W){let h=new O8,F=new AbortController,L=setTimeout(()=>{F.abort(),U1(h,"TestPingServer: timeout",!1,W)},1e4);fetch(X,{signal:F.signal}).then((Y)=>{clearTimeout(L),Y.ok?U1(h,"TestPingServer: ok",!0,W):U1(h,"TestPingServer: server error",!1,W)}).catch(()=>{clearTimeout(L),U1(h,"TestPingServer: error",!1,W)})}function U1(X,W,h,F,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),F(h)}catch(Y){}}function VJ(){this.g=new i5}function wJ(X,W,h){let F=h||"";try{ZZ(X,function(L,Y){let p=L;R(L)&&(p=y6(L)),W.push(F+Y+"="+encodeURIComponent(p))})}catch(L){throw W.push(F+"type="+encodeURIComponent("_badmap")),L}}function N8(X){this.l=X.Ub||null,this.j=X.eb||!1}_(N8,v6),N8.prototype.g=function(){return new A2(this.l,this.j)},N8.prototype.i=function(X){return function(){return X}}({});function A2(X,W){I0.call(this),this.D=X,this.o=W,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(A2,I0),Z=A2.prototype,Z.open=function(X,W){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=X,this.A=W,this.readyState=1,y8(this)},Z.send=function(X){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let W={headers:this.u,method:this.B,credentials:this.m,cache:void 0};X&&(W.body=X),(this.D||x).fetch(new Request(this.A,W)).then(this.Sa.bind(this),this.ga.bind(this))},Z.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,L8(this)),this.readyState=0},Z.Sa=function(X){if(this.g&&(this.l=X,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=X.headers,this.readyState=2,y8(this)),this.g&&(this.readyState=3,y8(this),this.g)))if(this.responseType==="arraybuffer")X.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof x.ReadableStream!=="undefined"&&"body"in X){if(this.j=X.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zZ(this)}else X.text().then(this.Ra.bind(this),this.ga.bind(this))};function zZ(X){X.j.read().then(X.Pa.bind(X)).catch(X.ga.bind(X))}Z.Pa=function(X){if(this.g){if(this.o&&X.value)this.response.push(X.value);else if(!this.o){var W=X.value?X.value:new Uint8Array(0);if(W=this.v.decode(W,{stream:!X.done}))this.response=this.responseText+=W}X.done?L8(this):y8(this),this.readyState==3&&zZ(this)}},Z.Ra=function(X){this.g&&(this.response=this.responseText=X,L8(this))},Z.Qa=function(X){this.g&&(this.response=X,L8(this))},Z.ga=function(){this.g&&L8(this)};function L8(X){X.readyState=4,X.l=null,X.j=null,X.v=null,y8(X)}Z.setRequestHeader=function(X,W){this.u.append(X,W)},Z.getResponseHeader=function(X){return this.h?this.h.get(X.toLowerCase())||"":""},Z.getAllResponseHeaders=function(){if(!this.h)return"";let X=[],W=this.h.entries();for(var h=W.next();!h.done;)h=h.value,X.push(h[0]+": "+h[1]),h=W.next();return X.join(`\r
`)};function y8(X){X.onreadystatechange&&X.onreadystatechange.call(X)}Object.defineProperty(A2.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(X){this.m=X?"include":"same-origin"}});function WZ(X){let W="";return p0(X,function(h,F){W+=F,W+=":",W+=h,W+=`\r
`}),W}function M6(X,W,h){Z:{for(F in h){var F=!1;break Z}F=!0}F||(h=WZ(h),typeof X==="string"?h!=null&&encodeURIComponent(String(h)):Z0(X,W,h))}function $0(X){I0.call(this),this.headers=new Map,this.o=X||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_($0,I0);var zJ=/^https?$/i,WJ=["POST","PUT"];Z=$0.prototype,Z.Ha=function(X){this.J=X},Z.ea=function(X,W,h,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+X);W=W?W.toUpperCase():"GET",this.D=X,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():f6.g(),this.v=this.o?u9(this.o):u9(f6),this.g.onreadystatechange=K(this.Ea,this);try{this.B=!0,this.g.open(W,String(X),!0),this.B=!1}catch(Y){UZ(this,Y);return}if(X=h||"",h=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var L in F)h.set(L,F[L]);else if(typeof F.keys==="function"&&typeof F.get==="function")for(let Y of F.keys())h.set(Y,F.get(Y));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(h.keys()).find((Y)=>Y.toLowerCase()=="content-type"),L=x.FormData&&X instanceof x.FormData,!(0<=Array.prototype.indexOf.call(WJ,W,void 0))||F||L||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[Y,p]of h)this.g.setRequestHeader(Y,p);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hZ(this),this.u=!0,this.g.send(X),this.u=!1}catch(Y){UZ(this,Y)}};function UZ(X,W){X.h=!1,X.g&&(X.j=!0,X.g.abort(),X.j=!1),X.l=W,X.m=5,qZ(X),T2(X)}function qZ(X){X.A||(X.A=!0,H0(X,"complete"),H0(X,"error"))}Z.abort=function(X){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=X||7,H0(this,"complete"),H0(this,"abort"),T2(this))},Z.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),T2(this,!0)),$0.aa.N.call(this)},Z.Ea=function(){this.s||(this.B||this.u||this.j?BZ(this):this.bb())},Z.bb=function(){BZ(this)};function BZ(X){if(X.h&&typeof B!="undefined"&&(!X.v[1]||t0(X)!=4||X.Z()!=2)){if(X.u&&t0(X)==4)p9(X.Ea,0,X);else if(H0(X,"readystatechange"),t0(X)==4){X.h=!1;try{let p=X.Z();Z:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var W=!0;break Z;default:W=!1}var h;if(!(h=W)){var F;if(F=p===0){var L=String(X.D).match(QZ)[1]||null;!L&&x.self&&x.self.location&&(L=x.self.location.protocol.slice(0,-1)),F=!zJ.test(L?L.toLowerCase():"")}h=F}if(h)H0(X,"complete"),H0(X,"success");else{X.m=6;try{var Y=2<t0(X)?X.g.statusText:""}catch(t){Y=""}X.l=Y+" ["+X.Z()+"]",qZ(X)}}finally{T2(X)}}}}function T2(X,W){if(X.g){hZ(X);let h=X.g,F=X.v[0]?()=>{}:null;X.g=null,X.v=null,W||H0(X,"ready");try{h.onreadystatechange=F}catch(L){}}}function hZ(X){X.I&&(x.clearTimeout(X.I),X.I=null)}Z.isActive=function(){return!!this.g};function t0(X){return X.g?X.g.readyState:0}Z.Z=function(){try{return 2<t0(this)?this.g.status:-1}catch(X){return-1}},Z.oa=function(){try{return this.g?this.g.responseText:""}catch(X){return""}},Z.Oa=function(X){if(this.g){var W=this.g.responseText;return X&&W.indexOf(X)==0&&(W=W.substring(X.length)),r5(W)}};function xZ(X){try{if(!X.g)return null;if("response"in X.g)return X.g.response;switch(X.H){case"":case"text":return X.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in X.g)return X.g.mozResponseArrayBuffer}return null}catch(W){return null}}function UJ(X){let W={};X=(X.g&&2<=t0(X)?X.g.getAllResponseHeaders()||"":"").split(`\r
`);for(let F=0;F<X.length;F++){if(g(X[F]))continue;var h=S(X[F]);let L=h[0];if(h=h[1],typeof h!=="string")continue;h=h.trim();let Y=W[L]||[];W[L]=Y,Y.push(h)}y(W,function(F){return F.join(", ")})}Z.Ba=function(){return this.m},Z.Ka=function(){return typeof this.l==="string"?this.l:String(this.l)};function v8(X,W,h){return h&&h.internalChannelParams?h.internalChannelParams[X]||W:W}function FZ(X){this.Aa=0,this.i=[],this.j=new O8,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=v8("failFast",!1,X),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=v8("baseRetryDelayMs",5000,X),this.cb=v8("retryDelaySeedMs",1e4,X),this.Wa=v8("forwardChannelMaxRetries",2,X),this.wa=v8("forwardChannelRequestTimeoutMs",20000,X),this.pa=X&&X.xmlHttpFactory||void 0,this.Xa=X&&X.Tb||void 0,this.Ca=X&&X.useFetchStreams||!1,this.L=void 0,this.J=X&&X.supportsCrossDomainXhr||!1,this.K="",this.h=new E9(X&&X.concurrentRequestLimit),this.Da=new VJ,this.P=X&&X.fastHandshake||!1,this.O=X&&X.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=X&&X.Rb||!1,X&&X.xa&&this.j.xa(),X&&X.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&X&&X.detectBufferingProxy||!1,this.ja=void 0,X&&X.longPollingTimeout&&0<X.longPollingTimeout&&(this.ja=X.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}Z=FZ.prototype,Z.la=8,Z.G=1,Z.connect=function(X,W,h,F){Y0(0),this.W=X,this.H=W||{},h&&F!==void 0&&(this.H.OSID=h,this.H.OAID=F),this.F=this.X,this.I=LZ(this,null,this.W),_2(this)};function l6(X){if(jZ(X),X.G==3){var W=X.U++,h=E0(X.I);if(Z0(h,"SID",X.K),Z0(h,"RID",W),Z0(h,"TYPE","terminate"),H8(X,h),W=new z1(X,X.j,W),W.L=2,W.v=K2(E0(h)),h=!1,x.navigator&&x.navigator.sendBeacon)try{h=x.navigator.sendBeacon(W.v.toString(),"")}catch(F){}!h&&x.Image&&(new Image().src=W.v,h=!0),h||(W.g=yZ(W.j,null),W.g.ea(W.v)),W.F=Date.now(),H2(W)}NZ(X)}function p2(X){X.g&&(C6(X),X.g.cancel(),X.g=null)}function jZ(X){p2(X),X.u&&(x.clearTimeout(X.u),X.u=null),P2(X),X.h.cancel(),X.s&&(typeof X.s==="number"&&x.clearTimeout(X.s),X.s=null)}function _2(X){if(!t9(X.h)&&!X.s){X.s=!0;var W=X.Ga;U8||H9(),q8||(U8(),q8=!0),j6.add(W,X),X.B=0}}function qJ(X,W){if(o9(X.h)>=X.h.j-(X.s?1:0))return!1;if(X.s)return X.i=W.D.concat(X.i),!0;if(X.G==1||X.G==2||X.B>=(X.Va?0:X.Wa))return!1;return X.s=R8(K(X.Ga,X,W),SZ(X,X.B)),X.B++,!0}Z.Ga=function(X){if(this.s)if(this.s=null,this.G==1){if(!X){this.U=Math.floor(1e5*Math.random()),X=this.U++;let L=new z1(this,this.j,X),Y=this.o;if(this.S&&(Y?(Y=O(Y),k(Y,this.S)):Y=this.S),this.m!==null||this.O||(L.H=Y,Y=null),this.P)Z:{var W=0;for(var h=0;h<this.i.length;h++){Q:{var F=this.i[h];if("__data__"in F.map&&(F=F.map.__data__,typeof F==="string")){F=F.length;break Q}F=void 0}if(F===void 0)break;if(W+=F,4096<W){W=h;break Z}if(W===4096||h===this.i.length-1){W=h+1;break Z}}W=1000}else W=1000;W=OZ(this,L,W),h=E0(this.I),Z0(h,"RID",X),Z0(h,"CVER",22),this.D&&Z0(h,"X-HTTP-Session-Id",this.D),H8(this,h),Y&&(this.O?W="headers="+encodeURIComponent(String(WZ(Y)))+"&"+W:this.m&&M6(h,this.m,Y)),P6(this.h,L),this.Ua&&Z0(h,"TYPE","init"),this.P?(Z0(h,"$req",W),Z0(h,"SID","null"),L.T=!0,A6(L,h,null)):A6(L,h,W),this.G=2}}else this.G==3&&(X?RZ(this,X):this.i.length==0||t9(this.h)||RZ(this))};function RZ(X,W){var h;W?h=W.l:h=X.U++;let F=E0(X.I);Z0(F,"SID",X.K),Z0(F,"RID",h),Z0(F,"AID",X.T),H8(X,F),X.m&&X.o&&M6(F,X.m,X.o),h=new z1(X,X.j,h,X.B+1),X.m===null&&(h.H=X.o),W&&(X.i=W.D.concat(X.i)),W=OZ(X,h,1000),h.I=Math.round(0.5*X.wa)+Math.round(0.5*X.wa*Math.random()),P6(X.h,h),A6(h,F,W)}function H8(X,W){X.H&&p0(X.H,function(h,F){Z0(W,F,h)}),X.l&&ZZ({},function(h,F){Z0(W,F,h)})}function OZ(X,W,h){h=Math.min(X.i.length,h);var F=X.l?K(X.l.Na,X.l,X):null;Z:{var L=X.i;let Y=-1;for(;;){let p=["count="+h];Y==-1?0<h?(Y=L[0].g,p.push("ofs="+Y)):Y=0:p.push("ofs="+Y);let t=!0;for(let F0=0;F0<h;F0++){let d=L[F0].g,k0=L[F0].map;if(d-=Y,0>d)Y=Math.max(0,L[F0].g-100),t=!1;else try{wJ(k0,p,"req"+d+"_")}catch(S0){F&&F(k0)}}if(t){F=p.join("&");break Z}}}return X=X.i.splice(0,h),W.D=X,F}function GZ(X){if(!X.g&&!X.u){X.Y=1;var W=X.Fa;U8||H9(),q8||(U8(),q8=!0),j6.add(W,X),X.v=0}}function u6(X){if(X.g||X.u||3<=X.v)return!1;return X.Y++,X.u=R8(K(X.Fa,X),SZ(X,X.v)),X.v++,!0}Z.Fa=function(){if(this.u=null,IZ(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var X=2*this.R;this.j.info("BP detection timer enabled: "+X),this.A=R8(K(this.ab,this),X)}},Z.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Y0(10),p2(this),IZ(this))};function C6(X){X.A!=null&&(x.clearTimeout(X.A),X.A=null)}function IZ(X){X.g=new z1(X,X.j,"rpc",X.Y),X.m===null&&(X.g.H=X.o),X.g.O=0;var W=E0(X.qa);Z0(W,"RID","rpc"),Z0(W,"SID",X.K),Z0(W,"AID",X.T),Z0(W,"CI",X.F?"0":"1"),!X.F&&X.ja&&Z0(W,"TO",X.ja),Z0(W,"TYPE","xmlhttp"),H8(X,W),X.m&&X.o&&M6(W,X.m,X.o),X.L&&(X.g.I=X.L);var h=X.g;X=X.ia,h.L=1,h.v=K2(E0(W)),h.m=null,h.P=!0,b9(h,X)}Z.Za=function(){this.C!=null&&(this.C=null,p2(this),u6(this),Y0(19))};function P2(X){X.C!=null&&(x.clearTimeout(X.C),X.C=null)}function kZ(X,W){var h=null;if(X.g==W){P2(X),C6(X),X.g=null;var F=2}else if(_6(X.h,W))h=W.D,a9(X.h,W),F=1;else return;if(X.G!=0){if(W.o)if(F==1){h=W.m?W.m.length:0,W=Date.now()-W.F;var L=X.B;F=L2(),H0(F,new g9(F,h)),_2(X)}else GZ(X);else if(L=W.s,L==3||L==0&&0<W.X||!(F==1&&qJ(X,W)||F==2&&u6(X)))switch(h&&0<h.length&&(W=X.h,W.i=W.i.concat(h)),L){case 1:Y1(X,5);break;case 4:Y1(X,10);break;case 3:Y1(X,6);break;default:Y1(X,2)}}}function SZ(X,W){let h=X.Ta+Math.floor(Math.random()*X.cb);return X.isActive()||(h*=2),h*W}function Y1(X,W){if(X.j.info("Error code "+W),W==2){var h=K(X.fb,X),F=X.Xa;let L=!F;F=new H1(F||"//www.google.com/images/cleardot.gif"),x.location&&x.location.protocol=="http"||Y2(F,"https"),K2(F),L?XJ(F.toString(),h):$J(F.toString(),h)}else Y0(2);X.G=0,X.l&&X.l.sa(W),NZ(X),jZ(X)}Z.fb=function(X){X?(this.j.info("Successfully pinged google.com"),Y0(2)):(this.j.info("Failed to ping google.com"),Y0(1))};function NZ(X){if(X.G=0,X.ka=[],X.l){let W=e9(X.h);if(W.length!=0||X.i.length!=0)u(X.ka,W),u(X.ka,X.i),X.h.i.length=0,P(X.i),X.i.length=0;X.l.ra()}}function LZ(X,W,h){var F=h instanceof H1?E0(h):new H1(h);if(F.g!="")W&&(F.g=W+"."+F.g),f2(F,F.s);else{var L=x.location;F=L.protocol,W=W?W+"."+L.hostname:L.hostname,L=+L.port;var Y=new H1(null);F&&Y2(Y,F),W&&(Y.g=W),L&&f2(Y,L),h&&(Y.l=h),F=Y}return h=X.D,W=X.ya,h&&W&&Z0(F,h,W),Z0(F,"VER",X.la),H8(X,F),F}function yZ(X,W,h){if(W&&!X.J)throw Error("Can't create secondary domain capable XhrIo object.");return W=X.Ca&&!X.pa?new $0(new N8({eb:h})):new $0(X.pa),W.Ha(X.J),W}Z.isActive=function(){return!!this.l&&this.l.isActive(this)};function vZ(){}Z=vZ.prototype,Z.ua=function(){},Z.ta=function(){},Z.sa=function(){},Z.ra=function(){},Z.isActive=function(){return!0},Z.Na=function(){};function M2(){}M2.prototype.g=function(X,W){return new _0(X,W)};function _0(X,W){I0.call(this),this.g=new FZ(W),this.l=X,this.h=W&&W.messageUrlParams||null,X=W&&W.messageHeaders||null,W&&W.clientProtocolHeaderRequired&&(X?X["X-Client-Protocol"]="webchannel":X={"X-Client-Protocol":"webchannel"}),this.g.o=X,X=W&&W.initMessageHeaders||null,W&&W.messageContentType&&(X?X["X-WebChannel-Content-Type"]=W.messageContentType:X={"X-WebChannel-Content-Type":W.messageContentType}),W&&W.va&&(X?X["X-WebChannel-Client-Profile"]=W.va:X={"X-WebChannel-Client-Profile":W.va}),this.g.S=X,(X=W&&W.Sb)&&!g(X)&&(this.g.m=X),this.v=W&&W.supportsCrossDomainXhr||!1,this.u=W&&W.sendRawJson||!1,(W=W&&W.httpSessionIdParam)&&!g(W)&&(this.g.D=W,X=this.h,X!==null&&(W in X)&&(X=this.h,(W in X)&&delete X[W])),this.j=new r1(this)}_(_0,I0),_0.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_0.prototype.close=function(){l6(this.g)},_0.prototype.o=function(X){var W=this.g;if(typeof X==="string"){var h={};h.__data__=X,X=h}else this.u&&(h={},h.__data__=y6(X),X=h);W.i.push(new c5(W.Ya++,X)),W.G==3&&_2(W)},_0.prototype.N=function(){this.g.l=null,delete this.j,l6(this.g),delete this.g,_0.aa.N.call(this)};function HZ(X){H6.call(this),X.__headers__&&(this.headers=X.__headers__,this.statusCode=X.__status__,delete X.__headers__,delete X.__status__);var W=X.__sm__;if(W){Z:{for(let h in W){X=h;break Z}X=void 0}if(this.i=X)X=this.i,W=W!==null&&X in W?W[X]:void 0;this.data=W}else this.data=X}_(HZ,H6);function YZ(){Y6.call(this),this.status=1}_(YZ,Y6);function r1(X){this.g=X}_(r1,vZ),r1.prototype.ua=function(){H0(this.g,"a")},r1.prototype.ta=function(X){H0(this.g,new HZ(X))},r1.prototype.sa=function(X){H0(this.g,new YZ)},r1.prototype.ra=function(){H0(this.g,"b")},M2.prototype.createWebChannel=M2.prototype.g,_0.prototype.send=_0.prototype.o,_0.prototype.open=_0.prototype.m,_0.prototype.close=_0.prototype.close,G4=Q1.createWebChannelTransport=function(){return new M2},O4=Q1.getStatEventTarget=function(){return L2()},R4=Q1.Event=y1,c2=Q1.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},y2.NO_ERROR=0,y2.TIMEOUT=8,y2.HTTP_ERROR=6,n8=Q1.ErrorCode=y2,D9.COMPLETE="complete",j4=Q1.EventType=D9,C9.EventType=F8,F8.OPEN="a",F8.CLOSE="b",F8.ERROR="c",F8.MESSAGE="d",I0.prototype.listen=I0.prototype.K,b1=Q1.WebChannel=C9,F4=Q1.FetchXmlHttpFactory=N8,$0.prototype.listenOnce=$0.prototype.L,$0.prototype.getLastError=$0.prototype.Ka,$0.prototype.getLastErrorCode=$0.prototype.Ba,$0.prototype.getStatus=$0.prototype.Z,$0.prototype.getResponseJson=$0.prototype.Oa,$0.prototype.getResponseText=$0.prototype.oa,$0.prototype.send=$0.prototype.ea,$0.prototype.setWithCredentials=$0.prototype.Ha,x4=Q1.XhrIo=$0}).apply(typeof b2!=="undefined"?b2:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});var x7="@firebase/firestore";class j0{constructor(Z){this.uid=Z}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(Z){return Z.uid===this.uid}}j0.UNAUTHENTICATED=new j0(null),j0.GOOGLE_CREDENTIALS=new j0("google-credentials-uid"),j0.FIRST_PARTY=new j0("first-party-uid"),j0.MOCK_USER=new j0("mock-user");var X8="10.13.0",P1=new B4("@firebase/firestore");function s8(){return P1.logLevel}function C(Z,...Q){if(P1.logLevel<=b.DEBUG){let J=Q.map(M4);P1.debug(`Firestore (${X8}): ${Z}`,...J)}}function M1(Z,...Q){if(P1.logLevel<=b.ERROR){let J=Q.map(M4);P1.error(`Firestore (${X8}): ${Z}`,...J)}}function e2(Z,...Q){if(P1.logLevel<=b.WARN){let J=Q.map(M4);P1.warn(`Firestore (${X8}): ${Z}`,...J)}}function M4(Z){if(typeof Z=="string")return Z;try{return function Q(J){return JSON.stringify(J)}(Z)}catch(Q){return Z}}function n(Z="Unexpected state"){let Q=`FIRESTORE (${X8}) INTERNAL ASSERTION FAILED: `+Z;throw M1(Q),new Error(Q)}function q0(Z,Q){Z||n()}function e(Z,Q){return Z}var T={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class r extends e0{constructor(Z,Q){super(Z,Q),this.code=Z,this.message=Q,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class j1{constructor(){this.promise=new Promise((Z,Q)=>{this.resolve=Z,this.reject=Q})}}class l4{constructor(Z,Q){this.user=Q,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${Z}`)}}class M7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(Z,Q){Z.enqueueRetryable(()=>Q(j0.UNAUTHENTICATED))}shutdown(){}}class l7{constructor(Z){this.token=Z,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(Z,Q){this.changeListener=Q,Z.enqueueRetryable(()=>Q(this.token.user))}shutdown(){this.changeListener=null}}class u7{constructor(Z){this.t=Z,this.currentUser=j0.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(Z,Q){let J=this.i,$=(x)=>this.i!==J?(J=this.i,Q(x)):Promise.resolve(),V=new j1;this.o=()=>{this.i++,this.currentUser=this.u(),V.resolve(),V=new j1,Z.enqueueRetryable(()=>$(this.currentUser))};let z=()=>{let x=V;Z.enqueueRetryable(async()=>{await x.promise,await $(this.currentUser)})},B=(x)=>{C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=x,this.auth.addAuthTokenListener(this.o),z()};this.t.onInit((x)=>B(x)),setTimeout(()=>{if(!this.auth){let x=this.t.getImmediate({optional:!0});x?B(x):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),V.resolve(),V=new j1)}},0),z()}getToken(){let Z=this.i,Q=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(Q).then((J)=>this.i!==Z?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):J?(q0(typeof J.accessToken=="string"),new l4(J.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let Z=this.auth&&this.auth.getUid();return q0(Z===null||typeof Z=="string"),new j0(Z)}}class C7{constructor(Z,Q,J){this.l=Z,this.h=Q,this.P=J,this.type="FirstParty",this.user=j0.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let Z=this.T();return Z&&this.I.set("Authorization",Z),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class m7{constructor(Z,Q,J){this.l=Z,this.h=Q,this.P=J}getToken(){return Promise.resolve(new C7(this.l,this.h,this.P))}start(Z,Q){Z.enqueueRetryable(()=>Q(j0.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r7{constructor(Z){this.value=Z,this.type="AppCheck",this.headers=new Map,Z&&Z.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class i7{constructor(Z){this.A=Z,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(Z,Q){let J=(V)=>{V.error!=null&&C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${V.error.message}`);let z=V.token!==this.R;return this.R=V.token,C("FirebaseAppCheckTokenProvider",`Received ${z?"new":"existing"} token.`),z?Q(V.token):Promise.resolve()};this.o=(V)=>{Z.enqueueRetryable(()=>J(V))};let $=(V)=>{C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=V,this.appCheck.addTokenListener(this.o)};this.A.onInit((V)=>$(V)),setTimeout(()=>{if(!this.appCheck){let V=this.A.getImmediate({optional:!0});V?$(V):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let Z=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(Z).then((Q)=>Q?(q0(typeof Q.token=="string"),this.R=Q.token,new r7(Q.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function pX(Z){let Q=typeof self!="undefined"&&(self.crypto||self.msCrypto),J=new Uint8Array(Z);if(Q&&typeof Q.getRandomValues=="function")Q.getRandomValues(J);else for(let $=0;$<Z;$++)J[$]=Math.floor(256*Math.random());return J}class u4{static newId(){let Q=Math.floor(4.129032258064516)*62,J="";for(;J.length<20;){let $=pX(40);for(let V=0;V<$.length;++V)J.length<20&&$[V]<Q&&(J+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt($[V]%62))}return J}}function a(Z,Q){return Z<Q?-1:Z>Q?1:0}function E1(Z,Q,J){return Z.length===Q.length&&Z.every(($,V)=>J($,Q[V]))}class h0{constructor(Z,Q){if(this.seconds=Z,this.nanoseconds=Q,Q<0)throw new r(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+Q);if(Q>=1e9)throw new r(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+Q);if(Z<-62135596800)throw new r(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+Z);if(Z>=253402300800)throw new r(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+Z)}static now(){return h0.fromMillis(Date.now())}static fromDate(Z){return h0.fromMillis(Z.getTime())}static fromMillis(Z){let Q=Math.floor(Z/1000),J=Math.floor(1e6*(Z-1000*Q));return new h0(Q,J)}toDate(){return new Date(this.toMillis())}toMillis(){return 1000*this.seconds+this.nanoseconds/1e6}_compareTo(Z){return this.seconds===Z.seconds?a(this.nanoseconds,Z.nanoseconds):a(this.seconds,Z.seconds)}isEqual(Z){return Z.seconds===this.seconds&&Z.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let Z=this.seconds- -62135596800;return String(Z).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class X0{constructor(Z){this.timestamp=Z}static fromTimestamp(Z){return new X0(Z)}static min(){return new X0(new h0(0,0))}static max(){return new X0(new h0(253402300799,999999999))}compareTo(Z){return this.timestamp._compareTo(Z.timestamp)}isEqual(Z){return this.timestamp.isEqual(Z.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1000}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class a8{constructor(Z,Q,J){Q===void 0?Q=0:Q>Z.length&&n(),J===void 0?J=Z.length-Q:J>Z.length-Q&&n(),this.segments=Z,this.offset=Q,this.len=J}get length(){return this.len}isEqual(Z){return a8.comparator(this,Z)===0}child(Z){let Q=this.segments.slice(this.offset,this.limit());return Z instanceof a8?Z.forEach((J)=>{Q.push(J)}):Q.push(Z),this.construct(Q)}limit(){return this.offset+this.length}popFirst(Z){return Z=Z===void 0?1:Z,this.construct(this.segments,this.offset+Z,this.length-Z)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(Z){return this.segments[this.offset+Z]}isEmpty(){return this.length===0}isPrefixOf(Z){if(Z.length<this.length)return!1;for(let Q=0;Q<this.length;Q++)if(this.get(Q)!==Z.get(Q))return!1;return!0}isImmediateParentOf(Z){if(this.length+1!==Z.length)return!1;for(let Q=0;Q<this.length;Q++)if(this.get(Q)!==Z.get(Q))return!1;return!0}forEach(Z){for(let Q=this.offset,J=this.limit();Q<J;Q++)Z(this.segments[Q])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(Z,Q){let J=Math.min(Z.length,Q.length);for(let $=0;$<J;$++){let V=Z.get($),z=Q.get($);if(V<z)return-1;if(V>z)return 1}return Z.length<Q.length?-1:Z.length>Q.length?1:0}}class w0 extends a8{construct(Z,Q,J){return new w0(Z,Q,J)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...Z){let Q=[];for(let J of Z){if(J.indexOf("//")>=0)throw new r(T.INVALID_ARGUMENT,`Invalid segment (${J}). Paths must not contain // in them.`);Q.push(...J.split("/").filter(($)=>$.length>0))}return new w0(Q)}static emptyPath(){return new w0([])}}var _X=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class O0 extends a8{construct(Z,Q,J){return new O0(Z,Q,J)}static isValidIdentifier(Z){return _X.test(Z)}canonicalString(){return this.toArray().map((Z)=>(Z=Z.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),O0.isValidIdentifier(Z)||(Z="`"+Z+"`"),Z)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new O0(["__name__"])}static fromServerFormat(Z){let Q=[],J="",$=0,V=()=>{if(J.length===0)throw new r(T.INVALID_ARGUMENT,`Invalid field path (${Z}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);Q.push(J),J=""},z=!1;for(;$<Z.length;){let B=Z[$];if(B==="\\"){if($+1===Z.length)throw new r(T.INVALID_ARGUMENT,"Path has trailing escape character: "+Z);let x=Z[$+1];if(x!=="\\"&&x!=="."&&x!=="`")throw new r(T.INVALID_ARGUMENT,"Path has invalid escape sequence: "+Z);J+=x,$+=2}else B==="`"?(z=!z,$++):B!=="."||z?(J+=B,$++):(V(),$++)}if(V(),z)throw new r(T.INVALID_ARGUMENT,"Unterminated ` in path: "+Z);return new O0(Q)}static emptyPath(){return new O0([])}}class i{constructor(Z){this.path=Z}static fromPath(Z){return new i(w0.fromString(Z))}static fromName(Z){return new i(w0.fromString(Z).popFirst(5))}static empty(){return new i(w0.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(Z){return this.path.length>=2&&this.path.get(this.path.length-2)===Z}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(Z){return Z!==null&&w0.comparator(this.path,Z.path)===0}toString(){return this.path.toString()}static comparator(Z,Q){return w0.comparator(Z.path,Q.path)}static isDocumentKey(Z){return Z.length%2==0}static fromSegments(Z){return new i(new w0(Z.slice()))}}class g7{constructor(Z,Q,J,$){this.indexId=Z,this.collectionGroup=Q,this.fields=J,this.indexState=$}}g7.UNKNOWN_ID=-1;function PX(Z,Q){let J=Z.toTimestamp().seconds,$=Z.toTimestamp().nanoseconds+1,V=X0.fromTimestamp($===1e9?new h0(J+1,0):new h0(J,$));return new O1(V,i.empty(),Q)}function MX(Z){return new O1(Z.readTime,Z.key,-1)}class O1{constructor(Z,Q,J){this.readTime=Z,this.documentKey=Q,this.largestBatchId=J}static min(){return new O1(X0.min(),i.empty(),-1)}static max(){return new O1(X0.max(),i.empty(),-1)}}function lX(Z,Q){let J=Z.readTime.compareTo(Q.readTime);return J!==0?J:(J=i.comparator(Z.documentKey,Q.documentKey),J!==0?J:a(Z.largestBatchId,Q.largestBatchId))}var uX="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class D7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(Z){this.onCommittedListeners.push(Z)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((Z)=>Z())}}async function n7(Z){if(Z.code!==T.FAILED_PRECONDITION||Z.message!==uX)throw Z;C("LocalStore","Unexpectedly lost primary lease")}class A{constructor(Z){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,Z((Q)=>{this.isDone=!0,this.result=Q,this.nextCallback&&this.nextCallback(Q)},(Q)=>{this.isDone=!0,this.error=Q,this.catchCallback&&this.catchCallback(Q)})}catch(Z){return this.next(void 0,Z)}next(Z,Q){return this.callbackAttached&&n(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(Q,this.error):this.wrapSuccess(Z,this.result):new A((J,$)=>{this.nextCallback=(V)=>{this.wrapSuccess(Z,V).next(J,$)},this.catchCallback=(V)=>{this.wrapFailure(Q,V).next(J,$)}})}toPromise(){return new Promise((Z,Q)=>{this.next(Z,Q)})}wrapUserFunction(Z){try{let Q=Z();return Q instanceof A?Q:A.resolve(Q)}catch(Q){return A.reject(Q)}}wrapSuccess(Z,Q){return Z?this.wrapUserFunction(()=>Z(Q)):A.resolve(Q)}wrapFailure(Z,Q){return Z?this.wrapUserFunction(()=>Z(Q)):A.reject(Q)}static resolve(Z){return new A((Q,J)=>{Q(Z)})}static reject(Z){return new A((Q,J)=>{J(Z)})}static waitFor(Z){return new A((Q,J)=>{let $=0,V=0,z=!1;Z.forEach((B)=>{++$,B.next(()=>{++V,z&&V===$&&Q()},(x)=>J(x))}),z=!0,V===$&&Q()})}static or(Z){let Q=A.resolve(!1);for(let J of Z)Q=Q.next(($)=>$?A.resolve($):J());return Q}static forEach(Z,Q){let J=[];return Z.forEach(($,V)=>{J.push(Q.call(this,$,V))}),this.waitFor(J)}static mapArray(Z,Q){return new A((J,$)=>{let V=Z.length,z=new Array(V),B=0;for(let x=0;x<V;x++){let j=x;Q(Z[j]).next((R)=>{z[j]=R,++B,B===V&&J(z)},(R)=>$(R))}})}static doWhile(Z,Q){return new A((J,$)=>{let V=()=>{Z()===!0?Q().next(()=>{V()},$):J()};V()})}}function CX(Z){let Q=Z.match(/Android ([\d.]+)/i),J=Q?Q[1].split(".").slice(0,2).join("."):"-1";return Number(J)}function $6(Z){return Z.name==="IndexedDbTransactionError"}class C4{constructor(Z,Q){this.previousValue=Z,Q&&(Q.sequenceNumberHandler=(J)=>this.ie(J),this.se=(J)=>Q.writeSequenceNumber(J))}ie(Z){return this.previousValue=Math.max(Z,this.previousValue),this.previousValue}next(){let Z=++this.previousValue;return this.se&&this.se(Z),Z}}C4.oe=-1;function m4(Z){return Z==null}function e8(Z){return Z===0&&1/Z==-1/0}function mX(Z){return typeof Z=="number"&&Number.isInteger(Z)&&!e8(Z)&&Z<=Number.MAX_SAFE_INTEGER&&Z>=Number.MIN_SAFE_INTEGER}var rX=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],$z=[...rX,"documentOverlays"],iX=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],gX=iX,DX=[...gX,"indexConfiguration","indexState","indexEntries"];var Vz=[...DX,"globals"];function F7(Z){let Q=0;for(let J in Z)Object.prototype.hasOwnProperty.call(Z,J)&&Q++;return Q}function w2(Z,Q){for(let J in Z)Object.prototype.hasOwnProperty.call(Z,J)&&Q(J,Z[J])}function s7(Z){for(let Q in Z)if(Object.prototype.hasOwnProperty.call(Z,Q))return!1;return!0}class T0{constructor(Z,Q){this.comparator=Z,this.root=Q||R0.EMPTY}insert(Z,Q){return new T0(this.comparator,this.root.insert(Z,Q,this.comparator).copy(null,null,R0.BLACK,null,null))}remove(Z){return new T0(this.comparator,this.root.remove(Z,this.comparator).copy(null,null,R0.BLACK,null,null))}get(Z){let Q=this.root;for(;!Q.isEmpty();){let J=this.comparator(Z,Q.key);if(J===0)return Q.value;J<0?Q=Q.left:J>0&&(Q=Q.right)}return null}indexOf(Z){let Q=0,J=this.root;for(;!J.isEmpty();){let $=this.comparator(Z,J.key);if($===0)return Q+J.left.size;$<0?J=J.left:(Q+=J.left.size+1,J=J.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(Z){return this.root.inorderTraversal(Z)}forEach(Z){this.inorderTraversal((Q,J)=>(Z(Q,J),!1))}toString(){let Z=[];return this.inorderTraversal((Q,J)=>(Z.push(`${Q}:${J}`),!1)),`{${Z.join(", ")}}`}reverseTraversal(Z){return this.root.reverseTraversal(Z)}getIterator(){return new c8(this.root,null,this.comparator,!1)}getIteratorFrom(Z){return new c8(this.root,Z,this.comparator,!1)}getReverseIterator(){return new c8(this.root,null,this.comparator,!0)}getReverseIteratorFrom(Z){return new c8(this.root,Z,this.comparator,!0)}}class c8{constructor(Z,Q,J,$){this.isReverse=$,this.nodeStack=[];let V=1;for(;!Z.isEmpty();)if(V=Q?J(Z.key,Q):1,Q&&$&&(V*=-1),V<0)Z=this.isReverse?Z.left:Z.right;else{if(V===0){this.nodeStack.push(Z);break}this.nodeStack.push(Z),Z=this.isReverse?Z.right:Z.left}}getNext(){let Z=this.nodeStack.pop(),Q={key:Z.key,value:Z.value};if(this.isReverse)for(Z=Z.left;!Z.isEmpty();)this.nodeStack.push(Z),Z=Z.right;else for(Z=Z.right;!Z.isEmpty();)this.nodeStack.push(Z),Z=Z.left;return Q}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let Z=this.nodeStack[this.nodeStack.length-1];return{key:Z.key,value:Z.value}}}class R0{constructor(Z,Q,J,$,V){this.key=Z,this.value=Q,this.color=J!=null?J:R0.RED,this.left=$!=null?$:R0.EMPTY,this.right=V!=null?V:R0.EMPTY,this.size=this.left.size+1+this.right.size}copy(Z,Q,J,$,V){return new R0(Z!=null?Z:this.key,Q!=null?Q:this.value,J!=null?J:this.color,$!=null?$:this.left,V!=null?V:this.right)}isEmpty(){return!1}inorderTraversal(Z){return this.left.inorderTraversal(Z)||Z(this.key,this.value)||this.right.inorderTraversal(Z)}reverseTraversal(Z){return this.right.reverseTraversal(Z)||Z(this.key,this.value)||this.left.reverseTraversal(Z)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(Z,Q,J){let $=this,V=J(Z,$.key);return $=V<0?$.copy(null,null,null,$.left.insert(Z,Q,J),null):V===0?$.copy(null,Q,null,null,null):$.copy(null,null,null,null,$.right.insert(Z,Q,J)),$.fixUp()}removeMin(){if(this.left.isEmpty())return R0.EMPTY;let Z=this;return Z.left.isRed()||Z.left.left.isRed()||(Z=Z.moveRedLeft()),Z=Z.copy(null,null,null,Z.left.removeMin(),null),Z.fixUp()}remove(Z,Q){let J,$=this;if(Q(Z,$.key)<0)$.left.isEmpty()||$.left.isRed()||$.left.left.isRed()||($=$.moveRedLeft()),$=$.copy(null,null,null,$.left.remove(Z,Q),null);else{if($.left.isRed()&&($=$.rotateRight()),$.right.isEmpty()||$.right.isRed()||$.right.left.isRed()||($=$.moveRedRight()),Q(Z,$.key)===0){if($.right.isEmpty())return R0.EMPTY;J=$.right.min(),$=$.copy(J.key,J.value,null,null,$.right.removeMin())}$=$.copy(null,null,null,null,$.right.remove(Z,Q))}return $.fixUp()}isRed(){return this.color}fixUp(){let Z=this;return Z.right.isRed()&&!Z.left.isRed()&&(Z=Z.rotateLeft()),Z.left.isRed()&&Z.left.left.isRed()&&(Z=Z.rotateRight()),Z.left.isRed()&&Z.right.isRed()&&(Z=Z.colorFlip()),Z}moveRedLeft(){let Z=this.colorFlip();return Z.right.left.isRed()&&(Z=Z.copy(null,null,null,null,Z.right.rotateRight()),Z=Z.rotateLeft(),Z=Z.colorFlip()),Z}moveRedRight(){let Z=this.colorFlip();return Z.left.left.isRed()&&(Z=Z.rotateRight(),Z=Z.colorFlip()),Z}rotateLeft(){let Z=this.copy(null,null,R0.RED,null,this.right.left);return this.right.copy(null,null,this.color,Z,null)}rotateRight(){let Z=this.copy(null,null,R0.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,Z)}colorFlip(){let Z=this.left.copy(null,null,!this.left.color,null,null),Q=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,Z,Q)}checkMaxDepth(){let Z=this.check();return Math.pow(2,Z)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw n();if(this.right.isRed())throw n();let Z=this.left.check();if(Z!==this.right.check())throw n();return Z+(this.isRed()?0:1)}}R0.EMPTY=null,R0.RED=!0,R0.BLACK=!1;R0.EMPTY=new class Z{constructor(){this.size=0}get key(){throw n()}get value(){throw n()}get color(){throw n()}get left(){throw n()}get right(){throw n()}copy(Q,J,$,V,z){return this}insert(Q,J,$){return new R0(Q,J)}remove(Q,J){return this}isEmpty(){return!0}inorderTraversal(Q){return!1}reverseTraversal(Q){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class v0{constructor(Z){this.comparator=Z,this.data=new T0(this.comparator)}has(Z){return this.data.get(Z)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(Z){return this.data.indexOf(Z)}forEach(Z){this.data.inorderTraversal((Q,J)=>(Z(Q),!1))}forEachInRange(Z,Q){let J=this.data.getIteratorFrom(Z[0]);for(;J.hasNext();){let $=J.getNext();if(this.comparator($.key,Z[1])>=0)return;Q($.key)}}forEachWhile(Z,Q){let J;for(J=Q!==void 0?this.data.getIteratorFrom(Q):this.data.getIterator();J.hasNext();)if(!Z(J.getNext().key))return}firstAfterOrEqual(Z){let Q=this.data.getIteratorFrom(Z);return Q.hasNext()?Q.getNext().key:null}getIterator(){return new N4(this.data.getIterator())}getIteratorFrom(Z){return new N4(this.data.getIteratorFrom(Z))}add(Z){return this.copy(this.data.remove(Z).insert(Z,!0))}delete(Z){return this.has(Z)?this.copy(this.data.remove(Z)):this}isEmpty(){return this.data.isEmpty()}unionWith(Z){let Q=this;return Q.size<Z.size&&(Q=Z,Z=this),Z.forEach((J)=>{Q=Q.add(J)}),Q}isEqual(Z){if(!(Z instanceof v0))return!1;if(this.size!==Z.size)return!1;let Q=this.data.getIterator(),J=Z.data.getIterator();for(;Q.hasNext();){let $=Q.getNext().key,V=J.getNext().key;if(this.comparator($,V)!==0)return!1}return!0}toArray(){let Z=[];return this.forEach((Q)=>{Z.push(Q)}),Z}toString(){let Z=[];return this.forEach((Q)=>Z.push(Q)),"SortedSet("+Z.toString()+")"}copy(Z){let Q=new v0(this.comparator);return Q.data=Z,Q}}class N4{constructor(Z){this.iter=Z}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class i0{constructor(Z){this.fields=Z,Z.sort(O0.comparator)}static empty(){return new i0([])}unionWith(Z){let Q=new v0(O0.comparator);for(let J of this.fields)Q=Q.add(J);for(let J of Z)Q=Q.add(J);return new i0(Q.toArray())}covers(Z){for(let Q of this.fields)if(Q.isPrefixOf(Z))return!0;return!1}isEqual(Z){return E1(this.fields,Z.fields,(Q,J)=>Q.isEqual(J))}}class b7 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class b0{constructor(Z){this.binaryString=Z}static fromBase64String(Z){let Q=function J($){try{return atob($)}catch(V){throw typeof DOMException!="undefined"&&V instanceof DOMException?new b7("Invalid base64 string: "+V):V}}(Z);return new b0(Q)}static fromUint8Array(Z){let Q=function J($){let V="";for(let z=0;z<$.length;++z)V+=String.fromCharCode($[z]);return V}(Z);return new b0(Q)}[Symbol.iterator](){let Z=0;return{next:()=>Z<this.binaryString.length?{value:this.binaryString.charCodeAt(Z++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function Z(Q){return btoa(Q)}(this.binaryString)}toUint8Array(){return function Z(Q){let J=new Uint8Array(Q.length);for(let $=0;$<Q.length;$++)J[$]=Q.charCodeAt($);return J}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(Z){return a(this.binaryString,Z.binaryString)}isEqual(Z){return this.binaryString===Z.binaryString}}b0.EMPTY_BYTE_STRING=new b0("");var nX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function G1(Z){if(q0(!!Z),typeof Z=="string"){let Q=0,J=nX.exec(Z);if(q0(!!J),J[1]){let V=J[1];V=(V+"000000000").substr(0,9),Q=Number(V)}let $=new Date(Z);return{seconds:Math.floor($.getTime()/1000),nanos:Q}}return{seconds:W0(Z.seconds),nanos:W0(Z.nanos)}}function W0(Z){return typeof Z=="number"?Z:typeof Z=="string"?Number(Z):0}function t1(Z){return typeof Z=="string"?b0.fromBase64String(Z):b0.fromUint8Array(Z)}function r4(Z){var Q,J;return((J=(((Q=Z==null?void 0:Z.mapValue)===null||Q===void 0?void 0:Q.fields)||{}).__type__)===null||J===void 0?void 0:J.stringValue)==="server_timestamp"}function c7(Z){let Q=Z.mapValue.fields.__previous_value__;return r4(Q)?c7(Q):Q}function Z6(Z){let Q=G1(Z.mapValue.fields.__local_write_time__.timestampValue);return new h0(Q.seconds,Q.nanos)}class d7{constructor(Z,Q,J,$,V,z,B,x,j){this.databaseId=Z,this.appId=Q,this.persistenceKey=J,this.host=$,this.ssl=V,this.forceLongPolling=z,this.autoDetectLongPolling=B,this.longPollingOptions=x,this.useFetchStreams=j}}class Q6{constructor(Z,Q){this.projectId=Z,this.database=Q||"(default)"}static empty(){return new Q6("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(Z){return Z instanceof Q6&&Z.projectId===this.projectId&&Z.database===this.database}}var d2={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function o1(Z){return"nullValue"in Z?0:("booleanValue"in Z)?1:("integerValue"in Z)||("doubleValue"in Z)?2:("timestampValue"in Z)?3:("stringValue"in Z)?5:("bytesValue"in Z)?6:("referenceValue"in Z)?7:("geoPointValue"in Z)?8:("arrayValue"in Z)?9:("mapValue"in Z)?r4(Z)?4:t7(Z)?9007199254740991:E7(Z)?10:11:n()}function c0(Z,Q){if(Z===Q)return!0;let J=o1(Z);if(J!==o1(Q))return!1;switch(J){case 0:case 9007199254740991:return!0;case 1:return Z.booleanValue===Q.booleanValue;case 4:return Z6(Z).isEqual(Z6(Q));case 3:return function $(V,z){if(typeof V.timestampValue=="string"&&typeof z.timestampValue=="string"&&V.timestampValue.length===z.timestampValue.length)return V.timestampValue===z.timestampValue;let B=G1(V.timestampValue),x=G1(z.timestampValue);return B.seconds===x.seconds&&B.nanos===x.nanos}(Z,Q);case 5:return Z.stringValue===Q.stringValue;case 6:return function $(V,z){return t1(V.bytesValue).isEqual(t1(z.bytesValue))}(Z,Q);case 7:return Z.referenceValue===Q.referenceValue;case 8:return function $(V,z){return W0(V.geoPointValue.latitude)===W0(z.geoPointValue.latitude)&&W0(V.geoPointValue.longitude)===W0(z.geoPointValue.longitude)}(Z,Q);case 2:return function $(V,z){if("integerValue"in V&&"integerValue"in z)return W0(V.integerValue)===W0(z.integerValue);if("doubleValue"in V&&"doubleValue"in z){let B=W0(V.doubleValue),x=W0(z.doubleValue);return B===x?e8(B)===e8(x):isNaN(B)&&isNaN(x)}return!1}(Z,Q);case 9:return E1(Z.arrayValue.values||[],Q.arrayValue.values||[],c0);case 10:case 11:return function $(V,z){let B=V.mapValue.fields||{},x=z.mapValue.fields||{};if(F7(B)!==F7(x))return!1;for(let j in B)if(B.hasOwnProperty(j)&&(x[j]===void 0||!c0(B[j],x[j])))return!1;return!0}(Z,Q);default:return n()}}function Z2(Z,Q){return(Z.values||[]).find((J)=>c0(J,Q))!==void 0}function a1(Z,Q){if(Z===Q)return 0;let J=o1(Z),$=o1(Q);if(J!==$)return a(J,$);switch(J){case 0:case 9007199254740991:return 0;case 1:return a(Z.booleanValue,Q.booleanValue);case 2:return function V(z,B){let x=W0(z.integerValue||z.doubleValue),j=W0(B.integerValue||B.doubleValue);return x<j?-1:x>j?1:x===j?0:isNaN(x)?isNaN(j)?0:-1:1}(Z,Q);case 3:return j7(Z.timestampValue,Q.timestampValue);case 4:return j7(Z6(Z),Z6(Q));case 5:return a(Z.stringValue,Q.stringValue);case 6:return function V(z,B){let x=t1(z),j=t1(B);return x.compareTo(j)}(Z.bytesValue,Q.bytesValue);case 7:return function V(z,B){let x=z.split("/"),j=B.split("/");for(let R=0;R<x.length&&R<j.length;R++){let H=a(x[R],j[R]);if(H!==0)return H}return a(x.length,j.length)}(Z.referenceValue,Q.referenceValue);case 8:return function V(z,B){let x=a(W0(z.latitude),W0(B.latitude));if(x!==0)return x;return a(W0(z.longitude),W0(B.longitude))}(Z.geoPointValue,Q.geoPointValue);case 9:return R7(Z.arrayValue,Q.arrayValue);case 10:return function V(z,B){var x,j,R,H;let f=z.fields||{},K=B.fields||{},l=(x=f.value)===null||x===void 0?void 0:x.arrayValue,_=(j=K.value)===null||j===void 0?void 0:j.arrayValue,P=a(((R=l==null?void 0:l.values)===null||R===void 0?void 0:R.length)||0,((H=_==null?void 0:_.values)===null||H===void 0?void 0:H.length)||0);if(P!==0)return P;return R7(l,_)}(Z.mapValue,Q.mapValue);case 11:return function V(z,B){if(z===d2.mapValue&&B===d2.mapValue)return 0;if(z===d2.mapValue)return 1;if(B===d2.mapValue)return-1;let x=z.fields||{},j=Object.keys(x),R=B.fields||{},H=Object.keys(R);j.sort(),H.sort();for(let f=0;f<j.length&&f<H.length;++f){let K=a(j[f],H[f]);if(K!==0)return K;let l=a1(x[j[f]],R[H[f]]);if(l!==0)return l}return a(j.length,H.length)}(Z.mapValue,Q.mapValue);default:throw n()}}function j7(Z,Q){if(typeof Z=="string"&&typeof Q=="string"&&Z.length===Q.length)return a(Z,Q);let J=G1(Z),$=G1(Q),V=a(J.seconds,$.seconds);return V!==0?V:a(J.nanos,$.nanos)}function R7(Z,Q){let J=Z.values||[],$=Q.values||[];for(let V=0;V<J.length&&V<$.length;++V){let z=a1(J[V],$[V]);if(z)return z}return a(J.length,$.length)}function e1(Z){return L4(Z)}function L4(Z){return"nullValue"in Z?"null":("booleanValue"in Z)?""+Z.booleanValue:("integerValue"in Z)?""+Z.integerValue:("doubleValue"in Z)?""+Z.doubleValue:("timestampValue"in Z)?function Q(J){let $=G1(J);return`time(${$.seconds},${$.nanos})`}(Z.timestampValue):("stringValue"in Z)?Z.stringValue:("bytesValue"in Z)?function Q(J){return t1(J).toBase64()}(Z.bytesValue):("referenceValue"in Z)?function Q(J){return i.fromName(J).toString()}(Z.referenceValue):("geoPointValue"in Z)?function Q(J){return`geo(${J.latitude},${J.longitude})`}(Z.geoPointValue):("arrayValue"in Z)?function Q(J){let $="[",V=!0;for(let z of J.values||[])V?V=!1:$+=",",$+=L4(z);return $+"]"}(Z.arrayValue):("mapValue"in Z)?function Q(J){let $=Object.keys(J.fields||{}).sort(),V="{",z=!0;for(let B of $)z?z=!1:V+=",",V+=`${B}:${L4(J.fields[B])}`;return V+"}"}(Z.mapValue):n()}function y4(Z){return!!Z&&"integerValue"in Z}function i4(Z){return!!Z&&"arrayValue"in Z}function o2(Z){return!!Z&&"mapValue"in Z}function E7(Z){var Q,J;return((J=(((Q=Z==null?void 0:Z.mapValue)===null||Q===void 0?void 0:Q.fields)||{}).__type__)===null||J===void 0?void 0:J.stringValue)==="__vector__"}function d8(Z){if(Z.geoPointValue)return{geoPointValue:Object.assign({},Z.geoPointValue)};if(Z.timestampValue&&typeof Z.timestampValue=="object")return{timestampValue:Object.assign({},Z.timestampValue)};if(Z.mapValue){let Q={mapValue:{fields:{}}};return w2(Z.mapValue.fields,(J,$)=>Q.mapValue.fields[J]=d8($)),Q}if(Z.arrayValue){let Q={arrayValue:{values:[]}};for(let J=0;J<(Z.arrayValue.values||[]).length;++J)Q.arrayValue.values[J]=d8(Z.arrayValue.values[J]);return Q}return Object.assign({},Z)}function t7(Z){return(((Z.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class r0{constructor(Z){this.value=Z}static empty(){return new r0({mapValue:{}})}field(Z){if(Z.isEmpty())return this.value;{let Q=this.value;for(let J=0;J<Z.length-1;++J)if(Q=(Q.mapValue.fields||{})[Z.get(J)],!o2(Q))return null;return Q=(Q.mapValue.fields||{})[Z.lastSegment()],Q||null}}set(Z,Q){this.getFieldsMap(Z.popLast())[Z.lastSegment()]=d8(Q)}setAll(Z){let Q=O0.emptyPath(),J={},$=[];Z.forEach((z,B)=>{if(!Q.isImmediateParentOf(B)){let x=this.getFieldsMap(Q);this.applyChanges(x,J,$),J={},$=[],Q=B.popLast()}z?J[B.lastSegment()]=d8(z):$.push(B.lastSegment())});let V=this.getFieldsMap(Q);this.applyChanges(V,J,$)}delete(Z){let Q=this.field(Z.popLast());o2(Q)&&Q.mapValue.fields&&delete Q.mapValue.fields[Z.lastSegment()]}isEqual(Z){return c0(this.value,Z.value)}getFieldsMap(Z){let Q=this.value;Q.mapValue.fields||(Q.mapValue={fields:{}});for(let J=0;J<Z.length;++J){let $=Q.mapValue.fields[Z.get(J)];o2($)&&$.mapValue.fields||($={mapValue:{fields:{}}},Q.mapValue.fields[Z.get(J)]=$),Q=$}return Q.mapValue.fields}applyChanges(Z,Q,J){w2(Q,($,V)=>Z[$]=V);for(let $ of J)delete Z[$]}clone(){return new r0(d8(this.value))}}function o7(Z){let Q=[];return w2(Z.fields,(J,$)=>{let V=new O0([J]);if(o2($)){let z=o7($.mapValue).fields;if(z.length===0)Q.push(V);else for(let B of z)Q.push(V.child(B))}else Q.push(V)}),new i0(Q)}class m0{constructor(Z,Q,J,$,V,z,B){this.key=Z,this.documentType=Q,this.version=J,this.readTime=$,this.createTime=V,this.data=z,this.documentState=B}static newInvalidDocument(Z){return new m0(Z,0,X0.min(),X0.min(),X0.min(),r0.empty(),0)}static newFoundDocument(Z,Q,J,$){return new m0(Z,1,Q,X0.min(),J,$,0)}static newNoDocument(Z,Q){return new m0(Z,2,Q,X0.min(),X0.min(),r0.empty(),0)}static newUnknownDocument(Z,Q){return new m0(Z,3,Q,X0.min(),X0.min(),r0.empty(),2)}convertToFoundDocument(Z,Q){return!this.createTime.isEqual(X0.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=Z),this.version=Z,this.documentType=1,this.data=Q,this.documentState=0,this}convertToNoDocument(Z){return this.version=Z,this.documentType=2,this.data=r0.empty(),this.documentState=0,this}convertToUnknownDocument(Z){return this.version=Z,this.documentType=3,this.data=r0.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X0.min(),this}setReadTime(Z){return this.readTime=Z,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(Z){return Z instanceof m0&&this.key.isEqual(Z.key)&&this.version.isEqual(Z.version)&&this.documentType===Z.documentType&&this.documentState===Z.documentState&&this.data.isEqual(Z.data)}mutableCopy(){return new m0(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Q2{constructor(Z,Q){this.position=Z,this.inclusive=Q}}function O7(Z,Q,J){let $=0;for(let V=0;V<Z.position.length;V++){let z=Q[V],B=Z.position[V];if(z.field.isKeyField())$=i.comparator(i.fromName(B.referenceValue),J.key);else $=a1(B,J.data.field(z.field));if(z.dir==="desc"&&($*=-1),$!==0)break}return $}function G7(Z,Q){if(Z===null)return Q===null;if(Q===null)return!1;if(Z.inclusive!==Q.inclusive||Z.position.length!==Q.position.length)return!1;for(let J=0;J<Z.position.length;J++)if(!c0(Z.position[J],Q.position[J]))return!1;return!0}class J2{constructor(Z,Q="asc"){this.field=Z,this.dir=Q}}function sX(Z,Q){return Z.dir===Q.dir&&Z.field.isEqual(Q.field)}class g4{}class B0 extends g4{constructor(Z,Q,J){super(),this.field=Z,this.op=Q,this.value=J}static create(Z,Q,J){return Z.isKeyField()?Q==="in"||Q==="not-in"?this.createKeyFieldInFilter(Z,Q,J):new JQ(Z,Q,J):Q==="array-contains"?new wQ(Z,J):Q==="in"?new zQ(Z,J):Q==="not-in"?new WQ(Z,J):Q==="array-contains-any"?new UQ(Z,J):new B0(Z,Q,J)}static createKeyFieldInFilter(Z,Q,J){return Q==="in"?new XQ(Z,J):new $Q(Z,J)}matches(Z){let Q=Z.data.field(this.field);return this.op==="!="?Q!==null&&this.matchesComparison(a1(Q,this.value)):Q!==null&&o1(this.value)===o1(Q)&&this.matchesComparison(a1(Q,this.value))}matchesComparison(Z){switch(this.op){case"<":return Z<0;case"<=":return Z<=0;case"==":return Z===0;case"!=":return Z!==0;case">":return Z>0;case">=":return Z>=0;default:return n()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class I1 extends g4{constructor(Z,Q){super(),this.filters=Z,this.op=Q,this.ae=null}static create(Z,Q){return new I1(Z,Q)}matches(Z){return a7(this)?this.filters.find((Q)=>!Q.matches(Z))===void 0:this.filters.find((Q)=>Q.matches(Z))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((Z,Q)=>Z.concat(Q.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function a7(Z){return Z.op==="and"}function e7(Z){return bX(Z)&&a7(Z)}function bX(Z){for(let Q of Z.filters)if(Q instanceof I1)return!1;return!0}function v4(Z){if(Z instanceof B0)return Z.field.canonicalString()+Z.op.toString()+e1(Z.value);if(e7(Z))return Z.filters.map((Q)=>v4(Q)).join(",");{let Q=Z.filters.map((J)=>v4(J)).join(",");return`${Z.op}(${Q})`}}function ZQ(Z,Q){return Z instanceof B0?function J($,V){return V instanceof B0&&$.op===V.op&&$.field.isEqual(V.field)&&c0($.value,V.value)}(Z,Q):Z instanceof I1?function J($,V){if(V instanceof I1&&$.op===V.op&&$.filters.length===V.filters.length)return $.filters.reduce((z,B,x)=>z&&ZQ(B,V.filters[x]),!0);return!1}(Z,Q):void n()}function QQ(Z){return Z instanceof B0?function Q(J){return`${J.field.canonicalString()} ${J.op} ${e1(J.value)}`}(Z):Z instanceof I1?function Q(J){return J.op.toString()+" {"+J.getFilters().map(QQ).join(" ,")+"}"}(Z):"Filter"}class JQ extends B0{constructor(Z,Q,J){super(Z,Q,J),this.key=i.fromName(J.referenceValue)}matches(Z){let Q=i.comparator(Z.key,this.key);return this.matchesComparison(Q)}}class XQ extends B0{constructor(Z,Q){super(Z,"in",Q),this.keys=VQ("in",Q)}matches(Z){return this.keys.some((Q)=>Q.isEqual(Z.key))}}class $Q extends B0{constructor(Z,Q){super(Z,"not-in",Q),this.keys=VQ("not-in",Q)}matches(Z){return!this.keys.some((Q)=>Q.isEqual(Z.key))}}function VQ(Z,Q){var J;return(((J=Q.arrayValue)===null||J===void 0?void 0:J.values)||[]).map(($)=>i.fromName($.referenceValue))}class wQ extends B0{constructor(Z,Q){super(Z,"array-contains",Q)}matches(Z){let Q=Z.data.field(this.field);return i4(Q)&&Z2(Q.arrayValue,this.value)}}class zQ extends B0{constructor(Z,Q){super(Z,"in",Q)}matches(Z){let Q=Z.data.field(this.field);return Q!==null&&Z2(this.value.arrayValue,Q)}}class WQ extends B0{constructor(Z,Q){super(Z,"not-in",Q)}matches(Z){if(Z2(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let Q=Z.data.field(this.field);return Q!==null&&!Z2(this.value.arrayValue,Q)}}class UQ extends B0{constructor(Z,Q){super(Z,"array-contains-any",Q)}matches(Z){let Q=Z.data.field(this.field);return!(!i4(Q)||!Q.arrayValue.values)&&Q.arrayValue.values.some((J)=>Z2(this.value.arrayValue,J))}}class qQ{constructor(Z,Q=null,J=[],$=[],V=null,z=null,B=null){this.path=Z,this.collectionGroup=Q,this.orderBy=J,this.filters=$,this.limit=V,this.startAt=z,this.endAt=B,this.ue=null}}function I7(Z,Q=null,J=[],$=[],V=null,z=null,B=null){return new qQ(Z,Q,J,$,V,z,B)}function D4(Z){let Q=e(Z);if(Q.ue===null){let J=Q.path.canonicalString();Q.collectionGroup!==null&&(J+="|cg:"+Q.collectionGroup),J+="|f:",J+=Q.filters.map(($)=>v4($)).join(","),J+="|ob:",J+=Q.orderBy.map(($)=>function V(z){return z.field.canonicalString()+z.dir}($)).join(","),m4(Q.limit)||(J+="|l:",J+=Q.limit),Q.startAt&&(J+="|lb:",J+=Q.startAt.inclusive?"b:":"a:",J+=Q.startAt.position.map(($)=>e1($)).join(",")),Q.endAt&&(J+="|ub:",J+=Q.endAt.inclusive?"a:":"b:",J+=Q.endAt.position.map(($)=>e1($)).join(",")),Q.ue=J}return Q.ue}function n4(Z,Q){if(Z.limit!==Q.limit)return!1;if(Z.orderBy.length!==Q.orderBy.length)return!1;for(let J=0;J<Z.orderBy.length;J++)if(!sX(Z.orderBy[J],Q.orderBy[J]))return!1;if(Z.filters.length!==Q.filters.length)return!1;for(let J=0;J<Z.filters.length;J++)if(!ZQ(Z.filters[J],Q.filters[J]))return!1;return Z.collectionGroup===Q.collectionGroup&&(!!Z.path.isEqual(Q.path)&&(!!G7(Z.startAt,Q.startAt)&&G7(Z.endAt,Q.endAt)))}class z2{constructor(Z,Q=null,J=[],$=[],V=null,z="F",B=null,x=null){this.path=Z,this.collectionGroup=Q,this.explicitOrderBy=J,this.filters=$,this.limit=V,this.limitType=z,this.startAt=B,this.endAt=x,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function cX(Z,Q,J,$,V,z,B,x){return new z2(Z,Q,J,$,V,z,B,x)}function dX(Z){return new z2(Z)}function k7(Z){return Z.filters.length===0&&Z.limit===null&&Z.startAt==null&&Z.endAt==null&&(Z.explicitOrderBy.length===0||Z.explicitOrderBy.length===1&&Z.explicitOrderBy[0].field.isKeyField())}function EX(Z){return Z.collectionGroup!==null}function E8(Z){let Q=e(Z);if(Q.ce===null){Q.ce=[];let J=new Set;for(let z of Q.explicitOrderBy)Q.ce.push(z),J.add(z.field.canonicalString());let $=Q.explicitOrderBy.length>0?Q.explicitOrderBy[Q.explicitOrderBy.length-1].dir:"asc";(function z(B){let x=new v0(O0.comparator);return B.filters.forEach((j)=>{j.getFlattenedFilters().forEach((R)=>{R.isInequality()&&(x=x.add(R.field))})}),x})(Q).forEach((z)=>{J.has(z.canonicalString())||z.isKeyField()||Q.ce.push(new J2(z,$))}),J.has(O0.keyField().canonicalString())||Q.ce.push(new J2(O0.keyField(),$))}return Q.ce}function _1(Z){let Q=e(Z);return Q.le||(Q.le=tX(Q,E8(Z))),Q.le}function tX(Z,Q){if(Z.limitType==="F")return I7(Z.path,Z.collectionGroup,Q,Z.filters,Z.limit,Z.startAt,Z.endAt);{Q=Q.map((V)=>{let z=V.dir==="desc"?"asc":"desc";return new J2(V.field,z)});let J=Z.endAt?new Q2(Z.endAt.position,Z.endAt.inclusive):null,$=Z.startAt?new Q2(Z.startAt.position,Z.startAt.inclusive):null;return I7(Z.path,Z.collectionGroup,Q,Z.filters,Z.limit,J,$)}}function H4(Z,Q,J){return new z2(Z.path,Z.collectionGroup,Z.explicitOrderBy.slice(),Z.filters.slice(),Q,J,Z.startAt,Z.endAt)}function BQ(Z,Q){return n4(_1(Z),_1(Q))&&Z.limitType===Q.limitType}function hQ(Z){return`${D4(_1(Z))}|lt:${Z.limitType}`}function b8(Z){return`Query(target=${function Q(J){let $=J.path.canonicalString();return J.collectionGroup!==null&&($+=" collectionGroup="+J.collectionGroup),J.filters.length>0&&($+=`, filters: [${J.filters.map((V)=>QQ(V)).join(", ")}]`),m4(J.limit)||($+=", limit: "+J.limit),J.orderBy.length>0&&($+=`, orderBy: [${J.orderBy.map((V)=>function z(B){return`${B.field.canonicalString()} (${B.dir})`}(V)).join(", ")}]`),J.startAt&&($+=", startAt: ",$+=J.startAt.inclusive?"b:":"a:",$+=J.startAt.position.map((V)=>e1(V)).join(",")),J.endAt&&($+=", endAt: ",$+=J.endAt.inclusive?"a:":"b:",$+=J.endAt.position.map((V)=>e1(V)).join(",")),`Target(${$})`}(_1(Z))}; limitType=${Z.limitType})`}function s4(Z,Q){return Q.isFoundDocument()&&function J($,V){let z=V.key.path;return $.collectionGroup!==null?V.key.hasCollectionId($.collectionGroup)&&$.path.isPrefixOf(z):i.isDocumentKey($.path)?$.path.isEqual(z):$.path.isImmediateParentOf(z)}(Z,Q)&&function J($,V){for(let z of E8($))if(!z.field.isKeyField()&&V.data.field(z.field)===null)return!1;return!0}(Z,Q)&&function J($,V){for(let z of $.filters)if(!z.matches(V))return!1;return!0}(Z,Q)&&function J($,V){if($.startAt&&!function z(B,x,j){let R=O7(B,x,j);return B.inclusive?R<=0:R<0}($.startAt,E8($),V))return!1;if($.endAt&&!function z(B,x,j){let R=O7(B,x,j);return B.inclusive?R>=0:R>0}($.endAt,E8($),V))return!1;return!0}(Z,Q)}function oX(Z){return(Q,J)=>{let $=!1;for(let V of E8(Z)){let z=aX(V,Q,J);if(z!==0)return z;$=$||V.field.isKeyField()}return 0}}function aX(Z,Q,J){let $=Z.field.isKeyField()?i.comparator(Q.key,J.key):function V(z,B,x){let j=B.data.field(z),R=x.data.field(z);return j!==null&&R!==null?a1(j,R):n()}(Z.field,Q,J);switch(Z.dir){case"asc":return $;case"desc":return-1*$;default:return n()}}class l1{constructor(Z,Q){this.mapKeyFn=Z,this.equalsFn=Q,this.inner={},this.innerSize=0}get(Z){let Q=this.mapKeyFn(Z),J=this.inner[Q];if(J!==void 0){for(let[$,V]of J)if(this.equalsFn($,Z))return V}}has(Z){return this.get(Z)!==void 0}set(Z,Q){let J=this.mapKeyFn(Z),$=this.inner[J];if($===void 0)return this.inner[J]=[[Z,Q]],void this.innerSize++;for(let V=0;V<$.length;V++)if(this.equalsFn($[V][0],Z))return void($[V]=[Z,Q]);$.push([Z,Q]),this.innerSize++}delete(Z){let Q=this.mapKeyFn(Z),J=this.inner[Q];if(J===void 0)return!1;for(let $=0;$<J.length;$++)if(this.equalsFn(J[$][0],Z))return J.length===1?delete this.inner[Q]:J.splice($,1),this.innerSize--,!0;return!1}forEach(Z){w2(this.inner,(Q,J)=>{for(let[$,V]of J)Z($,V)})}isEmpty(){return s7(this.inner)}size(){return this.innerSize}}var eX=new T0(i.comparator);function J6(){return eX}var xQ=new T0(i.comparator);function E2(...Z){let Q=xQ;for(let J of Z)Q=Q.insert(J.key,J);return Q}function FQ(Z){let Q=xQ;return Z.forEach((J,$)=>Q=Q.insert(J,$.overlayedDocument)),Q}function p1(){return t8()}function jQ(){return t8()}function t8(){return new l1((Z)=>Z.toString(),(Z,Q)=>Z.isEqual(Q))}var Z$=new T0(i.comparator),Q$=new v0(i.comparator);function y0(...Z){let Q=Q$;for(let J of Z)Q=Q.add(J);return Q}var J$=new v0(a);function X$(){return J$}function b4(Z,Q){if(Z.useProto3Json){if(isNaN(Q))return{doubleValue:"NaN"};if(Q===1/0)return{doubleValue:"Infinity"};if(Q===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:e8(Q)?"-0":Q}}function RQ(Z){return{integerValue:""+Z}}function $$(Z,Q){return mX(Q)?RQ(Q):b4(Z,Q)}class W2{constructor(){this._=void 0}}function V$(Z,Q,J){return Z instanceof X2?function $(V,z){let B={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:V.seconds,nanos:V.nanoseconds}}}};return z&&r4(z)&&(z=c7(z)),z&&(B.fields.__previous_value__=z),{mapValue:B}}(J,Q):Z instanceof Z8?GQ(Z,Q):Z instanceof Q8?IQ(Z,Q):function $(V,z){let B=OQ(V,z),x=S7(B)+S7(V.Pe);return y4(B)&&y4(V.Pe)?RQ(x):b4(V.serializer,x)}(Z,Q)}function w$(Z,Q,J){return Z instanceof Z8?GQ(Z,Q):Z instanceof Q8?IQ(Z,Q):J}function OQ(Z,Q){return Z instanceof $2?function J($){return y4($)||function V(z){return!!z&&"doubleValue"in z}($)}(Q)?Q:{integerValue:0}:null}class X2 extends W2{}class Z8 extends W2{constructor(Z){super(),this.elements=Z}}function GQ(Z,Q){let J=kQ(Q);for(let $ of Z.elements)J.some((V)=>c0(V,$))||J.push($);return{arrayValue:{values:J}}}class Q8 extends W2{constructor(Z){super(),this.elements=Z}}function IQ(Z,Q){let J=kQ(Q);for(let $ of Z.elements)J=J.filter((V)=>!c0(V,$));return{arrayValue:{values:J}}}class $2 extends W2{constructor(Z,Q){super(),this.serializer=Z,this.Pe=Q}}function S7(Z){return W0(Z.integerValue||Z.doubleValue)}function kQ(Z){return i4(Z)&&Z.arrayValue.values?Z.arrayValue.values.slice():[]}function z$(Z,Q){return Z.field.isEqual(Q.field)&&function J($,V){return $ instanceof Z8&&V instanceof Z8||$ instanceof Q8&&V instanceof Q8?E1($.elements,V.elements,c0):$ instanceof $2&&V instanceof $2?c0($.Pe,V.Pe):$ instanceof X2&&V instanceof X2}(Z.transform,Q.transform)}class SQ{constructor(Z,Q){this.version=Z,this.transformResults=Q}}class J1{constructor(Z,Q){this.updateTime=Z,this.exists=Q}static none(){return new J1}static exists(Z){return new J1(void 0,Z)}static updateTime(Z){return new J1(Z)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(Z){return this.exists===Z.exists&&(this.updateTime?!!Z.updateTime&&this.updateTime.isEqual(Z.updateTime):!Z.updateTime)}}function a2(Z,Q){return Z.updateTime!==void 0?Q.isFoundDocument()&&Q.version.isEqual(Z.updateTime):Z.exists===void 0||Z.exists===Q.isFoundDocument()}class U2{}function NQ(Z,Q){if(!Z.hasLocalMutations||Q&&Q.fields.length===0)return null;if(Q===null)return Z.isNoDocument()?new c4(Z.key,J1.none()):new $8(Z.key,Z.data,J1.none());{let J=Z.data,$=r0.empty(),V=new v0(O0.comparator);for(let z of Q.fields)if(!V.has(z)){let B=J.field(z);B===null&&z.length>1&&(z=z.popLast(),B=J.field(z)),B===null?$.delete(z):$.set(z,B),V=V.add(z)}return new S1(Z.key,$,new i0(V.toArray()),J1.none())}}function W$(Z,Q,J){Z instanceof $8?function $(V,z,B){let x=V.value.clone(),j=L7(V.fieldTransforms,z,B.transformResults);x.setAll(j),z.convertToFoundDocument(B.version,x).setHasCommittedMutations()}(Z,Q,J):Z instanceof S1?function $(V,z,B){if(!a2(V.precondition,z))return void z.convertToUnknownDocument(B.version);let x=L7(V.fieldTransforms,z,B.transformResults),j=z.data;j.setAll(LQ(V)),j.setAll(x),z.convertToFoundDocument(B.version,j).setHasCommittedMutations()}(Z,Q,J):function $(V,z,B){z.convertToNoDocument(B.version).setHasCommittedMutations()}(0,Q,J)}function o8(Z,Q,J,$){return Z instanceof $8?function V(z,B,x,j){if(!a2(z.precondition,B))return x;let R=z.value.clone(),H=y7(z.fieldTransforms,j,B);return R.setAll(H),B.convertToFoundDocument(B.version,R).setHasLocalMutations(),null}(Z,Q,J,$):Z instanceof S1?function V(z,B,x,j){if(!a2(z.precondition,B))return x;let R=y7(z.fieldTransforms,j,B),H=B.data;if(H.setAll(LQ(z)),H.setAll(R),B.convertToFoundDocument(B.version,H).setHasLocalMutations(),x===null)return null;return x.unionWith(z.fieldMask.fields).unionWith(z.fieldTransforms.map((f)=>f.field))}(Z,Q,J,$):function V(z,B,x){if(a2(z.precondition,B))return B.convertToNoDocument(B.version).setHasLocalMutations(),null;return x}(Z,Q,J)}function U$(Z,Q){let J=null;for(let $ of Z.fieldTransforms){let V=Q.data.field($.field),z=OQ($.transform,V||null);z!=null&&(J===null&&(J=r0.empty()),J.set($.field,z))}return J||null}function N7(Z,Q){return Z.type===Q.type&&(!!Z.key.isEqual(Q.key)&&(!!Z.precondition.isEqual(Q.precondition)&&(!!function J($,V){return $===void 0&&V===void 0||!(!$||!V)&&E1($,V,(z,B)=>z$(z,B))}(Z.fieldTransforms,Q.fieldTransforms)&&(Z.type===0?Z.value.isEqual(Q.value):Z.type!==1||Z.data.isEqual(Q.data)&&Z.fieldMask.isEqual(Q.fieldMask)))))}class $8 extends U2{constructor(Z,Q,J,$=[]){super(),this.key=Z,this.value=Q,this.precondition=J,this.fieldTransforms=$,this.type=0}getFieldMask(){return null}}class S1 extends U2{constructor(Z,Q,J,$,V=[]){super(),this.key=Z,this.data=Q,this.fieldMask=J,this.precondition=$,this.fieldTransforms=V,this.type=1}getFieldMask(){return this.fieldMask}}function LQ(Z){let Q=new Map;return Z.fieldMask.fields.forEach((J)=>{if(!J.isEmpty()){let $=Z.data.field(J);Q.set(J,$)}}),Q}function L7(Z,Q,J){let $=new Map;q0(Z.length===J.length);for(let V=0;V<J.length;V++){let z=Z[V],B=z.transform,x=Q.data.field(z.field);$.set(z.field,w$(B,x,J[V]))}return $}function y7(Z,Q,J){let $=new Map;for(let V of Z){let z=V.transform,B=J.data.field(V.field);$.set(V.field,V$(z,B,Q))}return $}class c4 extends U2{constructor(Z,Q){super(),this.key=Z,this.precondition=Q,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yQ extends U2{constructor(Z,Q){super(),this.key=Z,this.precondition=Q,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vQ{constructor(Z,Q,J,$){this.batchId=Z,this.localWriteTime=Q,this.baseMutations=J,this.mutations=$}applyToRemoteDocument(Z,Q){let J=Q.mutationResults;for(let $=0;$<this.mutations.length;$++){let V=this.mutations[$];if(V.key.isEqual(Z.key))W$(V,Z,J[$])}}applyToLocalView(Z,Q){for(let J of this.baseMutations)J.key.isEqual(Z.key)&&(Q=o8(J,Z,Q,this.localWriteTime));for(let J of this.mutations)J.key.isEqual(Z.key)&&(Q=o8(J,Z,Q,this.localWriteTime));return Q}applyToLocalDocumentSet(Z,Q){let J=jQ();return this.mutations.forEach(($)=>{let V=Z.get($.key),z=V.overlayedDocument,B=this.applyToLocalView(z,V.mutatedFields);B=Q.has($.key)?null:B;let x=NQ(z,B);x!==null&&J.set($.key,x),z.isValidDocument()||z.convertToNoDocument(X0.min())}),J}keys(){return this.mutations.reduce((Z,Q)=>Z.add(Q.key),y0())}isEqual(Z){return this.batchId===Z.batchId&&E1(this.mutations,Z.mutations,(Q,J)=>N7(Q,J))&&E1(this.baseMutations,Z.baseMutations,(Q,J)=>N7(Q,J))}}class d4{constructor(Z,Q,J,$){this.batch=Z,this.commitVersion=Q,this.mutationResults=J,this.docVersions=$}static from(Z,Q,J){q0(Z.mutations.length===J.length);let $=function z(){return Z$}(),V=Z.mutations;for(let z=0;z<V.length;z++)$=$.insert(V[z].key,J[z].version);return new d4(Z,Q,J,$)}}class HQ{constructor(Z,Q){this.largestBatchId=Z,this.mutation=Q}getKey(){return this.mutation.key}isEqual(Z){return Z!==null&&this.mutation===Z.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}var z0,c;function q$(Z){switch(Z){default:return n();case T.CANCELLED:case T.UNKNOWN:case T.DEADLINE_EXCEEDED:case T.RESOURCE_EXHAUSTED:case T.INTERNAL:case T.UNAVAILABLE:case T.UNAUTHENTICATED:return!1;case T.INVALID_ARGUMENT:case T.NOT_FOUND:case T.ALREADY_EXISTS:case T.PERMISSION_DENIED:case T.FAILED_PRECONDITION:case T.ABORTED:case T.OUT_OF_RANGE:case T.UNIMPLEMENTED:case T.DATA_LOSS:return!0}}function B$(Z){if(Z===void 0)return M1("GRPC error has no .code"),T.UNKNOWN;switch(Z){case z0.OK:return T.OK;case z0.CANCELLED:return T.CANCELLED;case z0.UNKNOWN:return T.UNKNOWN;case z0.DEADLINE_EXCEEDED:return T.DEADLINE_EXCEEDED;case z0.RESOURCE_EXHAUSTED:return T.RESOURCE_EXHAUSTED;case z0.INTERNAL:return T.INTERNAL;case z0.UNAVAILABLE:return T.UNAVAILABLE;case z0.UNAUTHENTICATED:return T.UNAUTHENTICATED;case z0.INVALID_ARGUMENT:return T.INVALID_ARGUMENT;case z0.NOT_FOUND:return T.NOT_FOUND;case z0.ALREADY_EXISTS:return T.ALREADY_EXISTS;case z0.PERMISSION_DENIED:return T.PERMISSION_DENIED;case z0.FAILED_PRECONDITION:return T.FAILED_PRECONDITION;case z0.ABORTED:return T.ABORTED;case z0.OUT_OF_RANGE:return T.OUT_OF_RANGE;case z0.UNIMPLEMENTED:return T.UNIMPLEMENTED;case z0.DATA_LOSS:return T.DATA_LOSS;default:return n()}}(c=z0||(z0={}))[c.OK=0]="OK",c[c.CANCELLED=1]="CANCELLED",c[c.UNKNOWN=2]="UNKNOWN",c[c.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",c[c.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",c[c.NOT_FOUND=5]="NOT_FOUND",c[c.ALREADY_EXISTS=6]="ALREADY_EXISTS",c[c.PERMISSION_DENIED=7]="PERMISSION_DENIED",c[c.UNAUTHENTICATED=16]="UNAUTHENTICATED",c[c.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",c[c.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",c[c.ABORTED=10]="ABORTED",c[c.OUT_OF_RANGE=11]="OUT_OF_RANGE",c[c.UNIMPLEMENTED=12]="UNIMPLEMENTED",c[c.INTERNAL=13]="INTERNAL",c[c.UNAVAILABLE=14]="UNAVAILABLE",c[c.DATA_LOSS=15]="DATA_LOSS";var wz=new h4([4294967295,4294967295],0);var zz=(()=>{return{asc:"ASCENDING",desc:"DESCENDING"}})(),Wz=(()=>{return{"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}})(),Uz=(()=>{return{and:"AND",or:"OR"}})();class YQ{constructor(Z,Q){this.databaseId=Z,this.useProto3Json=Q}}function Y4(Z,Q){if(Z.useProto3Json)return`${new Date(1000*Q.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+Q.nanoseconds).slice(-9)}Z`;return{seconds:""+Q.seconds,nanos:Q.nanoseconds}}function h$(Z,Q){return Z.useProto3Json?Q.toBase64():Q.toUint8Array()}function x$(Z,Q){return Y4(Z,Q.toTimestamp())}function d1(Z){return q0(!!Z),X0.fromTimestamp(function Q(J){let $=G1(J);return new h0($.seconds,$.nanos)}(Z))}function fQ(Z,Q){return f4(Z,Q).canonicalString()}function f4(Z,Q){let J=function $(V){return new w0(["projects",V.projectId,"databases",V.database])}(Z).child("documents");return Q===void 0?J:J.child(Q)}function F$(Z){let Q=w0.fromString(Z);return q0(N$(Q)),Q}function K4(Z,Q){return fQ(Z.databaseId,Q.path)}function j$(Z){let Q=F$(Z);return Q.length===4?w0.emptyPath():O$(Q)}function R$(Z){return new w0(["projects",Z.databaseId.projectId,"databases",Z.databaseId.database]).canonicalString()}function O$(Z){return q0(Z.length>4&&Z.get(4)==="documents"),Z.popFirst(5)}function v7(Z,Q,J){return{name:K4(Z,Q),fields:J.value.mapValue.fields}}function G$(Z,Q){let J;if(Q instanceof $8)J={update:v7(Z,Q.key,Q.value)};else if(Q instanceof c4)J={delete:K4(Z,Q.key)};else if(Q instanceof S1)J={update:v7(Z,Q.key,Q.data),updateMask:S$(Q.fieldMask)};else{if(!(Q instanceof yQ))return n();J={verify:K4(Z,Q.key)}}return Q.fieldTransforms.length>0&&(J.updateTransforms=Q.fieldTransforms.map(($)=>function V(z,B){let x=B.transform;if(x instanceof X2)return{fieldPath:B.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(x instanceof Z8)return{fieldPath:B.field.canonicalString(),appendMissingElements:{values:x.elements}};if(x instanceof Q8)return{fieldPath:B.field.canonicalString(),removeAllFromArray:{values:x.elements}};if(x instanceof $2)return{fieldPath:B.field.canonicalString(),increment:x.Pe};throw n()}(0,$))),Q.precondition.isNone||(J.currentDocument=function $(V,z){return z.updateTime!==void 0?{updateTime:x$(V,z.updateTime)}:z.exists!==void 0?{exists:z.exists}:n()}(Z,Q.precondition)),J}function I$(Z,Q){return Z&&Z.length>0?(q0(Q!==void 0),Z.map((J)=>function $(V,z){let B=V.updateTime?d1(V.updateTime):d1(z);return B.isEqual(X0.min())&&(B=d1(z)),new SQ(B,V.transformResults||[])}(J,Q))):[]}function k$(Z){let Q=j$(Z.parent),J=Z.structuredQuery,$=J.from?J.from.length:0,V=null;if($>0){q0($===1);let H=J.from[0];H.allDescendants?V=H.collectionId:Q=Q.child(H.collectionId)}let z=[];J.where&&(z=function H(f){let K=KQ(f);if(K instanceof I1&&e7(K))return K.getFilters();return[K]}(J.where));let B=[];J.orderBy&&(B=function H(f){return f.map((K)=>function l(_){return new J2(c1(_.field),function P(u){switch(u){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(K))}(J.orderBy));let x=null;J.limit&&(x=function H(f){let K;return K=typeof f=="object"?f.value:f,m4(K)?null:K}(J.limit));let j=null;J.startAt&&(j=function H(f){let K=!!f.before,l=f.values||[];return new Q2(l,K)}(J.startAt));let R=null;return J.endAt&&(R=function H(f){let K=!f.before,l=f.values||[];return new Q2(l,K)}(J.endAt)),cX(Q,V,B,z,x,"F",j,R)}function KQ(Z){return Z.unaryFilter!==void 0?function Q(J){switch(J.unaryFilter.op){case"IS_NAN":let $=c1(J.unaryFilter.field);return B0.create($,"==",{doubleValue:NaN});case"IS_NULL":let V=c1(J.unaryFilter.field);return B0.create(V,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let z=c1(J.unaryFilter.field);return B0.create(z,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let B=c1(J.unaryFilter.field);return B0.create(B,"!=",{nullValue:"NULL_VALUE"});default:return n()}}(Z):Z.fieldFilter!==void 0?function Q(J){return B0.create(c1(J.fieldFilter.field),function $(V){switch(V){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return n()}}(J.fieldFilter.op),J.fieldFilter.value)}(Z):Z.compositeFilter!==void 0?function Q(J){return I1.create(J.compositeFilter.filters.map(($)=>KQ($)),function $(V){switch(V){case"AND":return"and";case"OR":return"or";default:return n()}}(J.compositeFilter.op))}(Z):n()}function c1(Z){return O0.fromServerFormat(Z.fieldPath)}function S$(Z){let Q=[];return Z.fields.forEach((J)=>Q.push(J.canonicalString())),{fieldPaths:Q}}function N$(Z){return Z.length>=4&&Z.get(0)==="projects"&&Z.get(2)==="databases"}class AQ{constructor(Z){this.ct=Z}}function L$(Z){let Q=k$({parent:Z.parent,structuredQuery:Z.structuredQuery});return Z.limitType==="LAST"?H4(Q,Q.limit,"L"):Q}class A4{constructor(){}It(Z,Q){this.Tt(Z,Q),Q.Et()}Tt(Z,Q){if("nullValue"in Z)this.dt(Q,5);else if("booleanValue"in Z)this.dt(Q,10),Q.At(Z.booleanValue?1:0);else if("integerValue"in Z)this.dt(Q,15),Q.At(W0(Z.integerValue));else if("doubleValue"in Z){let J=W0(Z.doubleValue);isNaN(J)?this.dt(Q,13):(this.dt(Q,15),e8(J)?Q.At(0):Q.At(J))}else if("timestampValue"in Z){let J=Z.timestampValue;this.dt(Q,20),typeof J=="string"&&(J=G1(J)),Q.Rt(`${J.seconds||""}`),Q.At(J.nanos||0)}else if("stringValue"in Z)this.Vt(Z.stringValue,Q),this.ft(Q);else if("bytesValue"in Z)this.dt(Q,30),Q.gt(t1(Z.bytesValue)),this.ft(Q);else if("referenceValue"in Z)this.yt(Z.referenceValue,Q);else if("geoPointValue"in Z){let J=Z.geoPointValue;this.dt(Q,45),Q.At(J.latitude||0),Q.At(J.longitude||0)}else"mapValue"in Z?t7(Z)?this.dt(Q,Number.MAX_SAFE_INTEGER):E7(Z)?this.wt(Z.mapValue,Q):(this.St(Z.mapValue,Q),this.ft(Q)):("arrayValue"in Z)?(this.bt(Z.arrayValue,Q),this.ft(Q)):n()}Vt(Z,Q){this.dt(Q,25),this.Dt(Z,Q)}Dt(Z,Q){Q.Rt(Z)}St(Z,Q){let J=Z.fields||{};this.dt(Q,55);for(let $ of Object.keys(J))this.Vt($,Q),this.Tt(J[$],Q)}wt(Z,Q){var J,$;let V=Z.fields||{};this.dt(Q,53);let z="value",B=(($=(J=V[z].arrayValue)===null||J===void 0?void 0:J.values)===null||$===void 0?void 0:$.length)||0;this.dt(Q,15),Q.At(W0(B)),this.Vt(z,Q),this.Tt(V[z],Q)}bt(Z,Q){let J=Z.values||[];this.dt(Q,50);for(let $ of J)this.Tt($,Q)}yt(Z,Q){this.dt(Q,37),i.fromName(Z).path.forEach((J)=>{this.dt(Q,60),this.Dt(J,Q)})}dt(Z,Q){Z.At(Q)}ft(Z){Z.At(2)}}A4.vt=new A4;class TQ{constructor(){this.un=new pQ}addToCollectionParentIndex(Z,Q){return this.un.add(Q),A.resolve()}getCollectionParents(Z,Q){return A.resolve(this.un.getEntries(Q))}addFieldIndex(Z,Q){return A.resolve()}deleteFieldIndex(Z,Q){return A.resolve()}deleteAllFieldIndexes(Z){return A.resolve()}createTargetIndexes(Z,Q){return A.resolve()}getDocumentsMatchingTarget(Z,Q){return A.resolve(null)}getIndexType(Z,Q){return A.resolve(0)}getFieldIndexes(Z,Q){return A.resolve([])}getNextCollectionGroupToUpdate(Z){return A.resolve(null)}getMinOffset(Z,Q){return A.resolve(O1.min())}getMinOffsetFromCollectionGroup(Z,Q){return A.resolve(O1.min())}updateCollectionGroup(Z,Q,J){return A.resolve()}updateIndexEntries(Z,Q){return A.resolve()}}class pQ{constructor(){this.index={}}add(Z){let Q=Z.lastSegment(),J=Z.popLast(),$=this.index[Q]||new v0(w0.comparator),V=!$.has(J);return this.index[Q]=$.add(J),V}has(Z){let Q=Z.lastSegment(),J=Z.popLast(),$=this.index[Q];return $&&$.has(J)}getEntries(Z){return(this.index[Z]||new v0(w0.comparator)).toArray()}}var qz=new Uint8Array(0);class u0{constructor(Z,Q,J){this.cacheSizeCollectionThreshold=Z,this.percentileToCollect=Q,this.maximumSequenceNumbersToCollect=J}static withCacheSize(Z){return new u0(Z,u0.DEFAULT_COLLECTION_PERCENTILE,u0.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}u0.DEFAULT_COLLECTION_PERCENTILE=10,u0.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1000,u0.DEFAULT=new u0(41943040,u0.DEFAULT_COLLECTION_PERCENTILE,u0.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),u0.DISABLED=new u0(-1,0,0);class J8{constructor(Z){this.Ln=Z}next(){return this.Ln+=2,this.Ln}static Bn(){return new J8(0)}static kn(){return new J8(-1)}}class _Q{constructor(){this.changes=new l1((Z)=>Z.toString(),(Z,Q)=>Z.isEqual(Q)),this.changesApplied=!1}addEntry(Z){this.assertNotApplied(),this.changes.set(Z.key,Z)}removeEntry(Z,Q){this.assertNotApplied(),this.changes.set(Z,m0.newInvalidDocument(Z).setReadTime(Q))}getEntry(Z,Q){this.assertNotApplied();let J=this.changes.get(Q);return J!==void 0?A.resolve(J):this.getFromCache(Z,Q)}getEntries(Z,Q){return this.getAllFromCache(Z,Q)}apply(Z){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(Z)}assertNotApplied(){}}class PQ{constructor(Z,Q){this.overlayedDocument=Z,this.mutatedFields=Q}}class MQ{constructor(Z,Q,J,$){this.remoteDocumentCache=Z,this.mutationQueue=Q,this.documentOverlayCache=J,this.indexManager=$}getDocument(Z,Q){let J=null;return this.documentOverlayCache.getOverlay(Z,Q).next(($)=>(J=$,this.remoteDocumentCache.getEntry(Z,Q))).next(($)=>(J!==null&&o8(J.mutation,$,i0.empty(),h0.now()),$))}getDocuments(Z,Q){return this.remoteDocumentCache.getEntries(Z,Q).next((J)=>this.getLocalViewOfDocuments(Z,J,y0()).next(()=>J))}getLocalViewOfDocuments(Z,Q,J=y0()){let $=p1();return this.populateOverlays(Z,$,Q).next(()=>this.computeViews(Z,Q,$,J).next((V)=>{let z=E2();return V.forEach((B,x)=>{z=z.insert(B,x.overlayedDocument)}),z}))}getOverlayedDocuments(Z,Q){let J=p1();return this.populateOverlays(Z,J,Q).next(()=>this.computeViews(Z,Q,J,y0()))}populateOverlays(Z,Q,J){let $=[];return J.forEach((V)=>{Q.has(V)||$.push(V)}),this.documentOverlayCache.getOverlays(Z,$).next((V)=>{V.forEach((z,B)=>{Q.set(z,B)})})}computeViews(Z,Q,J,$){let V=J6(),z=t8(),B=function x(){return t8()}();return Q.forEach((x,j)=>{let R=J.get(j.key);$.has(j.key)&&(R===void 0||R.mutation instanceof S1)?V=V.insert(j.key,j):R!==void 0?(z.set(j.key,R.mutation.getFieldMask()),o8(R.mutation,j,R.mutation.getFieldMask(),h0.now())):z.set(j.key,i0.empty())}),this.recalculateAndSaveOverlays(Z,V).next((x)=>(x.forEach((j,R)=>z.set(j,R)),Q.forEach((j,R)=>{var H;return B.set(j,new PQ(R,(H=z.get(j))!==null&&H!==void 0?H:null))}),B))}recalculateAndSaveOverlays(Z,Q){let J=t8(),$=new T0((z,B)=>z-B),V=y0();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(Z,Q).next((z)=>{for(let B of z)B.keys().forEach((x)=>{let j=Q.get(x);if(j===null)return;let R=J.get(x)||i0.empty();R=B.applyToLocalView(j,R),J.set(x,R);let H=($.get(B.batchId)||y0()).add(x);$=$.insert(B.batchId,H)})}).next(()=>{let z=[],B=$.getReverseIterator();for(;B.hasNext();){let x=B.getNext(),j=x.key,R=x.value,H=jQ();R.forEach((f)=>{if(!V.has(f)){let K=NQ(Q.get(f),J.get(f));K!==null&&H.set(f,K),V=V.add(f)}}),z.push(this.documentOverlayCache.saveOverlays(Z,j,H))}return A.waitFor(z)}).next(()=>J)}recalculateAndSaveOverlaysForDocumentKeys(Z,Q){return this.remoteDocumentCache.getEntries(Z,Q).next((J)=>this.recalculateAndSaveOverlays(Z,J))}getDocumentsMatchingQuery(Z,Q,J,$){return function V(z){return i.isDocumentKey(z.path)&&z.collectionGroup===null&&z.filters.length===0}(Q)?this.getDocumentsMatchingDocumentQuery(Z,Q.path):EX(Q)?this.getDocumentsMatchingCollectionGroupQuery(Z,Q,J,$):this.getDocumentsMatchingCollectionQuery(Z,Q,J,$)}getNextDocuments(Z,Q,J,$){return this.remoteDocumentCache.getAllFromCollectionGroup(Z,Q,J,$).next((V)=>{let z=$-V.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(Z,Q,J.largestBatchId,$-V.size):A.resolve(p1()),B=-1,x=V;return z.next((j)=>A.forEach(j,(R,H)=>(B<H.largestBatchId&&(B=H.largestBatchId),V.get(R)?A.resolve():this.remoteDocumentCache.getEntry(Z,R).next((f)=>{x=x.insert(R,f)}))).next(()=>this.populateOverlays(Z,j,V)).next(()=>this.computeViews(Z,x,j,y0())).next((R)=>({batchId:B,changes:FQ(R)})))})}getDocumentsMatchingDocumentQuery(Z,Q){return this.getDocument(Z,new i(Q)).next((J)=>{let $=E2();return J.isFoundDocument()&&($=$.insert(J.key,J)),$})}getDocumentsMatchingCollectionGroupQuery(Z,Q,J,$){let V=Q.collectionGroup,z=E2();return this.indexManager.getCollectionParents(Z,V).next((B)=>A.forEach(B,(x)=>{let j=function R(H,f){return new z2(f,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt)}(Q,x.child(V));return this.getDocumentsMatchingCollectionQuery(Z,j,J,$).next((R)=>{R.forEach((H,f)=>{z=z.insert(H,f)})})}).next(()=>z))}getDocumentsMatchingCollectionQuery(Z,Q,J,$){let V;return this.documentOverlayCache.getOverlaysForCollection(Z,Q.path,J.largestBatchId).next((z)=>(V=z,this.remoteDocumentCache.getDocumentsMatchingQuery(Z,Q,J,V,$))).next((z)=>{V.forEach((x,j)=>{let R=j.getKey();z.get(R)===null&&(z=z.insert(R,m0.newInvalidDocument(R)))});let B=E2();return z.forEach((x,j)=>{let R=V.get(x);R!==void 0&&o8(R.mutation,j,i0.empty(),h0.now()),s4(Q,j)&&(B=B.insert(x,j))}),B})}}class lQ{constructor(Z){this.serializer=Z,this.hr=new Map,this.Pr=new Map}getBundleMetadata(Z,Q){return A.resolve(this.hr.get(Q))}saveBundleMetadata(Z,Q){return this.hr.set(Q.id,function J($){return{id:$.id,version:$.version,createTime:d1($.createTime)}}(Q)),A.resolve()}getNamedQuery(Z,Q){return A.resolve(this.Pr.get(Q))}saveNamedQuery(Z,Q){return this.Pr.set(Q.name,function J($){return{name:$.name,query:L$($.bundledQuery),readTime:d1($.readTime)}}(Q)),A.resolve()}}class uQ{constructor(){this.overlays=new T0(i.comparator),this.Ir=new Map}getOverlay(Z,Q){return A.resolve(this.overlays.get(Q))}getOverlays(Z,Q){let J=p1();return A.forEach(Q,($)=>this.getOverlay(Z,$).next((V)=>{V!==null&&J.set($,V)})).next(()=>J)}saveOverlays(Z,Q,J){return J.forEach(($,V)=>{this.ht(Z,Q,V)}),A.resolve()}removeOverlaysForBatchId(Z,Q,J){let $=this.Ir.get(J);return $!==void 0&&($.forEach((V)=>this.overlays=this.overlays.remove(V)),this.Ir.delete(J)),A.resolve()}getOverlaysForCollection(Z,Q,J){let $=p1(),V=Q.length+1,z=new i(Q.child("")),B=this.overlays.getIteratorFrom(z);for(;B.hasNext();){let x=B.getNext().value,j=x.getKey();if(!Q.isPrefixOf(j.path))break;j.path.length===V&&(x.largestBatchId>J&&$.set(x.getKey(),x))}return A.resolve($)}getOverlaysForCollectionGroup(Z,Q,J,$){let V=new T0((j,R)=>j-R),z=this.overlays.getIterator();for(;z.hasNext();){let j=z.getNext().value;if(j.getKey().getCollectionGroup()===Q&&j.largestBatchId>J){let R=V.get(j.largestBatchId);R===null&&(R=p1(),V=V.insert(j.largestBatchId,R)),R.set(j.getKey(),j)}}let B=p1(),x=V.getIterator();for(;x.hasNext();)if(x.getNext().value.forEach((j,R)=>B.set(j,R)),B.size()>=$)break;return A.resolve(B)}ht(Z,Q,J){let $=this.overlays.get(J.key);if($!==null){let z=this.Ir.get($.largestBatchId).delete(J.key);this.Ir.set($.largestBatchId,z)}this.overlays=this.overlays.insert(J.key,new HQ(Q,J));let V=this.Ir.get(Q);V===void 0&&(V=y0(),this.Ir.set(Q,V)),this.Ir.set(Q,V.add(J.key))}}class CQ{constructor(){this.sessionToken=b0.EMPTY_BYTE_STRING}getSessionToken(Z){return A.resolve(this.sessionToken)}setSessionToken(Z,Q){return this.sessionToken=Q,A.resolve()}}class V6{constructor(){this.Tr=new v0(U0.Er),this.dr=new v0(U0.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(Z,Q){let J=new U0(Z,Q);this.Tr=this.Tr.add(J),this.dr=this.dr.add(J)}Rr(Z,Q){Z.forEach((J)=>this.addReference(J,Q))}removeReference(Z,Q){this.Vr(new U0(Z,Q))}mr(Z,Q){Z.forEach((J)=>this.removeReference(J,Q))}gr(Z){let Q=new i(new w0([])),J=new U0(Q,Z),$=new U0(Q,Z+1),V=[];return this.dr.forEachInRange([J,$],(z)=>{this.Vr(z),V.push(z.key)}),V}pr(){this.Tr.forEach((Z)=>this.Vr(Z))}Vr(Z){this.Tr=this.Tr.delete(Z),this.dr=this.dr.delete(Z)}yr(Z){let Q=new i(new w0([])),J=new U0(Q,Z),$=new U0(Q,Z+1),V=y0();return this.dr.forEachInRange([J,$],(z)=>{V=V.add(z.key)}),V}containsKey(Z){let Q=new U0(Z,0),J=this.Tr.firstAfterOrEqual(Q);return J!==null&&Z.isEqual(J.key)}}class U0{constructor(Z,Q){this.key=Z,this.wr=Q}static Er(Z,Q){return i.comparator(Z.key,Q.key)||a(Z.wr,Q.wr)}static Ar(Z,Q){return a(Z.wr,Q.wr)||i.comparator(Z.key,Q.key)}}class mQ{constructor(Z,Q){this.indexManager=Z,this.referenceDelegate=Q,this.mutationQueue=[],this.Sr=1,this.br=new v0(U0.Er)}checkEmpty(Z){return A.resolve(this.mutationQueue.length===0)}addMutationBatch(Z,Q,J,$){let V=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let z=new vQ(V,Q,J,$);this.mutationQueue.push(z);for(let B of $)this.br=this.br.add(new U0(B.key,V)),this.indexManager.addToCollectionParentIndex(Z,B.key.path.popLast());return A.resolve(z)}lookupMutationBatch(Z,Q){return A.resolve(this.Dr(Q))}getNextMutationBatchAfterBatchId(Z,Q){let J=Q+1,$=this.vr(J),V=$<0?0:$;return A.resolve(this.mutationQueue.length>V?this.mutationQueue[V]:null)}getHighestUnacknowledgedBatchId(){return A.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(Z){return A.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(Z,Q){let J=new U0(Q,0),$=new U0(Q,Number.POSITIVE_INFINITY),V=[];return this.br.forEachInRange([J,$],(z)=>{let B=this.Dr(z.wr);V.push(B)}),A.resolve(V)}getAllMutationBatchesAffectingDocumentKeys(Z,Q){let J=new v0(a);return Q.forEach(($)=>{let V=new U0($,0),z=new U0($,Number.POSITIVE_INFINITY);this.br.forEachInRange([V,z],(B)=>{J=J.add(B.wr)})}),A.resolve(this.Cr(J))}getAllMutationBatchesAffectingQuery(Z,Q){let J=Q.path,$=J.length+1,V=J;i.isDocumentKey(V)||(V=V.child(""));let z=new U0(new i(V),0),B=new v0(a);return this.br.forEachWhile((x)=>{let j=x.key.path;return!!J.isPrefixOf(j)&&(j.length===$&&(B=B.add(x.wr)),!0)},z),A.resolve(this.Cr(B))}Cr(Z){let Q=[];return Z.forEach((J)=>{let $=this.Dr(J);$!==null&&Q.push($)}),Q}removeMutationBatch(Z,Q){q0(this.Fr(Q.batchId,"removed")===0),this.mutationQueue.shift();let J=this.br;return A.forEach(Q.mutations,($)=>{let V=new U0($.key,Q.batchId);return J=J.delete(V),this.referenceDelegate.markPotentiallyOrphaned(Z,$.key)}).next(()=>{this.br=J})}On(Z){}containsKey(Z,Q){let J=new U0(Q,0),$=this.br.firstAfterOrEqual(J);return A.resolve(Q.isEqual($&&$.key))}performConsistencyCheck(Z){return this.mutationQueue.length,A.resolve()}Fr(Z,Q){return this.vr(Z)}vr(Z){if(this.mutationQueue.length===0)return 0;return Z-this.mutationQueue[0].batchId}Dr(Z){let Q=this.vr(Z);if(Q<0||Q>=this.mutationQueue.length)return null;return this.mutationQueue[Q]}}class rQ{constructor(Z){this.Mr=Z,this.docs=function Q(){return new T0(i.comparator)}(),this.size=0}setIndexManager(Z){this.indexManager=Z}addEntry(Z,Q){let J=Q.key,$=this.docs.get(J),V=$?$.size:0,z=this.Mr(Q);return this.docs=this.docs.insert(J,{document:Q.mutableCopy(),size:z}),this.size+=z-V,this.indexManager.addToCollectionParentIndex(Z,J.path.popLast())}removeEntry(Z){let Q=this.docs.get(Z);Q&&(this.docs=this.docs.remove(Z),this.size-=Q.size)}getEntry(Z,Q){let J=this.docs.get(Q);return A.resolve(J?J.document.mutableCopy():m0.newInvalidDocument(Q))}getEntries(Z,Q){let J=J6();return Q.forEach(($)=>{let V=this.docs.get($);J=J.insert($,V?V.document.mutableCopy():m0.newInvalidDocument($))}),A.resolve(J)}getDocumentsMatchingQuery(Z,Q,J,$){let V=J6(),z=Q.path,B=new i(z.child("")),x=this.docs.getIteratorFrom(B);for(;x.hasNext();){let{key:j,value:{document:R}}=x.getNext();if(!z.isPrefixOf(j.path))break;j.path.length>z.length+1||(lX(MX(R),J)<=0||($.has(R.key)||s4(Q,R))&&(V=V.insert(R.key,R.mutableCopy())))}return A.resolve(V)}getAllFromCollectionGroup(Z,Q,J,$){n()}Or(Z,Q){return A.forEach(this.docs,(J)=>Q(J))}newChangeBuffer(Z){return new iQ(this)}getSize(Z){return A.resolve(this.size)}}class iQ extends _Q{constructor(Z){super(),this.cr=Z}applyChanges(Z){let Q=[];return this.changes.forEach((J,$)=>{$.isValidDocument()?Q.push(this.cr.addEntry(Z,$)):this.cr.removeEntry(J)}),A.waitFor(Q)}getFromCache(Z,Q){return this.cr.getEntry(Z,Q)}getAllFromCache(Z,Q){return this.cr.getEntries(Z,Q)}}class gQ{constructor(Z){this.persistence=Z,this.Nr=new l1((Q)=>D4(Q),n4),this.lastRemoteSnapshotVersion=X0.min(),this.highestTargetId=0,this.Lr=0,this.Br=new V6,this.targetCount=0,this.kr=J8.Bn()}forEachTarget(Z,Q){return this.Nr.forEach((J,$)=>Q($)),A.resolve()}getLastRemoteSnapshotVersion(Z){return A.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(Z){return A.resolve(this.Lr)}allocateTargetId(Z){return this.highestTargetId=this.kr.next(),A.resolve(this.highestTargetId)}setTargetsMetadata(Z,Q,J){return J&&(this.lastRemoteSnapshotVersion=J),Q>this.Lr&&(this.Lr=Q),A.resolve()}Kn(Z){this.Nr.set(Z.target,Z);let Q=Z.targetId;Q>this.highestTargetId&&(this.kr=new J8(Q),this.highestTargetId=Q),Z.sequenceNumber>this.Lr&&(this.Lr=Z.sequenceNumber)}addTargetData(Z,Q){return this.Kn(Q),this.targetCount+=1,A.resolve()}updateTargetData(Z,Q){return this.Kn(Q),A.resolve()}removeTargetData(Z,Q){return this.Nr.delete(Q.target),this.Br.gr(Q.targetId),this.targetCount-=1,A.resolve()}removeTargets(Z,Q,J){let $=0,V=[];return this.Nr.forEach((z,B)=>{B.sequenceNumber<=Q&&J.get(B.targetId)===null&&(this.Nr.delete(z),V.push(this.removeMatchingKeysForTargetId(Z,B.targetId)),$++)}),A.waitFor(V).next(()=>$)}getTargetCount(Z){return A.resolve(this.targetCount)}getTargetData(Z,Q){let J=this.Nr.get(Q)||null;return A.resolve(J)}addMatchingKeys(Z,Q,J){return this.Br.Rr(Q,J),A.resolve()}removeMatchingKeys(Z,Q,J){this.Br.mr(Q,J);let $=this.persistence.referenceDelegate,V=[];return $&&Q.forEach((z)=>{V.push($.markPotentiallyOrphaned(Z,z))}),A.waitFor(V)}removeMatchingKeysForTargetId(Z,Q){return this.Br.gr(Q),A.resolve()}getMatchingKeysForTargetId(Z,Q){let J=this.Br.yr(Q);return A.resolve(J)}containsKey(Z,Q){return A.resolve(this.Br.containsKey(Q))}}class DQ{constructor(Z,Q){this.qr={},this.overlays={},this.Qr=new C4(0),this.Kr=!1,this.Kr=!0,this.$r=new CQ,this.referenceDelegate=Z(this),this.Ur=new gQ(this),this.indexManager=new TQ,this.remoteDocumentCache=function J($){return new rQ($)}((J)=>this.referenceDelegate.Wr(J)),this.serializer=new AQ(Q),this.Gr=new lQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(Z){return this.indexManager}getDocumentOverlayCache(Z){let Q=this.overlays[Z.toKey()];return Q||(Q=new uQ,this.overlays[Z.toKey()]=Q),Q}getMutationQueue(Z,Q){let J=this.qr[Z.toKey()];return J||(J=new mQ(Q,this.referenceDelegate),this.qr[Z.toKey()]=J),J}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(Z,Q,J){C("MemoryPersistence","Starting transaction:",Z);let $=new nQ(this.Qr.next());return this.referenceDelegate.zr(),J($).next((V)=>this.referenceDelegate.jr($).next(()=>V)).toPromise().then((V)=>($.raiseOnCommittedEvent(),V))}Hr(Z,Q){return A.or(Object.values(this.qr).map((J)=>()=>J.containsKey(Z,Q)))}}class nQ extends D7{constructor(Z){super(),this.currentSequenceNumber=Z}}class E4{constructor(Z){this.persistence=Z,this.Jr=new V6,this.Yr=null}static Zr(Z){return new E4(Z)}get Xr(){if(this.Yr)return this.Yr;throw n()}addReference(Z,Q,J){return this.Jr.addReference(J,Q),this.Xr.delete(J.toString()),A.resolve()}removeReference(Z,Q,J){return this.Jr.removeReference(J,Q),this.Xr.add(J.toString()),A.resolve()}markPotentiallyOrphaned(Z,Q){return this.Xr.add(Q.toString()),A.resolve()}removeTarget(Z,Q){this.Jr.gr(Q.targetId).forEach(($)=>this.Xr.add($.toString()));let J=this.persistence.getTargetCache();return J.getMatchingKeysForTargetId(Z,Q.targetId).next(($)=>{$.forEach((V)=>this.Xr.add(V.toString()))}).next(()=>J.removeTargetData(Z,Q))}zr(){this.Yr=new Set}jr(Z){let Q=this.persistence.getRemoteDocumentCache().newChangeBuffer();return A.forEach(this.Xr,(J)=>{let $=i.fromPath(J);return this.ei(Z,$).next((V)=>{V||Q.removeEntry($,X0.min())})}).next(()=>(this.Yr=null,Q.apply(Z)))}updateLimboDocument(Z,Q){return this.ei(Z,Q).next((J)=>{J?this.Xr.delete(Q.toString()):this.Xr.add(Q.toString())})}Wr(Z){return 0}ei(Z,Q){return A.or([()=>A.resolve(this.Jr.containsKey(Q)),()=>this.persistence.getTargetCache().containsKey(Z,Q),()=>this.persistence.Hr(Z,Q)])}}class t4{constructor(Z,Q,J,$){this.targetId=Z,this.fromCache=Q,this.$i=J,this.Ui=$}static Wi(Z,Q){let J=y0(),$=y0();for(let V of Q.docChanges)switch(V.type){case 0:J=J.add(V.doc.key);break;case 1:$=$.add(V.doc.key)}return new t4(Z,Q.fromCache,J,$)}}class sQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(Z){this._documentReadCount+=Z}}class bQ{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function Z(){return rZ()?8:CX(mZ())>0?6:4}()}initialize(Z,Q){this.Ji=Z,this.indexManager=Q,this.Gi=!0}getDocumentsMatchingQuery(Z,Q,J,$){let V={result:null};return this.Yi(Z,Q).next((z)=>{V.result=z}).next(()=>{if(!V.result)return this.Zi(Z,Q,$,J).next((z)=>{V.result=z})}).next(()=>{if(V.result)return;let z=new sQ;return this.Xi(Z,Q,z).next((B)=>{if(V.result=B,this.zi)return this.es(Z,Q,z,B.size)})}).next(()=>V.result)}es(Z,Q,J,$){return J.documentReadCount<this.ji?(s8()<=b.DEBUG&&C("QueryEngine","SDK will not create cache indexes for query:",b8(Q),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),A.resolve()):(s8()<=b.DEBUG&&C("QueryEngine","Query:",b8(Q),"scans",J.documentReadCount,"local documents and returns",$,"documents as results."),J.documentReadCount>this.Hi*$?(s8()<=b.DEBUG&&C("QueryEngine","The SDK decides to create cache indexes for query:",b8(Q),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(Z,_1(Q))):A.resolve())}Yi(Z,Q){if(k7(Q))return A.resolve(null);let J=_1(Q);return this.indexManager.getIndexType(Z,J).next(($)=>$===0?null:(Q.limit!==null&&$===1&&(Q=H4(Q,null,"F"),J=_1(Q)),this.indexManager.getDocumentsMatchingTarget(Z,J).next((V)=>{let z=y0(...V);return this.Ji.getDocuments(Z,z).next((B)=>this.indexManager.getMinOffset(Z,J).next((x)=>{let j=this.ts(Q,B);return this.ns(Q,j,z,x.readTime)?this.Yi(Z,H4(Q,null,"F")):this.rs(Z,j,Q,x)}))})))}Zi(Z,Q,J,$){return k7(Q)||$.isEqual(X0.min())?A.resolve(null):this.Ji.getDocuments(Z,J).next((V)=>{let z=this.ts(Q,V);return this.ns(Q,z,J,$)?A.resolve(null):(s8()<=b.DEBUG&&C("QueryEngine","Re-using previous result from %s to execute query: %s",$.toString(),b8(Q)),this.rs(Z,z,Q,PX($,-1)).next((B)=>B))})}ts(Z,Q){let J=new v0(oX(Z));return Q.forEach(($,V)=>{s4(Z,V)&&(J=J.add(V))}),J}ns(Z,Q,J,$){if(Z.limit===null)return!1;if(J.size!==Q.size)return!0;let V=Z.limitType==="F"?Q.last():Q.first();return!!V&&(V.hasPendingWrites||V.version.compareTo($)>0)}Xi(Z,Q,J){return s8()<=b.DEBUG&&C("QueryEngine","Using full collection scan to execute query:",b8(Q)),this.Ji.getDocumentsMatchingQuery(Z,Q,O1.min(),J)}rs(Z,Q,J,$){return this.Ji.getDocumentsMatchingQuery(Z,J,$).next((V)=>(Q.forEach((z)=>{V=V.insert(z.key,z)}),V))}}class cQ{constructor(Z,Q,J,$){this.persistence=Z,this.ss=Q,this.serializer=$,this.os=new T0(a),this._s=new l1((V)=>D4(V),n4),this.us=new Map,this.cs=Z.getRemoteDocumentCache(),this.Ur=Z.getTargetCache(),this.Gr=Z.getBundleCache(),this.ls(J)}ls(Z){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(Z),this.indexManager=this.persistence.getIndexManager(Z),this.mutationQueue=this.persistence.getMutationQueue(Z,this.indexManager),this.localDocuments=new MQ(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(Z){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(Q)=>Z.collect(Q,this.os))}}function y$(Z,Q,J,$){return new cQ(Z,Q,J,$)}async function dQ(Z,Q){let J=e(Z);return await J.persistence.runTransaction("Handle user change","readonly",($)=>{let V;return J.mutationQueue.getAllMutationBatches($).next((z)=>(V=z,J.ls(Q),J.mutationQueue.getAllMutationBatches($))).next((z)=>{let B=[],x=[],j=y0();for(let R of V){B.push(R.batchId);for(let H of R.mutations)j=j.add(H.key)}for(let R of z){x.push(R.batchId);for(let H of R.mutations)j=j.add(H.key)}return J.localDocuments.getDocuments($,j).next((R)=>({hs:R,removedBatchIds:B,addedBatchIds:x}))})})}function v$(Z,Q){let J=e(Z);return J.persistence.runTransaction("Acknowledge batch","readwrite-primary",($)=>{let V=Q.batch.keys(),z=J.cs.newChangeBuffer({trackRemovals:!0});return function B(x,j,R,H){let f=R.batch,K=f.keys(),l=A.resolve();return K.forEach((_)=>{l=l.next(()=>H.getEntry(j,_)).next((P)=>{let u=R.docVersions.get(_);q0(u!==null),P.version.compareTo(u)<0&&(f.applyToRemoteDocument(P,R),P.isValidDocument()&&(P.setReadTime(R.commitVersion),H.addEntry(P)))})}),l.next(()=>x.mutationQueue.removeMutationBatch(j,f))}(J,$,Q,z).next(()=>z.apply($)).next(()=>J.mutationQueue.performConsistencyCheck($)).next(()=>J.documentOverlayCache.removeOverlaysForBatchId($,V,Q.batch.batchId)).next(()=>J.localDocuments.recalculateAndSaveOverlaysForDocumentKeys($,function B(x){let j=y0();for(let R=0;R<x.mutationResults.length;++R)x.mutationResults[R].transformResults.length>0&&(j=j.add(x.batch.mutations[R].key));return j}(Q))).next(()=>J.localDocuments.getDocuments($,V))})}function H$(Z){let Q=e(Z);return Q.persistence.runTransaction("Get last remote snapshot version","readonly",(J)=>Q.Ur.getLastRemoteSnapshotVersion(J))}function Y$(Z,Q){let J=e(Z);return J.persistence.runTransaction("Get next mutation batch","readonly",($)=>(Q===void 0&&(Q=-1),J.mutationQueue.getNextMutationBatchAfterBatchId($,Q)))}class T4{constructor(){this.activeTargetIds=X$()}fs(Z){this.activeTargetIds=this.activeTargetIds.add(Z)}gs(Z){this.activeTargetIds=this.activeTargetIds.delete(Z)}Vs(){let Z={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(Z)}}class EQ{constructor(){this.so=new T4,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(Z){}updateMutationState(Z,Q,J){}addLocalQueryTarget(Z){return this.so.fs(Z),this.oo[Z]||"not-current"}updateQueryState(Z,Q,J){this.oo[Z]=Q}removeLocalQueryTarget(Z){this.so.gs(Z)}isLocalQueryTarget(Z){return this.so.activeTargetIds.has(Z)}clearQueryState(Z){delete this.oo[Z]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(Z){return this.so.activeTargetIds.has(Z)}start(){return this.so=new T4,Promise.resolve()}handleUserChange(Z,Q,J){}setOnlineState(Z){}shutdown(){}writeSequenceNumber(Z){}notifyBundleLoaded(Z){}}class tQ{_o(Z){}shutdown(){}}class p4{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(Z){this.ho.push(Z)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){C("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let Z of this.ho)Z(0)}lo(){C("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let Z of this.ho)Z(1)}static D(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}var t2=null;function I4(){return t2===null?t2=function Z(){return 268435456+Math.round(2147483648*Math.random())}():t2++,"0x"+t2.toString(16)}var f$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oQ{constructor(Z){this.Io=Z.Io,this.To=Z.To}Eo(Z){this.Ao=Z}Ro(Z){this.Vo=Z}mo(Z){this.fo=Z}onMessage(Z){this.po=Z}close(){this.To()}send(Z){this.Io(Z)}yo(){this.Ao()}wo(){this.Vo()}So(Z){this.fo(Z)}bo(Z){this.po(Z)}}var L0="WebChannelConnection";class aQ extends class Z{constructor(Q){this.databaseInfo=Q,this.databaseId=Q.databaseId;let J=Q.ssl?"https":"http",$=encodeURIComponent(this.databaseId.projectId),V=encodeURIComponent(this.databaseId.database);this.Do=J+"://"+Q.host,this.vo=`projects/${$}/databases/${V}`,this.Co=this.databaseId.database==="(default)"?`project_id=${$}`:`project_id=${$}&database_id=${V}`}get Fo(){return!1}Mo(Q,J,$,V,z){let B=I4(),x=this.xo(Q,J.toUriEncodedString());C("RestConnection",`Sending RPC '${Q}' ${B}:`,x,$);let j={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(j,V,z),this.No(Q,x,j,$).then((R)=>(C("RestConnection",`Received RPC '${Q}' ${B}: `,R),R),(R)=>{throw e2("RestConnection",`RPC '${Q}' ${B} failed with error: `,R,"url: ",x,"request:",$),R})}Lo(Q,J,$,V,z,B){return this.Mo(Q,J,$,V,z)}Oo(Q,J,$){Q["X-Goog-Api-Client"]=function V(){return"gl-js/ fire/"+X8}(),Q["Content-Type"]="text/plain",this.databaseInfo.appId&&(Q["X-Firebase-GMPID"]=this.databaseInfo.appId),J&&J.headers.forEach((V,z)=>Q[z]=V),$&&$.headers.forEach((V,z)=>Q[z]=V)}xo(Q,J){let $=f$[Q];return`${this.Do}/v1/${J}:${$}`}terminate(){}}{constructor(Z){super(Z),this.forceLongPolling=Z.forceLongPolling,this.autoDetectLongPolling=Z.autoDetectLongPolling,this.useFetchStreams=Z.useFetchStreams,this.longPollingOptions=Z.longPollingOptions}No(Z,Q,J,$){let V=I4();return new Promise((z,B)=>{let x=new x4;x.setWithCredentials(!0),x.listenOnce(j4.COMPLETE,()=>{try{switch(x.getLastErrorCode()){case n8.NO_ERROR:let R=x.getResponseJson();C(L0,`XHR for RPC '${Z}' ${V} received:`,JSON.stringify(R)),z(R);break;case n8.TIMEOUT:C(L0,`RPC '${Z}' ${V} timed out`),B(new r(T.DEADLINE_EXCEEDED,"Request time out"));break;case n8.HTTP_ERROR:let H=x.getStatus();if(C(L0,`RPC '${Z}' ${V} failed with status:`,H,"response text:",x.getResponseText()),H>0){let f=x.getResponseJson();Array.isArray(f)&&(f=f[0]);let K=f==null?void 0:f.error;if(K&&K.status&&K.message){let l=function _(P){let u=P.toLowerCase().replace(/_/g,"-");return Object.values(T).indexOf(u)>=0?u:T.UNKNOWN}(K.status);B(new r(l,K.message))}else B(new r(T.UNKNOWN,"Server responded with status "+x.getStatus()))}else B(new r(T.UNAVAILABLE,"Connection failed."));break;default:n()}}finally{C(L0,`RPC '${Z}' ${V} completed.`)}});let j=JSON.stringify($);C(L0,`RPC '${Z}' ${V} sending request:`,$),x.send(Q,"POST",j,J,15)})}Bo(Z,Q,J){let $=I4(),V=[this.Do,"/","google.firestore.v1.Firestore","/",Z,"/channel"],z=G4(),B=O4(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:600000},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},j=this.longPollingOptions.timeoutSeconds;j!==void 0&&(x.longPollingTimeout=Math.round(1000*j)),this.useFetchStreams&&(x.xmlHttpFactory=new F4({})),this.Oo(x.initMessageHeaders,Q,J),x.encodeInitMessageHeaders=!0;let R=V.join("");C(L0,`Creating RPC '${Z}' stream ${$}: ${R}`,x);let H=z.createWebChannel(R,x),f=!1,K=!1,l=new oQ({Io:(P)=>{K?C(L0,`Not sending because RPC '${Z}' stream ${$} is closed:`,P):(f||(C(L0,`Opening RPC '${Z}' stream ${$} transport.`),H.open(),f=!0),C(L0,`RPC '${Z}' stream ${$} sending:`,P),H.send(P))},To:()=>H.close()}),_=(P,u,m)=>{P.listen(u,(g)=>{try{m(g)}catch(E){setTimeout(()=>{throw E},0)}})};return _(H,b1.EventType.OPEN,()=>{K||(C(L0,`RPC '${Z}' stream ${$} transport opened.`),l.yo())}),_(H,b1.EventType.CLOSE,()=>{K||(K=!0,C(L0,`RPC '${Z}' stream ${$} transport closed`),l.So())}),_(H,b1.EventType.ERROR,(P)=>{K||(K=!0,e2(L0,`RPC '${Z}' stream ${$} transport errored:`,P),l.So(new r(T.UNAVAILABLE,"The operation could not be completed")))}),_(H,b1.EventType.MESSAGE,(P)=>{var u;if(!K){let m=P.data[0];q0(!!m);let g=m,E=g.error||((u=g[0])===null||u===void 0?void 0:u.error);if(E){C(L0,`RPC '${Z}' stream ${$} received error:`,E);let x0=E.status,P0=function y(O){let I=z0[O];if(I!==void 0)return B$(I)}(x0),p0=E.message;P0===void 0&&(P0=T.INTERNAL,p0="Unknown error status: "+x0+" with message "+E.message),K=!0,l.So(new r(P0,p0)),H.close()}else C(L0,`RPC '${Z}' stream ${$} received:`,m),l.bo(m)}}),_(B,R4.STAT_EVENT,(P)=>{P.stat===c2.PROXY?C(L0,`RPC '${Z}' stream ${$} detected buffering proxy`):P.stat===c2.NOPROXY&&C(L0,`RPC '${Z}' stream ${$} detected no buffering proxy`)}),setTimeout(()=>{l.wo()},0),l}}function k4(){return typeof document!="undefined"?document:null}function w6(Z){return new YQ(Z,!0)}class o4{constructor(Z,Q,J=1000,$=1.5,V=60000){this.ui=Z,this.timerId=Q,this.ko=J,this.qo=$,this.Qo=V,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(Z){this.cancel();let Q=Math.floor(this.Ko+this.zo()),J=Math.max(0,Date.now()-this.Uo),$=Math.max(0,Q-J);$>0&&C("ExponentialBackoff",`Backing off for ${$} ms (base delay: ${this.Ko} ms, delay with jitter: ${Q} ms, last attempt: ${J} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,$,()=>(this.Uo=Date.now(),Z())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-0.5)*this.Ko}}class eQ{constructor(Z,Q,J,$,V,z,B,x){this.ui=Z,this.Ho=J,this.Jo=$,this.connection=V,this.authCredentialsProvider=z,this.appCheckCredentialsProvider=B,this.listener=x,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new o4(Z,Q)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,60000,()=>this.__()))}a_(Z){this.u_(),this.stream.send(Z)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(Z,Q){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,Z!==4?this.t_.reset():Q&&Q.code===T.RESOURCE_EXHAUSTED?(M1(Q.toString()),M1("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):Q&&Q.code===T.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=Z,await this.listener.mo(Q)}l_(){}auth(){this.state=1;let Z=this.h_(this.Yo),Q=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([J,$])=>{this.Yo===Q&&this.P_(J,$)},(J)=>{Z(()=>{let $=new r(T.UNKNOWN,"Fetching auth token failed: "+J.message);return this.I_($)})})}P_(Z,Q){let J=this.h_(this.Yo);this.stream=this.T_(Z,Q),this.stream.Eo(()=>{J(()=>this.listener.Eo())}),this.stream.Ro(()=>{J(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(($)=>{J(()=>this.I_($))}),this.stream.onMessage(($)=>{J(()=>++this.e_==1?this.E_($):this.onNext($))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(Z){return C("PersistentStream",`close with error: ${Z}`),this.stream=null,this.close(4,Z)}h_(Z){return(Q)=>{this.ui.enqueueAndForget(()=>this.Yo===Z?Q():(C("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Z5 extends eQ{constructor(Z,Q,J,$,V,z){super(Z,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",Q,J,$,z),this.serializer=V}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(Z,Q){return this.connection.Bo("Write",Z,Q)}E_(Z){return q0(!!Z.streamToken),this.lastStreamToken=Z.streamToken,q0(!Z.writeResults||Z.writeResults.length===0),this.listener.f_()}onNext(Z){q0(!!Z.streamToken),this.lastStreamToken=Z.streamToken,this.t_.reset();let Q=I$(Z.writeResults,Z.commitTime),J=d1(Z.commitTime);return this.listener.g_(J,Q)}p_(){let Z={};Z.database=R$(this.serializer),this.a_(Z)}m_(Z){let Q={streamToken:this.lastStreamToken,writes:Z.map((J)=>G$(this.serializer,J))};this.a_(Q)}}class Q5 extends class Z{}{constructor(Z,Q,J,$){super(),this.authCredentials=Z,this.appCheckCredentials=Q,this.connection=J,this.serializer=$,this.y_=!1}w_(){if(this.y_)throw new r(T.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(Z,Q,J,$){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([V,z])=>this.connection.Mo(Z,f4(Q,J),$,V,z)).catch((V)=>{throw V.name==="FirebaseError"?(V.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),V):new r(T.UNKNOWN,V.toString())})}Lo(Z,Q,J,$,V){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([z,B])=>this.connection.Lo(Z,f4(Q,J),$,z,B,V)).catch((z)=>{throw z.name==="FirebaseError"?(z.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),z):new r(T.UNKNOWN,z.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class J5{constructor(Z,Q){this.asyncQueue=Z,this.onlineStateHandler=Q,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(Z){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${Z.toString()}`),this.C_("Offline")))}set(Z){this.x_(),this.S_=0,Z==="Online"&&(this.D_=!1),this.C_(Z)}C_(Z){Z!==this.state&&(this.state=Z,this.onlineStateHandler(Z))}F_(Z){let Q=`Could not reach Cloud Firestore backend. ${Z}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(M1(Q),this.D_=!1):C("OnlineStateTracker",Q)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class X5{constructor(Z,Q,J,$,V){this.localStore=Z,this.datastore=Q,this.asyncQueue=J,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=V,this.k_._o((z)=>{J.enqueueAndForget(async()=>{B2(this)&&(C("RemoteStore","Restarting streams for network reachability change."),await async function B(x){let j=e(x);j.L_.add(4),await q2(j),j.q_.set("Unknown"),j.L_.delete(4),await z6(j)}(this))})}),this.q_=new J5(J,$)}}async function z6(Z){if(B2(Z))for(let Q of Z.B_)await Q(!0)}async function q2(Z){for(let Q of Z.B_)await Q(!1)}function B2(Z){return e(Z).L_.size===0}async function $5(Z,Q,J){if(!$6(Q))throw Q;Z.L_.add(1),await q2(Z),Z.q_.set("Offline"),J||(J=()=>H$(Z.localStore)),Z.asyncQueue.enqueueRetryable(async()=>{C("RemoteStore","Retrying IndexedDB access"),await J(),Z.L_.delete(1),await z6(Z)})}function V5(Z,Q){return Q().catch((J)=>$5(Z,J,Q))}async function W6(Z){let Q=e(Z),J=k1(Q),$=Q.O_.length>0?Q.O_[Q.O_.length-1].batchId:-1;for(;K$(Q);)try{let V=await Y$(Q.localStore,$);if(V===null){Q.O_.length===0&&J.o_();break}$=V.batchId,A$(Q,V)}catch(V){await $5(Q,V)}w5(Q)&&z5(Q)}function K$(Z){return B2(Z)&&Z.O_.length<10}function A$(Z,Q){Z.O_.push(Q);let J=k1(Z);J.r_()&&J.V_&&J.m_(Q.mutations)}function w5(Z){return B2(Z)&&!k1(Z).n_()&&Z.O_.length>0}function z5(Z){k1(Z).start()}async function T$(Z){k1(Z).p_()}async function p$(Z){let Q=k1(Z);for(let J of Z.O_)Q.m_(J.mutations)}async function _$(Z,Q,J){let $=Z.O_.shift(),V=d4.from($,Q,J);await V5(Z,()=>Z.remoteSyncer.applySuccessfulWrite(V)),await W6(Z)}async function P$(Z,Q){Q&&k1(Z).V_&&await async function J($,V){if(function z(B){return q$(B)&&B!==T.ABORTED}(V.code)){let z=$.O_.shift();k1($).s_(),await V5($,()=>$.remoteSyncer.rejectFailedWrite(z.batchId,V)),await W6($)}}(Z,Q),w5(Z)&&z5(Z)}async function H7(Z,Q){let J=e(Z);J.asyncQueue.verifyOperationInProgress(),C("RemoteStore","RemoteStore received new credentials");let $=B2(J);J.L_.add(3),await q2(J),$&&J.q_.set("Unknown"),await J.remoteSyncer.handleCredentialChange(Q),J.L_.delete(3),await z6(J)}async function M$(Z,Q){let J=e(Z);Q?(J.L_.delete(2),await z6(J)):Q||(J.L_.add(2),await q2(J),J.q_.set("Unknown"))}function k1(Z){return Z.U_||(Z.U_=function Q(J,$,V){let z=e(J);return z.w_(),new Z5($,z.connection,z.authCredentials,z.appCheckCredentials,z.serializer,V)}(Z.datastore,Z.asyncQueue,{Eo:()=>Promise.resolve(),Ro:T$.bind(null,Z),mo:P$.bind(null,Z),f_:p$.bind(null,Z),g_:_$.bind(null,Z)}),Z.B_.push(async(Q)=>{Q?(Z.U_.s_(),await W6(Z)):(await Z.U_.stop(),Z.O_.length>0&&(C("RemoteStore",`Stopping write stream with ${Z.O_.length} pending writes`),Z.O_=[]))})),Z.U_}class a4{constructor(Z,Q,J,$,V){this.asyncQueue=Z,this.timerId=Q,this.targetTimeMs=J,this.op=$,this.removalCallback=V,this.deferred=new j1,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((z)=>{})}get promise(){return this.deferred.promise}static createAndSchedule(Z,Q,J,$,V){let z=Date.now()+J,B=new a4(Z,Q,z,$,V);return B.start(J),B}start(Z){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),Z)}skipDelay(){return this.handleDelayElapsed()}cancel(Z){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new r(T.CANCELLED,"Operation cancelled"+(Z?": "+Z:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((Z)=>this.deferred.resolve(Z))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function W5(Z,Q){if(M1("AsyncQueue",`${Q}: ${Z}`),$6(Z))return new r(T.UNAVAILABLE,`${Q}: ${Z}`);throw Z}class U5{constructor(){this.queries=Y7(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function Z(Q,J){let $=e(Q),V=$.queries;$.queries=Y7(),V.forEach((z,B)=>{for(let x of B.j_)x.onError(J)})})(this,new r(T.ABORTED,"Firestore shutting down"))}}function Y7(){return new l1((Z)=>hQ(Z),BQ)}function l$(Z){Z.Y_.forEach((Q)=>{Q.next()})}var f7,K7;(K7=f7||(f7={})).ea="default",K7.Cache="cache";class q5{constructor(Z,Q,J,$,V,z){this.localStore=Z,this.remoteStore=Q,this.eventManager=J,this.sharedClientState=$,this.currentUser=V,this.maxConcurrentLimboResolutions=z,this.Ca={},this.Fa=new l1((B)=>hQ(B),BQ),this.Ma=new Map,this.xa=new Set,this.Oa=new T0(i.comparator),this.Na=new Map,this.La=new V6,this.Ba={},this.ka=new Map,this.qa=J8.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function u$(Z,Q,J){let $=i$(Z);try{let V=await function z(B,x){let j=e(B),R=h0.now(),H=x.reduce((l,_)=>l.add(_.key),y0()),f,K;return j.persistence.runTransaction("Locally write mutations","readwrite",(l)=>{let _=J6(),P=y0();return j.cs.getEntries(l,H).next((u)=>{_=u,_.forEach((m,g)=>{g.isValidDocument()||(P=P.add(m))})}).next(()=>j.localDocuments.getOverlayedDocuments(l,_)).next((u)=>{f=u;let m=[];for(let g of x){let E=U$(g,f.get(g.key).overlayedDocument);E!=null&&m.push(new S1(g.key,E,o7(E.value.mapValue),J1.exists(!0)))}return j.mutationQueue.addMutationBatch(l,R,m,x)}).next((u)=>{K=u;let m=u.applyToLocalDocumentSet(f,P);return j.documentOverlayCache.saveOverlays(l,u.batchId,m)})}).then(()=>({batchId:K.batchId,changes:FQ(f)}))}($.localStore,Q);$.sharedClientState.addPendingMutation(V.batchId),function z(B,x,j){let R=B.Ba[B.currentUser.toKey()];R||(R=new T0(a)),R=R.insert(x,j),B.Ba[B.currentUser.toKey()]=R}($,V.batchId,J),await U6($,V.changes),await W6($.remoteStore)}catch(V){let z=W5(V,"Failed to persist write");J.reject(z)}}function A7(Z,Q,J){let $=e(Z);if($.isPrimaryClient&&J===0||!$.isPrimaryClient&&J===1){let V=[];$.Fa.forEach((z,B)=>{let x=B.view.Z_(Q);x.snapshot&&V.push(x.snapshot)}),function z(B,x){let j=e(B);j.onlineState=x;let R=!1;j.queries.forEach((H,f)=>{for(let K of f.j_)K.Z_(x)&&(R=!0)}),R&&l$(j)}($.eventManager,Q),V.length&&$.Ca.d_(V),$.onlineState=Q,$.isPrimaryClient&&$.sharedClientState.setOnlineState(Q)}}async function C$(Z,Q){let J=e(Z),$=Q.batch.batchId;try{let V=await v$(J.localStore,Q);h5(J,$,null),B5(J,$),J.sharedClientState.updateMutationState($,"acknowledged"),await U6(J,V)}catch(V){await n7(V)}}async function m$(Z,Q,J){let $=e(Z);try{let V=await function z(B,x){let j=e(B);return j.persistence.runTransaction("Reject batch","readwrite-primary",(R)=>{let H;return j.mutationQueue.lookupMutationBatch(R,x).next((f)=>(q0(f!==null),H=f.keys(),j.mutationQueue.removeMutationBatch(R,f))).next(()=>j.mutationQueue.performConsistencyCheck(R)).next(()=>j.documentOverlayCache.removeOverlaysForBatchId(R,H,x)).next(()=>j.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(R,H)).next(()=>j.localDocuments.getDocuments(R,H))})}($.localStore,Q);h5($,Q,J),B5($,Q),$.sharedClientState.updateMutationState(Q,"rejected",J),await U6($,V)}catch(V){await n7(V)}}function B5(Z,Q){(Z.ka.get(Q)||[]).forEach((J)=>{J.resolve()}),Z.ka.delete(Q)}function h5(Z,Q,J){let $=e(Z),V=$.Ba[$.currentUser.toKey()];if(V){let z=V.get(Q);z&&(J?z.reject(J):z.resolve(),V=V.remove(Q)),$.Ba[$.currentUser.toKey()]=V}}async function U6(Z,Q,J){let $=e(Z),V=[],z=[],B=[];$.Fa.isEmpty()||($.Fa.forEach((x,j)=>{B.push($.Ka(j,Q,J).then((R)=>{var H;if((R||J)&&$.isPrimaryClient){let f=R?!R.fromCache:(H=J==null?void 0:J.targetChanges.get(j.targetId))===null||H===void 0?void 0:H.current;$.sharedClientState.updateQueryState(j.targetId,f?"current":"not-current")}if(R){V.push(R);let f=t4.Wi(j.targetId,R);z.push(f)}}))}),await Promise.all(B),$.Ca.d_(V),await async function x(j,R){let H=e(j);try{await H.persistence.runTransaction("notifyLocalViewChanges","readwrite",(f)=>A.forEach(R,(K)=>A.forEach(K.$i,(l)=>H.persistence.referenceDelegate.addReference(f,K.targetId,l)).next(()=>A.forEach(K.Ui,(l)=>H.persistence.referenceDelegate.removeReference(f,K.targetId,l)))))}catch(f){if(!$6(f))throw f;C("LocalStore","Failed to update sequence numbers: "+f)}for(let f of R){let K=f.targetId;if(!f.fromCache){let l=H.os.get(K),_=l.snapshotVersion,P=l.withLastLimboFreeSnapshotVersion(_);H.os=H.os.insert(K,P)}}}($.localStore,z))}async function r$(Z,Q){let J=e(Z);if(!J.currentUser.isEqual(Q)){C("SyncEngine","User change. New user:",Q.toKey());let $=await dQ(J.localStore,Q);J.currentUser=Q,function V(z,B){z.ka.forEach((x)=>{x.forEach((j)=>{j.reject(new r(T.CANCELLED,B))})}),z.ka.clear()}(J,"'waitForPendingWrites' promise is rejected due to a user change."),J.sharedClientState.handleUserChange(Q,$.removedBatchIds,$.addedBatchIds),await U6(J,$.hs)}}function i$(Z){let Q=e(Z);return Q.remoteStore.remoteSyncer.applySuccessfulWrite=C$.bind(null,Q),Q.remoteStore.remoteSyncer.rejectFailedWrite=m$.bind(null,Q),Q}class _4{constructor(){this.synchronizeTabs=!1}async initialize(Z){this.serializer=w6(Z.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(Z),this.persistence=this.createPersistence(Z),await this.persistence.start(),this.localStore=this.createLocalStore(Z),this.gcScheduler=this.createGarbageCollectionScheduler(Z,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(Z,this.localStore)}createGarbageCollectionScheduler(Z,Q){return null}createIndexBackfillerScheduler(Z,Q){return null}createLocalStore(Z){return y$(this.persistence,new bQ,Z.initialUser,this.serializer)}createPersistence(Z){return new DQ(E4.Zr,this.serializer)}createSharedClientState(Z){return new EQ}async terminate(){var Z,Q;(Z=this.gcScheduler)===null||Z===void 0||Z.stop(),(Q=this.indexBackfillerScheduler)===null||Q===void 0||Q.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class x5{async initialize(Z,Q){this.localStore||(this.localStore=Z.localStore,this.sharedClientState=Z.sharedClientState,this.datastore=this.createDatastore(Q),this.remoteStore=this.createRemoteStore(Q),this.eventManager=this.createEventManager(Q),this.syncEngine=this.createSyncEngine(Q,!Z.synchronizeTabs),this.sharedClientState.onlineStateHandler=(J)=>A7(this.syncEngine,J,1),this.remoteStore.remoteSyncer.handleCredentialChange=r$.bind(null,this.syncEngine),await M$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(Z){return function Q(){return new U5}()}createDatastore(Z){let Q=w6(Z.databaseInfo.databaseId),J=function $(V){return new aQ(V)}(Z.databaseInfo);return function $(V,z,B,x){return new Q5(V,z,B,x)}(Z.authCredentials,Z.appCheckCredentials,J,Q)}createRemoteStore(Z){return function Q(J,$,V,z,B){return new X5(J,$,V,z,B)}(this.localStore,this.datastore,Z.asyncQueue,(Q)=>A7(this.syncEngine,Q,0),function Q(){return p4.D()?new p4:new tQ}())}createSyncEngine(Z,Q){return function J($,V,z,B,x,j,R){let H=new q5($,V,z,B,x,j);return R&&(H.Qa=!0),H}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,Z.initialUser,Z.maxConcurrentLimboResolutions,Q)}async terminate(){var Z,Q;await async function J($){let V=e($);C("RemoteStore","RemoteStore shutting down."),V.L_.add(5),await q2(V),V.k_.shutdown(),V.q_.set("Unknown")}(this.remoteStore),(Z=this.datastore)===null||Z===void 0||Z.terminate(),(Q=this.eventManager)===null||Q===void 0||Q.terminate()}}class F5{constructor(Z,Q,J,$){this.authCredentials=Z,this.appCheckCredentials=Q,this.asyncQueue=J,this.databaseInfo=$,this.user=j0.UNAUTHENTICATED,this.clientId=u4.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(J,async(V)=>{C("FirestoreClient","Received user=",V.uid),await this.authCredentialListener(V),this.user=V}),this.appCheckCredentials.start(J,(V)=>(C("FirestoreClient","Received new app check token=",V),this.appCheckCredentialListener(V,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(Z){this.authCredentialListener=Z}setAppCheckTokenChangeListener(Z){this.appCheckCredentialListener=Z}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new r(T.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let Z=new j1;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),Z.resolve()}catch(Q){let J=W5(Q,"Failed to shutdown persistence");Z.reject(J)}}),Z.promise}}async function S4(Z,Q){Z.asyncQueue.verifyOperationInProgress(),C("FirestoreClient","Initializing OfflineComponentProvider");let J=Z.configuration;await Q.initialize(J);let $=J.initialUser;Z.setCredentialChangeListener(async(V)=>{$.isEqual(V)||(await dQ(Q.localStore,V),$=V)}),Q.persistence.setDatabaseDeletedListener(()=>Z.terminate()),Z._offlineComponents=Q}async function T7(Z,Q){Z.asyncQueue.verifyOperationInProgress();let J=await D$(Z);C("FirestoreClient","Initializing OnlineComponentProvider"),await Q.initialize(J,Z.configuration),Z.setCredentialChangeListener(($)=>H7(Q.remoteStore,$)),Z.setAppCheckTokenChangeListener(($,V)=>H7(Q.remoteStore,V)),Z._onlineComponents=Q}function g$(Z){return Z.name==="FirebaseError"?Z.code===T.FAILED_PRECONDITION||Z.code===T.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&Z instanceof DOMException)||(Z.code===22||Z.code===20||Z.code===11)}async function D$(Z){if(!Z._offlineComponents)if(Z._uninitializedComponentsProvider){C("FirestoreClient","Using user provided OfflineComponentProvider");try{await S4(Z,Z._uninitializedComponentsProvider._offline)}catch(Q){let J=Q;if(!g$(J))throw J;e2("Error using user provided cache. Falling back to memory cache: "+J),await S4(Z,new _4)}}else C("FirestoreClient","Using default OfflineComponentProvider"),await S4(Z,new _4);return Z._offlineComponents}async function n$(Z){return Z._onlineComponents||(Z._uninitializedComponentsProvider?(C("FirestoreClient","Using user provided OnlineComponentProvider"),await T7(Z,Z._uninitializedComponentsProvider._online)):(C("FirestoreClient","Using default OnlineComponentProvider"),await T7(Z,new x5))),Z._onlineComponents}function s$(Z){return n$(Z).then((Q)=>Q.syncEngine)}function j5(Z){let Q={};return Z.timeoutSeconds!==void 0&&(Q.timeoutSeconds=Z.timeoutSeconds),Q}var p7=new Map;function R5(Z,Q,J){if(!J)throw new r(T.INVALID_ARGUMENT,`Function ${Z}() cannot be called with an empty ${Q}.`)}function b$(Z,Q,J,$){if(Q===!0&&$===!0)throw new r(T.INVALID_ARGUMENT,`${Z} and ${J} cannot be used together.`)}function _7(Z){if(!i.isDocumentKey(Z))throw new r(T.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${Z} has ${Z.length}.`)}function P7(Z){if(i.isDocumentKey(Z))throw new r(T.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${Z} has ${Z.length}.`)}function e4(Z){if(Z===void 0)return"undefined";if(Z===null)return"null";if(typeof Z=="string")return Z.length>20&&(Z=`${Z.substring(0,20)}...`),JSON.stringify(Z);if(typeof Z=="number"||typeof Z=="boolean")return""+Z;if(typeof Z=="object"){if(Z instanceof Array)return"an array";{let Q=function J($){if($.constructor)return $.constructor.name;return null}(Z);return Q?`a custom ${Q} object`:"an object"}}return typeof Z=="function"?"a function":n()}function O5(Z,Q){if("_delegate"in Z&&(Z=Z._delegate),!(Z instanceof Q)){if(Q.name===Z.constructor.name)throw new r(T.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let J=e4(Z);throw new r(T.INVALID_ARGUMENT,`Expected type '${Q.name}', but it was: ${J}`)}}return Z}class P4{constructor(Z){var Q,J;if(Z.host===void 0){if(Z.ssl!==void 0)throw new r(T.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=Z.host,this.ssl=(Q=Z.ssl)===null||Q===void 0||Q;if(this.credentials=Z.credentials,this.ignoreUndefinedProperties=!!Z.ignoreUndefinedProperties,this.localCache=Z.localCache,Z.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(Z.cacheSizeBytes!==-1&&Z.cacheSizeBytes<1048576)throw new r(T.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=Z.cacheSizeBytes}b$("experimentalForceLongPolling",Z.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",Z.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!Z.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:Z.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!Z.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=j5((J=Z.experimentalLongPollingOptions)!==null&&J!==void 0?J:{}),function $(V){if(V.timeoutSeconds!==void 0){if(isNaN(V.timeoutSeconds))throw new r(T.INVALID_ARGUMENT,`invalid long polling timeout: ${V.timeoutSeconds} (must not be NaN)`);if(V.timeoutSeconds<5)throw new r(T.INVALID_ARGUMENT,`invalid long polling timeout: ${V.timeoutSeconds} (minimum allowed value is 5)`);if(V.timeoutSeconds>30)throw new r(T.INVALID_ARGUMENT,`invalid long polling timeout: ${V.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!Z.useFetchStreams}isEqual(Z){return this.host===Z.host&&this.ssl===Z.ssl&&this.credentials===Z.credentials&&this.cacheSizeBytes===Z.cacheSizeBytes&&this.experimentalForceLongPolling===Z.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===Z.experimentalAutoDetectLongPolling&&function Q(J,$){return J.timeoutSeconds===$.timeoutSeconds}(this.experimentalLongPollingOptions,Z.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===Z.ignoreUndefinedProperties&&this.useFetchStreams===Z.useFetchStreams}}class h2{constructor(Z,Q,J,$){this._authCredentials=Z,this._appCheckCredentials=Q,this._databaseId=J,this._app=$,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P4({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new r(T.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(Z){if(this._settingsFrozen)throw new r(T.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P4(Z),Z.credentials!==void 0&&(this._authCredentials=function Q(J){if(!J)return new M7;switch(J.type){case"firstParty":return new m7(J.sessionIndex||"0",J.iamToken||null,J.authTokenFactory||null);case"provider":return J.client;default:throw new r(T.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(Z.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function Z(Q){let J=p7.get(Q);J&&(C("ComponentProvider","Removing Datastore"),p7.delete(Q),J.terminate())}(this),Promise.resolve()}}function c$(Z,Q,J,$={}){var V;let z=(Z=O5(Z,h2))._getSettings(),B=`${Q}:${J}`;if(z.host!=="firestore.googleapis.com"&&z.host!==B&&e2("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),Z._setSettings(Object.assign(Object.assign({},z),{host:B,ssl:!1})),$.mockUserToken){let x,j;if(typeof $.mockUserToken=="string")x=$.mockUserToken,j=j0.MOCK_USER;else{x=CZ($.mockUserToken,(V=Z._app)===null||V===void 0?void 0:V.options.projectId);let R=$.mockUserToken.sub||$.mockUserToken.user_id;if(!R)throw new r(T.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");j=new j0(R)}Z._authCredentials=new l7(new l4(x,j))}}class Z9{constructor(Z,Q,J){this.converter=Q,this._query=J,this.type="query",this.firestore=Z}withConverter(Z){return new Z9(this.firestore,Z,this._query)}}class X1{constructor(Z,Q,J){this.converter=Q,this._key=J,this.type="document",this.firestore=Z}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new R1(this.firestore,this.converter,this._key.path.popLast())}withConverter(Z){return new X1(this.firestore,Z,this._key)}}class R1 extends Z9{constructor(Z,Q,J){super(Z,Q,dX(J)),this._path=J,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let Z=this._path.popLast();return Z.isEmpty()?null:new X1(this.firestore,null,new i(Z))}withConverter(Z){return new R1(this.firestore,Z,this._path)}}function x2(Z,Q,...J){if(Z=n1(Z),R5("collection","path",Q),Z instanceof h2){let $=w0.fromString(Q,...J);return P7($),new R1(Z,null,$)}{if(!(Z instanceof X1||Z instanceof R1))throw new r(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let $=Z._path.child(w0.fromString(Q,...J));return P7($),new R1(Z.firestore,null,$)}}function d$(Z,Q,...J){if(Z=n1(Z),arguments.length===1&&(Q=u4.newId()),R5("doc","path",Q),Z instanceof h2){let $=w0.fromString(Q,...J);return _7($),new X1(Z,null,new i($))}{if(!(Z instanceof X1||Z instanceof R1))throw new r(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let $=Z._path.child(w0.fromString(Q,...J));return _7($),new X1(Z.firestore,Z instanceof R1?Z.converter:null,new i($))}}class G5{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new o4(this,"async_queue_retry"),this.Eu=()=>{let Q=k4();Q&&C("AsyncQueue","Visibility state changed to "+Q.visibilityState),this.t_.jo()};let Z=k4();Z&&typeof Z.addEventListener=="function"&&Z.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(Z){this.enqueue(Z)}enqueueAndForgetEvenWhileRestricted(Z){this.du(),this.Au(Z)}enterRestrictedMode(Z){if(!this.cu){this.cu=!0,this.Iu=Z||!1;let Q=k4();Q&&typeof Q.removeEventListener=="function"&&Q.removeEventListener("visibilitychange",this.Eu)}}enqueue(Z){if(this.du(),this.cu)return new Promise(()=>{});let Q=new j1;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(Z().then(Q.resolve,Q.reject),Q.promise)).then(()=>Q.promise)}enqueueRetryable(Z){this.enqueueAndForget(()=>(this.uu.push(Z),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(Z){if(!$6(Z))throw Z;C("AsyncQueue","Operation failed with retryable error: "+Z)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(Z){let Q=this.au.then(()=>(this.Pu=!0,Z().catch((J)=>{this.hu=J,this.Pu=!1;let $=function V(z){let B=z.message||"";return z.stack&&(B=z.stack.includes(z.message)?z.stack:z.message+`
`+z.stack),B}(J);throw M1("INTERNAL UNHANDLED ERROR: ",$),J}).then((J)=>(this.Pu=!1,J))));return this.au=Q,Q}enqueueAfterDelay(Z,Q,J){this.du(),this.Tu.indexOf(Z)>-1&&(Q=0);let $=a4.createAndSchedule(this,Z,Q,J,(V)=>this.Vu(V));return this.lu.push($),$}du(){this.hu&&n()}verifyOperationInProgress(){}async mu(){let Z;do Z=this.au,await Z;while(Z!==this.au)}fu(Z){for(let Q of this.lu)if(Q.timerId===Z)return!0;return!1}gu(Z){return this.mu().then(()=>{this.lu.sort((Q,J)=>Q.targetTimeMs-J.targetTimeMs);for(let Q of this.lu)if(Q.skipDelay(),Z!=="all"&&Q.timerId===Z)break;return this.mu()})}pu(Z){this.Tu.push(Z)}Vu(Z){let Q=this.lu.indexOf(Z);this.lu.splice(Q,1)}}class Q9 extends h2{constructor(Z,Q,J,$){super(Z,Q,J,$),this.type="firestore",this._queue=function V(){return new G5}(),this._persistenceKey=($==null?void 0:$.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||k5(this),this._firestoreClient.terminate()}}function I5(Z,Q){let J=typeof Z=="object"?Z:V7(),$=typeof Z=="string"?Z:Q||"(default)",V=J7(J,"firestore").getImmediate({identifier:$});if(!V._initialized){let z=uZ("firestore");z&&c$(V,...z)}return V}function E$(Z){return Z._firestoreClient||k5(Z),Z._firestoreClient.verifyNotTerminated(),Z._firestoreClient}function k5(Z){var Q,J,$;let V=Z._freezeSettings(),z=function B(x,j,R,H){return new d7(x,j,R,H.host,H.ssl,H.experimentalForceLongPolling,H.experimentalAutoDetectLongPolling,j5(H.experimentalLongPollingOptions),H.useFetchStreams)}(Z._databaseId,((Q=Z._app)===null||Q===void 0?void 0:Q.options.appId)||"",Z._persistenceKey,V);Z._firestoreClient=new F5(Z._authCredentials,Z._appCheckCredentials,Z._queue,z),((J=V.localCache)===null||J===void 0?void 0:J._offlineComponentProvider)&&(($=V.localCache)===null||$===void 0?void 0:$._onlineComponentProvider)&&(Z._firestoreClient._uninitializedComponentsProvider={_offlineKind:V.localCache.kind,_offline:V.localCache._offlineComponentProvider,_online:V.localCache._onlineComponentProvider})}class V2{constructor(Z){this._byteString=Z}static fromBase64String(Z){try{return new V2(b0.fromBase64String(Z))}catch(Q){throw new r(T.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+Q)}}static fromUint8Array(Z){return new V2(b0.fromUint8Array(Z))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(Z){return this._byteString.isEqual(Z._byteString)}}class J9{constructor(...Z){for(let Q=0;Q<Z.length;++Q)if(Z[Q].length===0)throw new r(T.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new O0(Z)}isEqual(Z){return this._internalPath.isEqual(Z._internalPath)}}class X9{constructor(Z){this._methodName=Z}}class $9{constructor(Z,Q){if(!isFinite(Z)||Z<-90||Z>90)throw new r(T.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+Z);if(!isFinite(Q)||Q<-180||Q>180)throw new r(T.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+Q);this._lat=Z,this._long=Q}get latitude(){return this._lat}get longitude(){return this._long}isEqual(Z){return this._lat===Z._lat&&this._long===Z._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(Z){return a(this._lat,Z._lat)||a(this._long,Z._long)}}class V9{constructor(Z){this._values=(Z||[]).map((Q)=>Q)}toArray(){return this._values.map((Z)=>Z)}isEqual(Z){return function Q(J,$){if(J.length!==$.length)return!1;for(let V=0;V<J.length;++V)if(J[V]!==$[V])return!1;return!0}(this._values,Z._values)}}var t$=/^__.*__$/;class S5{constructor(Z,Q,J){this.data=Z,this.fieldMask=Q,this.fieldTransforms=J}toMutation(Z,Q){return this.fieldMask!==null?new S1(Z,this.data,this.fieldMask,Q,this.fieldTransforms):new $8(Z,this.data,Q,this.fieldTransforms)}}function N5(Z){switch(Z){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw n()}}class w9{constructor(Z,Q,J,$,V,z){this.settings=Z,this.databaseId=Q,this.serializer=J,this.ignoreUndefinedProperties=$,V===void 0&&this.yu(),this.fieldTransforms=V||[],this.fieldMask=z||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(Z){return new w9(Object.assign(Object.assign({},this.settings),Z),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(Z){var Q;let J=(Q=this.path)===null||Q===void 0?void 0:Q.child(Z),$=this.Su({path:J,Du:!1});return $.vu(Z),$}Cu(Z){var Q;let J=(Q=this.path)===null||Q===void 0?void 0:Q.child(Z),$=this.Su({path:J,Du:!1});return $.yu(),$}Fu(Z){return this.Su({path:void 0,Du:!0})}Mu(Z){return X6(Z,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(Z){return this.fieldMask.find((Q)=>Z.isPrefixOf(Q))!==void 0||this.fieldTransforms.find((Q)=>Z.isPrefixOf(Q.field))!==void 0}yu(){if(this.path)for(let Z=0;Z<this.path.length;Z++)this.vu(this.path.get(Z))}vu(Z){if(Z.length===0)throw this.Mu("Document fields must not be empty");if(N5(this.wu)&&t$.test(Z))throw this.Mu('Document fields cannot begin and end with "__"')}}class L5{constructor(Z,Q,J){this.databaseId=Z,this.ignoreUndefinedProperties=Q,this.serializer=J||w6(Z)}Nu(Z,Q,J,$=!1){return new w9({wu:Z,methodName:Q,Ou:J,path:O0.emptyPath(),Du:!1,xu:$},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function o$(Z){let Q=Z._freezeSettings(),J=w6(Z._databaseId);return new L5(Z._databaseId,!!Q.ignoreUndefinedProperties,J)}function a$(Z,Q,J,$,V,z={}){let B=Z.Nu(z.merge||z.mergeFields?2:0,Q,J,V);Y5("Data must be an object, but it was:",B,$);let x=v5($,B),j,R;if(z.merge)j=new i0(B.fieldMask),R=B.fieldTransforms;else if(z.mergeFields){let H=[];for(let f of z.mergeFields){let K=e$(Q,f,J);if(!B.contains(K))throw new r(T.INVALID_ARGUMENT,`Field '${K}' is specified in your field mask but missing from your input data.`);J3(H,K)||H.push(K)}j=new i0(H),R=B.fieldTransforms.filter((f)=>j.covers(f.field))}else j=null,R=B.fieldTransforms;return new S5(new r0(x),j,R)}function y5(Z,Q){if(H5(Z=n1(Z)))return Y5("Unsupported field value:",Q,Z),v5(Z,Q);if(Z instanceof X9)return function J($,V){if(!N5(V.wu))throw V.Mu(`${$._methodName}() can only be used with update() and set()`);if(!V.path)throw V.Mu(`${$._methodName}() is not currently supported inside arrays`);let z=$._toFieldTransform(V);z&&V.fieldTransforms.push(z)}(Z,Q),null;if(Z===void 0&&Q.ignoreUndefinedProperties)return null;if(Q.path&&Q.fieldMask.push(Q.path),Z instanceof Array){if(Q.settings.Du&&Q.wu!==4)throw Q.Mu("Nested arrays are not supported");return function J($,V){let z=[],B=0;for(let x of $){let j=y5(x,V.Fu(B));j==null&&(j={nullValue:"NULL_VALUE"}),z.push(j),B++}return{arrayValue:{values:z}}}(Z,Q)}return function J($,V){if(($=n1($))===null)return{nullValue:"NULL_VALUE"};if(typeof $=="number")return $$(V.serializer,$);if(typeof $=="boolean")return{booleanValue:$};if(typeof $=="string")return{stringValue:$};if($ instanceof Date){let z=h0.fromDate($);return{timestampValue:Y4(V.serializer,z)}}if($ instanceof h0){let z=new h0($.seconds,1000*Math.floor($.nanoseconds/1000));return{timestampValue:Y4(V.serializer,z)}}if($ instanceof $9)return{geoPointValue:{latitude:$.latitude,longitude:$.longitude}};if($ instanceof V2)return{bytesValue:h$(V.serializer,$._byteString)};if($ instanceof X1){let z=V.databaseId,B=$.firestore._databaseId;if(!B.isEqual(z))throw V.Mu(`Document reference is for database ${B.projectId}/${B.database} but should be for database ${z.projectId}/${z.database}`);return{referenceValue:fQ($.firestore._databaseId||V.databaseId,$._key.path)}}if($ instanceof V9)return function z(B,x){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:B.toArray().map((j)=>{if(typeof j!="number")throw x.Mu("VectorValues must only contain numeric values.");return b4(x.serializer,j)})}}}}}}($,V);throw V.Mu(`Unsupported field value: ${e4($)}`)}(Z,Q)}function v5(Z,Q){let J={};return s7(Z)?Q.path&&Q.path.length>0&&Q.fieldMask.push(Q.path):w2(Z,($,V)=>{let z=y5(V,Q.bu($));z!=null&&(J[$]=z)}),{mapValue:{fields:J}}}function H5(Z){return!(typeof Z!="object"||Z===null||Z instanceof Array||Z instanceof Date||Z instanceof h0||Z instanceof $9||Z instanceof V2||Z instanceof X1||Z instanceof X9||Z instanceof V9)}function Y5(Z,Q,J){if(!H5(J)||!function $(V){return typeof V=="object"&&V!==null&&(Object.getPrototypeOf(V)===Object.prototype||Object.getPrototypeOf(V)===null)}(J)){let $=e4(J);throw $==="an object"?Q.Mu(Z+" a custom object"):Q.Mu(Z+" "+$)}}function e$(Z,Q,J){if((Q=n1(Q))instanceof J9)return Q._internalPath;if(typeof Q=="string")return Q3(Z,Q);throw X6("Field path arguments must be of type string or ",Z,!1,void 0,J)}var Z3=new RegExp("[~\\*/\\[\\]]");function Q3(Z,Q,J){if(Q.search(Z3)>=0)throw X6(`Invalid field path (${Q}). Paths must not contain '~', '*', '/', '[', or ']'`,Z,!1,void 0,J);try{return new J9(...Q.split("."))._internalPath}catch($){throw X6(`Invalid field path (${Q}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,Z,!1,void 0,J)}}function X6(Z,Q,J,$,V){let z=$&&!$.isEmpty(),B=V!==void 0,x=`Function ${Q}() called with invalid data`;J&&(x+=" (via `toFirestore()`)"),x+=". ";let j="";return(z||B)&&(j+=" (found",z&&(j+=` in field ${$}`),B&&(j+=` in document ${V}`),j+=")"),new r(T.INVALID_ARGUMENT,x+Z+j)}function J3(Z,Q){return Z.some((J)=>J.isEqual(Q))}function X3(Z,Q,J){let $;return $=Z?J&&(J.merge||J.mergeFields)?Z.toFirestore(Q,J):Z.toFirestore(Q):Q,$}function F2(Z,Q){let J=O5(Z.firestore,Q9),$=d$(Z),V=X3(Z.converter,Q);return $3(J,[a$(o$(Z.firestore),"addDoc",$._key,V,Z.converter!==null,{}).toMutation($._key,J1.exists(!1))]).then(()=>$)}function $3(Z,Q){return function J($,V){let z=new j1;return $.asyncQueue.enqueueAndForget(async()=>u$(await s$($),V,z)),z.promise}(E$(Z),Q)}(function Z(Q,J=!0){(function $(V){X8=V})($7),g8(new q4("firestore",($,{instanceIdentifier:V,options:z})=>{let B=$.getProvider("app").getImmediate(),x=new Q9(new u7($.getProvider("auth-internal")),new i7($.getProvider("app-check-internal")),function j(R,H){if(!Object.prototype.hasOwnProperty.apply(R.options,["projectId"]))throw new r(T.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Q6(R.options.projectId,H)}(B,V),B);return z=Object.assign({useFetchStreams:J},z),x._setSettings(z),x},"PUBLIC").setMultipleInstances(!0)),F1(x7,"4.7.0",Q),F1(x7,"4.7.0","esm2017")})();class K0{static db;static init(){let Z=U4({apiKey:"AIzaSyBsy1sNYcvbKYhD6evfTc-AE9MtgJIVX7I",authDomain:"biemer-rq2-2.firebaseapp.com",projectId:"biemer-rq2-2",storageBucket:"biemer-rq2-2.firebasestorage.app",messagingSenderId:"455291545423",appId:"1:455291545423:web:ff1fb29b0f2aa6146c873a"});K0.db=I5(Z)}static submitAttempt(){let Z={diedFrom:M.diedFrom,"stamina-left":M.staminaLeft,time:M.time,won:M.playerWon,order:M.order,playerID:M.playerID,levels:M.levels,pathX:M.playerPathX,pathY:M.playerPathY};if(M.playerID==="null")console.log("Data not submitted:",Z);else F2(x2(K0.db,`rq2.2_play_${M.director}_${M.version}`),Z)}static submitBeatGame(){F2(x2(K0.db,`rq2.2_beatgame_${M.version}`),{playerID:M.playerID,director:M.director})}static submitSurvey(Z){let Q=Object.keys(M.customData);for(let J=0;J<Q.length;++J){let $=Q[J];Z[$]=M.customData[$]}if(M.playerID==="null")console.log("Data not submitted:",Z);else Z.playerID=M.playerID,F2(x2(K0.db,`rq2.2_survey_${M.director}_${M.version}`),Z),console.log("Survey submitted.")}static submitTutorial(){let Z={diedToEnemy:M.tutorialDiedToEnemy,diedToStamina:M.tutorialDiedToStamina,playerID:M.playerID};if(M.playerID==="null")console.log("Data not submitted:",Z);else F2(x2(K0.db,`rq2.2_tutorial_${M.director}_${M.version}`),Z),console.log("Tutorial data submitted.")}}class j2 extends V0{componentsRequired=new Set([]);steps=[];index=0;playerID;textID;constructor(Z,Q){super();let J=new Y8;this.playerID=Z,this.textID=Q,this.steps.push(["Press 'A' to move your character, the '@' symbol, left.",(R,H)=>{if(R.isKeyDown(5)||R.isKeyDown(0)){let f=this.ecs.getComponents(H).get(o);return f.setX(f.getX()-1),!0}return!1}]),this.steps.push(["Press 'D' to move your character right.",(R,H)=>{if(R.isKeyDown(7)||R.isKeyDown(1)){let f=this.ecs.getComponents(H).get(o);return f.setX(f.getX()+1),!0}return!1}]),this.steps.push(["Press 'S' to move your character down.",(R,H)=>{if(R.isKeyDown(6)||R.isKeyDown(2)){let f=this.ecs.getComponents(H).get(o);return f.setY(f.getY()+1),!0}return!1}]),this.steps.push(["Press 'W' to move your character up.",(R,H)=>{if(R.isKeyDown(4)||R.isKeyDown(3)){let f=this.ecs.getComponents(H).get(o);return f.setY(f.getY()-1),!0}return!1}]);let $,V,z,B=new o(20,10),x=new o(30,10),j=new o(28,10);this.steps.push(["Press ' ' (space) to spend one turn and not move.",(R,H)=>{if(R.isKeyDown(10)){for(let P=15;P<35;++P){let u=this.ecs.addEntity();this.ecs.addComponent(u,new o(P,5)),this.ecs.addComponent(u,new N0("X")),J.set(new o(P,5),u);let m=this.ecs.addEntity();this.ecs.addComponent(m,new o(P,15)),this.ecs.addComponent(m,new D0),this.ecs.addComponent(m,new N0("X")),J.set(new o(P,15),m)}for(let P=5;P<=15;++P){let u=this.ecs.addEntity();this.ecs.addComponent(u,new o(15,P)),this.ecs.addComponent(u,new D0),this.ecs.addComponent(u,new N0("X")),J.set(new o(15,P),u);let m=this.ecs.addEntity();this.ecs.addComponent(m,new o(35,P)),this.ecs.addComponent(m,new D0),this.ecs.addComponent(m,new N0("X")),J.set(new o(35,P),m)}return $=this.ecs.addEntity(),V=this.ecs.addEntity(),z=this.ecs.addEntity(),this.ecs.addComponent($,B),this.ecs.addComponent($,new N0("*")),this.ecs.addComponent(V,new D1),this.ecs.addComponent(V,x),this.ecs.addComponent(V,new N0("o")),this.ecs.addComponent(V,new D1),this.ecs.addComponent(V,new D0),this.ecs.setBB("grid collisions",J),this.ecs.addSystem(5,new l8),this.ecs.addSystem(10,new M8),this.ecs.addSystem(50,new P8),this.ecs.addSystem(80,new u8),this.ecs.addSystem(85,new m8),!0}return!1}]),this.steps.push(["That * is a switch. Run into it to open the portal.",(R,H)=>{let f=this.ecs.getComponents(this.playerID),K=f.get(o),l=f.get(f0);if(K.equals(B))return this.ecs.removeEntity($),this.ecs.getComponents(V).get(N0).character="O",J.set(this.ecs.getComponents(V).get(o),V),this.ecs.addComponent(z,j),this.ecs.addComponent(z,new N0("#")),this.ecs.addComponent(z,new h1("Enemy",new o(j.getX(),j.getY()))),this.ecs.addComponent(z,new _8(j)),this.ecs.addComponent(z,new K1),!0;if(l.stamina<=0)++M.tutorialDiedToStamina,l.stamina=M0,K.setX(25),K.setY(10),this.ecs.getComponents(this.textID).get(n0).text="Try to hit the '*' switch before you run out of stamina.";return!1}]),this.steps.push(["Go through the opened portal, if you can...",(R,H)=>{let f=this.ecs.getComponents(this.playerID),K=f.get(o),l=f.get(f0);if(this.ecs.getBB("game over")==o0||l.stamina<=0||K.equals(j)){if(l.stamina<=0)++M.tutorialDiedToStamina;else if(K.equals(j))++M.tutorialDiedToEnemy;K.setX(22),K.setY(10),j.setX(28),j.setY(10),l.stamina=M0,this.ecs.setBB("game over",C2),this.ecs.getComponents(this.textID).get(n0).text="Try to avoid the enemy and not run out of stamina!"}if(K.equals(x))return K0.submitTutorial(),q1.set("completed tutorial","true"),console.log(q1.get("completed tutorial")),!0;return!1}])}update(Z,Q){if(this.steps[this.index][1](Z,this.playerID))if(++this.index,this.index>=this.steps.length)this.ecs.setBB("tutorial over",!0);else this.ecs.getComponents(this.textID).get(n0).text=this.steps[this.index][0]}}class R2 extends V0{componentsRequired=new Set([s.Position2d,n0]);update(Z,Q){let J=this.ecs.getBB("x mod"),$=this.ecs.getBB("y mod");Z.setFont(20);for(let V of Q.values()){let z=this.ecs.getComponents(V),B=z.get(n0),x=z.get(s.Position2d);Z.drawText(x.getX()*J,x.getY()*$,B.text)}}}var $1={EnemyAI:P8,PlayerCollision:M8,PlayerMovement:l8,PortalSystem:c6,RenderSystem:C8,UpdatePlayerTurn:d6,RenderGameInfo:u8,RenderEnemyTerritory:m8,TutorialSystem:j2,TutorialRenderSystem:R2};class O2{src;tgt;probability;constructor(Z,Q,J){this.src=Z,this.tgt=Q,this.probability=J}}class G2{name;reward;utility;isTerminal;neighbors;constructor(Z,Q,J,$,V){this.name=Z,this.reward=Q,this.utility=J,this.isTerminal=$,this.neighbors=V}}class q6{nodes;edges;constructor(){this.nodes={},this.edges={}}getNode(Z){return this.nodes[Z]}hasNode(Z){return Z in this.nodes}addNode(Z){this.nodes[Z.name]=Z}addDefaultNode(Z,Q=1,J=0,$=!1,V=null){if(V==null)V=[];this.nodes[Z]=new G2(Z,Q,J,$,V)}removeNode(Z){let Q=[];for(let J of Object.values(this.edges)){if(J.src==Z||J.tgt==Z)Q.push(J);let $=J.probability,V=-1;for(let j=0;j<$.length;j++){let[R,H]=$[j];if(R==Z){V=j;break}}if(V==-1)continue;let z=$[V][1];$.splice(V,1);let B=$.length,x=z/B;J.probability=$.map(([j,R])=>[j,R+x])}for(let J of Q)this.removeEdge(J.src,J.tgt);delete this.nodes[Z]}getEdge(Z,Q){return this.edges[`${Z},${Q}`]}hasEdge(Z,Q){return`${Z},${Q}`in this.edges}addEdge(Z){this.edges[`${Z.src},${Z.tgt}`]=Z;let Q=this.nodes[Z.src].neighbors;if(!Q.includes(Z.tgt))Q.push(Z.tgt)}addDefaultEdge(Z,Q,J=null){if(J==null)J=[[Q,1]];this.addEdge(new O2(Z,Q,J))}removeEdge(Z,Q){let J=this.nodes[Z],$=J.neighbors.indexOf(Q);J.neighbors.splice($,1),delete this.edges[`${Z},${Q}`]}neighbors(Z){return this.nodes[Z].neighbors}setNodeUtilities(Z){for(let[Q,J]of Object.entries(Z))this.nodes[Q].utility=J}utility(Z){return this.nodes[Z].utility}reward(Z){return this.nodes[Z].reward}isTerminal(Z){return this.nodes[Z].isTerminal}mapNodes(Z){for(let Q of Object.values(this.nodes))Z(Q)}mapEdges(Z){for(let Q of Object.values(this.edges))Z(Q)}}function V1(Z){return Z[Math.floor(Math.random()*Z.length)]}function V8(Z,Q,J,$){let V=Z.getEdge(Q,J).probability,z=V.length,B=0;for(let x=0;x<z;++x){let[j,R]=V[x];B+=R*(Z.reward(j)+$*Z.utility(j))}return B}function B6(Z,Q,J){let $=Z.getNode(Q);if($.isTerminal)return 0;let V=$.neighbors,z=V.length,B=-1/0;for(let x=0;x<z;++x)B=Math.max(B,V8(Z,Q,V[x],J));return B}function z9(Z){for(let Q in Z.nodes)Z.nodes[Q].utility=0}function h6(Z){let Q={};for(let J in Z.nodes)if(!Z.getNode(J).isTerminal)Q[J]=[...Z.neighbors(J)];return Q}function W9(Z,Q){let J={};for(let $ in Z.nodes){if(Z.getNode($).isTerminal)continue;let V=-1/0,z=[];for(let B of Z.neighbors($)){let x=V8(Z,$,B,Q);if(x===V)z.push(B);else if(x>V)V=x,z.length=0,z.push(B)}J[$]=z}return J}function V3(Z,Q,J,$){for(let V=0;V<$;++V)for(let z in Z.nodes){let B=Z.getNode(z);if(!B.isTerminal)B.utility=V8(Z,z,V1(Q[z]),J)}}function w3(Z,Q,J,$){for(let V=0;V<$;++V){let z={};for(let B in Z.nodes)if(!Z.getNode(B).isTerminal)z[B]=V8(Z,B,V1(Q[B]),J);Z.setNodeUtilities(z)}}function z3(Z,Q,J,$){for(let V=0;V<$;++V)for(let z in Z.nodes)Z.getNode(z).utility=B6(Z,z,J)}function W3(Z,Q,J,$){for(let V=0;V<$;++V){let z={};for(let B in Z.nodes)z[B]=B6(Z,B,J);Z.setNodeUtilities(z)}}function f5(Z,Q,J){let $=!1;for(let V in Z.nodes){if(Z.getNode(V).isTerminal)continue;let z=null,B=-1/0;for(let x of Z.neighbors(V)){let j=V8(Z,V,x,J);if(j===B);else if(j>B)z=x,B=j}if(V1(Q[V])!==z)Q[V].length=0,Q[V].push(z),$=!0}return $}function U9(Z,Q,J=!1,$=!1,V=10,z=!0){if(z)z9(Z);let B=h6(Z),x;if(J&&$)x=V3;else if(J&&!$)x=w3;else if(!J&&$)x=z3;else x=W3;let j=!0;while(j)x(Z,B,Q,V),j=f5(Z,B,Q);return x(Z,B,Q,V),f5(Z,B,Q),W9(Z,Q)}function q9(Z){return h6(Z)}class N extends G2{visitedCount;sumPercentCompleted;depth;difficulty;enjoyability;constructor(Z,Q,J,$,V,z,B){super(Z,Q,$,V,z);this.difficulty=Q,this.enjoyability=J,this.depth=B,this.visitedCount=1,this.sumPercentCompleted=1}updateReward(Z){switch(M.director){case K8:this.reward=this.difficulty;break;case m2:this.reward=this.enjoyability;break;case T8:break;case p8:this.reward=(this.difficulty+this.enjoyability)/2;break;case A8:this.reward=Z?this.difficulty:this.enjoyability;break;default:console.error(`Error: update reward on director "${M.director}" not possible.`);break}this.reward*=this.visitedCount}}class q extends O2{link;constructor(Z,Q,J,$){super(Z,Q,J);this.link=$}}var w=new q6;w.addNode(new N(l0,0,0,0,!1,[],-1));w.addNode(new N(U,-5,-5,0,!0,[],-1));w.addNode(new N("0_0_0",-1,-1,0,!1,[],0));w.addNode(new N("0_1_0",-0.5238095238095237,-0.11904761904761896,0,!1,[],1));w.addNode(new N("0_11_0",-0.6984126984126984,-0.04761904761904756,0,!1,[],27));w.addNode(new N("0_12_0",-0.5306122448979592,-0.12244897959183665,0,!1,[],28));w.addNode(new N("0_13_0",-0.8095238095238095,-0.1428571428571429,0,!1,[],29));w.addNode(new N("0_14_0",-0.5428571428571428,-0.1428571428571429,0,!1,[],29));w.addNode(new N("0_2_0",-0.4693877551020408,-0.16326530612244905,0,!1,[],2));w.addNode(new N("0_3_0",-0.4897959183673469,-0.26530612244897955,0,!1,[],3));w.addNode(new N("0_4_0",-0.4285714285714286,-0.18367346938775508,0,!1,[],4));w.addNode(new N("0_5_0",-0.1428571428571429,-0.2142857142857143,0,!1,[],5));w.addNode(new N("0_6_0",-0.4693877551020408,-0.18367346938775508,0,!1,[],6));w.addNode(new N("10_0_0",-0.3214285714285714,-0.1071428571428571,0,!1,[],10));w.addNode(new N("10_1_0",-0.4571428571428572,-0.22857142857142854,0,!1,[],11));w.addNode(new N("10_2_0",-0.1428571428571429,0,0,!1,[],12));w.addNode(new N("10_3_0",-0.3928571428571429,-0.3928571428571429,0,!1,[],13));w.addNode(new N("10_4_0",-0.6734693877551021,-0.3877551020408163,0,!1,[],14));w.addNode(new N("10_5_0",-0.3928571428571429,-0.0714285714285714,0,!1,[],15));w.addNode(new N("10_6_0",-0.5357142857142857,-0.1607142857142857,0,!1,[],16));w.addNode(new N("10_7_0",-0.4821428571428571,-0.25,0,!1,[],17));w.addNode(new N("11_0_0",-0.3142857142857143,-0.2857142857142857,0,!1,[],11));w.addNode(new N("11_1_0",-0.33333333333333326,-0.2857142857142857,0,!1,[],12));w.addNode(new N("11_2_0",-0.3928571428571429,-0.1964285714285714,0,!1,[],13));w.addNode(new N("11_3_0",-0.375,-0.3928571428571429,0,!1,[],14));w.addNode(new N("11_4_0",-0.2857142857142857,-0.2142857142857143,0,!1,[],15));w.addNode(new N("11_5_0",-0.4464285714285714,-0.1785714285714286,0,!1,[],16));w.addNode(new N("11_6_0",-0.4285714285714286,-0.0714285714285714,0,!1,[],17));w.addNode(new N("12_0_0",-0.3214285714285714,-0.2678571428571429,0,!1,[],12));w.addNode(new N("12_1_0",-0.4285714285714286,-0.04761904761904756,0,!1,[],13));w.addNode(new N("12_2_0",-0.08571428571428563,-0.37142857142857133,0,!1,[],14));w.addNode(new N("12_3_0",-0.26190476190476186,-0.4285714285714286,0,!1,[],15));w.addNode(new N("12_4_0",-0.4,-0.11428571428571421,0,!1,[],16));w.addNode(new N("12_5_0",-0.2857142857142857,-0.09523809523809523,0,!1,[],17));w.addNode(new N("12_6_0",-0.1428571428571429,-0.6190476190476191,0,!1,[],18));w.addNode(new N("13_0_0",-0.3142857142857143,-0.4,0,!1,[],13));w.addNode(new N("13_1_0",-0.23809523809523814,-0.4285714285714286,0,!1,[],14));w.addNode(new N("13_2_0",-0.4285714285714286,-0.20408163265306123,0,!1,[],15));w.addNode(new N("13_3_0",-0.4107142857142857,-0.2678571428571429,0,!1,[],16));w.addNode(new N("13_4_0",-0.5714285714285714,-0.34285714285714286,0,!1,[],17));w.addNode(new N("14_0_0",-0.2857142857142857,-0.2142857142857143,0,!1,[],14));w.addNode(new N("14_1_0",-0.48571428571428565,-0.17142857142857149,0,!1,[],15));w.addNode(new N("14_2_0",-0.1428571428571429,-0.4285714285714286,0,!1,[],16));w.addNode(new N("14_3_0",-0.26190476190476186,-0.16666666666666674,0,!1,[],17));w.addNode(new N("14_4_0",-0.20000000000000007,-0.2571428571428571,0,!1,[],18));w.addNode(new N("15_0_0",-0.5714285714285714,-0.2857142857142857,0,!1,[],15));w.addNode(new N("15_1_0",-0.2142857142857143,-0.2142857142857143,0,!1,[],16));w.addNode(new N("15_2_0",-0.3571428571428571,-0.1071428571428571,0,!1,[],17));w.addNode(new N("15_3_0",-0.37142857142857133,-0.08571428571428563,0,!1,[],18));w.addNode(new N("15_4_0",-0.33333333333333326,-0.1428571428571429,0,!1,[],19));w.addNode(new N("16_1_0",-0.375,-0.1607142857142857,0,!1,[],17));w.addNode(new N("16_2_0",-0.2142857142857143,-0.25,0,!1,[],18));w.addNode(new N("16_3_0",-0.2857142857142857,-0.3571428571428571,0,!1,[],19));w.addNode(new N("16_4_0",-0.2142857142857143,-0.2142857142857143,0,!1,[],20));w.addNode(new N("17_2_0",-0.22857142857142854,-0.2857142857142857,0,!1,[],19));w.addNode(new N("17_4_0",-0.5238095238095237,-0.2063492063492064,0,!1,[],19));w.addNode(new N("17_5_0",-0.1428571428571429,-0.5,0,!1,[],18));w.addNode(new N("18_2_0",-0.16326530612244905,-0.16326530612244905,0,!1,[],20));w.addNode(new N("18_3_0",-0.33333333333333326,-0.1428571428571429,0,!1,[],21));w.addNode(new N("1_0_0",-0.4,-0.2571428571428571,0,!1,[],1));w.addNode(new N("1_1_0",-0.5357142857142857,-0.1071428571428571,0,!1,[],2));w.addNode(new N("1_11_0",-0.0714285714285714,-0.4285714285714286,0,!1,[],26));w.addNode(new N("1_12_0",-0.20000000000000007,-0.3142857142857143,0,!1,[],27));w.addNode(new N("1_13_0",-0.8214285714285714,-0.2142857142857143,0,!1,[],28));w.addNode(new N("1_14_0",-0.34285714285714286,-0.2571428571428571,0,!1,[],28));w.addNode(new N("1_15_0",-0.2142857142857143,-0.3214285714285714,0,!1,[],29));w.addNode(new N("1_16_0",-0.6666666666666666,-0.19047619047619047,0,!1,[],30));w.addNode(new N("1_17_0",-0.4571428571428572,-0.2857142857142857,0,!1,[],31));w.addNode(new N("1_2_0",-0.5238095238095237,-0.38095238095238104,0,!1,[],3));w.addNode(new N("1_3_0",-0.5714285714285714,-0.09523809523809523,0,!1,[],4));w.addNode(new N("1_4_0",-0.2857142857142857,-0.19047619047619047,0,!1,[],5));w.addNode(new N("1_5_0",-0.47619047619047616,-0.40476190476190477,0,!1,[],6));w.addNode(new N("2_0_0",-0.22857142857142854,-0.22857142857142854,0,!1,[],2));w.addNode(new N("2_1_0",-0.2857142857142857,-0.33333333333333326,0,!1,[],3));w.addNode(new N("2_10_0",-0.4693877551020408,-0.2857142857142857,0,!1,[],24));w.addNode(new N("2_11_0",-0.2571428571428571,-0.2571428571428571,0,!1,[],25));w.addNode(new N("2_12_0",-0.2857142857142857,0,0,!1,[],26));w.addNode(new N("2_13_0",-0.34285714285714286,-0.17142857142857149,0,!1,[],27));w.addNode(new N("2_14_0",-0.34693877551020413,-0.1428571428571429,0,!1,[],27));w.addNode(new N("2_15_0",-0.33333333333333326,-0.26190476190476186,0,!1,[],28));w.addNode(new N("2_16_0",-0.5,-0.3571428571428571,0,!1,[],29));w.addNode(new N("2_2_0",-0.5428571428571428,-0.2857142857142857,0,!1,[],4));w.addNode(new N("2_3_0",-0.5142857142857142,-0.2571428571428571,0,!1,[],5));w.addNode(new N("2_4_0",-0.7142857142857143,-0.38095238095238104,0,!1,[],6));w.addNode(new N("3_0_0",-0.40476190476190477,-0.33333333333333326,0,!1,[],3));w.addNode(new N("3_1_0",-0.3571428571428571,-0.2857142857142857,0,!1,[],4));w.addNode(new N("3_10_0",0,-0.8571428571428572,0,!1,[],23));w.addNode(new N("3_11_0",-0.48571428571428565,-0.20000000000000007,0,!1,[],24));w.addNode(new N("3_12_0",-0.7142857142857143,-0.33333333333333326,0,!1,[],25));w.addNode(new N("3_13_0",-0.2857142857142857,-0.1785714285714286,0,!1,[],26));w.addNode(new N("3_14_0",-0.1428571428571429,0,0,!1,[],26));w.addNode(new N("3_15_0",-0.30952380952380953,-0.23809523809523814,0,!1,[],27));w.addNode(new N("3_16_0",-0.16326530612244905,-0.34693877551020413,0,!1,[],28));w.addNode(new N("3_2_0",-0.6938775510204082,-0.12244897959183665,0,!1,[],5));w.addNode(new N("3_3_0",-0.6734693877551021,-0.16326530612244905,0,!1,[],8));w.addNode(new N("3_4_0",-0.4285714285714286,-0.05714285714285716,0,!1,[],9));w.addNode(new N("4_0_0",-0.17142857142857149,-0.22857142857142854,0,!1,[],4));w.addNode(new N("4_1_0",-0.3142857142857143,-0.29999999999999993,0,!1,[],5));w.addNode(new N("4_10_0",-0.3571428571428571,-0.1607142857142857,0,!1,[],22));w.addNode(new N("4_11_0",-0.6326530612244898,-0.34693877551020413,0,!1,[],23));w.addNode(new N("4_12_0",-0.1071428571428571,-0.3571428571428571,0,!1,[],24));w.addNode(new N("4_13_0",-0.2142857142857143,-0.16666666666666674,0,!1,[],25));w.addNode(new N("4_14_0",-0.3214285714285714,-0.3571428571428571,0,!1,[],25));w.addNode(new N("4_15_0",-0.20000000000000007,-0.4285714285714286,0,!1,[],26));w.addNode(new N("4_16_0",-0.2857142857142857,-0.2142857142857143,0,!1,[],27));w.addNode(new N("4_2_0",-0.2857142857142857,-0.1785714285714286,0,!1,[],6));w.addNode(new N("4_3_0",-0.3571428571428571,-0.1428571428571429,0,!1,[],7));w.addNode(new N("4_4_0",-0.47619047619047616,-0.19047619047619047,0,!1,[],8));w.addNode(new N("4_8_0",-0.4571428571428572,-0.1428571428571429,0,!1,[],20));w.addNode(new N("4_9_0",-0.4285714285714286,-0.11428571428571421,0,!1,[],21));w.addNode(new N("5_0_0",0,-0.33333333333333326,0,!1,[],5));w.addNode(new N("5_1_0",-0.1428571428571429,-0.3877551020408163,0,!1,[],6));w.addNode(new N("5_10_0",-0.37142857142857133,-0.3142857142857143,0,!1,[],21));w.addNode(new N("5_11_0",-0.20000000000000007,-0.34285714285714286,0,!1,[],22));w.addNode(new N("5_12_0",-0.3571428571428571,-0.19047619047619047,0,!1,[],23));w.addNode(new N("5_13_0",-0.47619047619047616,-0.47619047619047616,0,!1,[],24));w.addNode(new N("5_14_0",-0.22857142857142854,-0.3142857142857143,0,!1,[],24));w.addNode(new N("5_15_0",-0.5,-0.2857142857142857,0,!1,[],25));w.addNode(new N("5_2_0",-0.75,-0.3214285714285714,0,!1,[],7));w.addNode(new N("5_3_0",-0.38095238095238104,-0.33333333333333326,0,!1,[],8));w.addNode(new N("5_4_0",-0.3877551020408163,-0.40816326530612235,0,!1,[],9));w.addNode(new N("5_5_0",-0.4897959183673469,-0.12244897959183665,0,!1,[],14));w.addNode(new N("5_7_0",-0.5079365079365079,-0.2222222222222222,0,!1,[],18));w.addNode(new N("5_8_0",-0.3214285714285714,-0.3571428571428571,0,!1,[],19));w.addNode(new N("5_9_0",-0.3214285714285714,-0.3571428571428571,0,!1,[],20));w.addNode(new N("6_0_0",-0.326530612244898,-0.30612244897959184,0,!1,[],6));w.addNode(new N("6_1_0",-0.2857142857142857,-0.2678571428571429,0,!1,[],7));w.addNode(new N("6_10_0",-0.2857142857142857,-0.20408163265306123,0,!1,[],20));w.addNode(new N("6_11_0",-0.2857142857142857,-0.1428571428571429,0,!1,[],21));w.addNode(new N("6_12_0",-0.4642857142857143,-0.4642857142857143,0,!1,[],22));w.addNode(new N("6_14_0",-0.2857142857142857,0,0,!1,[],23));w.addNode(new N("6_15_0",-0.1785714285714286,-0.2142857142857143,0,!1,[],24));w.addNode(new N("6_2_0",-0.3928571428571429,-0.3928571428571429,0,!1,[],8));w.addNode(new N("6_3_0",-0.47619047619047616,-0.19047619047619047,0,!1,[],9));w.addNode(new N("6_4_0",-0.2857142857142857,-0.2857142857142857,0,!1,[],12));w.addNode(new N("6_5_0",-0.6428571428571428,-0.1428571428571429,0,!1,[],13));w.addNode(new N("6_7_0",-0.4,-0.1428571428571429,0,!1,[],17));w.addNode(new N("6_8_0",-0.5476190476190477,-0.40476190476190477,0,!1,[],18));w.addNode(new N("6_9_0",-0.4693877551020408,-0.12244897959183665,0,!1,[],19));w.addNode(new N("7_0_0",-0.2857142857142857,-0.20000000000000007,0,!1,[],7));w.addNode(new N("7_1_0",-0.2857142857142857,-0.4571428571428572,0,!1,[],8));w.addNode(new N("7_10_0",-0.04761904761904756,0,0,!1,[],19));w.addNode(new N("7_2_0",-0.38095238095238104,-0.2857142857142857,0,!1,[],9));w.addNode(new N("7_3_0",-0.6122448979591837,-0.26530612244897955,0,!1,[],10));w.addNode(new N("7_4_0",-0.4571428571428572,-0.2857142857142857,0,!1,[],11));w.addNode(new N("7_5_0",-0.4285714285714286,-0.11428571428571421,0,!1,[],12));w.addNode(new N("7_7_0",-0.4285714285714286,-0.1785714285714286,0,!1,[],16));w.addNode(new N("7_8_0",-0.2857142857142857,-0.2142857142857143,0,!1,[],17));w.addNode(new N("7_9_0",-0.38095238095238104,-0.38095238095238104,0,!1,[],18));w.addNode(new N("8_0_0",-0.4642857142857143,-0.1071428571428571,0,!1,[],8));w.addNode(new N("8_1_0",-0.4821428571428571,-0.2321428571428571,0,!1,[],9));w.addNode(new N("8_2_0",-0.5918367346938775,-0.16326530612244905,0,!1,[],10));w.addNode(new N("8_3_0",-0.4571428571428572,-0.22857142857142854,0,!1,[],11));w.addNode(new N("8_4_0",-0.5918367346938775,-0.04081632653061218,0,!1,[],12));w.addNode(new N("8_5_0",-0.5476190476190477,-0.2142857142857143,0,!1,[],13));w.addNode(new N("8_6_0",-0.2571428571428571,-0.11428571428571421,0,!1,[],14));w.addNode(new N("8_7_0",-0.4693877551020408,-0.26530612244897955,0,!1,[],15));w.addNode(new N("8_8_0",-0.38095238095238104,-0.09523809523809523,0,!1,[],16));w.addNode(new N("8_9_0",-0.5357142857142857,-0.1785714285714286,0,!1,[],17));w.addNode(new N("9_0_0",-0.47619047619047616,-0.2142857142857143,0,!1,[],9));w.addNode(new N("9_1_0",-0.48571428571428565,-0.1428571428571429,0,!1,[],10));w.addNode(new N("9_2_0",-0.5142857142857142,-0.02857142857142858,0,!1,[],11));w.addNode(new N("9_3_0",-0.4642857142857143,-0.25,0,!1,[],12));w.addNode(new N("9_4_0",-0.4285714285714286,-0.1428571428571429,0,!1,[],13));w.addNode(new N("9_5_0",-0.45238095238095233,-0.1428571428571429,0,!1,[],14));w.addNode(new N("9_6_0",-0.33333333333333326,-0.23809523809523814,0,!1,[],15));w.addNode(new N("9_7_0",-0.38095238095238104,-0.33333333333333326,0,!1,[],16));w.addNode(new N("end",0,0,0,!0,[],20));w.addEdge(new q(l0,"0_0_0",[["0_0_0",0.99],[U,0.01]],[]));w.addEdge(new q("13_1_0","13_2_0",[["13_2_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("13_1_0","13_0_0",[["13_0_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("13_1_0","14_1_0",[["14_1_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("13_1_0","12_1_0",[["12_1_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("1_5_0","0_5_0",[["0_5_0",0.99],[U,0.01]],[]));w.addEdge(new q("6_4_0","6_5_0",[["6_5_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("6_4_0","7_4_0",[["7_4_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("6_5_0","6_4_0",[["6_4_0",0.99],[U,0.01]],["-----&-----","---------&-"]));w.addEdge(new q("6_5_0","7_5_0",[["7_5_0",0.99],[U,0.01]],["-----&-----","---------&-"]));w.addEdge(new q("6_5_0","5_5_0",[["5_5_0",0.99],[U,0.01]],[]));w.addEdge(new q("17_5_0","17_4_0",[["17_4_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("17_5_0","12_5_0",[["12_5_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("4_0_0","4_1_0",[["4_1_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("4_0_0","5_0_0",[["5_0_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("4_0_0","3_0_0",[["3_0_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("12_3_0","12_2_0",[["12_2_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("12_3_0","13_3_0",[["13_3_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("12_3_0","11_3_0",[["11_3_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("2_4_0","2_3_0",[["2_3_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("2_4_0","1_4_0",[["1_4_0",0.99],[U,0.01]],["-----&-----","---------&-"]));w.addEdge(new q("8_3_0","8_4_0",[["8_4_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("8_3_0","8_2_0",[["8_2_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("8_3_0","9_3_0",[["9_3_0",0.99],[U,0.01]],["---------&-","---------&-"]));w.addEdge(new q("8_3_0","7_3_0",[["7_3_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("15_1_0","15_2_0",[["15_2_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("15_1_0","15_0_0",[["15_0_0",0.99],[U,0.01]],[]));w.addEdge(new q("15_1_0","16_1_0",[["16_1_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("15_1_0","14_1_0",[["14_1_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("11_3_0","11_2_0",[["11_2_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("11_3_0","12_3_0",[["12_3_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("11_3_0","10_3_0",[["10_3_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("2_1_0","2_2_0",[["2_2_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("2_1_0","2_0_0",[["2_0_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("2_1_0","3_1_0",[["3_1_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("2_1_0","1_1_0",[["1_1_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("13_3_0","13_4_0",[["13_4_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("13_3_0","13_2_0",[["13_2_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("13_3_0","14_3_0",[["14_3_0",0.99],[U,0.01]],["---------&-","-&---------"]));w.addEdge(new q("13_3_0","12_3_0",[["12_3_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("4_3_0","4_4_0",[["4_4_0",0.99],[U,0.01]],["---------&-","-&---------"]));w.addEdge(new q("4_3_0","4_2_0",[["4_2_0",0.99],[U,0.01]],["---------&-","-&---------"]));w.addEdge(new q("4_3_0","5_3_0",[["5_3_0",0.99],[U,0.01]],["---------&-","-&---------"]));w.addEdge(new q("4_3_0","3_3_0",[["3_3_0",0.99],[U,0.01]],["---------&-","-&---------"]));w.addEdge(new q("14_2_0","14_3_0",[["14_3_0",0.99],[U,0.01]],["-&---------","---------&-"]));w.addEdge(new q("14_2_0","14_1_0",[["14_1_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("14_2_0","15_2_0",[["15_2_0",0.99],[U,0.01]],["-----&-----","-&---------","-----&-----"]));w.addEdge(new q("14_2_0","13_2_0",[["13_2_0",0.99],[U,0.01]],["---------&-","-&---------"]));w.addEdge(new q("1_4_0","1_5_0",[["1_5_0",0.99],[U,0.01]],[]));w.addEdge(new q("1_4_0","1_3_0",[["1_3_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("1_4_0","2_4_0",[["2_4_0",0.99],[U,0.01]],["-----&-----","---------&-"]));w.addEdge(new q("1_4_0","0_4_0",[["0_4_0",0.99],[U,0.01]],["-----&-----","---------&-"]));w.addEdge(new q("5_1_0","5_2_0",[["5_2_0",0.99],[U,0.01]],["---------&-","-&---------"]));w.addEdge(new q("5_1_0","5_0_0",[["5_0_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("5_1_0","6_1_0",[["6_1_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("5_1_0","4_1_0",[["4_1_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("3_12_0","3_13_0",[["3_13_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("3_12_0","3_11_0",[["3_11_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("3_12_0","4_12_0",[["4_12_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("3_12_0","2_12_0",[["2_12_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("3_4_0","4_4_0",[["4_4_0",0.99],[U,0.01]],["-----&-----","---------&-"]));w.addEdge(new q("4_4_0","4_3_0",[["4_3_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("4_4_0","5_4_0",[["5_4_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("4_4_0","3_4_0",[["3_4_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("8_4_0","8_5_0",[["8_5_0",0.99],[U,0.01]],["-----&-----","---------&-"]));w.addEdge(new q("8_4_0","8_3_0",[["8_3_0",0.99],[U,0.01]],["-----&-----","---------&-"]));w.addEdge(new q("8_4_0","9_4_0",[["9_4_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("8_4_0","7_4_0",[["7_4_0",0.99],[U,0.01]],["-----&-----","---------&-"]));w.addEdge(new q("6_3_0","6_2_0",[["6_2_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("6_3_0","7_3_0",[["7_3_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("5_3_0","5_2_0",[["5_2_0",0.99],[U,0.01]],["-----&-----","---------&-"]));w.addEdge(new q("5_3_0","4_3_0",[["4_3_0",0.99],[U,0.01]],["-----&-----","---------&-"]));w.addEdge(new q("13_0_0","13_1_0",[["13_1_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("13_0_0","14_0_0",[["14_0_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("13_0_0","12_0_0",[["12_0_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("2_12_0","2_13_0",[["2_13_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("2_12_0","2_11_0",[["2_11_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("2_12_0","3_12_0",[["3_12_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("2_12_0","1_12_0",[["1_12_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("17_4_0","17_5_0",[["17_5_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("17_4_0","16_4_0",[["16_4_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("8_2_0","8_3_0",[["8_3_0",0.99],[U,0.01]],["---------&-","---------&-"]));w.addEdge(new q("8_2_0","8_1_0",[["8_1_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("8_2_0","9_2_0",[["9_2_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("3_1_0","3_2_0",[["3_2_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("3_1_0","3_0_0",[["3_0_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("3_1_0","4_1_0",[["4_1_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("3_1_0","2_1_0",[["2_1_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("0_1_0","0_2_0",[["0_2_0",0.99],[U,0.01]],[]));w.addEdge(new q("0_1_0","0_0_0",[["0_0_0",0.99],[U,0.01]],[]));w.addEdge(new q("0_1_0","1_1_0",[["1_1_0",0.99],[U,0.01]],[]));w.addEdge(new q("9_3_0","9_4_0",[["9_4_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("9_3_0","9_2_0",[["9_2_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("9_3_0","10_3_0",[["10_3_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("9_3_0","8_3_0",[["8_3_0",0.99],[U,0.01]],["---------&-","---------&-"]));w.addEdge(new q("0_4_0","0_5_0",[["0_5_0",0.99],[U,0.01]],[]));w.addEdge(new q("0_4_0","0_3_0",[["0_3_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("0_4_0","1_4_0",[["1_4_0",0.99],[U,0.01]],["-----&-----","---------&-"]));w.addEdge(new q("0_3_0","0_4_0",[["0_4_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("0_3_0","0_2_0",[["0_2_0",0.99],[U,0.01]],[]));w.addEdge(new q("0_3_0","1_3_0",[["1_3_0",0.99],[U,0.01]],[]));w.addEdge(new q("1_2_0","1_3_0",[["1_3_0",0.99],[U,0.01]],[]));w.addEdge(new q("1_2_0","1_1_0",[["1_1_0",0.99],[U,0.01]],[]));w.addEdge(new q("1_2_0","2_2_0",[["2_2_0",0.99],[U,0.01]],[]));w.addEdge(new q("1_2_0","0_2_0",[["0_2_0",0.99],[U,0.01]],[]));w.addEdge(new q("2_3_0","2_2_0",[["2_2_0",0.99],[U,0.01]],[]));w.addEdge(new q("2_3_0","1_3_0",[["1_3_0",0.99],[U,0.01]],[]));w.addEdge(new q("7_7_0","7_8_0",[["7_8_0",0.99],[U,0.01]],["-----&-----","-&---------"]));w.addEdge(new q("7_7_0","8_7_0",[["8_7_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));w.addEdge(new q("7_7_0","6_7_0",[["6_7_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));w.addEdge(new q("13_2_0","13_3_0",[["13_3_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("13_2_0","13_1_0",[["13_1_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("13_2_0","14_2_0",[["14_2_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("13_2_0","12_2_0",[["12_2_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("0_2_0","0_3_0",[["0_3_0",0.99],[U,0.01]],[]));w.addEdge(new q("0_2_0","0_1_0",[["0_1_0",0.99],[U,0.01]],[]));w.addEdge(new q("0_2_0","1_2_0",[["1_2_0",0.99],[U,0.01]],[]));w.addEdge(new q("4_1_0","4_2_0",[["4_2_0",0.99],[U,0.01]],["-----&-----","---------&-"]));w.addEdge(new q("4_1_0","4_0_0",[["4_0_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("4_1_0","5_1_0",[["5_1_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("4_1_0","3_1_0",[["3_1_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("3_2_0","3_1_0",[["3_1_0",0.99],[U,0.01]],[]));w.addEdge(new q("3_2_0","4_2_0",[["4_2_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("3_2_0","2_2_0",[["2_2_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("6_2_0","6_3_0",[["6_3_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("6_2_0","6_1_0",[["6_1_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("6_2_0","7_2_0",[["7_2_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("6_2_0","5_2_0",[["5_2_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("9_0_0","9_1_0",[["9_1_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("9_0_0","10_0_0",[["10_0_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("9_0_0","8_0_0",[["8_0_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("8_0_0","8_1_0",[["8_1_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("8_0_0","9_0_0",[["9_0_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("8_0_0","7_0_0",[["7_0_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("5_8_0","5_9_0",[["5_9_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("5_8_0","5_7_0",[["5_7_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("5_8_0","6_8_0",[["6_8_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("5_8_0","4_8_0",[["4_8_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("2_11_0","2_12_0",[["2_12_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("2_11_0","2_10_0",[["2_10_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("2_11_0","3_11_0",[["3_11_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("2_11_0","1_11_0",[["1_11_0",0.99],[U,0.01]],[]));w.addEdge(new q("0_5_0","0_6_0",[["0_6_0",0.99],[U,0.01]],[]));w.addEdge(new q("0_5_0","0_4_0",[["0_4_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("0_5_0","1_5_0",[["1_5_0",0.99],[U,0.01]],[]));w.addEdge(new q("14_1_0","14_2_0",[["14_2_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("14_1_0","14_0_0",[["14_0_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("14_1_0","15_1_0",[["15_1_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("14_1_0","13_1_0",[["13_1_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("7_1_0","7_2_0",[["7_2_0",0.99],[U,0.01]],["-----&-----","---------&-"]));w.addEdge(new q("7_1_0","7_0_0",[["7_0_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("7_1_0","8_1_0",[["8_1_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("7_1_0","6_1_0",[["6_1_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("1_16_0","1_17_0",[["1_17_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("1_16_0","1_15_0",[["1_15_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("1_16_0","2_16_0",[["2_16_0",0.99],[U,0.01]],[]));w.addEdge(new q("14_0_0","14_1_0",[["14_1_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("14_0_0","15_0_0",[["15_0_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("14_0_0","13_0_0",[["13_0_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("3_3_0","3_4_0",[["3_4_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("3_3_0","3_2_0",[["3_2_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("3_3_0","4_3_0",[["4_3_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("3_3_0","2_3_0",[["2_3_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("1_13_0","1_14_0",[["1_14_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("1_13_0","1_12_0",[["1_12_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("1_13_0","2_13_0",[["2_13_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("1_13_0","0_13_0",[["0_13_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("12_0_0","12_1_0",[["12_1_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("12_0_0","13_0_0",[["13_0_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("12_0_0","11_0_0",[["11_0_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("5_10_0","5_11_0",[["5_11_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("5_10_0","5_9_0",[["5_9_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("5_10_0","6_10_0",[["6_10_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("5_10_0","4_10_0",[["4_10_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("16_2_0","16_3_0",[["16_3_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("16_2_0","16_1_0",[["16_1_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("16_2_0","17_2_0",[["17_2_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("16_2_0","15_2_0",[["15_2_0",0.99],[U,0.01]],["-----&-----","-&---------"]));w.addEdge(new q("11_1_0","11_2_0",[["11_2_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("11_1_0","11_0_0",[["11_0_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("11_1_0","12_1_0",[["12_1_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("11_1_0","10_1_0",[["10_1_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("7_2_0","7_3_0",[["7_3_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("7_2_0","7_1_0",[["7_1_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("7_2_0","8_2_0",[["8_2_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("7_2_0","6_2_0",[["6_2_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("4_10_0","4_11_0",[["4_11_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("4_10_0","4_9_0",[["4_9_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("4_10_0","5_10_0",[["5_10_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("4_10_0","3_10_0",[["3_10_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("1_1_0","1_2_0",[["1_2_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("1_1_0","1_0_0",[["1_0_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("1_1_0","2_1_0",[["2_1_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("1_1_0","0_1_0",[["0_1_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("7_0_0","7_1_0",[["7_1_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("7_0_0","8_0_0",[["8_0_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("7_0_0","6_0_0",[["6_0_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("5_5_0","5_4_0",[["5_4_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("5_5_0","6_5_0",[["6_5_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("0_6_0","0_5_0",[["0_5_0",0.99],[U,0.01]],[]));w.addEdge(new q("1_3_0","1_2_0",[["1_2_0",0.99],[U,0.01]],[]));w.addEdge(new q("1_3_0","2_3_0",[["2_3_0",0.99],[U,0.01]],[]));w.addEdge(new q("1_3_0","0_3_0",[["0_3_0",0.99],[U,0.01]],[]));w.addEdge(new q("5_2_0","5_1_0",[["5_1_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("5_2_0","6_2_0",[["6_2_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("5_2_0","4_2_0",[["4_2_0",0.99],[U,0.01]],["---------&-","---------&-"]));w.addEdge(new q("10_0_0","10_1_0",[["10_1_0",0.99],[U,0.01]],["-----&-----","-&---------"]));w.addEdge(new q("10_0_0","11_0_0",[["11_0_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("10_0_0","9_0_0",[["9_0_0",0.99],[U,0.01]],["-----&-----","-&---------"]));w.addEdge(new q("3_0_0","3_1_0",[["3_1_0",0.99],[U,0.01]],[]));w.addEdge(new q("3_0_0","4_0_0",[["4_0_0",0.99],[U,0.01]],[]));w.addEdge(new q("3_0_0","2_0_0",[["2_0_0",0.99],[U,0.01]],[]));w.addEdge(new q("4_8_0","4_9_0",[["4_9_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("4_8_0","5_8_0",[["5_8_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("7_3_0","7_4_0",[["7_4_0",0.99],[U,0.01]],["---------&-","---------&-"]));w.addEdge(new q("7_3_0","7_2_0",[["7_2_0",0.99],[U,0.01]],["---------&-","---------&-"]));w.addEdge(new q("7_3_0","8_3_0",[["8_3_0",0.99],[U,0.01]],["---------&-","---------&-"]));w.addEdge(new q("7_3_0","6_3_0",[["6_3_0",0.99],[U,0.01]],["-----&-----","-----&-----","---------&-","---------&-"]));w.addEdge(new q("15_0_0","15_1_0",[["15_1_0",0.99],[U,0.01]],[]));w.addEdge(new q("15_0_0","14_0_0",[["14_0_0",0.99],[U,0.01]],[]));w.addEdge(new q("0_12_0","0_13_0",[["0_13_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("0_12_0","0_11_0",[["0_11_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("0_12_0","1_12_0",[["1_12_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("12_1_0","12_2_0",[["12_2_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("12_1_0","12_0_0",[["12_0_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("12_1_0","13_1_0",[["13_1_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("12_1_0","11_1_0",[["11_1_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("4_2_0","4_3_0",[["4_3_0",0.99],[U,0.01]],["---------&-","---------&-"]));w.addEdge(new q("4_2_0","4_1_0",[["4_1_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("4_2_0","5_2_0",[["5_2_0",0.99],[U,0.01]],["---------&-","---------&-"]));w.addEdge(new q("4_2_0","3_2_0",[["3_2_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("5_7_0","5_8_0",[["5_8_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("5_7_0","6_7_0",[["6_7_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("5_0_0","5_1_0",[["5_1_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("5_0_0","6_0_0",[["6_0_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("5_0_0","4_0_0",[["4_0_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("15_2_0","15_3_0",[["15_3_0",0.99],[U,0.01]],["-&---------","---------&-"]));w.addEdge(new q("15_2_0","15_1_0",[["15_1_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("15_2_0","16_2_0",[["16_2_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("15_2_0","14_2_0",[["14_2_0",0.99],[U,0.01]],["-----&-----","-&---------","-----&-----"]));w.addEdge(new q("8_1_0","8_2_0",[["8_2_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("8_1_0","8_0_0",[["8_0_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("8_1_0","9_1_0",[["9_1_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("8_1_0","7_1_0",[["7_1_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("3_10_0","3_11_0",[["3_11_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("3_10_0","4_10_0",[["4_10_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("3_10_0","2_10_0",[["2_10_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("0_0_0","0_1_0",[["0_1_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("0_0_0","1_0_0",[["1_0_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("10_3_0","10_4_0",[["10_4_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("10_3_0","10_2_0",[["10_2_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("10_3_0","11_3_0",[["11_3_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("10_3_0","9_3_0",[["9_3_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("5_4_0","4_4_0",[["4_4_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("2_2_0","2_3_0",[["2_3_0",0.99],[U,0.01]],[]));w.addEdge(new q("2_2_0","2_1_0",[["2_1_0",0.99],[U,0.01]],[]));w.addEdge(new q("2_2_0","3_2_0",[["3_2_0",0.99],[U,0.01]],[]));w.addEdge(new q("2_2_0","1_2_0",[["1_2_0",0.99],[U,0.01]],[]));w.addEdge(new q("6_0_0","6_1_0",[["6_1_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("6_0_0","7_0_0",[["7_0_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("6_0_0","5_0_0",[["5_0_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("15_3_0","15_4_0",[["15_4_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("15_3_0","15_2_0",[["15_2_0",0.99],[U,0.01]],["-----&-----","-&---------","-&---------"]));w.addEdge(new q("15_3_0","16_3_0",[["16_3_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("15_3_0","14_3_0",[["14_3_0",0.99],[U,0.01]],["---------&-","-&---------"]));w.addEdge(new q("4_11_0","4_12_0",[["4_12_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("4_11_0","4_10_0",[["4_10_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("4_11_0","5_11_0",[["5_11_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("4_11_0","3_11_0",[["3_11_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("9_4_0","9_5_0",[["9_5_0",0.99],[U,0.01]],["---------&-","---------&-"]));w.addEdge(new q("9_4_0","9_3_0",[["9_3_0",0.99],[U,0.01]],["---------&-","---------&-"]));w.addEdge(new q("9_4_0","10_4_0",[["10_4_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("9_4_0","8_4_0",[["8_4_0",0.99],[U,0.01]],["---------&-","---------&-"]));w.addEdge(new q("11_0_0","11_1_0",[["11_1_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("11_0_0","12_0_0",[["12_0_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("11_0_0","10_0_0",[["10_0_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("5_9_0","5_10_0",[["5_10_0",0.99],[U,0.01]],[]));w.addEdge(new q("5_9_0","5_8_0",[["5_8_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("5_9_0","6_9_0",[["6_9_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("5_9_0","4_9_0",[["4_9_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("5_12_0","5_13_0",[["5_13_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("5_12_0","5_11_0",[["5_11_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("5_12_0","6_12_0",[["6_12_0",0.99],[U,0.01]],[]));w.addEdge(new q("5_12_0","4_12_0",[["4_12_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("8_5_0","8_6_0",[["8_6_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));w.addEdge(new q("8_5_0","8_4_0",[["8_4_0",0.99],[U,0.01]],["-----&-----","---------&-"]));w.addEdge(new q("8_5_0","9_5_0",[["9_5_0",0.99],[U,0.01]],["-----&-----","---------&-"]));w.addEdge(new q("8_5_0","7_5_0",[["7_5_0",0.99],[U,0.01]],["-----&-----","---------&-"]));w.addEdge(new q("1_11_0","1_12_0",[["1_12_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("1_11_0","2_11_0",[["2_11_0",0.99],[U,0.01]],[]));w.addEdge(new q("1_11_0","0_11_0",[["0_11_0",0.99],[U,0.01]],[]));w.addEdge(new q("2_0_0","2_1_0",[["2_1_0",0.99],[U,0.01]],[]));w.addEdge(new q("2_0_0","3_0_0",[["3_0_0",0.99],[U,0.01]],[]));w.addEdge(new q("2_0_0","1_0_0",[["1_0_0",0.99],[U,0.01]],[]));w.addEdge(new q("14_3_0","14_4_0",[["14_4_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("14_3_0","14_2_0",[["14_2_0",0.99],[U,0.01]],["-----&-----","-&---------","-&---------"]));w.addEdge(new q("14_3_0","15_3_0",[["15_3_0",0.99],[U,0.01]],["-----&-----","-&---------"]));w.addEdge(new q("14_3_0","13_3_0",[["13_3_0",0.99],[U,0.01]],["---------&-","-&---------"]));w.addEdge(new q("7_8_0","7_9_0",[["7_9_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("7_8_0","7_7_0",[["7_7_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("7_8_0","8_8_0",[["8_8_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("7_8_0","6_8_0",[["6_8_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("1_12_0","1_13_0",[["1_13_0",0.99],[U,0.01]],[]));w.addEdge(new q("1_12_0","1_11_0",[["1_11_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("1_12_0","2_12_0",[["2_12_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("1_12_0","0_12_0",[["0_12_0",0.99],[U,0.01]],[]));w.addEdge(new q("10_1_0","10_2_0",[["10_2_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("10_1_0","10_0_0",[["10_0_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("10_1_0","11_1_0",[["11_1_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("10_1_0","9_1_0",[["9_1_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("0_11_0","0_12_0",[["0_12_0",0.99],[U,0.01]],[]));w.addEdge(new q("0_11_0","1_11_0",[["1_11_0",0.99],[U,0.01]],[]));w.addEdge(new q("16_3_0","16_4_0",[["16_4_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("16_3_0","16_2_0",[["16_2_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("16_3_0","15_3_0",[["15_3_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));w.addEdge(new q("9_2_0","9_3_0",[["9_3_0",0.99],[U,0.01]],["---------&-","---------&-"]));w.addEdge(new q("9_2_0","9_1_0",[["9_1_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("9_2_0","10_2_0",[["10_2_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("9_2_0","8_2_0",[["8_2_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("3_13_0","3_14_0",[["3_14_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("3_13_0","3_12_0",[["3_12_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("3_13_0","4_13_0",[["4_13_0",0.99],[U,0.01]],[]));w.addEdge(new q("3_13_0","2_13_0",[["2_13_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("4_12_0","4_13_0",[["4_13_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("4_12_0","4_11_0",[["4_11_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("4_12_0","5_12_0",[["5_12_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("4_12_0","3_12_0",[["3_12_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("1_0_0","1_1_0",[["1_1_0",0.99],[U,0.01]],[]));w.addEdge(new q("1_0_0","2_0_0",[["2_0_0",0.99],[U,0.01]],[]));w.addEdge(new q("1_0_0","0_0_0",[["0_0_0",0.99],[U,0.01]],[]));w.addEdge(new q("7_4_0","7_5_0",[["7_5_0",0.99],[U,0.01]],["-----&-----","---------&-"]));w.addEdge(new q("7_4_0","7_3_0",[["7_3_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("7_4_0","8_4_0",[["8_4_0",0.99],[U,0.01]],["-----&-----","---------&-"]));w.addEdge(new q("7_4_0","6_4_0",[["6_4_0",0.99],[U,0.01]],["-----&-----","---------&-"]));w.addEdge(new q("9_1_0","9_2_0",[["9_2_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("9_1_0","9_0_0",[["9_0_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("9_1_0","10_1_0",[["10_1_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("9_1_0","8_1_0",[["8_1_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("4_9_0","4_10_0",[["4_10_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("4_9_0","4_8_0",[["4_8_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("4_9_0","5_9_0",[["5_9_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("1_14_0","1_15_0",[["1_15_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("1_14_0","1_13_0",[["1_13_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("1_14_0","2_14_0",[["2_14_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("1_14_0","0_14_0",[["0_14_0",0.99],[U,0.01]],[]));w.addEdge(new q("2_10_0","2_11_0",[["2_11_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("2_10_0","3_10_0",[["3_10_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("8_7_0","8_8_0",[["8_8_0",0.99],[U,0.01]],["---------&-","-&---------"]));w.addEdge(new q("8_7_0","8_6_0",[["8_6_0",0.99],[U,0.01]],["---------&-","-&---------"]));w.addEdge(new q("8_7_0","9_7_0",[["9_7_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));w.addEdge(new q("8_7_0","7_7_0",[["7_7_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));w.addEdge(new q("11_2_0","11_3_0",[["11_3_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("11_2_0","11_1_0",[["11_1_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("11_2_0","12_2_0",[["12_2_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("11_2_0","10_2_0",[["10_2_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("6_7_0","6_8_0",[["6_8_0",0.99],[U,0.01]],[]));w.addEdge(new q("6_7_0","7_7_0",[["7_7_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("6_7_0","5_7_0",[["5_7_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("2_13_0","2_14_0",[["2_14_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("2_13_0","2_12_0",[["2_12_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("2_13_0","3_13_0",[["3_13_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("2_13_0","1_13_0",[["1_13_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("6_1_0","6_2_0",[["6_2_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("6_1_0","6_0_0",[["6_0_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("6_1_0","7_1_0",[["7_1_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("6_1_0","5_1_0",[["5_1_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("3_11_0","3_12_0",[["3_12_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("3_11_0","3_10_0",[["3_10_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("3_11_0","4_11_0",[["4_11_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("3_11_0","2_11_0",[["2_11_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("10_2_0","10_3_0",[["10_3_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("10_2_0","10_1_0",[["10_1_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("10_2_0","11_2_0",[["11_2_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("10_2_0","9_2_0",[["9_2_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("17_2_0","18_2_0",[["18_2_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("17_2_0","16_2_0",[["16_2_0",0.99],[U,0.01]],[]));w.addEdge(new q("16_4_0","16_3_0",[["16_3_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("16_4_0","17_4_0",[["17_4_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("16_4_0","15_4_0",[["15_4_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("8_8_0","8_9_0",[["8_9_0",0.99],[U,0.01]],["-&---------","-----&-----"]));w.addEdge(new q("8_8_0","8_7_0",[["8_7_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));w.addEdge(new q("8_8_0","7_8_0",[["7_8_0",0.99],[U,0.01]],["-----&-----","-&---------"]));w.addEdge(new q("10_4_0","10_5_0",[["10_5_0",0.99],[U,0.01]],["---------&-","---------&-"]));w.addEdge(new q("10_4_0","10_3_0",[["10_3_0",0.99],[U,0.01]],[]));w.addEdge(new q("10_4_0","11_4_0",[["11_4_0",0.99],[U,0.01]],[]));w.addEdge(new q("10_4_0","9_4_0",[["9_4_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("0_14_0","0_13_0",[["0_13_0",0.99],[U,0.01]],[]));w.addEdge(new q("0_14_0","1_14_0",[["1_14_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("2_16_0","2_15_0",[["2_15_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("2_16_0","3_16_0",[["3_16_0",0.99],[U,0.01]],[]));w.addEdge(new q("2_16_0","1_16_0",[["1_16_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("15_4_0","15_3_0",[["15_3_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));w.addEdge(new q("15_4_0","16_4_0",[["16_4_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("15_4_0","14_4_0",[["14_4_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("8_6_0","8_7_0",[["8_7_0",0.99],[U,0.01]],["---------&-","-&---------"]));w.addEdge(new q("8_6_0","8_5_0",[["8_5_0",0.99],[U,0.01]],["-&---------","---------&-"]));w.addEdge(new q("8_6_0","9_6_0",[["9_6_0",0.99],[U,0.01]],["-----&-----","-----&-----","-----&-----"]));w.addEdge(new q("7_5_0","7_4_0",[["7_4_0",0.99],[U,0.01]],["-----&-----","---------&-"]));w.addEdge(new q("7_5_0","8_5_0",[["8_5_0",0.99],[U,0.01]],["-----&-----","---------&-"]));w.addEdge(new q("7_5_0","6_5_0",[["6_5_0",0.99],[U,0.01]],["-----&-----","---------&-"]));w.addEdge(new q("6_10_0","6_11_0",[["6_11_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("6_10_0","6_9_0",[["6_9_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("6_10_0","7_10_0",[["7_10_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("6_10_0","5_10_0",[["5_10_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("6_8_0","6_9_0",[["6_9_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("6_8_0","6_7_0",[["6_7_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("6_8_0","7_8_0",[["7_8_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("6_8_0","5_8_0",[["5_8_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("12_2_0","12_3_0",[["12_3_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("12_2_0","12_1_0",[["12_1_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("12_2_0","13_2_0",[["13_2_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("12_2_0","11_2_0",[["11_2_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("4_13_0","4_14_0",[["4_14_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("4_13_0","4_12_0",[["4_12_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("4_13_0","5_13_0",[["5_13_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("4_13_0","3_13_0",[["3_13_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("3_14_0","3_15_0",[["3_15_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("3_14_0","3_13_0",[["3_13_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("3_14_0","4_14_0",[["4_14_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("3_14_0","2_14_0",[["2_14_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("11_4_0","11_5_0",[["11_5_0",0.99],[U,0.01]],["---------&-","---------&-","-----&-----"]));w.addEdge(new q("11_4_0","11_3_0",[["11_3_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("11_4_0","12_4_0",[["12_4_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("11_4_0","10_4_0",[["10_4_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("10_6_0","10_7_0",[["10_7_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("10_6_0","10_5_0",[["10_5_0",0.99],[U,0.01]],["-----&-----","---------&-"]));w.addEdge(new q("10_6_0","11_6_0",[["11_6_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("10_6_0","9_6_0",[["9_6_0",0.99],[U,0.01]],["-----&-----","-&---------"]));w.addEdge(new q("0_13_0","0_14_0",[["0_14_0",0.99],[U,0.01]],[]));w.addEdge(new q("0_13_0","0_12_0",[["0_12_0",0.99],[U,0.01]],[]));w.addEdge(new q("0_13_0","1_13_0",[["1_13_0",0.99],[U,0.01]],[]));w.addEdge(new q("11_5_0","11_6_0",[["11_6_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("11_5_0","11_4_0",[["11_4_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("11_5_0","12_5_0",[["12_5_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("11_5_0","10_5_0",[["10_5_0",0.99],[U,0.01]],["-----&-----","---------&-"]));w.addEdge(new q("8_9_0","8_8_0",[["8_8_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("8_9_0","7_9_0",[["7_9_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("9_7_0","9_6_0",[["9_6_0",0.99],[U,0.01]],["-----&-----","-----&-----","---------&-","-----&-----"]));w.addEdge(new q("2_14_0","2_15_0",[["2_15_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("2_14_0","2_13_0",[["2_13_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("2_14_0","3_14_0",[["3_14_0",0.99],[U,0.01]],["-----&-----","-&---------"]));w.addEdge(new q("2_14_0","1_14_0",[["1_14_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("9_5_0","9_6_0",[["9_6_0",0.99],[U,0.01]],["-----&-----","-&---------"]));w.addEdge(new q("9_5_0","9_4_0",[["9_4_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("9_5_0","10_5_0",[["10_5_0",0.99],[U,0.01]],["-----&-----","---------&-"]));w.addEdge(new q("9_5_0","8_5_0",[["8_5_0",0.99],[U,0.01]],["-----&-----","---------&-"]));w.addEdge(new q("12_5_0","12_6_0",[["12_6_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("12_5_0","12_4_0",[["12_4_0",0.99],[U,0.01]],[]));w.addEdge(new q("12_5_0","17_5_0",[["17_5_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("12_5_0","11_5_0",[["11_5_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("10_5_0","10_6_0",[["10_6_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("10_5_0","10_4_0",[["10_4_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("10_5_0","11_5_0",[["11_5_0",0.99],[U,0.01]],["-----&-----","---------&-"]));w.addEdge(new q("10_5_0","9_5_0",[["9_5_0",0.99],[U,0.01]],["-----&-----","---------&-"]));w.addEdge(new q("1_15_0","1_16_0",[["1_16_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("1_15_0","1_14_0",[["1_14_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("1_15_0","2_15_0",[["2_15_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("12_4_0","12_5_0",[["12_5_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("12_4_0","12_3_0",[["12_3_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("12_4_0","13_4_0",[["13_4_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));w.addEdge(new q("12_4_0","11_4_0",[["11_4_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("3_16_0","3_15_0",[["3_15_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("3_16_0","4_16_0",[["4_16_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));w.addEdge(new q("3_16_0","2_16_0",[["2_16_0",0.99],[U,0.01]],[]));w.addEdge(new q("9_6_0","9_7_0",[["9_7_0",0.99],[U,0.01]],["-----&-----","---------&-","-----&-----"]));w.addEdge(new q("9_6_0","10_6_0",[["10_6_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("9_6_0","8_6_0",[["8_6_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));w.addEdge(new q("2_15_0","2_16_0",[["2_16_0",0.99],[U,0.01]],[]));w.addEdge(new q("2_15_0","2_14_0",[["2_14_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("2_15_0","3_15_0",[["3_15_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("2_15_0","1_15_0",[["1_15_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("4_16_0","4_15_0",[["4_15_0",0.99],[U,0.01]],[]));w.addEdge(new q("4_16_0","3_16_0",[["3_16_0",0.99],[U,0.01]],[]));w.addEdge(new q("7_9_0","7_10_0",[["7_10_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("7_9_0","7_8_0",[["7_8_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("7_9_0","8_9_0",[["8_9_0",0.99],[U,0.01]],[]));w.addEdge(new q("7_9_0","6_9_0",[["6_9_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("5_14_0","5_15_0",[["5_15_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));w.addEdge(new q("5_14_0","5_13_0",[["5_13_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("5_14_0","6_14_0",[["6_14_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));w.addEdge(new q("5_14_0","4_14_0",[["4_14_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("5_13_0","5_14_0",[["5_14_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("5_13_0","5_12_0",[["5_12_0",0.99],[U,0.01]],[]));w.addEdge(new q("5_13_0","4_13_0",[["4_13_0",0.99],[U,0.01]],[]));w.addEdge(new q("4_14_0","4_15_0",[["4_15_0",0.99],[U,0.01]],[]));w.addEdge(new q("4_14_0","4_13_0",[["4_13_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("4_14_0","5_14_0",[["5_14_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("4_14_0","3_14_0",[["3_14_0",0.99],[U,0.01]],["-----&-----","-&---------"]));w.addEdge(new q("10_7_0","10_6_0",[["10_6_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("10_7_0","9_7_0",[["9_7_0",0.99],[U,0.01]],["---------&-","-&---------"]));w.addEdge(new q("4_15_0","4_16_0",[["4_16_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));w.addEdge(new q("4_15_0","4_14_0",[["4_14_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("4_15_0","5_15_0",[["5_15_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));w.addEdge(new q("4_15_0","3_15_0",[["3_15_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("5_11_0","5_12_0",[["5_12_0",0.99],[U,0.01]],[]));w.addEdge(new q("5_11_0","5_10_0",[["5_10_0",0.99],[U,0.01]],[]));w.addEdge(new q("5_11_0","6_11_0",[["6_11_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("5_11_0","4_11_0",[["4_11_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("16_1_0","16_2_0",[["16_2_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("16_1_0","15_1_0",[["15_1_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("11_6_0","11_5_0",[["11_5_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("11_6_0","12_6_0",[["12_6_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("11_6_0","10_6_0",[["10_6_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("18_2_0","18_3_0",[["18_3_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("18_2_0","17_2_0",[["17_2_0",0.99],[U,0.01]],["-&---------","-----&-----"]));w.addEdge(new q("12_6_0","12_5_0",[["12_5_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("12_6_0","11_6_0",[["11_6_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("6_9_0","6_10_0",[["6_10_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("6_9_0","6_8_0",[["6_8_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("6_9_0","7_9_0",[["7_9_0",0.99],[U,0.01]],[]));w.addEdge(new q("6_9_0","5_9_0",[["5_9_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("3_15_0","3_16_0",[["3_16_0",0.99],[U,0.01]],[]));w.addEdge(new q("3_15_0","3_14_0",[["3_14_0",0.99],[U,0.01]],["-----&-----","-&---------"]));w.addEdge(new q("3_15_0","4_15_0",[["4_15_0",0.99],[U,0.01]],[]));w.addEdge(new q("3_15_0","2_15_0",[["2_15_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("7_10_0","7_9_0",[["7_9_0",0.99],[U,0.01]],[]));w.addEdge(new q("7_10_0","6_10_0",[["6_10_0",0.99],[U,0.01]],["-----&-----","---------&-"]));w.addEdge(new q("6_15_0","6_14_0",[["6_14_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));w.addEdge(new q("6_15_0","5_15_0",[["5_15_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));w.addEdge(new q("5_15_0","5_14_0",[["5_14_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("5_15_0","6_15_0",[["6_15_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));w.addEdge(new q("5_15_0","4_15_0",[["4_15_0",0.99],[U,0.01]],[]));w.addEdge(new q("18_3_0","18_2_0",[["18_2_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("13_4_0","13_3_0",[["13_3_0",0.99],[U,0.01]],["-----&-----","-----&-----"]));w.addEdge(new q("13_4_0","14_4_0",[["14_4_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("13_4_0","12_4_0",[["12_4_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("6_14_0","6_15_0",[["6_15_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("6_14_0","6_12_0",[["6_12_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("6_14_0","5_14_0",[["5_14_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("6_11_0","6_12_0",[["6_12_0",0.99],[U,0.01]],[]));w.addEdge(new q("6_11_0","6_10_0",[["6_10_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("6_11_0","5_11_0",[["5_11_0",0.99],[U,0.01]],["---------&-"]));w.addEdge(new q("14_4_0","14_3_0",[["14_3_0",0.99],[U,0.01]],["---------&-","-&---------"]));w.addEdge(new q("14_4_0","15_4_0",[["15_4_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("14_4_0","13_4_0",[["13_4_0",0.99],[U,0.01]],["-&---------"]));w.addEdge(new q("6_12_0","6_14_0",[["6_14_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("6_12_0","6_11_0",[["6_11_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("6_12_0","5_12_0",[["5_12_0",0.99],[U,0.01]],[]));w.addEdge(new q("1_17_0","1_16_0",[["1_16_0",0.99],[U,0.01]],["-----&-----"]));w.addEdge(new q("7_10_0","end",[["end",0.99],[U,0.01]],[]));var K5={"2_8_0":["XX----------XXX","XX----------XXX","XX---XX-----XXX","XX-#-XXXX---XXX","XX-----XX------","XXXX---XX------","XXXX---XX-----#","XXXX--#XX---XXX","XXXX---XX---XXX","-------XX---XXX","&------XX---XXX"],"13_1_0":["----^^^^^^^^^^^","---------------","---------------","----------X----","----------X-&-&","----------XXXXX","-#--------X-*#*","----------X----","---------------","---------------","----^^^^^^^^^^^"],"1_5_0":["XX-------------","XX-------------","XX---XX--------","XX-#-XXXX------","XX-----XX------","XXXX---XX---&--","XXXX---XX------","XXXX--#XX------","XXXX---XX------","-------XX------","&------XX------"],"6_4_0":["--------X------","--------X------","X-------X---^--","XXX-----X---^--","-XX---------^--","-XX---------^--","-XX-----#-#-#-#","#XX--#---------","-XX------------","-XX-----XXXXXXX","-XX-----XXXXXXX"],"0_8_0":["XX--------XXX--","XX--------XXX--","XX---XX---XXX--","XX-#-XX---XXX--","XX--------XXX--","XXXX----XXXXXXX","XXXX----XXXXXXX","XXXX----XXXXXXX","XXXX----XXXXXXX","---------------","&----------&---"],"6_5_0":["------X--^^^^^^","------X----X--X","X-----X----X--X","XXX---X----X--X","-XX--------X--X","-XX--------X--X","-XX--------X--X","#XX---X----X--X","-XX---X----X--X","-XX---X--------","-XX---X--^^^^^^"],"17_5_0":["^^^^^^^^^^^^^^^","----X----------","-X--X-------X--","XX--X--XXX--XX-","XX--X--X*X--XXX","#*--X--X&---*#X","XX--X--X*X--XXX","XX--X--XXX--XX-","-X--X-------X--","---------------","^^^^^^^^^^^^^^^"],"4_0_0":["---------------","---------------","---------------","---X--------#--","---X-----------","XXXX-----------","#*-X-----------","---X--#--------","---------#-----","---------------","---------------"],"12_3_0":["-----^^^^^^^^^^","---------------","X--------------","XXX-------X----","-XX-------X-&-&","-XX-------XXXXX","-XX-------X-*#*","#XX-------X----","-XX------------","-XX------------","-XX--^^^^^^^^^^"],"2_4_0":["-------------XX","-------------XX","X------------XX","XXX----------XX","-XX----------XX","-XX----------XX","-XX----------XX","#XX--#-------XX","-XX-----#----XX","-XX------------","-XX------------"],"2_6_0":["XX-------------","XX-------------","XX---XX--------","XX-#-XXXX-----X","XX-----XX-----X","XXXX---XX-----X","XXXX---XX-----X","XXXX--#XX-----X","XXXX---XX--#---","-------XX------","&------XX------"],"8_3_0":["----------^^^^^","---------------","X-----------X--","XXX---------XX-","-XX---------XXX","-XX---------*#X","-XX---------XXX","#XX--#------XX-","-XX---------X--","-XX------------","-XX-------^^^^^"],"15_1_0":["-^^^^^^^^^^^^^^","---------------","---------------","----------X----","----------X-&-&","----------XXXXX","----------X-*#*","----------X----","---------------","---------------","-^^^^^^^^^^^^^^"],"11_3_0":["------^^^^^^^^^","---------------","X--------------","XXX-------X----","-XX-------X-&-&","-XX-------XXXXX","-XX-------X-*#*","#XX-------X----","-XX------------","-XX------------","-XX---^^^^^^^^^"],"2_1_0":["-----------XX--","---------------","---------------","---X-----------","---X-----------","XXXX-----------","#*-X-----------","---X--#--------","---------------","---------------","-----------XX--"],"13_3_0":["----^^^^^^^^^^^","------*#X--X--X","------XXX--X--X","------XX---X--X","------X----X--X","------X----X-#X","-#----X----X--X","------X----X--X","------X----X--X","---------------","----^^^^^^^^^^^"],"4_6_0":["XX----------^^^","XX-------------","XX---XX--------","XX-#-XXXX-----X","XX-----XX-----X","XXXX---XX-----X","XXXX---XX-----X","XXXX--#XX-----X","XXXX---XX------","-------XX------","&------XX---^^^"],"4_3_0":["--------------X","--------------X","X-------------X","XXX-----------X","-XX-----------X","-XX--------#--X","-XX-----------X","#XX--#--------X","-XX-----#-----X","-XX------------","-XX--------*---"],"14_2_0":["---^^^^^^^^^^^^","---------------","--------------X","-----X-----X--X","-----X-&-&-X--X","-----XXXXXXX--*","-----X-*#*-X--X","-----X-----X--X","--------------X","---------------","---^^^^^^^^^^^^"],"1_4_0":["-------------XX","-------------XX","X------------XX","XXX----------XX","-XX----------XX","-XX----------XX","-XX----------XX","#XX--#-------XX","-XX----------XX","-XX------------","-XX------------"],"5_1_0":["---------------","---------------","---------------","---X----------X","---X---------^X","XXXX--------^^X","#*-X---------^X","---X--#-------X","---------#-----","---------------","---------------"],"3_12_0":["-----XXXXXXXXXX","-----XXXXXXXXXX","X----XXXXXXXXXX","XXX--XXXXXXXXXX","-XX----------#X","-XX-----------X","-XX----#--#----","#XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX"],"3_4_0":["------------XX-","------------XX-","X-----------XX-","XXX---------XX#","-XX---------XX-","-XX---------XX-","-XX---------XX-","#XX--#------XXX","-XX-----#-----X","-XX------------","-XX------------"],"4_4_0":["------------X--","---------------","X-----------X--","XXX---------XX-","-XX---------XXX","-XX---------*#X","-XX---------XXX","#XX--#------XX-","-XX-----#---X--","-XX------------","-XX---------X--"],"8_4_0":["---------^^^^^^","-----------X--X","X----------X--X","XXX--------X--X","-XX--------X--X","-XX--------X-#X","-XX--------X--X","#XX--#-----X--X","-XX--------X--X","-XX------------","-XX------^^^^^^"],"6_3_0":["-----------^^^^","-------------X-","X------------X-","XXX----------X-","-XX----------X-","-XX----------X-","-XX----------X-","#XX--#-------X-","-XX-----#----X-","-XX------------","-XX--------^^^^"],"1_10_0":["XX---------XXXX","XX---------XXXX","XX---XX----XXXX","XX-#-XXXX--XXXX","XX-----XX--XXX-","XXXX---XX--XX--","XXXX---XX------","XXXX--#XX--XXXX","XXXX---XX--XXXX","-------XX--XXXX","&------XX--XXXX"],"5_3_0":["------------^^^","--------------X","X-------------X","XXX-----------X","-XX-----------X","-XX-----------X","-XX-----------X","#XX--#--------X","-XX-----#-----X","-XX------------","-XX---------^^^"],"3_5_0":["XX-------------","XX-------------","XX---XX-------&","XX-#-XXXX------","XX-----XX------","XXXX---XX--#---","XXXX---XX------","XXXX--#XX------","XXXX---XX------","-------XX------","&------XX--*---"],"13_0_0":["--^^^^^^^^^^^^^","---------------","---------------","-----------X---","-----------X-&-","-----------XXXX","-----------X-*#","-----------X---","---------------","---------------","--^^^^^^^^^^^^^"],"2_12_0":["------XXXXXXXXX","------XXXXXXXXX","X-----XXXXXXXXX","XXX---XXXXXXXXX","-XX-----#XXXXX-","-XX------XXXXX-","-XX-------*----","#XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX"],"17_4_0":["^^^^^^^^^^^^^^^","--X--X--X--X--X","--X--X--X--X--X","--X--X--X--X--X","--X--X--X--X--X","-#X-#X-#X-#X-#X","--X--X--X--X--X","--X--X--X--X--X","--X--X--X--X--X","---------------","^^^^^^^^^^^^^^^"],"8_2_0":["---------^^^^^^","--------------*","X--------------","XXX----------^^","-XX--------^^^^","-XX-----------&","-XX--------^^^^","#XX--#-------^^","-XX------------","-XX-----------*","-XX------^^^^^^"],"3_1_0":["------------XX-","---------------","---------------","---X-----------","---X-----------","XXXX-----------","#*-X-----------","---X--#--------","---------#-----","---------------","------------XX-"],"0_1_0":["---------------","------------X--","------------X--","------------X--","------------X--","-----------&X-&","------------X--","-*----------X--","------------X--","------------X--","------------X--"],"9_3_0":["--------^^^^^^^","---------------","X-----------X--","XXX---------XX-","-XX---------XXX","-XX---------*#X","-XX---------XXX","#XX--#------XX-","-XX---------X--","-XX------------","-XX-----^^^^^^^"],"0_4_0":["-------------XX","-------------XX","X------------XX","XXX----------XX","-XX----------XX","-XX----------XX","-XX----------XX","#XX----------XX","-XX----------XX","-XX------------","-XX------------"],"0_3_0":["---------------","------------X--","X-----------X--","XXX---------X--","-XX---------X--","-XX--------&X-&","-XX---------X--","#XX---------X--","-XX---------X--","-XX---------X--","-XX---------X--"],"1_2_0":["---------------","---------------","X--------------","XXX------------","-XX------------","-XX-----------&","-XX------------","#XX--#---------","-XX------------","-XX------------","-XX------------"],"2_3_0":["---------------","------------X--","X-----------X--","XXX---------X--","-XX---------X--","-XX--------&X-&","-XX---------X--","#XX--#------X--","-XX-----#---X--","-XX---------X--","-XX---------X--"],"7_7_0":["-*XXXXXXXXXXXXX","--XXXXXXX-----*","--XXXXXX-------","--XXXXX------^^","-----------^^^^","-#------------&","----#------^^^^","--XXXXX------^^","--XXXXXX-------","--XXXXXXX-----*","--XXXXXXXXXXXXX"],"13_2_0":["----^^^^^^^^^^^","---------------","-------------X-","--------XXX--XX","--------X*X--XX","--------X&---*#","--------X*X--XX","-*------XXX--XX","-------------X-","---------------","----^^^^^^^^^^^"],"0_2_0":["---------------","---------------","X--------------","XXX------------","-XX------------","-XX-----------&","-XX------------","#XX------------","-XX------------","-XX------------","-XX------------"],"4_5_0":["XX-------------","XX-------------","XX---XX--------","XX-#-XXXX-----#","XX-----XX------","XXXX---XX--#---","XXXX---XX------","XXXX--#XX------","XXXX---XX------","-------XX------","&------XX--*---"],"4_1_0":["------------XXX","---------------","---------------","---X-----------","---X----------^","XXXX-----------","#*-X----------^","---X--#--------","---------#-----","---------------","------------XXX"],"0_9_0":["XX---------XXXX","XX---------XXXX","XX---XX----XXXX","XX-#-XXXX--XXXX","XX-----XX--XXXX","XXXX---XX--XXXX","XXXX---XX--XXXX","XXXX---XX--XXXX","XXXX---XX------","-------XX------","&------XX--XXXX"],"3_2_0":["---------------","---------------","X--------------","XXX------------","-XX------------","-XX-----------&","-XX------------","#XX--#---------","-XX-----#--#---","-XX------------","-XX------------"],"6_2_0":["-------------&-","------------^^^","X-----------^^^","XXX---------^^^","-XX---------^^^","-XX---------^^^","-XX---------^^^","#XX--#------^^^","-XX-----#---^^^","-XX---------^^^","-XX----------*-"],"9_0_0":["------^^^^^^^^^","---------------","---------------","---X-----------","---X-----------","XXXX-----------","#*-X-----------","---X-----------","---------------","---------------","------^^^^^^^^^"],"8_0_0":["---------^^^^^^","---------------","---------------","---X-----------","---X-----------","XXXX-----------","#*-X-----------","---X--#--------","---------------","---------------","---------^^^^^^"],"5_8_0":["-----XXXXXX---&","-----XXXXXX--^^","X----XXXXXX--^^","XXX--XXXXXX--^^","-XX----*-----^^","-XX----------^^","-XX-----#----^^","#XX--XXXXXX--^^","-XX--XXXXXX--^^","-XX--XXXXXX--^^","-XX--XXXXXX---*"],"1_9_0":["XX---------XXXX","XX---------XXXX","XX---XX----XXXX","XX-#-XXXX--XXXX","XX-----XX--XXXX","XXXX---XX--XXXX","XXXX---XX--XXXX","XXXX--#XX--XXXX","XXXX---XX------","-------XX------","&------XX--XXXX"],"2_11_0":["XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX-#-","XX--XXX--XXX---","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","XXXXXXXXXX*XXX-","---------------","&----&----#----"],"0_5_0":["XX-------------","XX-------------","XX---XX--------","XX-#-XXXX------","XX-----XX------","XXXX---XX-----&","XXXX---XX------","XXXX---XX------","XXXX---XX------","-------XX------","&------XX------"],"14_1_0":["--^^^^^^^^^^^^^","---------------","---------------","----------X----","----------X-&-&","----------XXXXX","----------X-*#*","----------X----","---------------","---------------","--^^^^^^^^^^^^^"],"7_1_0":["----------^^^^^","---------------","---------------","---X----------X","---X----------X","XXXX----------X","#*-X----------X","---X--#-------X","---------------","---------------","----------^^^^^"],"1_16_0":["-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","----#XXXXXXXXXX","-----XXXXXXXXXX","------*--------","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX"],"14_0_0":["-^^^^^^^^^^^^^^","---------------","---------------","-----------X---","-----------X-&-","-----------XXXX","-----------X-*#","-----------X---","---------------","---------------","-^^^^^^^^^^^^^^"],"3_3_0":["---------------","-----------^---","X--------------","XXX--------^--X","-XX-----------X","-XX--------^--X","-XX-----------X","#XX--#-----^--X","-XX-----#-----X","-XX--------^--X","-XX-----------X"],"3_7_0":["XX----------X--","XX-------------","XX---XX-----X--","XX-#-XXXX---XX-","XX-----XX---XXX","XXXX---XX---*#X","XXXX---XX---XXX","XXXX--#XX---XX-","XXXX---XX---X--","-------XX------","&------XX---X--"],"1_13_0":["---XXXXXXXXXXXX","---XXXXXXXXXXXX","---XXXXXXXXXXXX","---XXXXXXXXXXXX","-----#XXXXXXX--","------XXXXXX---","-------*-------","---XXXXXXXXXXXX","---XXXXXXXXXXXX","---XXXXXXXXXXXX","---XXXXXXXXXXXX"],"12_0_0":["----^^^^^^^^^^^","---------------","---------------","-----------X---","-----------X-&-","-----------XXXX","-----------X-*#","-*---------X---","---------------","---------------","----^^^^^^^^^^^"],"5_10_0":["----XXXXXXXXXXX","----XXXXXXXXXXX","----XXXXXXXXXXX","----XXXXXXXXXXX","------*------*-","---------------","-#-----#--#---#","----XXXXXXXXXXX","----XXXXXXXXXXX","----XXXXXXXXXXX","----XXXXXXXXXXX"],"16_2_0":["^^^^^^^^^^^^^^^","---------------","---------------","--------X-----X","--------X-&-&-X","--------XXXXXXX","--------X-*#*-X","X-------X-----X","XX-------------","#X-------------","^^^^^^^^^^^^^^^"],"11_1_0":["------^^^^^^^^^","---------X--X--","---------X--X--","---------X--X--","---#-----X--X--","---------X-#X-#","---------X--X--","-*-------X--X--","---------X--X--","---------------","------^^^^^^^^^"],"0_10_0":["XX---------XXXX","XX---------XXXX","XX---XX----XXXX","XX-#-XXXX--XXXX","XX-----XX--XXX-","XXXX---XX--XX--","XXXX---XX------","XXXX---XX--XXXX","XXXX---XX--XXXX","-------XX--XXXX","&------XX--XXXX"],"7_2_0":["---------^^^^^^","---------------","X--------------","XXX------------","-XX------------","-XX------------","-XX------------","#XX--#---------","-XX------------","-XX------------","-XX------^^^^^^"],"4_10_0":["------XXXXXXXXX","------XXXXXXXXX","X-----XXXXXXXXX","XXX---XXXXXXXXX","-XX-----*---*--","-XX------------","-XX------#---#-","#XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX"],"1_1_0":["-----------XX--","---------------","---------------","---X-----------","---X-----------","XXXX-----------","#*-X-----------","---X-----------","---------------","---------------","-----------XX--"],"7_0_0":["-------------&-","------------^^^","------------^^^","---X--------^^^","---X--------^^^","XXXX--------^^^","#*-X--------^^^","---X--#-----^^^","---------#--^^^","------------^^^","-------------*-"],"5_5_0":["XX-----------&-","XX----------^^^","XX---XX-----^^^","XX-#-XXXX---^^^","XX-----XX---^^^","XXXX---XX---^^^","XXXX---XX---^^^","XXXX--#XX---^^^","XXXX---XX---^^^","-------XX---^^^","&------XX----*-"],"0_6_0":["XX-------------","XX----------X--","XX---XX-----X--","XX-#-XXXX---X--","XX-----XX---X--","XXXX---XX--&X-&","XXXX---XX---X--","XXXX---XX---X--","XXXX---XX---X--","-------XX---X--","&------XX---X--"],"4_7_0":["XX---------X---","XX---------X---","XX---XX----X--^","XX-#-XXXX--X--^","XX-----XX-----^","XXXX---XX-----^","XXXX---XX--#-#-","XXXX--#XX------","XXXX---XX------","-------XX--XXXX","&------XX--XXXX"],"1_3_0":["---------------","------------X--","X-----------X--","XXX---------X--","-XX---------X--","-XX--------&X-&","-XX---------X--","#XX--#------X--","-XX---------X--","-XX---------X--","-XX---------X--"],"6_6_0":["XX---------^^^^","XX-------------","XX---XX-------X","XX-#-XXXX-----X","XX-----XX-----X","XXXX---XX-----*","XXXX---XX-----X","XXXX--#XX-----X","XXXX---XX-----X","-------XX------","&------XX--^^^^"],"1_6_0":["XX-------------","XX----------X--","XX---XX-----X--","XX-#-XXXX---X--","XX-----XX---X--","XXXX---XX--&X-&","XXXX---XX---X--","XXXX--#XX---X--","XXXX---XX---X--","-------XX---X--","&------XX---X--"],"5_2_0":["---------------","---------------","X--------------","XXX-----------#","-XX------------","-XX--------#---","-XX------------","#XX--#---------","-XX-----#------","-XX------------","-XX--------*---"],"10_0_0":["------^^^^^^^^^","--------------*","---------------","---X---------^^","---X-------^^^^","XXXX----------&","#*-X-------^^^^","---X---------^^","---------------","--------------*","------^^^^^^^^^"],"3_0_0":["---------------","---------------","---------------","---X-----------","---X-----------","XXXX--------&--","#*-X-----------","---X--#--------","---------#-----","---------------","---------------"],"4_8_0":["--------XXXXXXX","--------XXXXXXX","X-------XXXXXXX","XXX-----XXXXXXX","-XX----------*-","-XX------------","-XX-------#---#","#XX--#--XXXXXXX","-XX-----XXXXXXX","-XX-----XXXXXXX","-XX-----XXXXXXX"],"7_3_0":["-----------^^^^","---------------","X--------------","XXX----------XX","-XX----------X*","-XX----------X&","-XX----------X*","#XX--#-------XX","-XX-----#------","-XX------------","-XX--------^^^^"],"15_0_0":["^^^^^^^^^^^^^^^","--------------*","---------------","-------------^^","-----------^^^^","--------------&","-----------^^^^","X------------^^","XX-------------","#X------------*","^^^^^^^^^^^^^^^"],"0_12_0":["--XXXXX--XXXXXX","--XXXXX--XXXXXX","--XXXXX--XXXXXX","--XXXXX--XXXXXX","---------XXXXXX","---------XXXXX-","---------------","--XXXXX--XXXXXX","--XXXXX--XXXXXX","--XXXXX--XXXXXX","--XXXXX--XXXXXX"],"12_1_0":["----^^^^^^^^^^^","---------X--X--","---------X--X--","---------X--X--","---------X--X--","---------X-#X-#","---------X--X--","-*-------X--X--","---------X--X--","---------------","----^^^^^^^^^^^"],"2_5_0":["XX-------------","XX-------------","XX---XX--------","XX-#-XXXX------","XX-----XX------","XXXX---XX-----&","XXXX---XX------","XXXX--#XX------","XXXX---XX--#---","-------XX------","&------XX------"],"4_2_0":["---------------","---------------","X--------------","XXX------------","-XX------------","-XX--------#---","-XX------------","#XX--#---------","-XX-----#------","-XX------------","-XX--------*---"],"2_9_0":["XX---------XXXX","XX---------XXXX","XX---XX----XXXX","XX-#-XXXX--XXXX","XX-----XX------","XXXX---XX------","XXXX---XX----#-","XXXX--#XX--XXXX","XXXX---XX--XXXX","-------XX--XXXX","&------XX--XXXX"],"5_7_0":["-----XXXXX---&-","-----XXXXX--^^^","X----XXXXX--^^^","XXX--XXXXX--^^^","-XX---------^^^","-XX---------^^^","-XX----#----^^^","#XX--XXXXX--^^^","-XX--XXXXX--^^^","-XX--XXXXX--^^^","-XX--XXXXX---*-"],"5_0_0":["---------------","---------------","---------------","---X--------#--","---X-----------","XXXX-----#-----","#*-X-----------","---X--#--------","---------------","---------------","---------*-----"],"15_2_0":["--^^^^^^^^^^^^^","---------------","--------------X","-----X-----X--X","-----X-&-&-X--X","-----XXXXXXX--*","-----X-*#*-X--X","-----X-----X--X","--------------X","---------------","--^^^^^^^^^^^^^"],"8_1_0":["----------^^^^^","------------X--","------------X--","---X--------X--","---X--------X--","XXXX--------X-#","#*-X--------X--","---X--#-----X--","------------X--","---------------","----------^^^^^"],"0_7_0":["XX-------------","XX-------------","XX---XX----XX--","XX-#-XX----XXXX","XX-----------XX","XXXX----XX---XX","XXXX----XX---XX","XXXX----XX---XX","XXXX----XX---XX","-------------XX","&------------XX"],"1_7_0":["XX-----------XX","XX-----------XX","XX---XX------XX","XX-#-XXXX----XX","XX-----XX----XX","XXXX---XX----XX","XXXX---XX----XX","XXXX--#XX----XX","XXXX---XX----XX","-------XX------","&------XX------"],"3_10_0":["-------XXXXXXXX","-------XXXXXXXX","X------XXXXXXXX","XXX----XXXXXXXX","-XX---------#XX","-XX----------XX","-XX------#----*","#XX----XXXXXXXX","-XX----XXXXXXXX","-XX----XXXXXXXX","-XX----XXXXXXXX"],"0_0_0":["---------XX----","---------------","---------------","---------------","---------------","---------------","-#-------------","---------------","---------------","---------------","---------XX----"],"10_3_0":["--------^^^^^^^","---------------","X--------------","XXX-------X----","-XX-------X-&-&","-XX-------XXXXX","-XX-------X-*#*","#XX--#----X----","-XX------------","-XX------------","-XX-----^^^^^^^"],"5_4_0":["---------X-----","---------X-----","X--------X---^-","XXX------X---^-","-XX----------^-","-XX----------^-","-XX------#-#-#-","#XX--#---------","-XX------------","-XX------XXXXXX","-XX------XXXXXX"],"2_2_0":["---------------","---------------","X--------------","XXX------------","-XX------------","-XX-----------&","-XX------------","#XX--#---------","-XX-----#------","-XX------------","-XX------------"],"3_9_0":["XX---------XXXX","XX---------XXXX","XX---XX----XXXX","XX-#-XXXX--XXXX","XX-----XX----*-","XXXX---XX------","XXXX---XX-----#","XXXX--#XX--XXXX","XXXX---XX--XXXX","-------XX--XXXX","&------XX--XXXX"],"6_0_0":["--------------&","-------------^^","-------------^^","---X---------^^","---X---------^^","XXXX---------^^","#*-X---------^^","---X--#------^^","---------#---^^","-------------^^","--------------*"],"5_6_0":["XX----------^^^","XX-------------","XX---XX-------X","XX-#-XXXX-----X","XX-----XX-----X","XXXX---XX-----*","XXXX---XX-----X","XXXX--#XX-----X","XXXX---XX-----X","-------XX------","&------XX---^^^"],"3_6_0":["XX------------X","XX------------X","XX---XX-------X","XX-#-XXXX-----X","XX-----XX-----X","XXXX---XX--#--X","XXXX---XX-----X","XXXX--#XX-----X","XXXX---XX-----X","-------XX------","&------XX--*---"],"2_7_0":["XX----------XX-","XX----------XX-","XX---XX-----XX-","XX-#-XXXX---XX#","XX-----XX---XX-","XXXX---XX---XX-","XXXX---XX---XX-","XXXX--#XX---XXX","XXXX---XX-----X","-------XX------","&------XX------"],"15_3_0":["--^^^^^^^^^^^^^","----*#X--X--X--","----XXX--X--X--","----XX---X--X--","----X----X--X--","----X----X-#X-#","----X----X--X--","----X----X--X--","----X----X--X--","---------------","--^^^^^^^^^^^^^"],"4_11_0":["------XXXXXXXXX","------XXXXXXXXX","X-----XXXXXXXXX","XXX---XXXXXXXXX","-XX-----*---#XX","-XX----------XX","-XX------#----*","#XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX"],"9_4_0":["-------^^^^^^^^","---------------","X-------------X","XXX------XXX--X","-XX------X*X--X","-XX------X&---*","-XX------X*X--X","#XX------XXX--X","-XX-----------X","-XX------------","-XX----^^^^^^^^"],"11_0_0":["------^^^^^^^^^","---------------","---------------","-----------X---","---#-------X-&-","-----------XXXX","-----------X-*#","-*---------X---","---------------","---------------","------^^^^^^^^^"],"5_9_0":["-*XXXXXXXXXXXXX","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","-------------^^","-#------------&","----#---#----^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXXXXXX"],"5_12_0":["-*XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","-------------*-","-#-----&-------","----#-----#---#","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"8_5_0":["------^^^^^^^^^","--------X--X--X","X-------X--X--X","XXX-----X--X--X","-XX-----X--X--X","-XX-----X--X--X","-XX-----X--X--X","#XX-----X--X--X","-XX-----X--X--X","-XX------------","-XX---^^^^^^^^^"],"1_11_0":["XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","XXXXXXXXXX*XXX-","---------------","&----&----#----"],"2_0_0":["---------------","---------------","---------------","---X-----------","---X-----------","XXXX----------&","#*-X-----------","---X--#--------","---------------","---------------","---------------"],"14_3_0":["--^^^^^^^^^^^^^","------*#X--X--X","------XXX--X--X","------XX---X--X","------X----X--X","------X----X-#X","------X----X--X","------X----X--X","------X----X--X","---------------","--^^^^^^^^^^^^^"],"7_8_0":["-*XXXXXXXXX---&","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","-------*-----^^","-#-----------^^","----#---#----^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX---*"],"3_8_0":["XX---------XXXX","XX---------XX--","XX---XX----XX--","XX-#-XXXX--XX--","XX-----XX------","XXXX---XX------","XXXX---XX------","XXXX--#XX--XX--","XXXX---XX--XX--","-------XX--XX*#","&------XX--XXXX"],"1_8_0":["XX----------XXX","XX----------XXX","XX---XX-----XXX","XX-#-XXXX---XXX","XX-----XX---XXX","XXXX---XX---XXX","XXXX---XX---XXX","XXXX--#XX---XXX","XXXX---XX------","-------XX------","&------XX---XXX"],"7_6_0":["XX---------^^^^","XX-------------","XX---XX------X-","XX-#-XXXX----XX","XX-----XX----XX","XXXX---XX----*#","XXXX---XX----XX","XXXX--#XX----XX","XXXX---XX----X-","-------XX------","&------XX--^^^^"],"1_12_0":["-----XXXXXXXXXX","-----XXXXXXXXXX","X----XXXXXXXXXX","XXX--XXXXXXXXXX","-XX----&--&--#X","-XX-----------X","-XX------------","#XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX"],"10_1_0":["------^^^^^^^^^","------------X--","------------X--","---X--------X--","---X--------X--","XXXX--------X-#","#*-X--------X--","---X--------X--","------------X--","---------------","------^^^^^^^^^"],"0_11_0":["XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","---------------","&----&----&----"],"16_3_0":["^^^^^^^^^^^^^^^","---------------","-------------X-","--------XXX--XX","--------X*X--XX","--------X&---*#","--------X*X--XX","X-------XXX--XX","XX-----------X-","#X-------------","^^^^^^^^^^^^^^^"],"9_2_0":["------^^^^^^^^^","--------------*","X--------------","XXX----------^^","-XX--------^^^^","-XX-----------&","-XX--------^^^^","#XX----------^^","-XX------------","-XX-----------*","-XX---^^^^^^^^^"],"3_13_0":["-*XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","-----#XXXX-----","-#----XXXX--&--","-------*-------","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"4_12_0":["-----XXXXXXXXXX","-----XXXXXXXXXX","X----XXXXXXXXXX","XXX--XXXXXXXXXX","-XX----*---#XXX","-XX---------XXX","-XX-----#----*-","#XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX"],"1_0_0":["---------------","---------------","---------------","---X-----------","---X-----------","XXXX----------&","#*-X-----------","---X-----------","---------------","---------------","---------------"],"7_4_0":["---------^^^^^^","-----------X--X","X----------X--X","XXX--------X--X","-XX--------X--X","-XX--------X--X","-XX--------X--X","#XX--#-----X--X","-XX--------X--X","-XX------------","-XX------^^^^^^"],"9_1_0":["------^^^^^^^^^","---------------","---------------","---X----------X","---X----------X","XXXX----------X","#*-X----------X","---X----------X","---------------","---------------","------^^^^^^^^^"],"4_9_0":["-------XXXXXXXX","-------XXXXXXXX","X------XXXXXXXX","XXX----XXXXXXXX","-XX------*---*-","-XX------------","-XX-------#---#","#XX----XXXXXXXX","-XX----XXXXXXXX","-XX----XXXXXXXX","-XX----XXXXXXXX"],"1_14_0":["--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","----#XXXXXXXX--","-----XXXXXXX---","------*--------","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"2_10_0":["-------XXXXXXXX","-------XXXXXXXX","X------XXXXXXXX","XXX----XXXXXXXX","-XX---------#XX","-XX------&---XX","-XX-----------*","#XX----XXXXXXXX","-XX----XXXXXXXX","-XX----XXXXXXXX","-XX----XXXXXXXX"],"8_7_0":["-*XXXXXXXXXXXXX","--XXXXXX-----*-","--XXXXXX-------","--XXXXXX----^^^","----------^^^^^","-#-----------&-","----#-----^^^^^","--XXXXXX----^^^","--XXXXXX-------","--XXXXXX-----*-","--XXXXXXXXXXXXX"],"11_2_0":["------^^^^^^^^^","---------X--X--","---------X--X--","---X-----X--X--","---X-----X--X--","XXXX-----X-#X-#","#*-X-----X--X--","---X-----X--X--","---------X--X--","---------------","------^^^^^^^^^"],"6_7_0":["-*XXXXXXXXXXXXX","--XX---&---XXXX","--XX--^^^--XXXX","--XX--^^^--XXXX","------^^^----*-","-#----^^^------","------^^^-----#","--XX--^^^--XXXX","--XX--^^^--XXXX","--XX---&---XXXX","--XXXXXXXXXXXXX"],"2_13_0":["-----XXXXXXXXXX","-----XXXXXXXXXX","X----XXXXXXXXXX","XXX--XXXXXXXXXX","-XX----#XXXXX--","-XX-----XXXXX--","-XX------*-----","#XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX"],"6_1_0":["------------^^^","--------------X","--------------X","---X-----------","---X-----------","XXXX-----------","#*-X-----------","---X--#--------","---------#-----","---------------","------------^^^"],"3_11_0":["------XXXXXXXXX","------XXXXXXXXX","X-----XXXXXXXXX","XXX---XXXXXXXXX","-XX--------#XXX","-XX---------XXX","-XX-----#----*-","#XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX"],"10_2_0":["-----^^^^^^^^^^","--------------*","X--------------","XXX----------^^","-XX--------^^^^","-XX-----------&","-XX--------^^^^","#XX----------^^","-XX------------","-XX-----------*","-XX--^^^^^^^^^^"],"17_2_0":["^^^^^^^^^^^^^^^","---------------","---------------","-----XXX--X----","-----X*X--X-&-&","-----X&---XXXXX","-----X*X--X-*#*","X----XXX--X----","XX-------------","#X-------------","^^^^^^^^^^^^^^^"],"16_4_0":["^^^^^^^^^^^^^^^","-----X--X--X--X","-----X--X--X--X","-----X--X--X--X","-----X--X--X--X","-----X-#X-#X-#X","-----X--X--X--X","X----X--X--X--X","XX---X--X--X--X","#X-------------","^^^^^^^^^^^^^^^"],"8_8_0":["-*XXXXXXXXXXXXX","--XXXXXXX-----*","--XXXXXXX------","--XXXXXXX----^^","----*------^^^^","-#------------&","-----#-----^^^^","--XXXXXXX----^^","--XXXXXXX------","--XXXXXXX-----*","--XXXXXXXXXXXXX"],"10_4_0":["------^^^^^^^^^","---------------","X-------------X","XXX------XXX--X","-XX------X*X--X","-XX------X&---*","-XX------X*X--X","#XX------XXX--X","-XX-----------X","-XX------------","-XX---^^^^^^^^^"],"0_14_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","-------&-------","---------------","----------*----","&-XXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"2_16_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","-------#XXXXXXX","--------XXXXXXX","----#----*-----","&-XXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"15_4_0":["^^^^^^^^^^^^^^^","-----X--X--X--X","-----X--X--X--X","-----X--X--X--X","-----X--X--X--X","-----X-#X-#X--X","-----X--X--X--X","X----X--X--X--X","XX---X--X--X--X","#X-------------","^^^^^^^^^^^^^^^"],"8_6_0":["-*XXXXXXXXXXXXX","--XXXXX-----*--","--XXXXX--------","--XXXXX----^^^-","---------^^^^^^","-#----------&--","----#----^^^^^^","--XXXXX----^^^-","--XXXXX--------","--XXXXX-----*--","--XXXXXXXXXXXXX"],"7_5_0":["------X--^^^^^^","------X----X--X","X-----X----X--X","XXX---X----X--X","-XX--------X--X","-XX--------X-#X","-XX--------X--X","#XX---X----X--X","-XX---X----X--X","-XX---X--------","-XX---X--^^^^^^"],"6_10_0":["-*XXXXXXXXXXXXX","--XXXXXXXXX----","--XXXXXXXXX--X-","--XXXXXXXXX--X-","-------*-----X-","-#-----------X-","----#---#----X-","--XXXXXXXXX--XX","--XXXXXXXXX--XX","--XXXXXXXXX-&*#","--XXXXXXXXXXXXX"],"6_8_0":["-*XXXXXXXX--^^^","--XXXXXXXX-----","--XXXXXXXX----X","--XXXXXXXX----X","--------------X","-#-----&------*","----#---------X","--XXXXXXXX----X","--XXXXXXXX----X","--XXXXXXXX-----","--XXXXXXXX--^^^"],"12_2_0":["------^^^^^^^^^","---------------","-------------X-","--------XXX--XX","---#----X*X--XX","--------X&---*#","--------X*X--XX","-*------XXX--XX","-------------X-","---------------","------^^^^^^^^^"],"4_13_0":["-*XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","----------#XXXX","-#-----&---XXXX","----#-------*--","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"17_3_0":["^^^^^^^^^^^^^^^","---------------","--------------X","-----X-----X--X","-----X-&-&-X--X","-----XXXXXXX--*","-----X-*#*-X--X","X----X-----X--X","XX------------X","#X-------------","^^^^^^^^^^^^^^^"],"3_14_0":["-*XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","-----#XXXXXXX--","-#----XXXXXX---","-------*-------","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"11_4_0":["------^^^^^^^^^","---------------","X--------------","XXX-----X-----X","-XX-----X-&-&-X","-XX-----XXXXXXX","-XX-----X-*#*-X","#XX-----X-----X","-XX------------","-XX------------","-XX---^^^^^^^^^"],"10_6_0":["XXX--^^^^^^^^^^","XXX-----X--X--X","XXX-----X--X--X","XXX-----X--X--X","XXX-----X--X--X","XXX-----X-#X-#X","XXX-----X--X--X","X-------X--X--X","--------X--X--X","-XX------------","XXX--^^^^^^^^^^"],"0_13_0":["-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXX-&-X","---------------","---------------","-------#-------","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX"],"11_5_0":["-----^^^^^^^^^^","--------X--X--X","X-------X--X--X","XXX-----X--X--X","-XX-----X--X--X","-XX-----X-#X-#X","-XX-----X--X--X","#XX-----X--X--X","-XX-----X--X--X","-XX------------","-XX--^^^^^^^^^^"],"8_9_0":["XXXXXXXX--^^^^^","XXXXXXXX-------","XXXXXXXX----X--","XXXXXXXX----XX-","----*-------XXX","------------*#X","-----#------XXX","&-XXXXXX----XX-","XXXXXXXX----X--","XXXXXXXX-------","XXXXXXXX--^^^^^"],"9_7_0":["XXXXXXXXXXXXXXX","----*-----XXXXX","----------XXXXX","---^^^----XXXXX","^^^^^^^^----*--","----&----------","^^^^^^^^-----#-","---^^^----XXXXX","----------XXXXX","----*-----XXXXX","XXXXXXXXXXXXXXX"],"2_14_0":["--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","-------#XXXXXXX","--------XXXXXX-","----#----*-----","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"9_5_0":["------^^^^^^^^^","--------X--X--X","X-------X--X--X","XXX-----X--X--X","-XX-----X--X--X","-XX-----X-#X--X","-XX-----X--X--X","#XX-----X--X--X","-XX-----X--X--X","-XX------------","-XX---^^^^^^^^^"],"12_5_0":["-----^^^^^^^^^^","---------------","X-----------X--","XXX----XXX--XX-","-XX----X*X--XXX","-XX----X&---*#X","-XX----X*X--XXX","#XX----XXX--XX-","-XX---------X--","-XX------------","-XX--^^^^^^^^^^"],"10_5_0":["------^^^^^^^^^","--------X--X--X","X-------X--X--X","XXX-----X--X--X","-XX-----X--X--X","-XX-----X-#X-#X","-XX-----X--X--X","#XX-----X--X--X","-XX-----X--X--X","-XX------------","-XX---^^^^^^^^^"],"1_15_0":["--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","----#XXXXXXXXXX","-----XXXXXXXXXX","------*--------","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"12_4_0":["-----^^^^^^^^^^","---------------","X--------------","XXX-----X-----X","-XX-----X-&-&-X","-XX-----XXXXXXX","-XX-----X-*#*-X","#XX-----X-----X","-XX------------","-XX------------","-XX--^^^^^^^^^^"],"3_16_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","----#XXXX--#XXX","-----XXXX---XXX","------*------*-","&-XXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"9_6_0":["XXXXXXXXXXXXXXX","-----*-----XXXX","-----------XXXX","----^^^----XXXX","^^^^^^^^^------","-----&---------","^^^^^^^^^----#-","----^^^----XXXX","-----------XXXX","-----*-----XXXX","XXXXXXXXXXXXXXX"],"2_15_0":["-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-------#XXXXXXX","--------XXXXXX-","----#----*-----","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX"],"4_16_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","---*---#XXXXXXX","--------XXXXXX-","#---#----*-----","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"7_9_0":["XXXXXXXX--^^^^^","XXXXXXXX-------","XXXXXXXX----X--","XXXXXXXX----XX-","------------XXX","------------*#X","----#-------XXX","&-XXXXXX----XX-","XXXXXXXX----X--","XXXXXXXX-------","XXXXXXXX--^^^^^"],"5_14_0":["-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","---*---*---#XXX","------------XXX","----#---#----*-","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX"],"5_13_0":["-*XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","----*------#XXX","-#------&---XXX","-----#-------*-","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"4_14_0":["-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","---*---#XXXX--#","--------XXXX---","----#----*-----","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX"],"10_7_0":["^^^^^^^^^--XXXX","-----------XXXX","-X---------XXXX","XX--XXX----XXXX","XX--X*X----XXX-","#*--X&-----XX--","XX--X*X--------","XX--XXX----XXXX","-X---------XXXX","-----------XXXX","^^^^^^^^^--XXXX"],"4_15_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","-------*---#XXX","------------XXX","----#---#----*-","&-XXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"5_11_0":["-*XXXXXXXXXXXXX","--XXXXXXXXX*&XX","--XXXXXXXXX--XX","--XXXXXXXXX--XX","-------*-------","-#-------------","----#---#------","--XXXXXXXXX--XX","--XXXXXXXXX--XX","--XXXXXXXXX--XX","--XXXXXXXXXXXXX"],"16_1_0":["^^^^^^^^^^^^^^^","---------------","---------------","----------X----","----------X-&-&","----------XXXXX","----------X-*#*","X---------X----","XX-------------","#X-------------","^^^^^^^^^^^^^^^"],"11_6_0":["XXX--^^^^^^^^^^","XXX------------","XXX---------X--","XXX----XXX--XX-","XXX----X*X--XXX","XXX----X&---*#X","XXX----X*X--XXX","XXX----XXX--XX-","XXX---------X--","---------------","XXX--^^^^^^^^^^"],"18_2_0":["^^^^^^^^^^^^^^^","---------------","---------------","-X-----X--X----","-X-&-&-X--X-&-&","-XXXXXXX--XXXXX","-X-*#*-X--X-*#*","-X-----X--X----","---------------","---------------","^^^^^^^^^^^^^^^"],"12_6_0":["^^^^^^^^^--XXXX","-----------XXXX","-X---------XXXX","XX--XXX----XXXX","XX--X*X------*-","#*--X&---------","XX--X*X-------#","XX--XXX----XXXX","-X---------XXXX","-----------XXXX","^^^^^^^^^--XXXX"],"6_9_0":["-*XXXXXXXXXXXXX","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","-------*-----^^","-#------------&","----#---#----^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXXXXXX"],"3_15_0":["-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","---*---#XXXXXXX","--------XXXXXX-","----#----*-----","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX"],"7_10_0":["XXXXXXXXXXXXXXX","------XXXXXXXXX","------XXXXXXXXX","------XXXXXXXXX","^^^^----*------","------------#--","^^^^-----#----*","------XXXXXXXXX","------XXXXXXXXX","------XXXXXXXXX","XXXXXXXXXXXXXXX"],"6_15_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","---*---*---#XXX","------------XXX","#---#---#----*-","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"5_15_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","---*------#XXXX","-----------XXXX","#---#--#----*--","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"18_3_0":["^^^^^^^^^^^^^^^","---------------","-X-------------","XX---XXX--X----","XX---X*X--X-&-&","#*---X&---XXXXX","XX---X*X--X-*#*","XX---XXX--X----","-X-------------","---------------","^^^^^^^^^^^^^^^"],"13_4_0":["---^^^^^^^^^^^^","-----X--X--X--X","-----X--X--X--X","X----X--X--X--X","X----X--X--X--X","X----X-#X-#X-#X","X----X--X--X--X","X----X--X--X--X","-----X--X--X--X","---------------","---^^^^^^^^^^^^"],"6_14_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","---*---------*-","---------------","#---#--#--#---#","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"6_11_0":["-*XXXXXXXXXXXXX","--XXXXXXXXXX*&X","--XXXXXXXXXX--X","--XXXXXXXXXX--X","----*---*------","-#-------------","-----#---#-----","--XXXXXXXXXX--X","--XXXXXXXXXX--X","--XXXXXXXXXX--X","--XXXXXXXXXXXXX"],"14_4_0":["^^^^^^^^^^^^^^^","-X---------X--X","-X---------X--X","-X--X--X---X--X","-X--X--X---X--X","-X--XXXX---X--X","-X--X--X---X--X","-X--X--X---X--X","-X---------X--X","-#-------------","^^^^^^^^^^^^^^^"],"6_12_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXX----","XXXXXXXXXXX--X-","XXXXXXXXXXX--X-","---*---*-----X-","-------------X-","#---#---#----X-","XXXXXXXXXXX--XX","XXXXXXXXXXX--XX","XXXXXXXXXXX-&*#","XXXXXXXXXXXXXXX"],"1_17_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","X---#XXXXXXXXXX","-----XXXXXXXXXX","------*--------","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],end:["","","","","","","","","","",""]};class B9{playerIsOnLastLevel=!1;keys=[];columnsPerLevel=[];lossesInARow=0;playerWonLastRound=!1;levelsPlayed=0;optimizeDifficulty;type;constructor(Z){if(Z===void 0)if(new URLSearchParams(window.location.search).has("default"))this.type=p8;else this.type=V1([T8,K8,m2,A8,p8]);else this.type=Z;if(console.log(`Director: ${this.type}`),M.director=this.type,this.type==K8)this.optimizeDifficulty=!0;else this.optimizeDifficulty=!1;for(let Q in w.nodes)w.nodes[Q].updateReward(this.optimizeDifficulty)}update(Z,Q){if(++this.levelsPlayed,console.log(this.levelsPlayed,this.type),this.levelsPlayed%pZ==0&&this.type==A8){console.log("switch!"),this.optimizeDifficulty=!this.optimizeDifficulty;for(let z in w.nodes)w.nodes[z].updateReward(this.optimizeDifficulty)}let J=this.keys.length,$=[];if(Z){this.lossesInARow=0;for(let z=0;z<J;++z)$.push(1)}else{let z=Q;for(let B=0;B<J;++B)if(z>this.columnsPerLevel[B])$[B]=1,z-=this.columnsPerLevel[B];else{$[B]=z/this.columnsPerLevel[B];break}}let V=$.length;for(let z=0;z<V;++z){let B=$[z],x=this.keys[z],j=w.getNode(x);if(B===1&&x!=="end"){if(!w.hasEdge(l0,x))console.log(`'adding edge: ${l0} -> ${x}`),w.addEdge(new q(l0,x,[[x,1],[U,0]],[]))}++j.visitedCount,j.sumPercentCompleted+=B,j.updateReward(this.optimizeDifficulty);let R=j.sumPercentCompleted/j.visitedCount,H=1-R;w.mapEdges((f)=>{if(f.tgt===x)f.probability[0][1]=R,f.probability[1][1]=H})}if(!Z){++this.lossesInARow;for(let z=0;z<this.lossesInARow;++z){let B=w.getNode(l0).neighbors,x=B.length;if(x===1)break;let j="",R=1e4,H=0;for(let f=0;f<x;++f){let K=B[f];if(K==="0_0_0")continue;let l=w.getNode(K),_=l.depth;if(_<R||_===R&&H<l.difficulty)j=K,R=_,H=l.difficulty}console.log("removing edge:",j,R,H),w.removeEdge(l0,j)}}this.playerWonLastRound=Z}get(Z){let Q;if(this.type==T8)Q=q9(w);else Q=U9(w,0.95,!0,!0,20);if(this.columnsPerLevel=[],this.playerWonLastRound){let z=V1(Q[l0]);if(z==="end")this.keys=[l0];else this.keys=[z]}else this.keys=[l0];for(let z=0;z<Z;++z){let B=V1(Q[this.keys[z]]);if(this.keys.push(B),B===b6)break}this.keys.splice(0,1),this.playerIsOnLastLevel=this.keys.includes(b6);let J,$=new Array(A1).fill(""),V=this.keys.length;for(let z=0;z<V;++z){let B=K5[this.keys[z]].slice();if(z>0){let j=w.getEdge(this.keys[z-1],this.keys[z]).link,R=j.length;if(R>0)for(let H=0;H<R;++H){let f=j[H];for(J=0;J<A1;++J)B[J]=f[J]+B[J]}}this.columnsPerLevel.push(B[0].length);for(J=0;J<A1;++J)$[J]+=B[J]}return console.log($.join(`
`)),$}}class h9 extends g1{playerBeatGameIndex=0;playerWonIndex=0;playerLostIndex=0;selfIndex=0;mainMenuIndex=0;director;start=0;constructor(){super();this.director=new B9(void 0),this.setBB("game over",0),this.setBB("restart",!1)}onEnter(Z){let z=1000,B=0,x=1000,j=0,R=new B1.GridCollisions,H=0,f=this.director.get(2),l=f[0].length+4;for(let _=0;_<A1;++_){let P=[...`--${f[_]}--`];if(_==0)P[0]="@";else if(_==A1-1)P[l-1]="O";for(let u=0;u<l;++u){let m=P[u],g=this.addEntity(),E=8+u,x0=7+_;if(z=Math.min(z,E),B=Math.max(B,E),x=Math.min(x,x0),j=Math.max(j,x0),m=="-")continue;this.addComponent(g,new D.Render(m));let P0=new s.Position2d(E,x0);if(this.addComponent(g,P0),R.set(P0,g),m=="O")this.addComponent(g,new D.Portal),this.setBB("portal id",g);else if(m=="@")this.addComponent(g,new D.Player(M0,0)),this.addComponent(g,new D.Movable),this.setBB("player id",g);else if(m=="*")this.addComponent(g,new D.Switch),H+=1;else if(m=="#")this.addComponent(g,new D.Movable),this.addComponent(g,new D.Enemy("Enemy",new s.Position2d(E,x0))),this.addComponent(g,new D.Territory(P0));else if(m=="^")this.addComponent(g,new D.Enemy("Spike",new s.Position2d(E,x0)));else if(m=="/"||m=="\\"||m=="X")this.addComponent(g,new D0);else if(m=="&")this.addComponent(g,new D.Food)}}for(let _=3;_<Z.height/20-1;++_)for(let P=1;P<Z.width/20-1;++P)if(P<z||P>B||_<x||_>j){let u=this.addEntity();this.addComponent(u,new D.Render("X"));let m=new s.Position2d(P,_);if(this.addComponent(u,m),P==z-1||_==x-1||P==B+1||_==j+1)R.set(m,u),this.addComponent(u,new D.Collider)}this.setBB("switch count",H),this.setBB("offset x",8),this.setBB("offset y",7),this.setBB("x mod",20),this.setBB("y mod",20),this.setBB("grid collisions",R),this.setBB("time step",0),this.addSystem(0,new $1.PlayerMovement),this.addSystem(10,new $1.PlayerCollision),this.addSystem(20,new $1.EnemyAI),this.addSystem(90,new $1.PortalSystem),this.addSystem(95,new $1.RenderEnemyTerritory),this.addSystem(100,new $1.RenderSystem),this.addSystem(110,new $1.RenderGameInfo),this.addSystem(900,new $1.UpdatePlayerTurn),M.diedFrom="",M.playerWon=!1,M.levels=this.director.keys,this.start=Date.now()}onExit(Z){let Q=this.getBB("game over"),J=this.getBB("player id"),$=this.getComponents(J).get(f0).furthestColumn;this.director.update(Q===1,$),++M.order,M.playerPathX.length=0,M.playerPathY.length=0,this.clear()}customUpdate(Z){let Q=this.getBB("game over");if(Q===-1||Q===1){let $=(Date.now()-this.start)/1000;if(M.time=$,K0.submitAttempt(),Q===1)if(this.director.keys.includes("end"))return this.playerBeatGameIndex;else return this.playerWonIndex;return this.playerLostIndex}return-1}}class x9 extends A0{gameSceneIndex=0;surveySceneIndex=0;timer=0;constructor(){super()}onEnter(Z){this.timer=0}onExit(Z){}update(Z){if(performance.now()-r2>i2)return this.surveySceneIndex;if(this.timer+=Z.delta,this.timer>2||Z.keyDown.has(12))return this.gameSceneIndex;else return Z.setFont(40),Z.drawText(360,240,"You lost! :/","red"),-1}}class F9 extends A0{gameSceneIndex=0;surveySceneIndex=0;timer=0;constructor(){super()}onEnter(Z){this.timer=0}onExit(Z){}update(Z){if(performance.now()-r2>i2)return this.surveySceneIndex;if(this.timer+=Z.delta,this.timer>2||Z.keyDown.has(12))return B1.Cookie.set(Z.getBB("level"),"b"),this.gameSceneIndex;else return Z.setFont(40),Z.drawText(420,240,"You won!","green"),-1}}class j9 extends A0{sceneIndex=0;gameIndex=0;tutorialIndex=0;surveyIndex=0;timer=0;constructor(){super()}onEnter(Z){}onExit(Z){}update(Z){if(Z.keyDown.has(12)){if(Z.keyDown.clear(),q1.get("completed tutorial"))return this.gameIndex;return this.tutorialIndex}else return Z.setFont(40),Z.drawText(360,100,"DungeonGrams"),Z.setFont(20),Z.drawText(385,150,"Press Enter to Start"),Z.drawText(250,200,"& gives you stamina","yellow"),Z.drawText(250,222,"Collect all * to open the portal.","yellow"),Z.drawText(250,244,"Step through the portal O to win!","yellow"),Z.drawText(250,266,"But make sure to avoid the enemies # and traps ^","yellow"),Z.drawText(250,350,"WASD or Arrows to move","#19f00a"),Z.drawText(250,375,"Space to do nothing for a turn","#19f00a"),-1}}class R9 extends g1{gameSceneIndex=0;constructor(){super();this.setBB("x mod",20),this.setBB("y mod",20),this.setBB("turn",0),this.setBB("tutorial over",!1),this.setBB("time step",0);let Z=this.addEntity();this.setBB("player id",Z),this.addComponent(Z,new s.Position2d(25,10)),this.addComponent(Z,new K1),this.addComponent(Z,new f0(M0,0)),this.addComponent(Z,new N0("@"));let Q=this.addEntity();this.addComponent(Q,new s.Position2d(5,20)),this.addComponent(Q,new n0("Press 'A' to move left.")),this.addSystem(0,new j2(Z,Q)),this.addSystem(90,new R2),this.addSystem(100,new C8)}customUpdate(Z){if(this.getBB("tutorial over"))return console.log(this.gameSceneIndex,"done"),this.gameSceneIndex;return-1}onEnter(Z){}onExit(Z){}}class O9 extends A0{constructor(){super()}onEnter(Z){document.getElementById("game").style.display="none",document.getElementById("demographic").style.display="block",Z.shutoff()}onExit(Z){}update(Z){return-1}}class G9 extends A0{surveySceneIndex=0;timer=0;constructor(){super()}onEnter(Z){this.timer=0,K0.submitBeatGame()}onExit(Z){}update(Z){if(this.timer+=Z.delta,this.timer>2||Z.keyDown.has(12))return B1.Cookie.set(Z.getBB("level"),"b"),this.surveySceneIndex;return Z.setFont(40),Z.drawText(310,240,"You beat the game!","#19f00a"),-1}}var N1={Game:h9,PlayerLost:x9,PlayerWon:F9,StartMenu:j9,Tutorial:R9,Survey:O9,PlayerBeatGame:G9};var L1=["I liked the look and feel of the game.","The game was not too easy and not too hard to play.","It was easy to know how to perform actions in the game.","The goals of the game were clear to me.","The game gave clear feedback on my progress towards the goals.","I felt free to play the game in my own way.","I wanted to explore how the game evolved.","I was fully focused on the game.","I felt I was good at playing this game.","Playing the game was meaningful to me.","I had a good time playing this game."];function I9(Z){let Q=Z.length-1;for(;Q>0;--Q){let J=Math.floor(Math.random()*(Q+1)),$=Z[Q];Z[Q]=Z[J],Z[J]=$}}K0.init();if(location.hostname==="localhost"||location.hostname==="127.0.0.1"||location.hostname==="")M.playerID="-1";else{if(new URLSearchParams(window.location.search).has("id"))M.playerID=crypto.randomUUID();else M.playerID="-1";console.log(M.playerID)}console.log(`Player ID: ${M.playerID}`);var d0=new u2;d0.displayFPS=!1;var x6=new N1.StartMenu,z8=new N1.Game,S9=new N1.PlayerLost,N9=new N1.PlayerWon,T5=new N1.Tutorial,U3=new N1.Survey,p5=new N1.PlayerBeatGame,q3=d0.addScene(x6),I2=d0.addScene(z8),B3=d0.addScene(S9),h3=d0.addScene(N9),x3=d0.addScene(T5),F6=d0.addScene(U3),F3=d0.addScene(p5);x6.tutorialIndex=x3;x6.gameIndex=I2;x6.surveyIndex=F6;z8.playerBeatGameIndex=F3;z8.playerLostIndex=B3;z8.playerWonIndex=h3;z8.selfIndex=I2;z8.mainMenuIndex=q3;S9.gameSceneIndex=I2;S9.surveySceneIndex=F6;N9.gameSceneIndex=I2;N9.surveySceneIndex=F6;T5.gameSceneIndex=I2;p5.surveySceneIndex=F6;d0.start();I9(L1);I9(L1);var L9=document.getElementById("questionnaire"),u1=0;for(;u1<L1.length;++u1){let Z=L1[u1],Q=Z.split(" ").join("_"),J=`<fieldset id="${Q}" style="margin-left:15%; margin-right:15%">
  <label for="${Q}" required><b>${Z}</b></label>
    <br/>
    <br/>
    <table>
      <tr>
        <td></td>
        <td>-3</td>
        <td>-2</td>
        <td>-1</td>
        <td>&#20;0</td>
        <td>&#20;1</td>
        <td>&#20;2</td>
        <td>&#20;3</td>
        <td></td>
      </tr>
      <tr>
        <td>Strongly disagree</td>
        <td><input type="radio" name="${Q}" value="-3"/></td>
        <td><input type="radio" name="${Q}" value="-2"/></td>
        <td><input type="radio" name="${Q}" value="-1"/></td>
        <td><input type="radio" name="${Q}" value="0"/></td>
        <td><input type="radio" name="${Q}" value="1"/></td>
        <td><input type="radio" name="${Q}" value="2"/></td>
        <td><input type="radio" name="${Q}" value="3"/></td>
        <td>Strongly agree</td>
      </tr>
    </table>
  </fieldset>
  <br/>`;L9.innerHTML+=J}var y9=document.createElement("button");y9.type="submit";y9.innerText="Submit";L9.appendChild(y9);L9.onsubmit=(Z)=>{Z.preventDefault();let Q={};for(u1=0;u1<L1.length;++u1){let J=L1[u1],$=J.split(" ").join("_"),V=document.getElementsByName($),z=!1;for(let B=0;B<7;++B){let x=V[B];if(x.checked){Q[J]=Number(x.value),z=!0;break}}document.getElementById($).style.borderColor=z?"white":"red"}if(Object.keys(Q).length==L1.length)K0.submitSurvey(Q),document.getElementById("survey").style.display="none",document.getElementById("complete").style.display="block";else document.getElementById("errorText").innerText="Please fill in the whole questionnaire. Red boxes indicate missed answers."};var w8="demo-games",j3=document.getElementById("demo-submit"),A5=["demo-age","demo-time"];j3.onclick=()=>{let Z={};for(let $=0;$<A5.length;++$){let V=A5[$],z=document.getElementsByName(V);for(let B=0;B<z.length;++B)if(z[B].checked){Z[V]=z[B].value;break}if(V in Z)document.getElementById(V).style.borderColor="white";else document.getElementById(V).style.borderColor="red"}let Q=document.getElementsByName(w8),J=[];for(let $=0;$<Q.length;++$){let V=Q[$];if(V.checked)J.push(V.value)}if(J.length>0)Z[w8]=J,document.getElementById(w8).style.borderColor="white";else document.getElementById(w8).style.borderColor="red",document.getElementById("demoErrorText").innerText="Please fill in the whole questionnaire. Red boxes indicate missed answers.";if(Object.keys(Z).length===3)M.customData=Z,document.getElementById("demographic").style.display="none",document.getElementById("difficulty").style.display="block"};document.getElementById("demo-none").onclick=()=>{let Z=document.getElementsByName(w8);for(let Q=0;Q<Z.length;++Q)Z[Q].checked=Z[Q].value==="None of the above"};var k9=document.getElementsByName(w8);for(let Z=0;Z<k9.length;++Z)if(k9[Z].value!=="None of the above")k9[Z].onclick=()=>{document.getElementById("demo-none").checked=!1};document.getElementById("diff-submit").onclick=()=>{let Z=["difficulty","bored"],Q=!0;for(let J=0;J<Z.length;++J){let $=Z[J],V=document.getElementsByName(`${$}-answer`),z=!1;for(let B=0;B<V.length;++B)if(V[B].checked){M.customData[$]=Number(V[B].value),z=!0;break}if(!z)document.getElementById(`${$}-q`).style.borderColor="red",document.getElementById("difficultyErrorText").innerText="Please fill in the whole questionnaire. Red boxes indicate missed answers.",Q=!1;else document.getElementById(`${$}-q`).style.borderColor="white"}if(Q)console.log(M.customData),document.getElementById("difficulty").style.display="none",document.getElementById("survey").style.display="block"};document.getElementById("done").onclick=()=>{d0.shutoff(),document.getElementById("game").style.display="none",document.getElementById("demographic").style.display="block"};
