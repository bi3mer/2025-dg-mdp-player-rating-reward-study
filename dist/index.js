var a5=Object.defineProperty;var K6=(Z,Q)=>{for(var J in Q)a5(Z,J,{get:Q[J],enumerable:!0,configurable:!0,set:($)=>Q[J]=()=>$})};function l6(Z){switch(Z){case"Down":case"ArrowDown":return 2;case"Up":case"ArrowUp":return 3;case"Right":case"ArrowRight":return 1;case"Left":case"ArrowLeft":return 0;case" ":case"Space":return 10;case"Escape":return 11;case"a":case"A":return 5;case"s":case"S":return 6;case"d":case"D":return 7;case"w":case"W":return 4;case"r":case"R":return 9;case"q":case"Q":return 8;case"Enter":return 12;default:return console.warn(`Unhandled key: ${Z}.`),13}}class l8{keyDown=new Set;keyPress=new Set;width;height;delta;clearBackground=!0;displayFPS=!0;scenes=new Array;sceneIndex=0;ctx;blackBoard=new Map;fontSize=20;font="Courier New";running=!0;constructor(){window.addEventListener("keydown",(Q)=>{let J=l6(Q.key);if(J==2||J==3||J==0||J==1)Q.preventDefault();if(!this.keyDown.has(J))this.keyDown.add(J);this.keyPress.add(J)}),window.addEventListener("keyup",(Q)=>{let J=l6(Q.key);this.keyDown.delete(J)});let Z=document.getElementById("canvas");this.ctx=Z.getContext("2d"),this.setFont(),this.width=Z.width,this.height=Z.height,this.delta=0}isKeyDown(Z){return this.keyDown.has(Z)}setBB(Z,Q){this.blackBoard.set(Z,Q)}getBB(Z){return this.blackBoard.get(Z)}addScene(Z){return this.scenes.push(Z),this.scenes.length-1}start(){let Z,Q;this.scenes[this.sceneIndex].onEnter(this);let J=($)=>{if(this.delta=($-Z)/1000,Z=$,Q=Math.round(1/this.delta),this.clearBackground)this.ctx.fillStyle="black",this.ctx.fillRect(0,0,this.width,this.height);if(this.update(),this.displayFPS&&this.clearBackground){let V=this.fontSize,w=this.font;this.setFont(8,"Courier New"),this.drawText(this.width-60,15,`FPS: ${Q}`,"red"),this.setFont(V,w)}if(this.keyPress.clear(),this.running)window.requestAnimationFrame(J)};window.requestAnimationFrame(J)}update(){let Z=this.scenes[this.sceneIndex].update(this);if(Z!==-1)this.scenes[this.sceneIndex].onExit(this),this.sceneIndex=Z,this.scenes[this.sceneIndex].onEnter(this)}setFont(Z=void 0,Q=void 0){if(Z!=null)this.fontSize=Z;if(Q!=null)this.font=Q;this.ctx.font=`${this.fontSize}px ${this.font}`}drawRectOutline(Z,Q,J,$,V,w){this.ctx.lineWidth=V,this.ctx.strokeStyle=w,this.ctx.strokeRect(Z,Q,J,$)}drawRect(Z,Q,J,$,V){this.ctx.fillStyle=V,this.ctx.fillRect(Z,Q,J,$)}drawText(Z,Q,J,$="white",V=!1,w="white"){if(V){let q=this.ctx.measureText(J);this.drawRect(Z-1,Q-this.fontSize*0.7,q.width,this.fontSize-2,w)}this.ctx.fillStyle=$,this.ctx.fillText(J,Z,Q)}shutoff(){this.running=!1}}class Q0{}class p6{map=new Map;add(Z){this.map.set(Z.constructor,Z)}get(Z){return this.map.get(Z)}has(Z){return this.map.has(Z)}hasAll(Z){for(let Q of Z)if(!this.map.has(Q))return!1;return!0}delete(Z){this.map.delete(Z)}}class $0{ecs}class T0{}class m1 extends T0{entities=new Map;priorityToSystem=new Map;priorityToComponents=new Map;priorities=new Array;blackBoard=new Map;nextEntityID=0;entitiesToDestroy=new Array;update(Z){for(let Q of this.priorities){let J=this.priorityToSystem.get(Q),$=this.priorityToComponents.get(Q);J.update(Z,$)}while(this.entitiesToDestroy.length>0)this.destroyEntity(this.entitiesToDestroy.pop());return this.customUpdate(Z)}addEntity(){let Z=this.nextEntityID;return this.nextEntityID++,this.entities.set(Z,new p6),Z}removeEntity(Z){this.entitiesToDestroy.push(Z)}addComponent(Z,Q){this.entities.get(Z).add(Q),this.checkE(Z)}getComponents(Z){return this.entities.get(Z)}removeComponent(Z,Q){this.entities.get(Z)?.delete(Q),this.checkE(Z)}setBB(Z,Q){this.blackBoard.set(Z,Q)}getBB(Z){return this.blackBoard.get(Z)}addSystem(Z,Q){if(this.priorities.includes(Z)){alert("Fatal error. Check the console."),console.error(`${Q} can not be used since priority ${Z} already in use.`);return}Q.ecs=this,this.priorityToSystem.set(Z,Q),this.priorityToComponents.set(Z,new Set),this.priorities.push(Z),this.priorities.sort();for(let J of this.entities.keys())this.checkES(J,Z)}clear(){this.entities.clear(),this.priorityToComponents.clear(),this.priorityToSystem.clear(),this.blackBoard.clear(),this.priorities.length=0,this.nextEntityID=0}destroyEntity(Z){this.entities.delete(Z);for(let Q of this.priorities)this.priorityToComponents.get(Q)?.delete(Z)}checkE(Z){for(let Q of this.priorities)this.checkES(Z,Q)}checkES(Z,Q){let J=this.entities.get(Z),$=this.priorityToSystem.get(Q).componentsRequired;if(J.hasAll($))this.priorityToComponents.get(Q).add(Z);else this.priorityToComponents.get(Q).delete(Z)}}var D={};K6(D,{Position2d:()=>e});class e extends Q0{x;y;oldX;oldY;changed=!1;constructor(Z,Q){super();this.x=Z;this.y=Q;this.x=Z,this.y=Q,this.oldX=Z,this.oldY=Q}equals(Z){return this.x==Z.x&&this.y==Z.y}hash(){return(this.x+this.y)*(this.x+this.y+1)/2+this.y}oldHash(){return(this.oldX+this.oldY)*(this.oldX+this.oldY+1)/2+this.oldY}updated(){return this.changed}set(Z,Q){this.changed=!0,this.x=Z,this.y=Q}setPos(Z){this.changed=!0,this.x=Z.x,this.y=Z.y}setX(Z){this.changed=!0,this.x=Z}setY(Z){this.changed=!0,this.y=Z}getX(){return this.x}getY(){return this.y}acceptChange(){this.changed=!1,this.oldX=this.x,this.oldY=this.y}rejectChange(){this.changed=!1,this.x=this.oldX,this.y=this.oldY}euclideanDistance(Z){let Q=Math.pow(this.x-Z.x,2),J=Math.pow(this.y-Z.y,2);return Math.sqrt(Q+J)}add(Z){return new e(this.x+Z.x,this.y+Z.y)}}var n1={};K6(n1,{GridCollisions:()=>y2,Cookie:()=>W1});class y2{grid=new Map;get(Z){return this.grid.get(Z.hash())}set(Z,Q){let J=Z.hash();if(this.grid.has(J))return!1;return this.grid.set(J,Q),!0}remove(Z,Q){if(Q)this.grid.delete(Z.hash());else this.grid.delete(Z.oldHash())}acceptChange(Z,Q){this.grid.delete(Z.oldHash()),Z.acceptChange(),this.grid.set(Z.hash(),Q)}}var W1={};K6(W1,{set:()=>ZJ,get:()=>QJ});function ZJ(Z,Q){let J=new Date;J.setTime(J.getTime()+2678400000),document.cookie=Z+"="+Q+"; expires="+J.toUTCString()+"; path=/"}function QJ(Z){let J=("; "+document.cookie).split("; "+Z+"=");if(J!=null&&J.length==2)return J.pop().split(";").shift();return}class m0 extends Q0{constructor(){super()}}class H1 extends Q0{constructor(){super()}}class H0 extends Q0{stamina;furthestColumn;constructor(Z,Q){super();this.stamina=Z;this.furthestColumn=Q}}class g1 extends Q0{constructor(){super()}}class S0 extends Q0{character;constructor(Z){super();this.character=Z}}class T6 extends Q0{constructor(){super()}}class x1 extends Q0{type;startPosition;constructor(Z,Q){super();this.type=Z;this.startPosition=Q}}class A6 extends Q0{constructor(){super()}}var Y1=11,A0=40,jZ=30,t0=-1,RZ=1,p8=0,v2=8,_6=7,d0=3;var M0="start",W="death",P6="end",GZ="#FF000022",IZ="#FF440011",M6="random",OZ="enjoyment",i6="difficulty",T8="both",kZ=3,r3=performance.now();class f2 extends Q0{territory;constructor(Z){super();this.territory=[];for(let Q=-d0;Q<=d0;++Q)for(let J=-d0;J<=d0;++J){let $=new D.Position2d(J+Z.getX(),Q+Z.getY());if(Z.euclideanDistance($)<=d0)this.territory.push($)}}}var g={Collider:m0,Enemy:x1,Movable:H1,Player:H0,Portal:g1,Render:S0,Switch:T6,Food:A6,Territory:f2,VisibleText:Text};class r{static playerID="-1";static playerWon=!1;static order=0;static staminaLeft=0;static time=0;static levels=[];static diedFrom="Stamina";static playerGaveUp=!1;static gamesPlayed=0;static director="-1";static version="0.0.1"}class H2 extends $0{componentsRequired=new Set([D.Position2d,g.Enemy,g.Movable]);constructor(){super()}update(Z,Q){if(this.ecs.getBB("time step")%3!=0)return;let J=this.ecs.getBB("player id"),$=this.ecs.getComponents(J),V=$.get(D.Position2d),w=this.ecs.getBB("grid collisions");Z:for(let h of Q){let j=this.ecs.getComponents(h),R=j.get(D.Position2d),f=j.get(x1).startPosition,Y,K=f.euclideanDistance(V),P=R.euclideanDistance(f);if(K<=d0&&P<=d0)Y=V;else Y=f;let A=this.getMoves(R,Y),_=A.length;for(let M=0;M<_;++M){let u=R.add(A[M]);if(u.equals(V)){r.staminaLeft=$.get(H0).stamina,r.diedFrom=j.get(x1).type,this.ecs.setBB("game over",t0);break Z}else if(w.get(u)===void 0){R.setPos(u),w.acceptChange(R,h);break}}}let q=this.ecs.getBB("time step");this.ecs.setBB("time step",q+1)}getMoves(Z,Q){let J=new Array,$=Z.getY()-_6,V=Z.getX()-v2,w=Q.getY()-$-_6,q=Q.getX()-V-v2;if(w==0&&q==0)return J;if(Math.abs(w)>Math.abs(q)){if(w!==0)J.push(new D.Position2d(0,Math.sign(w)));if(q!==0)J.push(new D.Position2d(Math.sign(q),0))}else if(Math.abs(q)>Math.abs(w)){if(q!==0)J.push(new D.Position2d(Math.sign(q),0));if(w!==0)J.push(new D.Position2d(0,Math.sign(w)))}else if((V+$)%2==0){if(w!==0)J.push(new D.Position2d(0,Math.sign(w)));if(q!==0)J.push(new D.Position2d(Math.sign(q),0))}else{if(q!==0)J.push(new D.Position2d(Math.sign(q),0));if(w!==0)J.push(new D.Position2d(0,Math.sign(w)))}return J}}class Y2 extends $0{componentsRequired=new Set([]);update(Z,Q){let J=this.ecs.getBB("player id"),$=this.ecs.getComponents(J),V=$.get(D.Position2d);if(!V.updated())return;let w=$.get(g.Player);if(w.stamina<=0)r.diedFrom="Stamina",r.staminaLeft=0,this.ecs.setBB("game over",t0);let q=this.ecs.getBB("grid collisions"),h=q.get(V);if(h==null){q.acceptChange(V,J);return}let j=this.ecs.getComponents(h);if(j.has(g.Switch)){let R=this.ecs.getBB("switch count")-1;this.ecs.setBB("switch count",R),this.ecs.removeEntity(h),q.acceptChange(V,J);return}if(j.has(g.Enemy)){r.diedFrom=j.get(g.Enemy).type,r.staminaLeft=w.stamina,this.ecs.setBB("game over",t0);return}if(j.has(g.Portal)){if(this.ecs.getBB("switch count")==0)r.diedFrom="",r.playerWon=!0,r.staminaLeft=w.stamina,this.ecs.setBB("game over",RZ);else V.rejectChange();return}if(j.has(g.Food)){w.stamina=Math.min(w.stamina+jZ,A0),this.ecs.removeEntity(h),q.acceptChange(V,J),this.ecs.setBB("game over",p8);return}V.rejectChange()}}class K2 extends $0{componentsRequired=new Set([e,S0,H0]);updateTimeStep(){let Z=this.ecs.getBB("time step");this.ecs.setBB("time step",Z+1)}update(Z,Q){let J=Q.values().next().value,$=this.ecs.getComponents(J),V=$.get(H0),w=$.get(e),q=w.getX(),h=w.getY();for(let j of Z.keyPress){let R=!1;switch(j){case 5:case 0:this.updateTimeStep(),R=!0,V.stamina-=1,w.setX(q-1);break;case 6:case 2:this.updateTimeStep(),R=!0,w.setY(h+1),V.stamina-=1;break;case 7:case 1:this.updateTimeStep(),R=!0,w.setX(q+1),V.stamina-=1;break;case 4:case 3:this.updateTimeStep(),R=!0,w.setY(h-1),V.stamina-=1;break;case 10:if(this.updateTimeStep(),V.stamina-=1,R=!0,V.stamina<=0)r.diedFrom="Stamina",this.ecs.setBB("game over",t0);break}if(R){V.furthestColumn=Math.max(V.furthestColumn,w.getX()-v2);break}}}}class u6 extends $0{componentsRequired=new Set([g.Portal,g.Render]);update(Z,Q){let[J]=Q;if(this.ecs.getBB("switch count")==0)this.ecs.getComponents(J).get(g.Render).character="O";else this.ecs.getComponents(J).get(g.Render).character="o"}}class l2 extends $0{componentsRequired=new Set([g.Player]);update(Z,Q){let[J]=Q,$=this.ecs.getComponents(J).get(g.Player).stamina,V;if($>20)V="green";else if($>10)V="#8B8000";else V="red";Z.drawRect(20,20,$*8,20,V);let w=A0*8;Z.drawRectOutline(19,18,w+2,22,2,"gray"),Z.drawText(A0*4,35,`${$}`,"white");let q=this.ecs.getBB("time step"),h=q<10?890:875;Z.drawText(h,30,`Turn: ${q}`)}}class p2 extends $0{componentsRequired=new Set([D.Position2d,g.Render]);charToColor={"@":"white","-":"#d9d1d0",X:"#636363","*":"#0ccef0","\\":"#c300d1","/":"#c300d1",o:"#414d42",O:"#19f00a","#":"red","^":"#f0cd0a","&":"#259c2b"};update(Z,Q){let J=this.ecs.getBB("x mod"),$=this.ecs.getBB("y mod");Z.setFont(20);for(let V of Q.values()){let w=this.ecs.getComponents(V),q=w.get(g.Render),h=w.get(D.Position2d),j=q.character,R=this.charToColor[j];Z.drawText(h.getX()*J,h.getY()*$,j,R)}}}class C6 extends $0{componentsRequired=new Set([]);update(Z,Q){this.ecs.setBB("player turn",!0)}}class T2 extends $0{componentsRequired=new Set([g.Territory]);update(Z,Q){let J=(this.ecs.getBB("time step")+1)%3===0?GZ:IZ,$=this.ecs.getBB("x mod"),V=this.ecs.getBB("y mod"),w=this.ecs.getBB("player id"),q=this.ecs.getComponents(w).get(D.Position2d);for(let h of Q.values()){let j=this.ecs.getComponents(h);if(j.get(D.Position2d).euclideanDistance(q)>4)continue;let R=j.get(g.Territory).territory,f=R.length;for(let Y=0;Y<f;++Y){let K=R[Y];Z.drawText(K.getX()*$,K.getY()*V," ","#000000",!0,J)}}}}class n0 extends Q0{text;constructor(Z){super();this.text=Z}}class A2 extends $0{componentsRequired=new Set([]);steps=[];index=0;playerID;textID;constructor(Z,Q){super();let J=new y2;this.playerID=Z,this.textID=Q,this.steps.push(["Press 'A' to move your character, the '@' symbol, left.",(R,f)=>{if(R.isKeyDown(5)||R.isKeyDown(0)){let Y=this.ecs.getComponents(f).get(e);return Y.setX(Y.getX()-1),!0}return!1}]),this.steps.push(["Press 'D' to move your character right.",(R,f)=>{if(R.isKeyDown(7)||R.isKeyDown(1)){let Y=this.ecs.getComponents(f).get(e);return Y.setX(Y.getX()+1),!0}return!1}]),this.steps.push(["Press 'S' to move your character down.",(R,f)=>{if(R.isKeyDown(6)||R.isKeyDown(2)){let Y=this.ecs.getComponents(f).get(e);return Y.setY(Y.getY()+1),!0}return!1}]),this.steps.push(["Press 'W' to move your character up.",(R,f)=>{if(R.isKeyDown(4)||R.isKeyDown(3)){let Y=this.ecs.getComponents(f).get(e);return Y.setY(Y.getY()-1),!0}return!1}]);let $,V,w,q=new e(20,8),h=new e(30,8),j=new e(28,8);this.steps.push(["Press ' ' (space) to spend one turn and not move.",(R,f)=>{if(R.isKeyDown(10)){for(let _=15;_<35;++_){let M=this.ecs.addEntity();this.ecs.addComponent(M,new e(_,3)),this.ecs.addComponent(M,new m0),this.ecs.addComponent(M,new S0("X")),J.set(new e(_,3),M);let u=this.ecs.addEntity();this.ecs.addComponent(u,new e(_,15)),this.ecs.addComponent(u,new m0),this.ecs.addComponent(u,new S0("X")),J.set(new e(_,15),u)}for(let _=3;_<=15;++_){let M=this.ecs.addEntity();this.ecs.addComponent(M,new e(15,_)),this.ecs.addComponent(M,new m0),this.ecs.addComponent(M,new S0("X")),J.set(new e(15,_),M);let u=this.ecs.addEntity();this.ecs.addComponent(u,new e(35,_)),this.ecs.addComponent(u,new m0),this.ecs.addComponent(u,new S0("X")),J.set(new e(35,_),u)}return $=this.ecs.addEntity(),V=this.ecs.addEntity(),w=this.ecs.addEntity(),this.ecs.addComponent($,q),this.ecs.addComponent($,new S0("*")),this.ecs.addComponent(V,new g1),this.ecs.addComponent(V,h),this.ecs.addComponent(V,new S0("o")),this.ecs.addComponent(V,new g1),this.ecs.setBB("grid collisions",J),this.ecs.addSystem(5,new K2),this.ecs.addSystem(10,new Y2),this.ecs.addSystem(50,new H2),this.ecs.addSystem(80,new l2),this.ecs.addSystem(85,new T2),!0}return!1}]),this.steps.push(["That * is a switch. Run into it to open the portal.",(R,f)=>{let Y=this.ecs.getComponents(this.playerID),K=Y.get(e),P=Y.get(H0);if(K.equals(q))return this.ecs.removeEntity($),this.ecs.getComponents(V).get(S0).character="O",this.ecs.addComponent(w,j),this.ecs.addComponent(w,new S0("#")),this.ecs.addComponent(w,new x1("Enemy",new e(j.getX(),j.getY()))),this.ecs.addComponent(w,new f2(j)),this.ecs.addComponent(w,new H1),!0;if(P.stamina<=0)P.stamina=A0,K.setX(25),K.setY(5),this.ecs.getComponents(this.textID).get(n0).text="Try to hit the '*' switch before you run out of stamina.";return!1}]),this.steps.push(["Go through the opened portal, if you can...",(R,f)=>{let Y=this.ecs.getComponents(this.playerID),K=Y.get(e),P=Y.get(H0);if(this.ecs.getBB("game over")==t0||P.stamina<=0||K.equals(j))K.setX(q.getX()),K.setY(q.getY()),j.setX(28),j.setY(8),P.stamina=A0,this.ecs.setBB("game over",p8),this.ecs.getComponents(this.textID).get(n0).text="Try to avoid the enemy and not run out of stamina!";if(K.equals(h))return W1.set("completed tutorial","true"),console.log(W1.get("completed tutorial")),!0;return!1}])}update(Z,Q){if(this.steps[this.index][1](Z,this.playerID))if(++this.index,this.index>=this.steps.length)this.ecs.setBB("tutorial over",!0);else this.ecs.getComponents(this.textID).get(n0).text=this.steps[this.index][0]}}class _2 extends $0{componentsRequired=new Set([D.Position2d,n0]);update(Z,Q){let J=this.ecs.getBB("x mod"),$=this.ecs.getBB("y mod");Z.setFont(20);for(let V of Q.values()){let w=this.ecs.getComponents(V),q=w.get(n0),h=w.get(D.Position2d);Z.drawText(h.getX()*J,h.getY()*$,q.text)}}}var E0={EnemyAI:H2,PlayerCollision:Y2,PlayerMovement:K2,PortalSystem:u6,RenderSystem:p2,UpdatePlayerTurn:C6,RenderGameInfo:l2,RenderEnemyTerritory:T2,TutorialSystem:A2,TutorialRenderSystem:_2};class P2{src;tgt;probability;constructor(Z,Q,J){this.src=Z,this.tgt=Q,this.probability=J}}class M2{name;reward;utility;isTerminal;neighbors;constructor(Z,Q,J,$,V){this.name=Z,this.reward=Q,this.utility=J,this.isTerminal=$,this.neighbors=V}}class A8{nodes;edges;constructor(){this.nodes={},this.edges={}}getNode(Z){return this.nodes[Z]}hasNode(Z){return Z in this.nodes}addNode(Z){this.nodes[Z.name]=Z}addDefaultNode(Z,Q=1,J=0,$=!1,V=null){if(V==null)V=[];this.nodes[Z]=new M2(Z,Q,J,$,V)}removeNode(Z){let Q=[];for(let J of Object.values(this.edges)){if(J.src==Z||J.tgt==Z)Q.push(J);let $=J.probability,V=-1;for(let j=0;j<$.length;j++){let[R,f]=$[j];if(R==Z){V=j;break}}if(V==-1)continue;let w=$[V][1];$.splice(V,1);let q=$.length,h=w/q;J.probability=$.map(([j,R])=>[j,R+h])}for(let J of Q)this.removeEdge(J.src,J.tgt);delete this.nodes[Z]}getEdge(Z,Q){return this.edges[`${Z},${Q}`]}hasEdge(Z,Q){return`${Z},${Q}`in this.edges}addEdge(Z){this.edges[`${Z.src},${Z.tgt}`]=Z;let Q=this.nodes[Z.src].neighbors;if(!Q.includes(Z.tgt))Q.push(Z.tgt)}addDefaultEdge(Z,Q,J=null){if(J==null)J=[[Q,1]];this.addEdge(new P2(Z,Q,J))}removeEdge(Z,Q){let J=this.nodes[Z],$=J.neighbors.indexOf(Q);J.neighbors.splice($,1),delete this.edges[`${Z},${Q}`]}neighbors(Z){return this.nodes[Z].neighbors}setNodeUtilities(Z){for(let[Q,J]of Object.entries(Z))this.nodes[Q].utility=J}utility(Z){return this.nodes[Z].utility}reward(Z){return this.nodes[Z].reward}isTerminal(Z){return this.nodes[Z].isTerminal}mapNodes(Z){for(let Q of Object.values(this.nodes))Z(Q)}mapEdges(Z){for(let Q of Object.values(this.edges))Z(Q)}}function o0(Z){return Z[Math.floor(Math.random()*Z.length)]}function s1(Z,Q,J,$){let V=Z.getEdge(Q,J).probability,w=V.length,q=0;for(let h=0;h<w;++h){let[j,R]=V[h];q+=R*(Z.reward(j)+$*Z.utility(j))}return q}function _8(Z,Q,J){let $=Z.getNode(Q);if($.isTerminal)return 0;let V=$.neighbors,w=V.length,q=-1/0;for(let h=0;h<w;++h)q=Math.max(q,s1(Z,Q,V[h],J));return q}function r6(Z){for(let Q in Z.nodes)Z.nodes[Q].utility=0}function P8(Z){let Q={};for(let J in Z.nodes)if(!Z.getNode(J).isTerminal)Q[J]=[...Z.neighbors(J)];return Q}function m6(Z,Q){let J={};for(let $ in Z.nodes){if(Z.getNode($).isTerminal)continue;let V=-1/0,w=[];for(let q of Z.neighbors($)){let h=s1(Z,$,q,Q);if(h===V)w.push(q);else if(h>V)V=h,w.length=0,w.push(q)}J[$]=w}return J}function JJ(Z,Q,J,$){for(let V=0;V<$;++V)for(let w in Z.nodes){let q=Z.getNode(w);if(!q.isTerminal)q.utility=s1(Z,w,o0(Q[w]),J)}}function XJ(Z,Q,J,$){for(let V=0;V<$;++V){let w={};for(let q in Z.nodes)if(!Z.getNode(q).isTerminal)w[q]=s1(Z,q,o0(Q[q]),J);Z.setNodeUtilities(w)}}function $J(Z,Q,J,$){for(let V=0;V<$;++V)for(let w in Z.nodes)Z.getNode(w).utility=_8(Z,w,J)}function VJ(Z,Q,J,$){for(let V=0;V<$;++V){let w={};for(let q in Z.nodes)w[q]=_8(Z,q,J);Z.setNodeUtilities(w)}}function SZ(Z,Q,J){let $=!1;for(let V in Z.nodes){if(Z.getNode(V).isTerminal)continue;let w=null,q=-1/0;for(let h of Z.neighbors(V)){let j=s1(Z,V,h,J);if(j===q);else if(j>q)w=h,q=j}if(o0(Q[V])!==w)Q[V].length=0,Q[V].push(w),$=!0}return $}function n6(Z,Q,J=!1,$=!1,V=10,w=!0){if(w)r6(Z);let q=P8(Z),h;if(J&&$)h=JJ;else if(J&&!$)h=XJ;else if(!J&&$)h=$J;else h=VJ;let j=!0;while(j)h(Z,q,Q,V),j=SZ(Z,q,Q);return h(Z,q,Q,V),SZ(Z,q,Q),m6(Z,Q)}function g6(Z){return P8(Z)}class L extends M2{visitedCount;sumPercentCompleted;depth;difficulty;enjoyability;constructor(Z,Q,J,$,V,w,q){super(Z,Q,$,V,w);this.difficulty=Q,this.enjoyability=J,this.depth=q,this.visitedCount=1,this.sumPercentCompleted=1}updateReward(Z){if(Z)this.reward=this.difficulty*this.visitedCount;else this.reward=this.enjoyability*this.visitedCount}}class x extends P2{link;constructor(Z,Q,J,$){super(Z,Q,J);this.link=$}}var z=new A8;z.addNode(new L(M0,0,0,0,!1,[],-1));z.addNode(new L(W,-5,-5,0,!0,[],-1));z.addNode(new L("0_0_0",-1,-1,0,!1,[],0));z.addNode(new L("0_1_0",-0.5238095238095237,-0.11904761904761896,0,!1,[],1));z.addNode(new L("0_11_0",-0.6984126984126984,-0.04761904761904756,0,!1,[],27));z.addNode(new L("0_12_0",-0.5306122448979592,-0.12244897959183665,0,!1,[],28));z.addNode(new L("0_13_0",-0.8095238095238095,-0.1428571428571429,0,!1,[],29));z.addNode(new L("0_14_0",-0.5428571428571428,-0.1428571428571429,0,!1,[],29));z.addNode(new L("0_2_0",-0.4693877551020408,-0.16326530612244905,0,!1,[],2));z.addNode(new L("0_3_0",-0.4897959183673469,-0.26530612244897955,0,!1,[],3));z.addNode(new L("0_4_0",-0.4285714285714286,-0.18367346938775508,0,!1,[],4));z.addNode(new L("0_5_0",-0.1428571428571429,-0.2142857142857143,0,!1,[],5));z.addNode(new L("0_6_0",-0.4693877551020408,-0.18367346938775508,0,!1,[],6));z.addNode(new L("10_0_0",-0.3214285714285714,-0.1071428571428571,0,!1,[],10));z.addNode(new L("10_1_0",-0.4571428571428572,-0.22857142857142854,0,!1,[],11));z.addNode(new L("10_2_0",-0.1428571428571429,0,0,!1,[],12));z.addNode(new L("10_3_0",-0.3928571428571429,-0.3928571428571429,0,!1,[],13));z.addNode(new L("10_4_0",-0.6734693877551021,-0.3877551020408163,0,!1,[],14));z.addNode(new L("10_5_0",-0.3928571428571429,-0.0714285714285714,0,!1,[],15));z.addNode(new L("10_6_0",-0.5357142857142857,-0.1607142857142857,0,!1,[],16));z.addNode(new L("10_7_0",-0.4821428571428571,-0.25,0,!1,[],17));z.addNode(new L("11_0_0",-0.3142857142857143,-0.2857142857142857,0,!1,[],11));z.addNode(new L("11_1_0",-0.33333333333333326,-0.2857142857142857,0,!1,[],12));z.addNode(new L("11_2_0",-0.3928571428571429,-0.1964285714285714,0,!1,[],13));z.addNode(new L("11_3_0",-0.375,-0.3928571428571429,0,!1,[],14));z.addNode(new L("11_4_0",-0.2857142857142857,-0.2142857142857143,0,!1,[],15));z.addNode(new L("11_5_0",-0.4464285714285714,-0.1785714285714286,0,!1,[],16));z.addNode(new L("11_6_0",-0.4285714285714286,-0.0714285714285714,0,!1,[],17));z.addNode(new L("12_0_0",-0.3214285714285714,-0.2678571428571429,0,!1,[],12));z.addNode(new L("12_1_0",-0.4285714285714286,-0.04761904761904756,0,!1,[],13));z.addNode(new L("12_2_0",-0.08571428571428563,-0.37142857142857133,0,!1,[],14));z.addNode(new L("12_3_0",-0.26190476190476186,-0.4285714285714286,0,!1,[],15));z.addNode(new L("12_4_0",-0.4,-0.11428571428571421,0,!1,[],16));z.addNode(new L("12_5_0",-0.2857142857142857,-0.09523809523809523,0,!1,[],17));z.addNode(new L("12_6_0",-0.1428571428571429,-0.6190476190476191,0,!1,[],18));z.addNode(new L("13_0_0",-0.3142857142857143,-0.4,0,!1,[],13));z.addNode(new L("13_1_0",-0.23809523809523814,-0.4285714285714286,0,!1,[],14));z.addNode(new L("13_2_0",-0.4285714285714286,-0.20408163265306123,0,!1,[],15));z.addNode(new L("13_3_0",-0.4107142857142857,-0.2678571428571429,0,!1,[],16));z.addNode(new L("13_4_0",-0.5714285714285714,-0.34285714285714286,0,!1,[],17));z.addNode(new L("14_0_0",-0.2857142857142857,-0.2142857142857143,0,!1,[],14));z.addNode(new L("14_1_0",-0.48571428571428565,-0.17142857142857149,0,!1,[],15));z.addNode(new L("14_2_0",-0.1428571428571429,-0.4285714285714286,0,!1,[],16));z.addNode(new L("14_3_0",-0.26190476190476186,-0.16666666666666674,0,!1,[],17));z.addNode(new L("14_4_0",-0.20000000000000007,-0.2571428571428571,0,!1,[],18));z.addNode(new L("15_0_0",-0.5714285714285714,-0.2857142857142857,0,!1,[],15));z.addNode(new L("15_1_0",-0.2142857142857143,-0.2142857142857143,0,!1,[],16));z.addNode(new L("15_2_0",-0.3571428571428571,-0.1071428571428571,0,!1,[],17));z.addNode(new L("15_3_0",-0.37142857142857133,-0.08571428571428563,0,!1,[],18));z.addNode(new L("15_4_0",-0.33333333333333326,-0.1428571428571429,0,!1,[],19));z.addNode(new L("16_1_0",-0.375,-0.1607142857142857,0,!1,[],17));z.addNode(new L("16_2_0",-0.2142857142857143,-0.25,0,!1,[],18));z.addNode(new L("16_3_0",-0.2857142857142857,-0.3571428571428571,0,!1,[],19));z.addNode(new L("16_4_0",-0.2142857142857143,-0.2142857142857143,0,!1,[],20));z.addNode(new L("17_2_0",-0.22857142857142854,-0.2857142857142857,0,!1,[],19));z.addNode(new L("17_4_0",-0.5238095238095237,-0.2063492063492064,0,!1,[],19));z.addNode(new L("17_5_0",-0.1428571428571429,-0.5,0,!1,[],18));z.addNode(new L("18_2_0",-0.16326530612244905,-0.16326530612244905,0,!1,[],20));z.addNode(new L("18_3_0",-0.33333333333333326,-0.1428571428571429,0,!1,[],21));z.addNode(new L("1_0_0",-0.4,-0.2571428571428571,0,!1,[],1));z.addNode(new L("1_1_0",-0.5357142857142857,-0.1071428571428571,0,!1,[],2));z.addNode(new L("1_11_0",-0.0714285714285714,-0.4285714285714286,0,!1,[],26));z.addNode(new L("1_12_0",-0.20000000000000007,-0.3142857142857143,0,!1,[],27));z.addNode(new L("1_13_0",-0.8214285714285714,-0.2142857142857143,0,!1,[],28));z.addNode(new L("1_14_0",-0.34285714285714286,-0.2571428571428571,0,!1,[],28));z.addNode(new L("1_15_0",-0.2142857142857143,-0.3214285714285714,0,!1,[],29));z.addNode(new L("1_16_0",-0.6666666666666666,-0.19047619047619047,0,!1,[],30));z.addNode(new L("1_17_0",-0.4571428571428572,-0.2857142857142857,0,!1,[],31));z.addNode(new L("1_2_0",-0.5238095238095237,-0.38095238095238104,0,!1,[],3));z.addNode(new L("1_3_0",-0.5714285714285714,-0.09523809523809523,0,!1,[],4));z.addNode(new L("1_4_0",-0.2857142857142857,-0.19047619047619047,0,!1,[],5));z.addNode(new L("1_5_0",-0.47619047619047616,-0.40476190476190477,0,!1,[],6));z.addNode(new L("2_0_0",-0.22857142857142854,-0.22857142857142854,0,!1,[],2));z.addNode(new L("2_1_0",-0.2857142857142857,-0.33333333333333326,0,!1,[],3));z.addNode(new L("2_10_0",-0.4693877551020408,-0.2857142857142857,0,!1,[],24));z.addNode(new L("2_11_0",-0.2571428571428571,-0.2571428571428571,0,!1,[],25));z.addNode(new L("2_12_0",-0.2857142857142857,0,0,!1,[],26));z.addNode(new L("2_13_0",-0.34285714285714286,-0.17142857142857149,0,!1,[],27));z.addNode(new L("2_14_0",-0.34693877551020413,-0.1428571428571429,0,!1,[],27));z.addNode(new L("2_15_0",-0.33333333333333326,-0.26190476190476186,0,!1,[],28));z.addNode(new L("2_16_0",-0.5,-0.3571428571428571,0,!1,[],29));z.addNode(new L("2_2_0",-0.5428571428571428,-0.2857142857142857,0,!1,[],4));z.addNode(new L("2_3_0",-0.5142857142857142,-0.2571428571428571,0,!1,[],5));z.addNode(new L("2_4_0",-0.7142857142857143,-0.38095238095238104,0,!1,[],6));z.addNode(new L("3_0_0",-0.40476190476190477,-0.33333333333333326,0,!1,[],3));z.addNode(new L("3_1_0",-0.3571428571428571,-0.2857142857142857,0,!1,[],4));z.addNode(new L("3_10_0",0,-0.8571428571428572,0,!1,[],23));z.addNode(new L("3_11_0",-0.48571428571428565,-0.20000000000000007,0,!1,[],24));z.addNode(new L("3_12_0",-0.7142857142857143,-0.33333333333333326,0,!1,[],25));z.addNode(new L("3_13_0",-0.2857142857142857,-0.1785714285714286,0,!1,[],26));z.addNode(new L("3_14_0",-0.1428571428571429,0,0,!1,[],26));z.addNode(new L("3_15_0",-0.30952380952380953,-0.23809523809523814,0,!1,[],27));z.addNode(new L("3_16_0",-0.16326530612244905,-0.34693877551020413,0,!1,[],28));z.addNode(new L("3_2_0",-0.6938775510204082,-0.12244897959183665,0,!1,[],5));z.addNode(new L("3_3_0",-0.6734693877551021,-0.16326530612244905,0,!1,[],8));z.addNode(new L("3_4_0",-0.4285714285714286,-0.05714285714285716,0,!1,[],9));z.addNode(new L("4_0_0",-0.17142857142857149,-0.22857142857142854,0,!1,[],4));z.addNode(new L("4_1_0",-0.3142857142857143,-0.29999999999999993,0,!1,[],5));z.addNode(new L("4_10_0",-0.3571428571428571,-0.1607142857142857,0,!1,[],22));z.addNode(new L("4_11_0",-0.6326530612244898,-0.34693877551020413,0,!1,[],23));z.addNode(new L("4_12_0",-0.1071428571428571,-0.3571428571428571,0,!1,[],24));z.addNode(new L("4_13_0",-0.2142857142857143,-0.16666666666666674,0,!1,[],25));z.addNode(new L("4_14_0",-0.3214285714285714,-0.3571428571428571,0,!1,[],25));z.addNode(new L("4_15_0",-0.20000000000000007,-0.4285714285714286,0,!1,[],26));z.addNode(new L("4_16_0",-0.2857142857142857,-0.2142857142857143,0,!1,[],27));z.addNode(new L("4_2_0",-0.2857142857142857,-0.1785714285714286,0,!1,[],6));z.addNode(new L("4_3_0",-0.3571428571428571,-0.1428571428571429,0,!1,[],7));z.addNode(new L("4_4_0",-0.47619047619047616,-0.19047619047619047,0,!1,[],8));z.addNode(new L("4_8_0",-0.4571428571428572,-0.1428571428571429,0,!1,[],20));z.addNode(new L("4_9_0",-0.4285714285714286,-0.11428571428571421,0,!1,[],21));z.addNode(new L("5_0_0",0,-0.33333333333333326,0,!1,[],5));z.addNode(new L("5_1_0",-0.1428571428571429,-0.3877551020408163,0,!1,[],6));z.addNode(new L("5_10_0",-0.37142857142857133,-0.3142857142857143,0,!1,[],21));z.addNode(new L("5_11_0",-0.20000000000000007,-0.34285714285714286,0,!1,[],22));z.addNode(new L("5_12_0",-0.3571428571428571,-0.19047619047619047,0,!1,[],23));z.addNode(new L("5_13_0",-0.47619047619047616,-0.47619047619047616,0,!1,[],24));z.addNode(new L("5_14_0",-0.22857142857142854,-0.3142857142857143,0,!1,[],24));z.addNode(new L("5_15_0",-0.5,-0.2857142857142857,0,!1,[],25));z.addNode(new L("5_2_0",-0.75,-0.3214285714285714,0,!1,[],7));z.addNode(new L("5_3_0",-0.38095238095238104,-0.33333333333333326,0,!1,[],8));z.addNode(new L("5_4_0",-0.3877551020408163,-0.40816326530612235,0,!1,[],9));z.addNode(new L("5_5_0",-0.4897959183673469,-0.12244897959183665,0,!1,[],14));z.addNode(new L("5_7_0",-0.5079365079365079,-0.2222222222222222,0,!1,[],18));z.addNode(new L("5_8_0",-0.3214285714285714,-0.3571428571428571,0,!1,[],19));z.addNode(new L("5_9_0",-0.3214285714285714,-0.3571428571428571,0,!1,[],20));z.addNode(new L("6_0_0",-0.326530612244898,-0.30612244897959184,0,!1,[],6));z.addNode(new L("6_1_0",-0.2857142857142857,-0.2678571428571429,0,!1,[],7));z.addNode(new L("6_10_0",-0.2857142857142857,-0.20408163265306123,0,!1,[],20));z.addNode(new L("6_11_0",-0.2857142857142857,-0.1428571428571429,0,!1,[],21));z.addNode(new L("6_12_0",-0.4642857142857143,-0.4642857142857143,0,!1,[],22));z.addNode(new L("6_14_0",-0.2857142857142857,0,0,!1,[],23));z.addNode(new L("6_15_0",-0.1785714285714286,-0.2142857142857143,0,!1,[],24));z.addNode(new L("6_2_0",-0.3928571428571429,-0.3928571428571429,0,!1,[],8));z.addNode(new L("6_3_0",-0.47619047619047616,-0.19047619047619047,0,!1,[],9));z.addNode(new L("6_4_0",-0.2857142857142857,-0.2857142857142857,0,!1,[],12));z.addNode(new L("6_5_0",-0.6428571428571428,-0.1428571428571429,0,!1,[],13));z.addNode(new L("6_7_0",-0.4,-0.1428571428571429,0,!1,[],17));z.addNode(new L("6_8_0",-0.5476190476190477,-0.40476190476190477,0,!1,[],18));z.addNode(new L("6_9_0",-0.4693877551020408,-0.12244897959183665,0,!1,[],19));z.addNode(new L("7_0_0",-0.2857142857142857,-0.20000000000000007,0,!1,[],7));z.addNode(new L("7_1_0",-0.2857142857142857,-0.4571428571428572,0,!1,[],8));z.addNode(new L("7_10_0",-0.04761904761904756,0,0,!1,[],19));z.addNode(new L("7_2_0",-0.38095238095238104,-0.2857142857142857,0,!1,[],9));z.addNode(new L("7_3_0",-0.6122448979591837,-0.26530612244897955,0,!1,[],10));z.addNode(new L("7_4_0",-0.4571428571428572,-0.2857142857142857,0,!1,[],11));z.addNode(new L("7_5_0",-0.4285714285714286,-0.11428571428571421,0,!1,[],12));z.addNode(new L("7_7_0",-0.4285714285714286,-0.1785714285714286,0,!1,[],16));z.addNode(new L("7_8_0",-0.2857142857142857,-0.2142857142857143,0,!1,[],17));z.addNode(new L("7_9_0",-0.38095238095238104,-0.38095238095238104,0,!1,[],18));z.addNode(new L("8_0_0",-0.4642857142857143,-0.1071428571428571,0,!1,[],8));z.addNode(new L("8_1_0",-0.4821428571428571,-0.2321428571428571,0,!1,[],9));z.addNode(new L("8_2_0",-0.5918367346938775,-0.16326530612244905,0,!1,[],10));z.addNode(new L("8_3_0",-0.4571428571428572,-0.22857142857142854,0,!1,[],11));z.addNode(new L("8_4_0",-0.5918367346938775,-0.04081632653061218,0,!1,[],12));z.addNode(new L("8_5_0",-0.5476190476190477,-0.2142857142857143,0,!1,[],13));z.addNode(new L("8_6_0",-0.2571428571428571,-0.11428571428571421,0,!1,[],14));z.addNode(new L("8_7_0",-0.4693877551020408,-0.26530612244897955,0,!1,[],15));z.addNode(new L("8_8_0",-0.38095238095238104,-0.09523809523809523,0,!1,[],16));z.addNode(new L("8_9_0",-0.5357142857142857,-0.1785714285714286,0,!1,[],17));z.addNode(new L("9_0_0",-0.47619047619047616,-0.2142857142857143,0,!1,[],9));z.addNode(new L("9_1_0",-0.48571428571428565,-0.1428571428571429,0,!1,[],10));z.addNode(new L("9_2_0",-0.5142857142857142,-0.02857142857142858,0,!1,[],11));z.addNode(new L("9_3_0",-0.4642857142857143,-0.25,0,!1,[],12));z.addNode(new L("9_4_0",-0.4285714285714286,-0.1428571428571429,0,!1,[],13));z.addNode(new L("9_5_0",-0.45238095238095233,-0.1428571428571429,0,!1,[],14));z.addNode(new L("9_6_0",-0.33333333333333326,-0.23809523809523814,0,!1,[],15));z.addNode(new L("9_7_0",-0.38095238095238104,-0.33333333333333326,0,!1,[],16));z.addNode(new L("end",0,0,0,!0,[],20));z.addEdge(new x(M0,"0_0_0",[["0_0_0",0.99],[W,0.01]],[]));z.addEdge(new x("13_1_0","13_2_0",[["13_2_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("13_1_0","13_0_0",[["13_0_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("13_1_0","14_1_0",[["14_1_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("13_1_0","12_1_0",[["12_1_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("1_5_0","0_5_0",[["0_5_0",0.99],[W,0.01]],[]));z.addEdge(new x("6_4_0","6_5_0",[["6_5_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("6_4_0","7_4_0",[["7_4_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("6_5_0","6_4_0",[["6_4_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("6_5_0","7_5_0",[["7_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("6_5_0","5_5_0",[["5_5_0",0.99],[W,0.01]],[]));z.addEdge(new x("17_5_0","17_4_0",[["17_4_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("17_5_0","12_5_0",[["12_5_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("4_0_0","4_1_0",[["4_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("4_0_0","5_0_0",[["5_0_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("4_0_0","3_0_0",[["3_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("12_3_0","12_2_0",[["12_2_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("12_3_0","13_3_0",[["13_3_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("12_3_0","11_3_0",[["11_3_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("2_4_0","2_3_0",[["2_3_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("2_4_0","1_4_0",[["1_4_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("8_3_0","8_4_0",[["8_4_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("8_3_0","8_2_0",[["8_2_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("8_3_0","9_3_0",[["9_3_0",0.99],[W,0.01]],["---------&-","---------&-"]));z.addEdge(new x("8_3_0","7_3_0",[["7_3_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("15_1_0","15_2_0",[["15_2_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("15_1_0","15_0_0",[["15_0_0",0.99],[W,0.01]],[]));z.addEdge(new x("15_1_0","16_1_0",[["16_1_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("15_1_0","14_1_0",[["14_1_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("11_3_0","11_2_0",[["11_2_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("11_3_0","12_3_0",[["12_3_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("11_3_0","10_3_0",[["10_3_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("2_1_0","2_2_0",[["2_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("2_1_0","2_0_0",[["2_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("2_1_0","3_1_0",[["3_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("2_1_0","1_1_0",[["1_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("13_3_0","13_4_0",[["13_4_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("13_3_0","13_2_0",[["13_2_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("13_3_0","14_3_0",[["14_3_0",0.99],[W,0.01]],["---------&-","-&---------"]));z.addEdge(new x("13_3_0","12_3_0",[["12_3_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("4_3_0","4_4_0",[["4_4_0",0.99],[W,0.01]],["---------&-","-&---------"]));z.addEdge(new x("4_3_0","4_2_0",[["4_2_0",0.99],[W,0.01]],["---------&-","-&---------"]));z.addEdge(new x("4_3_0","5_3_0",[["5_3_0",0.99],[W,0.01]],["---------&-","-&---------"]));z.addEdge(new x("4_3_0","3_3_0",[["3_3_0",0.99],[W,0.01]],["---------&-","-&---------"]));z.addEdge(new x("14_2_0","14_3_0",[["14_3_0",0.99],[W,0.01]],["-&---------","---------&-"]));z.addEdge(new x("14_2_0","14_1_0",[["14_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("14_2_0","15_2_0",[["15_2_0",0.99],[W,0.01]],["-----&-----","-&---------","-----&-----"]));z.addEdge(new x("14_2_0","13_2_0",[["13_2_0",0.99],[W,0.01]],["---------&-","-&---------"]));z.addEdge(new x("1_4_0","1_5_0",[["1_5_0",0.99],[W,0.01]],[]));z.addEdge(new x("1_4_0","1_3_0",[["1_3_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_4_0","2_4_0",[["2_4_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("1_4_0","0_4_0",[["0_4_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("5_1_0","5_2_0",[["5_2_0",0.99],[W,0.01]],["---------&-","-&---------"]));z.addEdge(new x("5_1_0","5_0_0",[["5_0_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("5_1_0","6_1_0",[["6_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("5_1_0","4_1_0",[["4_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("3_12_0","3_13_0",[["3_13_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("3_12_0","3_11_0",[["3_11_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("3_12_0","4_12_0",[["4_12_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("3_12_0","2_12_0",[["2_12_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("3_4_0","4_4_0",[["4_4_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("4_4_0","4_3_0",[["4_3_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("4_4_0","5_4_0",[["5_4_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("4_4_0","3_4_0",[["3_4_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("8_4_0","8_5_0",[["8_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("8_4_0","8_3_0",[["8_3_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("8_4_0","9_4_0",[["9_4_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("8_4_0","7_4_0",[["7_4_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("6_3_0","6_2_0",[["6_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_3_0","7_3_0",[["7_3_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_3_0","5_2_0",[["5_2_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("5_3_0","4_3_0",[["4_3_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("13_0_0","13_1_0",[["13_1_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("13_0_0","14_0_0",[["14_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("13_0_0","12_0_0",[["12_0_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("2_12_0","2_13_0",[["2_13_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("2_12_0","2_11_0",[["2_11_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("2_12_0","3_12_0",[["3_12_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("2_12_0","1_12_0",[["1_12_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("17_4_0","17_5_0",[["17_5_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("17_4_0","16_4_0",[["16_4_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("8_2_0","8_3_0",[["8_3_0",0.99],[W,0.01]],["---------&-","---------&-"]));z.addEdge(new x("8_2_0","8_1_0",[["8_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("8_2_0","9_2_0",[["9_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("3_1_0","3_2_0",[["3_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("3_1_0","3_0_0",[["3_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("3_1_0","4_1_0",[["4_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("3_1_0","2_1_0",[["2_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("0_1_0","0_2_0",[["0_2_0",0.99],[W,0.01]],[]));z.addEdge(new x("0_1_0","0_0_0",[["0_0_0",0.99],[W,0.01]],[]));z.addEdge(new x("0_1_0","1_1_0",[["1_1_0",0.99],[W,0.01]],[]));z.addEdge(new x("9_3_0","9_4_0",[["9_4_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("9_3_0","9_2_0",[["9_2_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("9_3_0","10_3_0",[["10_3_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("9_3_0","8_3_0",[["8_3_0",0.99],[W,0.01]],["---------&-","---------&-"]));z.addEdge(new x("0_4_0","0_5_0",[["0_5_0",0.99],[W,0.01]],[]));z.addEdge(new x("0_4_0","0_3_0",[["0_3_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("0_4_0","1_4_0",[["1_4_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("0_3_0","0_4_0",[["0_4_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("0_3_0","0_2_0",[["0_2_0",0.99],[W,0.01]],[]));z.addEdge(new x("0_3_0","1_3_0",[["1_3_0",0.99],[W,0.01]],[]));z.addEdge(new x("1_2_0","1_3_0",[["1_3_0",0.99],[W,0.01]],[]));z.addEdge(new x("1_2_0","1_1_0",[["1_1_0",0.99],[W,0.01]],[]));z.addEdge(new x("1_2_0","2_2_0",[["2_2_0",0.99],[W,0.01]],[]));z.addEdge(new x("1_2_0","0_2_0",[["0_2_0",0.99],[W,0.01]],[]));z.addEdge(new x("2_3_0","2_2_0",[["2_2_0",0.99],[W,0.01]],[]));z.addEdge(new x("2_3_0","1_3_0",[["1_3_0",0.99],[W,0.01]],[]));z.addEdge(new x("7_7_0","7_8_0",[["7_8_0",0.99],[W,0.01]],["-----&-----","-&---------"]));z.addEdge(new x("7_7_0","8_7_0",[["8_7_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("7_7_0","6_7_0",[["6_7_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("13_2_0","13_3_0",[["13_3_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("13_2_0","13_1_0",[["13_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("13_2_0","14_2_0",[["14_2_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("13_2_0","12_2_0",[["12_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("0_2_0","0_3_0",[["0_3_0",0.99],[W,0.01]],[]));z.addEdge(new x("0_2_0","0_1_0",[["0_1_0",0.99],[W,0.01]],[]));z.addEdge(new x("0_2_0","1_2_0",[["1_2_0",0.99],[W,0.01]],[]));z.addEdge(new x("4_1_0","4_2_0",[["4_2_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("4_1_0","4_0_0",[["4_0_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("4_1_0","5_1_0",[["5_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("4_1_0","3_1_0",[["3_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("3_2_0","3_1_0",[["3_1_0",0.99],[W,0.01]],[]));z.addEdge(new x("3_2_0","4_2_0",[["4_2_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("3_2_0","2_2_0",[["2_2_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("6_2_0","6_3_0",[["6_3_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("6_2_0","6_1_0",[["6_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_2_0","7_2_0",[["7_2_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("6_2_0","5_2_0",[["5_2_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("9_0_0","9_1_0",[["9_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("9_0_0","10_0_0",[["10_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("9_0_0","8_0_0",[["8_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("8_0_0","8_1_0",[["8_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("8_0_0","9_0_0",[["9_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("8_0_0","7_0_0",[["7_0_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("5_8_0","5_9_0",[["5_9_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_8_0","5_7_0",[["5_7_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_8_0","6_8_0",[["6_8_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_8_0","4_8_0",[["4_8_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("2_11_0","2_12_0",[["2_12_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("2_11_0","2_10_0",[["2_10_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("2_11_0","3_11_0",[["3_11_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("2_11_0","1_11_0",[["1_11_0",0.99],[W,0.01]],[]));z.addEdge(new x("0_5_0","0_6_0",[["0_6_0",0.99],[W,0.01]],[]));z.addEdge(new x("0_5_0","0_4_0",[["0_4_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("0_5_0","1_5_0",[["1_5_0",0.99],[W,0.01]],[]));z.addEdge(new x("14_1_0","14_2_0",[["14_2_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("14_1_0","14_0_0",[["14_0_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("14_1_0","15_1_0",[["15_1_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("14_1_0","13_1_0",[["13_1_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("7_1_0","7_2_0",[["7_2_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("7_1_0","7_0_0",[["7_0_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("7_1_0","8_1_0",[["8_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("7_1_0","6_1_0",[["6_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("1_16_0","1_17_0",[["1_17_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_16_0","1_15_0",[["1_15_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_16_0","2_16_0",[["2_16_0",0.99],[W,0.01]],[]));z.addEdge(new x("14_0_0","14_1_0",[["14_1_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("14_0_0","15_0_0",[["15_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("14_0_0","13_0_0",[["13_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("3_3_0","3_4_0",[["3_4_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("3_3_0","3_2_0",[["3_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("3_3_0","4_3_0",[["4_3_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("3_3_0","2_3_0",[["2_3_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_13_0","1_14_0",[["1_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_13_0","1_12_0",[["1_12_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_13_0","2_13_0",[["2_13_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("1_13_0","0_13_0",[["0_13_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("12_0_0","12_1_0",[["12_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("12_0_0","13_0_0",[["13_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("12_0_0","11_0_0",[["11_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_10_0","5_11_0",[["5_11_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("5_10_0","5_9_0",[["5_9_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_10_0","6_10_0",[["6_10_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("5_10_0","4_10_0",[["4_10_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("16_2_0","16_3_0",[["16_3_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("16_2_0","16_1_0",[["16_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("16_2_0","17_2_0",[["17_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("16_2_0","15_2_0",[["15_2_0",0.99],[W,0.01]],["-----&-----","-&---------"]));z.addEdge(new x("11_1_0","11_2_0",[["11_2_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("11_1_0","11_0_0",[["11_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("11_1_0","12_1_0",[["12_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("11_1_0","10_1_0",[["10_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("7_2_0","7_3_0",[["7_3_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("7_2_0","7_1_0",[["7_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("7_2_0","8_2_0",[["8_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("7_2_0","6_2_0",[["6_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("4_10_0","4_11_0",[["4_11_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("4_10_0","4_9_0",[["4_9_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("4_10_0","5_10_0",[["5_10_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("4_10_0","3_10_0",[["3_10_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("1_1_0","1_2_0",[["1_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_1_0","1_0_0",[["1_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_1_0","2_1_0",[["2_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_1_0","0_1_0",[["0_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("7_0_0","7_1_0",[["7_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("7_0_0","8_0_0",[["8_0_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("7_0_0","6_0_0",[["6_0_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("5_5_0","5_4_0",[["5_4_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("5_5_0","6_5_0",[["6_5_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("0_6_0","0_5_0",[["0_5_0",0.99],[W,0.01]],[]));z.addEdge(new x("1_3_0","1_2_0",[["1_2_0",0.99],[W,0.01]],[]));z.addEdge(new x("1_3_0","2_3_0",[["2_3_0",0.99],[W,0.01]],[]));z.addEdge(new x("1_3_0","0_3_0",[["0_3_0",0.99],[W,0.01]],[]));z.addEdge(new x("5_2_0","5_1_0",[["5_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("5_2_0","6_2_0",[["6_2_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("5_2_0","4_2_0",[["4_2_0",0.99],[W,0.01]],["---------&-","---------&-"]));z.addEdge(new x("10_0_0","10_1_0",[["10_1_0",0.99],[W,0.01]],["-----&-----","-&---------"]));z.addEdge(new x("10_0_0","11_0_0",[["11_0_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("10_0_0","9_0_0",[["9_0_0",0.99],[W,0.01]],["-----&-----","-&---------"]));z.addEdge(new x("3_0_0","3_1_0",[["3_1_0",0.99],[W,0.01]],[]));z.addEdge(new x("3_0_0","4_0_0",[["4_0_0",0.99],[W,0.01]],[]));z.addEdge(new x("3_0_0","2_0_0",[["2_0_0",0.99],[W,0.01]],[]));z.addEdge(new x("4_8_0","4_9_0",[["4_9_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("4_8_0","5_8_0",[["5_8_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("7_3_0","7_4_0",[["7_4_0",0.99],[W,0.01]],["---------&-","---------&-"]));z.addEdge(new x("7_3_0","7_2_0",[["7_2_0",0.99],[W,0.01]],["---------&-","---------&-"]));z.addEdge(new x("7_3_0","8_3_0",[["8_3_0",0.99],[W,0.01]],["---------&-","---------&-"]));z.addEdge(new x("7_3_0","6_3_0",[["6_3_0",0.99],[W,0.01]],["-----&-----","-----&-----","---------&-","---------&-"]));z.addEdge(new x("15_0_0","15_1_0",[["15_1_0",0.99],[W,0.01]],[]));z.addEdge(new x("15_0_0","14_0_0",[["14_0_0",0.99],[W,0.01]],[]));z.addEdge(new x("0_12_0","0_13_0",[["0_13_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("0_12_0","0_11_0",[["0_11_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("0_12_0","1_12_0",[["1_12_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("12_1_0","12_2_0",[["12_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("12_1_0","12_0_0",[["12_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("12_1_0","13_1_0",[["13_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("12_1_0","11_1_0",[["11_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("4_2_0","4_3_0",[["4_3_0",0.99],[W,0.01]],["---------&-","---------&-"]));z.addEdge(new x("4_2_0","4_1_0",[["4_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("4_2_0","5_2_0",[["5_2_0",0.99],[W,0.01]],["---------&-","---------&-"]));z.addEdge(new x("4_2_0","3_2_0",[["3_2_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("5_7_0","5_8_0",[["5_8_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("5_7_0","6_7_0",[["6_7_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_0_0","5_1_0",[["5_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("5_0_0","6_0_0",[["6_0_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("5_0_0","4_0_0",[["4_0_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("15_2_0","15_3_0",[["15_3_0",0.99],[W,0.01]],["-&---------","---------&-"]));z.addEdge(new x("15_2_0","15_1_0",[["15_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("15_2_0","16_2_0",[["16_2_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("15_2_0","14_2_0",[["14_2_0",0.99],[W,0.01]],["-----&-----","-&---------","-----&-----"]));z.addEdge(new x("8_1_0","8_2_0",[["8_2_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("8_1_0","8_0_0",[["8_0_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("8_1_0","9_1_0",[["9_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("8_1_0","7_1_0",[["7_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("3_10_0","3_11_0",[["3_11_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("3_10_0","4_10_0",[["4_10_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("3_10_0","2_10_0",[["2_10_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("0_0_0","0_1_0",[["0_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("0_0_0","1_0_0",[["1_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("10_3_0","10_4_0",[["10_4_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("10_3_0","10_2_0",[["10_2_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("10_3_0","11_3_0",[["11_3_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("10_3_0","9_3_0",[["9_3_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("5_4_0","4_4_0",[["4_4_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("2_2_0","2_3_0",[["2_3_0",0.99],[W,0.01]],[]));z.addEdge(new x("2_2_0","2_1_0",[["2_1_0",0.99],[W,0.01]],[]));z.addEdge(new x("2_2_0","3_2_0",[["3_2_0",0.99],[W,0.01]],[]));z.addEdge(new x("2_2_0","1_2_0",[["1_2_0",0.99],[W,0.01]],[]));z.addEdge(new x("6_0_0","6_1_0",[["6_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("6_0_0","7_0_0",[["7_0_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("6_0_0","5_0_0",[["5_0_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("15_3_0","15_4_0",[["15_4_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("15_3_0","15_2_0",[["15_2_0",0.99],[W,0.01]],["-----&-----","-&---------","-&---------"]));z.addEdge(new x("15_3_0","16_3_0",[["16_3_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("15_3_0","14_3_0",[["14_3_0",0.99],[W,0.01]],["---------&-","-&---------"]));z.addEdge(new x("4_11_0","4_12_0",[["4_12_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("4_11_0","4_10_0",[["4_10_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("4_11_0","5_11_0",[["5_11_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("4_11_0","3_11_0",[["3_11_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("9_4_0","9_5_0",[["9_5_0",0.99],[W,0.01]],["---------&-","---------&-"]));z.addEdge(new x("9_4_0","9_3_0",[["9_3_0",0.99],[W,0.01]],["---------&-","---------&-"]));z.addEdge(new x("9_4_0","10_4_0",[["10_4_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("9_4_0","8_4_0",[["8_4_0",0.99],[W,0.01]],["---------&-","---------&-"]));z.addEdge(new x("11_0_0","11_1_0",[["11_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("11_0_0","12_0_0",[["12_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("11_0_0","10_0_0",[["10_0_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_9_0","5_10_0",[["5_10_0",0.99],[W,0.01]],[]));z.addEdge(new x("5_9_0","5_8_0",[["5_8_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_9_0","6_9_0",[["6_9_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_9_0","4_9_0",[["4_9_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("5_12_0","5_13_0",[["5_13_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_12_0","5_11_0",[["5_11_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_12_0","6_12_0",[["6_12_0",0.99],[W,0.01]],[]));z.addEdge(new x("5_12_0","4_12_0",[["4_12_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("8_5_0","8_6_0",[["8_6_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("8_5_0","8_4_0",[["8_4_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("8_5_0","9_5_0",[["9_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("8_5_0","7_5_0",[["7_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("1_11_0","1_12_0",[["1_12_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_11_0","2_11_0",[["2_11_0",0.99],[W,0.01]],[]));z.addEdge(new x("1_11_0","0_11_0",[["0_11_0",0.99],[W,0.01]],[]));z.addEdge(new x("2_0_0","2_1_0",[["2_1_0",0.99],[W,0.01]],[]));z.addEdge(new x("2_0_0","3_0_0",[["3_0_0",0.99],[W,0.01]],[]));z.addEdge(new x("2_0_0","1_0_0",[["1_0_0",0.99],[W,0.01]],[]));z.addEdge(new x("14_3_0","14_4_0",[["14_4_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("14_3_0","14_2_0",[["14_2_0",0.99],[W,0.01]],["-----&-----","-&---------","-&---------"]));z.addEdge(new x("14_3_0","15_3_0",[["15_3_0",0.99],[W,0.01]],["-----&-----","-&---------"]));z.addEdge(new x("14_3_0","13_3_0",[["13_3_0",0.99],[W,0.01]],["---------&-","-&---------"]));z.addEdge(new x("7_8_0","7_9_0",[["7_9_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("7_8_0","7_7_0",[["7_7_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("7_8_0","8_8_0",[["8_8_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("7_8_0","6_8_0",[["6_8_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_12_0","1_13_0",[["1_13_0",0.99],[W,0.01]],[]));z.addEdge(new x("1_12_0","1_11_0",[["1_11_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_12_0","2_12_0",[["2_12_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("1_12_0","0_12_0",[["0_12_0",0.99],[W,0.01]],[]));z.addEdge(new x("10_1_0","10_2_0",[["10_2_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("10_1_0","10_0_0",[["10_0_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("10_1_0","11_1_0",[["11_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("10_1_0","9_1_0",[["9_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("0_11_0","0_12_0",[["0_12_0",0.99],[W,0.01]],[]));z.addEdge(new x("0_11_0","1_11_0",[["1_11_0",0.99],[W,0.01]],[]));z.addEdge(new x("16_3_0","16_4_0",[["16_4_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("16_3_0","16_2_0",[["16_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("16_3_0","15_3_0",[["15_3_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("9_2_0","9_3_0",[["9_3_0",0.99],[W,0.01]],["---------&-","---------&-"]));z.addEdge(new x("9_2_0","9_1_0",[["9_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("9_2_0","10_2_0",[["10_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("9_2_0","8_2_0",[["8_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("3_13_0","3_14_0",[["3_14_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("3_13_0","3_12_0",[["3_12_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("3_13_0","4_13_0",[["4_13_0",0.99],[W,0.01]],[]));z.addEdge(new x("3_13_0","2_13_0",[["2_13_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("4_12_0","4_13_0",[["4_13_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("4_12_0","4_11_0",[["4_11_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("4_12_0","5_12_0",[["5_12_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("4_12_0","3_12_0",[["3_12_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("1_0_0","1_1_0",[["1_1_0",0.99],[W,0.01]],[]));z.addEdge(new x("1_0_0","2_0_0",[["2_0_0",0.99],[W,0.01]],[]));z.addEdge(new x("1_0_0","0_0_0",[["0_0_0",0.99],[W,0.01]],[]));z.addEdge(new x("7_4_0","7_5_0",[["7_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("7_4_0","7_3_0",[["7_3_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("7_4_0","8_4_0",[["8_4_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("7_4_0","6_4_0",[["6_4_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("9_1_0","9_2_0",[["9_2_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("9_1_0","9_0_0",[["9_0_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("9_1_0","10_1_0",[["10_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("9_1_0","8_1_0",[["8_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("4_9_0","4_10_0",[["4_10_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("4_9_0","4_8_0",[["4_8_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("4_9_0","5_9_0",[["5_9_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_14_0","1_15_0",[["1_15_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_14_0","1_13_0",[["1_13_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_14_0","2_14_0",[["2_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_14_0","0_14_0",[["0_14_0",0.99],[W,0.01]],[]));z.addEdge(new x("2_10_0","2_11_0",[["2_11_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("2_10_0","3_10_0",[["3_10_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("8_7_0","8_8_0",[["8_8_0",0.99],[W,0.01]],["---------&-","-&---------"]));z.addEdge(new x("8_7_0","8_6_0",[["8_6_0",0.99],[W,0.01]],["---------&-","-&---------"]));z.addEdge(new x("8_7_0","9_7_0",[["9_7_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("8_7_0","7_7_0",[["7_7_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("11_2_0","11_3_0",[["11_3_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("11_2_0","11_1_0",[["11_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("11_2_0","12_2_0",[["12_2_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("11_2_0","10_2_0",[["10_2_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("6_7_0","6_8_0",[["6_8_0",0.99],[W,0.01]],[]));z.addEdge(new x("6_7_0","7_7_0",[["7_7_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_7_0","5_7_0",[["5_7_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("2_13_0","2_14_0",[["2_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("2_13_0","2_12_0",[["2_12_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("2_13_0","3_13_0",[["3_13_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("2_13_0","1_13_0",[["1_13_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_1_0","6_2_0",[["6_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_1_0","6_0_0",[["6_0_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("6_1_0","7_1_0",[["7_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("6_1_0","5_1_0",[["5_1_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("3_11_0","3_12_0",[["3_12_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("3_11_0","3_10_0",[["3_10_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("3_11_0","4_11_0",[["4_11_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("3_11_0","2_11_0",[["2_11_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("10_2_0","10_3_0",[["10_3_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("10_2_0","10_1_0",[["10_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("10_2_0","11_2_0",[["11_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("10_2_0","9_2_0",[["9_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("17_2_0","18_2_0",[["18_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("17_2_0","16_2_0",[["16_2_0",0.99],[W,0.01]],[]));z.addEdge(new x("16_4_0","16_3_0",[["16_3_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("16_4_0","17_4_0",[["17_4_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("16_4_0","15_4_0",[["15_4_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("8_8_0","8_9_0",[["8_9_0",0.99],[W,0.01]],["-&---------","-----&-----"]));z.addEdge(new x("8_8_0","8_7_0",[["8_7_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("8_8_0","7_8_0",[["7_8_0",0.99],[W,0.01]],["-----&-----","-&---------"]));z.addEdge(new x("10_4_0","10_5_0",[["10_5_0",0.99],[W,0.01]],["---------&-","---------&-"]));z.addEdge(new x("10_4_0","10_3_0",[["10_3_0",0.99],[W,0.01]],[]));z.addEdge(new x("10_4_0","11_4_0",[["11_4_0",0.99],[W,0.01]],[]));z.addEdge(new x("10_4_0","9_4_0",[["9_4_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("0_14_0","0_13_0",[["0_13_0",0.99],[W,0.01]],[]));z.addEdge(new x("0_14_0","1_14_0",[["1_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("2_16_0","2_15_0",[["2_15_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("2_16_0","3_16_0",[["3_16_0",0.99],[W,0.01]],[]));z.addEdge(new x("2_16_0","1_16_0",[["1_16_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("15_4_0","15_3_0",[["15_3_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("15_4_0","16_4_0",[["16_4_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("15_4_0","14_4_0",[["14_4_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("8_6_0","8_7_0",[["8_7_0",0.99],[W,0.01]],["---------&-","-&---------"]));z.addEdge(new x("8_6_0","8_5_0",[["8_5_0",0.99],[W,0.01]],["-&---------","---------&-"]));z.addEdge(new x("8_6_0","9_6_0",[["9_6_0",0.99],[W,0.01]],["-----&-----","-----&-----","-----&-----"]));z.addEdge(new x("7_5_0","7_4_0",[["7_4_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("7_5_0","8_5_0",[["8_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("7_5_0","6_5_0",[["6_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("6_10_0","6_11_0",[["6_11_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_10_0","6_9_0",[["6_9_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_10_0","7_10_0",[["7_10_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_10_0","5_10_0",[["5_10_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_8_0","6_9_0",[["6_9_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_8_0","6_7_0",[["6_7_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_8_0","7_8_0",[["7_8_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("6_8_0","5_8_0",[["5_8_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("12_2_0","12_3_0",[["12_3_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("12_2_0","12_1_0",[["12_1_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("12_2_0","13_2_0",[["13_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("12_2_0","11_2_0",[["11_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("4_13_0","4_14_0",[["4_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("4_13_0","4_12_0",[["4_12_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("4_13_0","5_13_0",[["5_13_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("4_13_0","3_13_0",[["3_13_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("3_14_0","3_15_0",[["3_15_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("3_14_0","3_13_0",[["3_13_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("3_14_0","4_14_0",[["4_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("3_14_0","2_14_0",[["2_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("11_4_0","11_5_0",[["11_5_0",0.99],[W,0.01]],["---------&-","---------&-","-----&-----"]));z.addEdge(new x("11_4_0","11_3_0",[["11_3_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("11_4_0","12_4_0",[["12_4_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("11_4_0","10_4_0",[["10_4_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("10_6_0","10_7_0",[["10_7_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("10_6_0","10_5_0",[["10_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("10_6_0","11_6_0",[["11_6_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("10_6_0","9_6_0",[["9_6_0",0.99],[W,0.01]],["-----&-----","-&---------"]));z.addEdge(new x("0_13_0","0_14_0",[["0_14_0",0.99],[W,0.01]],[]));z.addEdge(new x("0_13_0","0_12_0",[["0_12_0",0.99],[W,0.01]],[]));z.addEdge(new x("0_13_0","1_13_0",[["1_13_0",0.99],[W,0.01]],[]));z.addEdge(new x("11_5_0","11_6_0",[["11_6_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("11_5_0","11_4_0",[["11_4_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("11_5_0","12_5_0",[["12_5_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("11_5_0","10_5_0",[["10_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("8_9_0","8_8_0",[["8_8_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("8_9_0","7_9_0",[["7_9_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("9_7_0","9_6_0",[["9_6_0",0.99],[W,0.01]],["-----&-----","-----&-----","---------&-","-----&-----"]));z.addEdge(new x("2_14_0","2_15_0",[["2_15_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("2_14_0","2_13_0",[["2_13_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("2_14_0","3_14_0",[["3_14_0",0.99],[W,0.01]],["-----&-----","-&---------"]));z.addEdge(new x("2_14_0","1_14_0",[["1_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("9_5_0","9_6_0",[["9_6_0",0.99],[W,0.01]],["-----&-----","-&---------"]));z.addEdge(new x("9_5_0","9_4_0",[["9_4_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("9_5_0","10_5_0",[["10_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("9_5_0","8_5_0",[["8_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("12_5_0","12_6_0",[["12_6_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("12_5_0","12_4_0",[["12_4_0",0.99],[W,0.01]],[]));z.addEdge(new x("12_5_0","17_5_0",[["17_5_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("12_5_0","11_5_0",[["11_5_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("10_5_0","10_6_0",[["10_6_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("10_5_0","10_4_0",[["10_4_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("10_5_0","11_5_0",[["11_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("10_5_0","9_5_0",[["9_5_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("1_15_0","1_16_0",[["1_16_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_15_0","1_14_0",[["1_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("1_15_0","2_15_0",[["2_15_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("12_4_0","12_5_0",[["12_5_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("12_4_0","12_3_0",[["12_3_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("12_4_0","13_4_0",[["13_4_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("12_4_0","11_4_0",[["11_4_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("3_16_0","3_15_0",[["3_15_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("3_16_0","4_16_0",[["4_16_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("3_16_0","2_16_0",[["2_16_0",0.99],[W,0.01]],[]));z.addEdge(new x("9_6_0","9_7_0",[["9_7_0",0.99],[W,0.01]],["-----&-----","---------&-","-----&-----"]));z.addEdge(new x("9_6_0","10_6_0",[["10_6_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("9_6_0","8_6_0",[["8_6_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("2_15_0","2_16_0",[["2_16_0",0.99],[W,0.01]],[]));z.addEdge(new x("2_15_0","2_14_0",[["2_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("2_15_0","3_15_0",[["3_15_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("2_15_0","1_15_0",[["1_15_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("4_16_0","4_15_0",[["4_15_0",0.99],[W,0.01]],[]));z.addEdge(new x("4_16_0","3_16_0",[["3_16_0",0.99],[W,0.01]],[]));z.addEdge(new x("7_9_0","7_10_0",[["7_10_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("7_9_0","7_8_0",[["7_8_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("7_9_0","8_9_0",[["8_9_0",0.99],[W,0.01]],[]));z.addEdge(new x("7_9_0","6_9_0",[["6_9_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("5_14_0","5_15_0",[["5_15_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("5_14_0","5_13_0",[["5_13_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_14_0","6_14_0",[["6_14_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("5_14_0","4_14_0",[["4_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_13_0","5_14_0",[["5_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_13_0","5_12_0",[["5_12_0",0.99],[W,0.01]],[]));z.addEdge(new x("5_13_0","4_13_0",[["4_13_0",0.99],[W,0.01]],[]));z.addEdge(new x("4_14_0","4_15_0",[["4_15_0",0.99],[W,0.01]],[]));z.addEdge(new x("4_14_0","4_13_0",[["4_13_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("4_14_0","5_14_0",[["5_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("4_14_0","3_14_0",[["3_14_0",0.99],[W,0.01]],["-----&-----","-&---------"]));z.addEdge(new x("10_7_0","10_6_0",[["10_6_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("10_7_0","9_7_0",[["9_7_0",0.99],[W,0.01]],["---------&-","-&---------"]));z.addEdge(new x("4_15_0","4_16_0",[["4_16_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("4_15_0","4_14_0",[["4_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("4_15_0","5_15_0",[["5_15_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("4_15_0","3_15_0",[["3_15_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_11_0","5_12_0",[["5_12_0",0.99],[W,0.01]],[]));z.addEdge(new x("5_11_0","5_10_0",[["5_10_0",0.99],[W,0.01]],[]));z.addEdge(new x("5_11_0","6_11_0",[["6_11_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("5_11_0","4_11_0",[["4_11_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("16_1_0","16_2_0",[["16_2_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("16_1_0","15_1_0",[["15_1_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("11_6_0","11_5_0",[["11_5_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("11_6_0","12_6_0",[["12_6_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("11_6_0","10_6_0",[["10_6_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("18_2_0","18_3_0",[["18_3_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("18_2_0","17_2_0",[["17_2_0",0.99],[W,0.01]],["-&---------","-----&-----"]));z.addEdge(new x("12_6_0","12_5_0",[["12_5_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("12_6_0","11_6_0",[["11_6_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_9_0","6_10_0",[["6_10_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_9_0","6_8_0",[["6_8_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_9_0","7_9_0",[["7_9_0",0.99],[W,0.01]],[]));z.addEdge(new x("6_9_0","5_9_0",[["5_9_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("3_15_0","3_16_0",[["3_16_0",0.99],[W,0.01]],[]));z.addEdge(new x("3_15_0","3_14_0",[["3_14_0",0.99],[W,0.01]],["-----&-----","-&---------"]));z.addEdge(new x("3_15_0","4_15_0",[["4_15_0",0.99],[W,0.01]],[]));z.addEdge(new x("3_15_0","2_15_0",[["2_15_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("7_10_0","7_9_0",[["7_9_0",0.99],[W,0.01]],[]));z.addEdge(new x("7_10_0","6_10_0",[["6_10_0",0.99],[W,0.01]],["-----&-----","---------&-"]));z.addEdge(new x("6_15_0","6_14_0",[["6_14_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("6_15_0","5_15_0",[["5_15_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("5_15_0","5_14_0",[["5_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("5_15_0","6_15_0",[["6_15_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("5_15_0","4_15_0",[["4_15_0",0.99],[W,0.01]],[]));z.addEdge(new x("18_3_0","18_2_0",[["18_2_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("13_4_0","13_3_0",[["13_3_0",0.99],[W,0.01]],["-----&-----","-----&-----"]));z.addEdge(new x("13_4_0","14_4_0",[["14_4_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("13_4_0","12_4_0",[["12_4_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_14_0","6_15_0",[["6_15_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_14_0","6_12_0",[["6_12_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_14_0","5_14_0",[["5_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_11_0","6_12_0",[["6_12_0",0.99],[W,0.01]],[]));z.addEdge(new x("6_11_0","6_10_0",[["6_10_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("6_11_0","5_11_0",[["5_11_0",0.99],[W,0.01]],["---------&-"]));z.addEdge(new x("14_4_0","14_3_0",[["14_3_0",0.99],[W,0.01]],["---------&-","-&---------"]));z.addEdge(new x("14_4_0","15_4_0",[["15_4_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("14_4_0","13_4_0",[["13_4_0",0.99],[W,0.01]],["-&---------"]));z.addEdge(new x("6_12_0","6_14_0",[["6_14_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_12_0","6_11_0",[["6_11_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("6_12_0","5_12_0",[["5_12_0",0.99],[W,0.01]],[]));z.addEdge(new x("1_17_0","1_16_0",[["1_16_0",0.99],[W,0.01]],["-----&-----"]));z.addEdge(new x("7_10_0","end",[["end",0.99],[W,0.01]],[]));var LZ={"2_8_0":["XX----------XXX","XX----------XXX","XX---XX-----XXX","XX-#-XXXX---XXX","XX-----XX------","XXXX---XX------","XXXX---XX-----#","XXXX--#XX---XXX","XXXX---XX---XXX","-------XX---XXX","&------XX---XXX"],"13_1_0":["----^^^^^^^^^^^","---------------","---------------","----------X----","----------X-&-&","----------XXXXX","-#--------X-*#*","----------X----","---------------","---------------","----^^^^^^^^^^^"],"1_5_0":["XX-------------","XX-------------","XX---XX--------","XX-#-XXXX------","XX-----XX------","XXXX---XX---&--","XXXX---XX------","XXXX--#XX------","XXXX---XX------","-------XX------","&------XX------"],"6_4_0":["--------X------","--------X------","X-------X---^--","XXX-----X---^--","-XX---------^--","-XX---------^--","-XX-----#-#-#-#","#XX--#---------","-XX------------","-XX-----XXXXXXX","-XX-----XXXXXXX"],"0_8_0":["XX--------XXX--","XX--------XXX--","XX---XX---XXX--","XX-#-XX---XXX--","XX--------XXX--","XXXX----XXXXXXX","XXXX----XXXXXXX","XXXX----XXXXXXX","XXXX----XXXXXXX","---------------","&----------&---"],"6_5_0":["------X--^^^^^^","------X----X--X","X-----X----X--X","XXX---X----X--X","-XX--------X--X","-XX--------X--X","-XX--------X--X","#XX---X----X--X","-XX---X----X--X","-XX---X--------","-XX---X--^^^^^^"],"17_5_0":["^^^^^^^^^^^^^^^","----X----------","-X--X-------X--","XX--X--XXX--XX-","XX--X--X*X--XXX","#*--X--X&---*#X","XX--X--X*X--XXX","XX--X--XXX--XX-","-X--X-------X--","---------------","^^^^^^^^^^^^^^^"],"4_0_0":["---------------","---------------","---------------","---X--------#--","---X-----------","XXXX-----------","#*-X-----------","---X--#--------","---------#-----","---------------","---------------"],"12_3_0":["-----^^^^^^^^^^","---------------","X--------------","XXX-------X----","-XX-------X-&-&","-XX-------XXXXX","-XX-------X-*#*","#XX-------X----","-XX------------","-XX------------","-XX--^^^^^^^^^^"],"2_4_0":["-------------XX","-------------XX","X------------XX","XXX----------XX","-XX----------XX","-XX----------XX","-XX----------XX","#XX--#-------XX","-XX-----#----XX","-XX------------","-XX------------"],"2_6_0":["XX-------------","XX-------------","XX---XX--------","XX-#-XXXX-----X","XX-----XX-----X","XXXX---XX-----X","XXXX---XX-----X","XXXX--#XX-----X","XXXX---XX--#---","-------XX------","&------XX------"],"8_3_0":["----------^^^^^","---------------","X-----------X--","XXX---------XX-","-XX---------XXX","-XX---------*#X","-XX---------XXX","#XX--#------XX-","-XX---------X--","-XX------------","-XX-------^^^^^"],"15_1_0":["-^^^^^^^^^^^^^^","---------------","---------------","----------X----","----------X-&-&","----------XXXXX","----------X-*#*","----------X----","---------------","---------------","-^^^^^^^^^^^^^^"],"11_3_0":["------^^^^^^^^^","---------------","X--------------","XXX-------X----","-XX-------X-&-&","-XX-------XXXXX","-XX-------X-*#*","#XX-------X----","-XX------------","-XX------------","-XX---^^^^^^^^^"],"2_1_0":["-----------XX--","---------------","---------------","---X-----------","---X-----------","XXXX-----------","#*-X-----------","---X--#--------","---------------","---------------","-----------XX--"],"13_3_0":["----^^^^^^^^^^^","------*#X--X--X","------XXX--X--X","------XX---X--X","------X----X--X","------X----X-#X","-#----X----X--X","------X----X--X","------X----X--X","---------------","----^^^^^^^^^^^"],"4_6_0":["XX----------^^^","XX-------------","XX---XX--------","XX-#-XXXX-----X","XX-----XX-----X","XXXX---XX-----X","XXXX---XX-----X","XXXX--#XX-----X","XXXX---XX------","-------XX------","&------XX---^^^"],"4_3_0":["--------------X","--------------X","X-------------X","XXX-----------X","-XX-----------X","-XX--------#--X","-XX-----------X","#XX--#--------X","-XX-----#-----X","-XX------------","-XX--------*---"],"14_2_0":["---^^^^^^^^^^^^","---------------","--------------X","-----X-----X--X","-----X-&-&-X--X","-----XXXXXXX--*","-----X-*#*-X--X","-----X-----X--X","--------------X","---------------","---^^^^^^^^^^^^"],"1_4_0":["-------------XX","-------------XX","X------------XX","XXX----------XX","-XX----------XX","-XX----------XX","-XX----------XX","#XX--#-------XX","-XX----------XX","-XX------------","-XX------------"],"5_1_0":["---------------","---------------","---------------","---X----------X","---X---------^X","XXXX--------^^X","#*-X---------^X","---X--#-------X","---------#-----","---------------","---------------"],"3_12_0":["-----XXXXXXXXXX","-----XXXXXXXXXX","X----XXXXXXXXXX","XXX--XXXXXXXXXX","-XX----------#X","-XX-----------X","-XX----#--#----","#XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX"],"3_4_0":["------------XX-","------------XX-","X-----------XX-","XXX---------XX#","-XX---------XX-","-XX---------XX-","-XX---------XX-","#XX--#------XXX","-XX-----#-----X","-XX------------","-XX------------"],"4_4_0":["------------X--","---------------","X-----------X--","XXX---------XX-","-XX---------XXX","-XX---------*#X","-XX---------XXX","#XX--#------XX-","-XX-----#---X--","-XX------------","-XX---------X--"],"8_4_0":["---------^^^^^^","-----------X--X","X----------X--X","XXX--------X--X","-XX--------X--X","-XX--------X-#X","-XX--------X--X","#XX--#-----X--X","-XX--------X--X","-XX------------","-XX------^^^^^^"],"6_3_0":["-----------^^^^","-------------X-","X------------X-","XXX----------X-","-XX----------X-","-XX----------X-","-XX----------X-","#XX--#-------X-","-XX-----#----X-","-XX------------","-XX--------^^^^"],"1_10_0":["XX---------XXXX","XX---------XXXX","XX---XX----XXXX","XX-#-XXXX--XXXX","XX-----XX--XXX-","XXXX---XX--XX--","XXXX---XX------","XXXX--#XX--XXXX","XXXX---XX--XXXX","-------XX--XXXX","&------XX--XXXX"],"5_3_0":["------------^^^","--------------X","X-------------X","XXX-----------X","-XX-----------X","-XX-----------X","-XX-----------X","#XX--#--------X","-XX-----#-----X","-XX------------","-XX---------^^^"],"3_5_0":["XX-------------","XX-------------","XX---XX-------&","XX-#-XXXX------","XX-----XX------","XXXX---XX--#---","XXXX---XX------","XXXX--#XX------","XXXX---XX------","-------XX------","&------XX--*---"],"13_0_0":["--^^^^^^^^^^^^^","---------------","---------------","-----------X---","-----------X-&-","-----------XXXX","-----------X-*#","-----------X---","---------------","---------------","--^^^^^^^^^^^^^"],"2_12_0":["------XXXXXXXXX","------XXXXXXXXX","X-----XXXXXXXXX","XXX---XXXXXXXXX","-XX-----#XXXXX-","-XX------XXXXX-","-XX-------*----","#XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX"],"17_4_0":["^^^^^^^^^^^^^^^","--X--X--X--X--X","--X--X--X--X--X","--X--X--X--X--X","--X--X--X--X--X","-#X-#X-#X-#X-#X","--X--X--X--X--X","--X--X--X--X--X","--X--X--X--X--X","---------------","^^^^^^^^^^^^^^^"],"8_2_0":["---------^^^^^^","--------------*","X--------------","XXX----------^^","-XX--------^^^^","-XX-----------&","-XX--------^^^^","#XX--#-------^^","-XX------------","-XX-----------*","-XX------^^^^^^"],"3_1_0":["------------XX-","---------------","---------------","---X-----------","---X-----------","XXXX-----------","#*-X-----------","---X--#--------","---------#-----","---------------","------------XX-"],"0_1_0":["---------------","------------X--","------------X--","------------X--","------------X--","-----------&X-&","------------X--","-*----------X--","------------X--","------------X--","------------X--"],"9_3_0":["--------^^^^^^^","---------------","X-----------X--","XXX---------XX-","-XX---------XXX","-XX---------*#X","-XX---------XXX","#XX--#------XX-","-XX---------X--","-XX------------","-XX-----^^^^^^^"],"0_4_0":["-------------XX","-------------XX","X------------XX","XXX----------XX","-XX----------XX","-XX----------XX","-XX----------XX","#XX----------XX","-XX----------XX","-XX------------","-XX------------"],"0_3_0":["---------------","------------X--","X-----------X--","XXX---------X--","-XX---------X--","-XX--------&X-&","-XX---------X--","#XX---------X--","-XX---------X--","-XX---------X--","-XX---------X--"],"1_2_0":["---------------","---------------","X--------------","XXX------------","-XX------------","-XX-----------&","-XX------------","#XX--#---------","-XX------------","-XX------------","-XX------------"],"2_3_0":["---------------","------------X--","X-----------X--","XXX---------X--","-XX---------X--","-XX--------&X-&","-XX---------X--","#XX--#------X--","-XX-----#---X--","-XX---------X--","-XX---------X--"],"7_7_0":["-*XXXXXXXXXXXXX","--XXXXXXX-----*","--XXXXXX-------","--XXXXX------^^","-----------^^^^","-#------------&","----#------^^^^","--XXXXX------^^","--XXXXXX-------","--XXXXXXX-----*","--XXXXXXXXXXXXX"],"13_2_0":["----^^^^^^^^^^^","---------------","-------------X-","--------XXX--XX","--------X*X--XX","--------X&---*#","--------X*X--XX","-*------XXX--XX","-------------X-","---------------","----^^^^^^^^^^^"],"0_2_0":["---------------","---------------","X--------------","XXX------------","-XX------------","-XX-----------&","-XX------------","#XX------------","-XX------------","-XX------------","-XX------------"],"4_5_0":["XX-------------","XX-------------","XX---XX--------","XX-#-XXXX-----#","XX-----XX------","XXXX---XX--#---","XXXX---XX------","XXXX--#XX------","XXXX---XX------","-------XX------","&------XX--*---"],"4_1_0":["------------XXX","---------------","---------------","---X-----------","---X----------^","XXXX-----------","#*-X----------^","---X--#--------","---------#-----","---------------","------------XXX"],"0_9_0":["XX---------XXXX","XX---------XXXX","XX---XX----XXXX","XX-#-XXXX--XXXX","XX-----XX--XXXX","XXXX---XX--XXXX","XXXX---XX--XXXX","XXXX---XX--XXXX","XXXX---XX------","-------XX------","&------XX--XXXX"],"3_2_0":["---------------","---------------","X--------------","XXX------------","-XX------------","-XX-----------&","-XX------------","#XX--#---------","-XX-----#--#---","-XX------------","-XX------------"],"6_2_0":["-------------&-","------------^^^","X-----------^^^","XXX---------^^^","-XX---------^^^","-XX---------^^^","-XX---------^^^","#XX--#------^^^","-XX-----#---^^^","-XX---------^^^","-XX----------*-"],"9_0_0":["------^^^^^^^^^","---------------","---------------","---X-----------","---X-----------","XXXX-----------","#*-X-----------","---X-----------","---------------","---------------","------^^^^^^^^^"],"8_0_0":["---------^^^^^^","---------------","---------------","---X-----------","---X-----------","XXXX-----------","#*-X-----------","---X--#--------","---------------","---------------","---------^^^^^^"],"5_8_0":["-----XXXXXX---&","-----XXXXXX--^^","X----XXXXXX--^^","XXX--XXXXXX--^^","-XX----*-----^^","-XX----------^^","-XX-----#----^^","#XX--XXXXXX--^^","-XX--XXXXXX--^^","-XX--XXXXXX--^^","-XX--XXXXXX---*"],"1_9_0":["XX---------XXXX","XX---------XXXX","XX---XX----XXXX","XX-#-XXXX--XXXX","XX-----XX--XXXX","XXXX---XX--XXXX","XXXX---XX--XXXX","XXXX--#XX--XXXX","XXXX---XX------","-------XX------","&------XX--XXXX"],"2_11_0":["XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX-#-","XX--XXX--XXX---","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","XXXXXXXXXX*XXX-","---------------","&----&----#----"],"0_5_0":["XX-------------","XX-------------","XX---XX--------","XX-#-XXXX------","XX-----XX------","XXXX---XX-----&","XXXX---XX------","XXXX---XX------","XXXX---XX------","-------XX------","&------XX------"],"14_1_0":["--^^^^^^^^^^^^^","---------------","---------------","----------X----","----------X-&-&","----------XXXXX","----------X-*#*","----------X----","---------------","---------------","--^^^^^^^^^^^^^"],"7_1_0":["----------^^^^^","---------------","---------------","---X----------X","---X----------X","XXXX----------X","#*-X----------X","---X--#-------X","---------------","---------------","----------^^^^^"],"1_16_0":["-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","----#XXXXXXXXXX","-----XXXXXXXXXX","------*--------","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX"],"14_0_0":["-^^^^^^^^^^^^^^","---------------","---------------","-----------X---","-----------X-&-","-----------XXXX","-----------X-*#","-----------X---","---------------","---------------","-^^^^^^^^^^^^^^"],"3_3_0":["---------------","-----------^---","X--------------","XXX--------^--X","-XX-----------X","-XX--------^--X","-XX-----------X","#XX--#-----^--X","-XX-----#-----X","-XX--------^--X","-XX-----------X"],"3_7_0":["XX----------X--","XX-------------","XX---XX-----X--","XX-#-XXXX---XX-","XX-----XX---XXX","XXXX---XX---*#X","XXXX---XX---XXX","XXXX--#XX---XX-","XXXX---XX---X--","-------XX------","&------XX---X--"],"1_13_0":["---XXXXXXXXXXXX","---XXXXXXXXXXXX","---XXXXXXXXXXXX","---XXXXXXXXXXXX","-----#XXXXXXX--","------XXXXXX---","-------*-------","---XXXXXXXXXXXX","---XXXXXXXXXXXX","---XXXXXXXXXXXX","---XXXXXXXXXXXX"],"12_0_0":["----^^^^^^^^^^^","---------------","---------------","-----------X---","-----------X-&-","-----------XXXX","-----------X-*#","-*---------X---","---------------","---------------","----^^^^^^^^^^^"],"5_10_0":["----XXXXXXXXXXX","----XXXXXXXXXXX","----XXXXXXXXXXX","----XXXXXXXXXXX","------*------*-","---------------","-#-----#--#---#","----XXXXXXXXXXX","----XXXXXXXXXXX","----XXXXXXXXXXX","----XXXXXXXXXXX"],"16_2_0":["^^^^^^^^^^^^^^^","---------------","---------------","--------X-----X","--------X-&-&-X","--------XXXXXXX","--------X-*#*-X","X-------X-----X","XX-------------","#X-------------","^^^^^^^^^^^^^^^"],"11_1_0":["------^^^^^^^^^","---------X--X--","---------X--X--","---------X--X--","---#-----X--X--","---------X-#X-#","---------X--X--","-*-------X--X--","---------X--X--","---------------","------^^^^^^^^^"],"0_10_0":["XX---------XXXX","XX---------XXXX","XX---XX----XXXX","XX-#-XXXX--XXXX","XX-----XX--XXX-","XXXX---XX--XX--","XXXX---XX------","XXXX---XX--XXXX","XXXX---XX--XXXX","-------XX--XXXX","&------XX--XXXX"],"7_2_0":["---------^^^^^^","---------------","X--------------","XXX------------","-XX------------","-XX------------","-XX------------","#XX--#---------","-XX------------","-XX------------","-XX------^^^^^^"],"4_10_0":["------XXXXXXXXX","------XXXXXXXXX","X-----XXXXXXXXX","XXX---XXXXXXXXX","-XX-----*---*--","-XX------------","-XX------#---#-","#XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX"],"1_1_0":["-----------XX--","---------------","---------------","---X-----------","---X-----------","XXXX-----------","#*-X-----------","---X-----------","---------------","---------------","-----------XX--"],"7_0_0":["-------------&-","------------^^^","------------^^^","---X--------^^^","---X--------^^^","XXXX--------^^^","#*-X--------^^^","---X--#-----^^^","---------#--^^^","------------^^^","-------------*-"],"5_5_0":["XX-----------&-","XX----------^^^","XX---XX-----^^^","XX-#-XXXX---^^^","XX-----XX---^^^","XXXX---XX---^^^","XXXX---XX---^^^","XXXX--#XX---^^^","XXXX---XX---^^^","-------XX---^^^","&------XX----*-"],"0_6_0":["XX-------------","XX----------X--","XX---XX-----X--","XX-#-XXXX---X--","XX-----XX---X--","XXXX---XX--&X-&","XXXX---XX---X--","XXXX---XX---X--","XXXX---XX---X--","-------XX---X--","&------XX---X--"],"4_7_0":["XX---------X---","XX---------X---","XX---XX----X--^","XX-#-XXXX--X--^","XX-----XX-----^","XXXX---XX-----^","XXXX---XX--#-#-","XXXX--#XX------","XXXX---XX------","-------XX--XXXX","&------XX--XXXX"],"1_3_0":["---------------","------------X--","X-----------X--","XXX---------X--","-XX---------X--","-XX--------&X-&","-XX---------X--","#XX--#------X--","-XX---------X--","-XX---------X--","-XX---------X--"],"6_6_0":["XX---------^^^^","XX-------------","XX---XX-------X","XX-#-XXXX-----X","XX-----XX-----X","XXXX---XX-----*","XXXX---XX-----X","XXXX--#XX-----X","XXXX---XX-----X","-------XX------","&------XX--^^^^"],"1_6_0":["XX-------------","XX----------X--","XX---XX-----X--","XX-#-XXXX---X--","XX-----XX---X--","XXXX---XX--&X-&","XXXX---XX---X--","XXXX--#XX---X--","XXXX---XX---X--","-------XX---X--","&------XX---X--"],"5_2_0":["---------------","---------------","X--------------","XXX-----------#","-XX------------","-XX--------#---","-XX------------","#XX--#---------","-XX-----#------","-XX------------","-XX--------*---"],"10_0_0":["------^^^^^^^^^","--------------*","---------------","---X---------^^","---X-------^^^^","XXXX----------&","#*-X-------^^^^","---X---------^^","---------------","--------------*","------^^^^^^^^^"],"3_0_0":["---------------","---------------","---------------","---X-----------","---X-----------","XXXX--------&--","#*-X-----------","---X--#--------","---------#-----","---------------","---------------"],"4_8_0":["--------XXXXXXX","--------XXXXXXX","X-------XXXXXXX","XXX-----XXXXXXX","-XX----------*-","-XX------------","-XX-------#---#","#XX--#--XXXXXXX","-XX-----XXXXXXX","-XX-----XXXXXXX","-XX-----XXXXXXX"],"7_3_0":["-----------^^^^","---------------","X--------------","XXX----------XX","-XX----------X*","-XX----------X&","-XX----------X*","#XX--#-------XX","-XX-----#------","-XX------------","-XX--------^^^^"],"15_0_0":["^^^^^^^^^^^^^^^","--------------*","---------------","-------------^^","-----------^^^^","--------------&","-----------^^^^","X------------^^","XX-------------","#X------------*","^^^^^^^^^^^^^^^"],"0_12_0":["--XXXXX--XXXXXX","--XXXXX--XXXXXX","--XXXXX--XXXXXX","--XXXXX--XXXXXX","---------XXXXXX","---------XXXXX-","---------------","--XXXXX--XXXXXX","--XXXXX--XXXXXX","--XXXXX--XXXXXX","--XXXXX--XXXXXX"],"12_1_0":["----^^^^^^^^^^^","---------X--X--","---------X--X--","---------X--X--","---------X--X--","---------X-#X-#","---------X--X--","-*-------X--X--","---------X--X--","---------------","----^^^^^^^^^^^"],"2_5_0":["XX-------------","XX-------------","XX---XX--------","XX-#-XXXX------","XX-----XX------","XXXX---XX-----&","XXXX---XX------","XXXX--#XX------","XXXX---XX--#---","-------XX------","&------XX------"],"4_2_0":["---------------","---------------","X--------------","XXX------------","-XX------------","-XX--------#---","-XX------------","#XX--#---------","-XX-----#------","-XX------------","-XX--------*---"],"2_9_0":["XX---------XXXX","XX---------XXXX","XX---XX----XXXX","XX-#-XXXX--XXXX","XX-----XX------","XXXX---XX------","XXXX---XX----#-","XXXX--#XX--XXXX","XXXX---XX--XXXX","-------XX--XXXX","&------XX--XXXX"],"5_7_0":["-----XXXXX---&-","-----XXXXX--^^^","X----XXXXX--^^^","XXX--XXXXX--^^^","-XX---------^^^","-XX---------^^^","-XX----#----^^^","#XX--XXXXX--^^^","-XX--XXXXX--^^^","-XX--XXXXX--^^^","-XX--XXXXX---*-"],"5_0_0":["---------------","---------------","---------------","---X--------#--","---X-----------","XXXX-----#-----","#*-X-----------","---X--#--------","---------------","---------------","---------*-----"],"15_2_0":["--^^^^^^^^^^^^^","---------------","--------------X","-----X-----X--X","-----X-&-&-X--X","-----XXXXXXX--*","-----X-*#*-X--X","-----X-----X--X","--------------X","---------------","--^^^^^^^^^^^^^"],"8_1_0":["----------^^^^^","------------X--","------------X--","---X--------X--","---X--------X--","XXXX--------X-#","#*-X--------X--","---X--#-----X--","------------X--","---------------","----------^^^^^"],"0_7_0":["XX-------------","XX-------------","XX---XX----XX--","XX-#-XX----XXXX","XX-----------XX","XXXX----XX---XX","XXXX----XX---XX","XXXX----XX---XX","XXXX----XX---XX","-------------XX","&------------XX"],"1_7_0":["XX-----------XX","XX-----------XX","XX---XX------XX","XX-#-XXXX----XX","XX-----XX----XX","XXXX---XX----XX","XXXX---XX----XX","XXXX--#XX----XX","XXXX---XX----XX","-------XX------","&------XX------"],"3_10_0":["-------XXXXXXXX","-------XXXXXXXX","X------XXXXXXXX","XXX----XXXXXXXX","-XX---------#XX","-XX----------XX","-XX------#----*","#XX----XXXXXXXX","-XX----XXXXXXXX","-XX----XXXXXXXX","-XX----XXXXXXXX"],"0_0_0":["---------XX----","---------------","---------------","---------------","---------------","---------------","-#-------------","---------------","---------------","---------------","---------XX----"],"10_3_0":["--------^^^^^^^","---------------","X--------------","XXX-------X----","-XX-------X-&-&","-XX-------XXXXX","-XX-------X-*#*","#XX--#----X----","-XX------------","-XX------------","-XX-----^^^^^^^"],"5_4_0":["---------X-----","---------X-----","X--------X---^-","XXX------X---^-","-XX----------^-","-XX----------^-","-XX------#-#-#-","#XX--#---------","-XX------------","-XX------XXXXXX","-XX------XXXXXX"],"2_2_0":["---------------","---------------","X--------------","XXX------------","-XX------------","-XX-----------&","-XX------------","#XX--#---------","-XX-----#------","-XX------------","-XX------------"],"3_9_0":["XX---------XXXX","XX---------XXXX","XX---XX----XXXX","XX-#-XXXX--XXXX","XX-----XX----*-","XXXX---XX------","XXXX---XX-----#","XXXX--#XX--XXXX","XXXX---XX--XXXX","-------XX--XXXX","&------XX--XXXX"],"6_0_0":["--------------&","-------------^^","-------------^^","---X---------^^","---X---------^^","XXXX---------^^","#*-X---------^^","---X--#------^^","---------#---^^","-------------^^","--------------*"],"5_6_0":["XX----------^^^","XX-------------","XX---XX-------X","XX-#-XXXX-----X","XX-----XX-----X","XXXX---XX-----*","XXXX---XX-----X","XXXX--#XX-----X","XXXX---XX-----X","-------XX------","&------XX---^^^"],"3_6_0":["XX------------X","XX------------X","XX---XX-------X","XX-#-XXXX-----X","XX-----XX-----X","XXXX---XX--#--X","XXXX---XX-----X","XXXX--#XX-----X","XXXX---XX-----X","-------XX------","&------XX--*---"],"2_7_0":["XX----------XX-","XX----------XX-","XX---XX-----XX-","XX-#-XXXX---XX#","XX-----XX---XX-","XXXX---XX---XX-","XXXX---XX---XX-","XXXX--#XX---XXX","XXXX---XX-----X","-------XX------","&------XX------"],"15_3_0":["--^^^^^^^^^^^^^","----*#X--X--X--","----XXX--X--X--","----XX---X--X--","----X----X--X--","----X----X-#X-#","----X----X--X--","----X----X--X--","----X----X--X--","---------------","--^^^^^^^^^^^^^"],"4_11_0":["------XXXXXXXXX","------XXXXXXXXX","X-----XXXXXXXXX","XXX---XXXXXXXXX","-XX-----*---#XX","-XX----------XX","-XX------#----*","#XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX"],"9_4_0":["-------^^^^^^^^","---------------","X-------------X","XXX------XXX--X","-XX------X*X--X","-XX------X&---*","-XX------X*X--X","#XX------XXX--X","-XX-----------X","-XX------------","-XX----^^^^^^^^"],"11_0_0":["------^^^^^^^^^","---------------","---------------","-----------X---","---#-------X-&-","-----------XXXX","-----------X-*#","-*---------X---","---------------","---------------","------^^^^^^^^^"],"5_9_0":["-*XXXXXXXXXXXXX","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","-------------^^","-#------------&","----#---#----^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXXXXXX"],"5_12_0":["-*XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","-------------*-","-#-----&-------","----#-----#---#","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"8_5_0":["------^^^^^^^^^","--------X--X--X","X-------X--X--X","XXX-----X--X--X","-XX-----X--X--X","-XX-----X--X--X","-XX-----X--X--X","#XX-----X--X--X","-XX-----X--X--X","-XX------------","-XX---^^^^^^^^^"],"1_11_0":["XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","XXXXXXXXXX*XXX-","---------------","&----&----#----"],"2_0_0":["---------------","---------------","---------------","---X-----------","---X-----------","XXXX----------&","#*-X-----------","---X--#--------","---------------","---------------","---------------"],"14_3_0":["--^^^^^^^^^^^^^","------*#X--X--X","------XXX--X--X","------XX---X--X","------X----X--X","------X----X-#X","------X----X--X","------X----X--X","------X----X--X","---------------","--^^^^^^^^^^^^^"],"7_8_0":["-*XXXXXXXXX---&","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","-------*-----^^","-#-----------^^","----#---#----^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX---*"],"3_8_0":["XX---------XXXX","XX---------XX--","XX---XX----XX--","XX-#-XXXX--XX--","XX-----XX------","XXXX---XX------","XXXX---XX------","XXXX--#XX--XX--","XXXX---XX--XX--","-------XX--XX*#","&------XX--XXXX"],"1_8_0":["XX----------XXX","XX----------XXX","XX---XX-----XXX","XX-#-XXXX---XXX","XX-----XX---XXX","XXXX---XX---XXX","XXXX---XX---XXX","XXXX--#XX---XXX","XXXX---XX------","-------XX------","&------XX---XXX"],"7_6_0":["XX---------^^^^","XX-------------","XX---XX------X-","XX-#-XXXX----XX","XX-----XX----XX","XXXX---XX----*#","XXXX---XX----XX","XXXX--#XX----XX","XXXX---XX----X-","-------XX------","&------XX--^^^^"],"1_12_0":["-----XXXXXXXXXX","-----XXXXXXXXXX","X----XXXXXXXXXX","XXX--XXXXXXXXXX","-XX----&--&--#X","-XX-----------X","-XX------------","#XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX"],"10_1_0":["------^^^^^^^^^","------------X--","------------X--","---X--------X--","---X--------X--","XXXX--------X-#","#*-X--------X--","---X--------X--","------------X--","---------------","------^^^^^^^^^"],"0_11_0":["XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XX--XXX--XXX---","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","XXXXXXXXXXXXXX-","---------------","&----&----&----"],"16_3_0":["^^^^^^^^^^^^^^^","---------------","-------------X-","--------XXX--XX","--------X*X--XX","--------X&---*#","--------X*X--XX","X-------XXX--XX","XX-----------X-","#X-------------","^^^^^^^^^^^^^^^"],"9_2_0":["------^^^^^^^^^","--------------*","X--------------","XXX----------^^","-XX--------^^^^","-XX-----------&","-XX--------^^^^","#XX----------^^","-XX------------","-XX-----------*","-XX---^^^^^^^^^"],"3_13_0":["-*XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","-----#XXXX-----","-#----XXXX--&--","-------*-------","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"4_12_0":["-----XXXXXXXXXX","-----XXXXXXXXXX","X----XXXXXXXXXX","XXX--XXXXXXXXXX","-XX----*---#XXX","-XX---------XXX","-XX-----#----*-","#XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX"],"1_0_0":["---------------","---------------","---------------","---X-----------","---X-----------","XXXX----------&","#*-X-----------","---X-----------","---------------","---------------","---------------"],"7_4_0":["---------^^^^^^","-----------X--X","X----------X--X","XXX--------X--X","-XX--------X--X","-XX--------X--X","-XX--------X--X","#XX--#-----X--X","-XX--------X--X","-XX------------","-XX------^^^^^^"],"9_1_0":["------^^^^^^^^^","---------------","---------------","---X----------X","---X----------X","XXXX----------X","#*-X----------X","---X----------X","---------------","---------------","------^^^^^^^^^"],"4_9_0":["-------XXXXXXXX","-------XXXXXXXX","X------XXXXXXXX","XXX----XXXXXXXX","-XX------*---*-","-XX------------","-XX-------#---#","#XX----XXXXXXXX","-XX----XXXXXXXX","-XX----XXXXXXXX","-XX----XXXXXXXX"],"1_14_0":["--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","----#XXXXXXXX--","-----XXXXXXX---","------*--------","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"2_10_0":["-------XXXXXXXX","-------XXXXXXXX","X------XXXXXXXX","XXX----XXXXXXXX","-XX---------#XX","-XX------&---XX","-XX-----------*","#XX----XXXXXXXX","-XX----XXXXXXXX","-XX----XXXXXXXX","-XX----XXXXXXXX"],"8_7_0":["-*XXXXXXXXXXXXX","--XXXXXX-----*-","--XXXXXX-------","--XXXXXX----^^^","----------^^^^^","-#-----------&-","----#-----^^^^^","--XXXXXX----^^^","--XXXXXX-------","--XXXXXX-----*-","--XXXXXXXXXXXXX"],"11_2_0":["------^^^^^^^^^","---------X--X--","---------X--X--","---X-----X--X--","---X-----X--X--","XXXX-----X-#X-#","#*-X-----X--X--","---X-----X--X--","---------X--X--","---------------","------^^^^^^^^^"],"6_7_0":["-*XXXXXXXXXXXXX","--XX---&---XXXX","--XX--^^^--XXXX","--XX--^^^--XXXX","------^^^----*-","-#----^^^------","------^^^-----#","--XX--^^^--XXXX","--XX--^^^--XXXX","--XX---&---XXXX","--XXXXXXXXXXXXX"],"2_13_0":["-----XXXXXXXXXX","-----XXXXXXXXXX","X----XXXXXXXXXX","XXX--XXXXXXXXXX","-XX----#XXXXX--","-XX-----XXXXX--","-XX------*-----","#XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX","-XX--XXXXXXXXXX"],"6_1_0":["------------^^^","--------------X","--------------X","---X-----------","---X-----------","XXXX-----------","#*-X-----------","---X--#--------","---------#-----","---------------","------------^^^"],"3_11_0":["------XXXXXXXXX","------XXXXXXXXX","X-----XXXXXXXXX","XXX---XXXXXXXXX","-XX--------#XXX","-XX---------XXX","-XX-----#----*-","#XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX","-XX---XXXXXXXXX"],"10_2_0":["-----^^^^^^^^^^","--------------*","X--------------","XXX----------^^","-XX--------^^^^","-XX-----------&","-XX--------^^^^","#XX----------^^","-XX------------","-XX-----------*","-XX--^^^^^^^^^^"],"17_2_0":["^^^^^^^^^^^^^^^","---------------","---------------","-----XXX--X----","-----X*X--X-&-&","-----X&---XXXXX","-----X*X--X-*#*","X----XXX--X----","XX-------------","#X-------------","^^^^^^^^^^^^^^^"],"16_4_0":["^^^^^^^^^^^^^^^","-----X--X--X--X","-----X--X--X--X","-----X--X--X--X","-----X--X--X--X","-----X-#X-#X-#X","-----X--X--X--X","X----X--X--X--X","XX---X--X--X--X","#X-------------","^^^^^^^^^^^^^^^"],"8_8_0":["-*XXXXXXXXXXXXX","--XXXXXXX-----*","--XXXXXXX------","--XXXXXXX----^^","----*------^^^^","-#------------&","-----#-----^^^^","--XXXXXXX----^^","--XXXXXXX------","--XXXXXXX-----*","--XXXXXXXXXXXXX"],"10_4_0":["------^^^^^^^^^","---------------","X-------------X","XXX------XXX--X","-XX------X*X--X","-XX------X&---*","-XX------X*X--X","#XX------XXX--X","-XX-----------X","-XX------------","-XX---^^^^^^^^^"],"0_14_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","-------&-------","---------------","----------*----","&-XXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"2_16_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","-------#XXXXXXX","--------XXXXXXX","----#----*-----","&-XXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"15_4_0":["^^^^^^^^^^^^^^^","-----X--X--X--X","-----X--X--X--X","-----X--X--X--X","-----X--X--X--X","-----X-#X-#X--X","-----X--X--X--X","X----X--X--X--X","XX---X--X--X--X","#X-------------","^^^^^^^^^^^^^^^"],"8_6_0":["-*XXXXXXXXXXXXX","--XXXXX-----*--","--XXXXX--------","--XXXXX----^^^-","---------^^^^^^","-#----------&--","----#----^^^^^^","--XXXXX----^^^-","--XXXXX--------","--XXXXX-----*--","--XXXXXXXXXXXXX"],"7_5_0":["------X--^^^^^^","------X----X--X","X-----X----X--X","XXX---X----X--X","-XX--------X--X","-XX--------X-#X","-XX--------X--X","#XX---X----X--X","-XX---X----X--X","-XX---X--------","-XX---X--^^^^^^"],"6_10_0":["-*XXXXXXXXXXXXX","--XXXXXXXXX----","--XXXXXXXXX--X-","--XXXXXXXXX--X-","-------*-----X-","-#-----------X-","----#---#----X-","--XXXXXXXXX--XX","--XXXXXXXXX--XX","--XXXXXXXXX-&*#","--XXXXXXXXXXXXX"],"6_8_0":["-*XXXXXXXX--^^^","--XXXXXXXX-----","--XXXXXXXX----X","--XXXXXXXX----X","--------------X","-#-----&------*","----#---------X","--XXXXXXXX----X","--XXXXXXXX----X","--XXXXXXXX-----","--XXXXXXXX--^^^"],"12_2_0":["------^^^^^^^^^","---------------","-------------X-","--------XXX--XX","---#----X*X--XX","--------X&---*#","--------X*X--XX","-*------XXX--XX","-------------X-","---------------","------^^^^^^^^^"],"4_13_0":["-*XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","----------#XXXX","-#-----&---XXXX","----#-------*--","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"17_3_0":["^^^^^^^^^^^^^^^","---------------","--------------X","-----X-----X--X","-----X-&-&-X--X","-----XXXXXXX--*","-----X-*#*-X--X","X----X-----X--X","XX------------X","#X-------------","^^^^^^^^^^^^^^^"],"3_14_0":["-*XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","-----#XXXXXXX--","-#----XXXXXX---","-------*-------","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"11_4_0":["------^^^^^^^^^","---------------","X--------------","XXX-----X-----X","-XX-----X-&-&-X","-XX-----XXXXXXX","-XX-----X-*#*-X","#XX-----X-----X","-XX------------","-XX------------","-XX---^^^^^^^^^"],"10_6_0":["XXX--^^^^^^^^^^","XXX-----X--X--X","XXX-----X--X--X","XXX-----X--X--X","XXX-----X--X--X","XXX-----X-#X-#X","XXX-----X--X--X","X-------X--X--X","--------X--X--X","-XX------------","XXX--^^^^^^^^^^"],"0_13_0":["-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXX-&-X","---------------","---------------","-------#-------","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX"],"11_5_0":["-----^^^^^^^^^^","--------X--X--X","X-------X--X--X","XXX-----X--X--X","-XX-----X--X--X","-XX-----X-#X-#X","-XX-----X--X--X","#XX-----X--X--X","-XX-----X--X--X","-XX------------","-XX--^^^^^^^^^^"],"8_9_0":["XXXXXXXX--^^^^^","XXXXXXXX-------","XXXXXXXX----X--","XXXXXXXX----XX-","----*-------XXX","------------*#X","-----#------XXX","&-XXXXXX----XX-","XXXXXXXX----X--","XXXXXXXX-------","XXXXXXXX--^^^^^"],"9_7_0":["XXXXXXXXXXXXXXX","----*-----XXXXX","----------XXXXX","---^^^----XXXXX","^^^^^^^^----*--","----&----------","^^^^^^^^-----#-","---^^^----XXXXX","----------XXXXX","----*-----XXXXX","XXXXXXXXXXXXXXX"],"2_14_0":["--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","-------#XXXXXXX","--------XXXXXX-","----#----*-----","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"9_5_0":["------^^^^^^^^^","--------X--X--X","X-------X--X--X","XXX-----X--X--X","-XX-----X--X--X","-XX-----X-#X--X","-XX-----X--X--X","#XX-----X--X--X","-XX-----X--X--X","-XX------------","-XX---^^^^^^^^^"],"12_5_0":["-----^^^^^^^^^^","---------------","X-----------X--","XXX----XXX--XX-","-XX----X*X--XXX","-XX----X&---*#X","-XX----X*X--XXX","#XX----XXX--XX-","-XX---------X--","-XX------------","-XX--^^^^^^^^^^"],"10_5_0":["------^^^^^^^^^","--------X--X--X","X-------X--X--X","XXX-----X--X--X","-XX-----X--X--X","-XX-----X-#X-#X","-XX-----X--X--X","#XX-----X--X--X","-XX-----X--X--X","-XX------------","-XX---^^^^^^^^^"],"1_15_0":["--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","----#XXXXXXXXXX","-----XXXXXXXXXX","------*--------","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"12_4_0":["-----^^^^^^^^^^","---------------","X--------------","XXX-----X-----X","-XX-----X-&-&-X","-XX-----XXXXXXX","-XX-----X-*#*-X","#XX-----X-----X","-XX------------","-XX------------","-XX--^^^^^^^^^^"],"3_16_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","----#XXXX--#XXX","-----XXXX---XXX","------*------*-","&-XXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"9_6_0":["XXXXXXXXXXXXXXX","-----*-----XXXX","-----------XXXX","----^^^----XXXX","^^^^^^^^^------","-----&---------","^^^^^^^^^----#-","----^^^----XXXX","-----------XXXX","-----*-----XXXX","XXXXXXXXXXXXXXX"],"2_15_0":["-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-------#XXXXXXX","--------XXXXXX-","----#----*-----","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX"],"4_16_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","---*---#XXXXXXX","--------XXXXXX-","#---#----*-----","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"7_9_0":["XXXXXXXX--^^^^^","XXXXXXXX-------","XXXXXXXX----X--","XXXXXXXX----XX-","------------XXX","------------*#X","----#-------XXX","&-XXXXXX----XX-","XXXXXXXX----X--","XXXXXXXX-------","XXXXXXXX--^^^^^"],"5_14_0":["-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","---*---*---#XXX","------------XXX","----#---#----*-","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX"],"5_13_0":["-*XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","----*------#XXX","-#------&---XXX","-----#-------*-","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX","--XXXXXXXXXXXXX"],"4_14_0":["-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","---*---#XXXX--#","--------XXXX---","----#----*-----","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX"],"10_7_0":["^^^^^^^^^--XXXX","-----------XXXX","-X---------XXXX","XX--XXX----XXXX","XX--X*X----XXX-","#*--X&-----XX--","XX--X*X--------","XX--XXX----XXXX","-X---------XXXX","-----------XXXX","^^^^^^^^^--XXXX"],"4_15_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","-------*---#XXX","------------XXX","----#---#----*-","&-XXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"5_11_0":["-*XXXXXXXXXXXXX","--XXXXXXXXX*&XX","--XXXXXXXXX--XX","--XXXXXXXXX--XX","-------*-------","-#-------------","----#---#------","--XXXXXXXXX--XX","--XXXXXXXXX--XX","--XXXXXXXXX--XX","--XXXXXXXXXXXXX"],"16_1_0":["^^^^^^^^^^^^^^^","---------------","---------------","----------X----","----------X-&-&","----------XXXXX","----------X-*#*","X---------X----","XX-------------","#X-------------","^^^^^^^^^^^^^^^"],"11_6_0":["XXX--^^^^^^^^^^","XXX------------","XXX---------X--","XXX----XXX--XX-","XXX----X*X--XXX","XXX----X&---*#X","XXX----X*X--XXX","XXX----XXX--XX-","XXX---------X--","---------------","XXX--^^^^^^^^^^"],"18_2_0":["^^^^^^^^^^^^^^^","---------------","---------------","-X-----X--X----","-X-&-&-X--X-&-&","-XXXXXXX--XXXXX","-X-*#*-X--X-*#*","-X-----X--X----","---------------","---------------","^^^^^^^^^^^^^^^"],"12_6_0":["^^^^^^^^^--XXXX","-----------XXXX","-X---------XXXX","XX--XXX----XXXX","XX--X*X------*-","#*--X&---------","XX--X*X-------#","XX--XXX----XXXX","-X---------XXXX","-----------XXXX","^^^^^^^^^--XXXX"],"6_9_0":["-*XXXXXXXXXXXXX","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","-------*-----^^","-#------------&","----#---#----^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXX--^^","--XXXXXXXXXXXXX"],"3_15_0":["-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","---*---#XXXXXXX","--------XXXXXX-","----#----*-----","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX","-XXXXXXXXXXXXXX"],"7_10_0":["XXXXXXXXXXXXXXX","------XXXXXXXXX","------XXXXXXXXX","------XXXXXXXXX","^^^^----*------","------------#--","^^^^-----#----*","------XXXXXXXXX","------XXXXXXXXX","------XXXXXXXXX","XXXXXXXXXXXXXXX"],"6_15_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","---*---*---#XXX","------------XXX","#---#---#----*-","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"5_15_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","---*------#XXXX","-----------XXXX","#---#--#----*--","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"18_3_0":["^^^^^^^^^^^^^^^","---------------","-X-------------","XX---XXX--X----","XX---X*X--X-&-&","#*---X&---XXXXX","XX---X*X--X-*#*","XX---XXX--X----","-X-------------","---------------","^^^^^^^^^^^^^^^"],"13_4_0":["---^^^^^^^^^^^^","-----X--X--X--X","-----X--X--X--X","X----X--X--X--X","X----X--X--X--X","X----X-#X-#X-#X","X----X--X--X--X","X----X--X--X--X","-----X--X--X--X","---------------","---^^^^^^^^^^^^"],"6_14_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","---*---------*-","---------------","#---#--#--#---#","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"],"6_11_0":["-*XXXXXXXXXXXXX","--XXXXXXXXXX*&X","--XXXXXXXXXX--X","--XXXXXXXXXX--X","----*---*------","-#-------------","-----#---#-----","--XXXXXXXXXX--X","--XXXXXXXXXX--X","--XXXXXXXXXX--X","--XXXXXXXXXXXXX"],"14_4_0":["^^^^^^^^^^^^^^^","-X---------X--X","-X---------X--X","-X--X--X---X--X","-X--X--X---X--X","-X--XXXX---X--X","-X--X--X---X--X","-X--X--X---X--X","-X---------X--X","-#-------------","^^^^^^^^^^^^^^^"],"6_12_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXX----","XXXXXXXXXXX--X-","XXXXXXXXXXX--X-","---*---*-----X-","-------------X-","#---#---#----X-","XXXXXXXXXXX--XX","XXXXXXXXXXX--XX","XXXXXXXXXXX-&*#","XXXXXXXXXXXXXXX"],"1_17_0":["XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","X---#XXXXXXXXXX","-----XXXXXXXXXX","------*--------","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX","XXXXXXXXXXXXXXX"]};class s6{playerIsOnLastLevel=!1;keys=[];columnsPerLevel=[];lossesInARow=0;playerWonLastRound=!1;levelsPlayed=0;optimizeDifficulty;type;constructor(){if(new URLSearchParams(window.location.search).has("default"))this.type=T8;else this.type=o0([M6,i6,OZ,T8]);if(console.log(`Director: ${this.type}`),r.director=this.type,this.type==i6)this.optimizeDifficulty=!0;else this.optimizeDifficulty=!1;for(let Q in z.nodes)z.nodes[Q].updateReward(this.optimizeDifficulty)}update(Z,Q){if(++this.levelsPlayed,console.log(this.levelsPlayed,this.type),this.levelsPlayed%kZ==0&&this.type==T8){console.log("switch!"),this.optimizeDifficulty=!this.optimizeDifficulty;for(let w in z.nodes)z.nodes[w].updateReward(this.optimizeDifficulty)}let J=this.keys.length,$=[];if(Z){this.lossesInARow=0;for(let w=0;w<J;++w)$.push(1)}else{let w=Q;for(let q=0;q<J;++q)if(w>this.columnsPerLevel[q])$[q]=1,w-=this.columnsPerLevel[q];else{$[q]=w/this.columnsPerLevel[q];break}}let V=$.length;for(let w=0;w<V;++w){let q=$[w],h=this.keys[w],j=z.getNode(h);if(q===1){if(!z.hasEdge(M0,h))console.log(`'adding edge: ${M0} -> ${h}`),z.addEdge(new x(M0,h,[[h,1],[W,0]],[]))}++j.visitedCount,j.sumPercentCompleted+=q,j.updateReward(this.optimizeDifficulty);let R=j.sumPercentCompleted/j.visitedCount,f=1-R;z.mapEdges((Y)=>{if(Y.tgt===h)Y.probability[0][1]=R,Y.probability[1][1]=f})}if(!Z){++this.lossesInARow;for(let w=0;w<this.lossesInARow;++w){let q=z.getNode(M0).neighbors,h=q.length;if(h===1)break;let j="",R=1e4,f=0;for(let Y=0;Y<h;++Y){let K=q[Y];if(K==="0_0_0")continue;let P=z.getNode(K),A=P.depth;if(A<R||A===R&&f<P.difficulty)j=K,R=A,f=P.difficulty}console.log("removing edge:",j,R,f),z.removeEdge(M0,j)}}this.playerWonLastRound=Z}get(Z){let Q;if(this.type==M6)Q=g6(z),console.log(Q);else Q=n6(z,0.95,!0,!0,20);if(this.columnsPerLevel=[],this.playerWonLastRound)this.keys=[o0(Q[M0])];else this.keys=[M0];for(let w=0;w<Z;++w){let q=o0(Q[this.keys[w]]);if(this.keys.push(q),q===P6)break}this.keys.splice(0,1),console.log(this.keys),this.playerIsOnLastLevel=this.keys.includes(P6);let J,$=new Array(Y1).fill(""),V=this.keys.length;for(let w=0;w<V;++w){let q=LZ[this.keys[w]].slice();if(w>0){let j=z.getEdge(this.keys[w-1],this.keys[w]).link,R=j.length;if(R>0)for(let f=0;f<R;++f){let Y=j[f];for(J=0;J<Y1;++J)q[J]=Y[J]+q[J]}}this.columnsPerLevel.push(q[0].length);for(J=0;J<Y1;++J)$[J]+=q[J]}return console.log($.join(`
`)),$}}var yZ=function(Z){let Q=[],J=0;for(let $=0;$<Z.length;$++){let V=Z.charCodeAt($);if(V<128)Q[J++]=V;else if(V<2048)Q[J++]=V>>6|192,Q[J++]=V&63|128;else if((V&64512)===55296&&$+1<Z.length&&(Z.charCodeAt($+1)&64512)===56320)V=65536+((V&1023)<<10)+(Z.charCodeAt(++$)&1023),Q[J++]=V>>18|240,Q[J++]=V>>12&63|128,Q[J++]=V>>6&63|128,Q[J++]=V&63|128;else Q[J++]=V>>12|224,Q[J++]=V>>6&63|128,Q[J++]=V&63|128}return Q},zJ=function(Z){let Q=[],J=0,$=0;while(J<Z.length){let V=Z[J++];if(V<128)Q[$++]=String.fromCharCode(V);else if(V>191&&V<224){let w=Z[J++];Q[$++]=String.fromCharCode((V&31)<<6|w&63)}else if(V>239&&V<365){let w=Z[J++],q=Z[J++],h=Z[J++],j=((V&7)<<18|(w&63)<<12|(q&63)<<6|h&63)-65536;Q[$++]=String.fromCharCode(55296+(j>>10)),Q[$++]=String.fromCharCode(56320+(j&1023))}else{let w=Z[J++],q=Z[J++];Q[$++]=String.fromCharCode((V&15)<<12|(w&63)<<6|q&63)}}return Q.join("")},vZ={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob==="function",encodeByteArray(Z,Q){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();let J=Q?this.byteToCharMapWebSafe_:this.byteToCharMap_,$=[];for(let V=0;V<Z.length;V+=3){let w=Z[V],q=V+1<Z.length,h=q?Z[V+1]:0,j=V+2<Z.length,R=j?Z[V+2]:0,f=w>>2,Y=(w&3)<<4|h>>4,K=(h&15)<<2|R>>6,P=R&63;if(!j){if(P=64,!q)K=64}$.push(J[f],J[Y],J[K],J[P])}return $.join("")},encodeString(Z,Q){if(this.HAS_NATIVE_SUPPORT&&!Q)return btoa(Z);return this.encodeByteArray(yZ(Z),Q)},decodeString(Z,Q){if(this.HAS_NATIVE_SUPPORT&&!Q)return atob(Z);return zJ(this.decodeStringToByteArray(Z,Q))},decodeStringToByteArray(Z,Q){this.init_();let J=Q?this.charToByteMapWebSafe_:this.charToByteMap_,$=[];for(let V=0;V<Z.length;){let w=J[Z.charAt(V++)],h=V<Z.length?J[Z.charAt(V)]:0;++V;let R=V<Z.length?J[Z.charAt(V)]:64;++V;let Y=V<Z.length?J[Z.charAt(V)]:64;if(++V,w==null||h==null||R==null||Y==null)throw new fZ;let K=w<<2|h>>4;if($.push(K),R!==64){let P=h<<4&240|R>>2;if($.push(P),Y!==64){let A=R<<6&192|Y;$.push(A)}}}return $},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)if(this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length)this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z}}};class fZ extends Error{constructor(){super(...arguments);this.name="DecodeBase64StringError"}}var UJ=function(Z){let Q=yZ(Z);return vZ.encodeByteArray(Q,!0)},i2=function(Z){return UJ(Z).replace(/\./g,"")},wJ=function(Z){try{return vZ.decodeString(Z,!0)}catch(Q){console.error("base64Decode failed: ",Q)}return null};function WJ(){if(typeof self!=="undefined")return self;if(typeof window!=="undefined")return window;if(typeof global!=="undefined")return global;throw new Error("Unable to locate global object.")}var xJ=()=>WJ().__FIREBASE_DEFAULTS__,BJ=()=>{if(typeof process==="undefined"||typeof process.env==="undefined")return;let Z=process.env.__FIREBASE_DEFAULTS__;if(Z)return JSON.parse(Z)},qJ=()=>{if(typeof document==="undefined")return;let Z;try{Z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(J){return}let Q=Z&&wJ(Z[1]);return Q&&JSON.parse(Q)},D6=()=>{try{return xJ()||BJ()||qJ()}catch(Z){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Z}`);return}},hJ=(Z)=>{var Q,J;return(J=(Q=D6())===null||Q===void 0?void 0:Q.emulatorHosts)===null||J===void 0?void 0:J[Z]},HZ=(Z)=>{let Q=hJ(Z);if(!Q)return;let J=Q.lastIndexOf(":");if(J<=0||J+1===Q.length)throw new Error(`Invalid host ${Q} with no separate hostname and port!`);let $=parseInt(Q.substring(J+1),10);if(Q[0]==="[")return[Q.substring(1,J-1),$];else return[Q.substring(0,J),$]},b6=()=>{var Z;return(Z=D6())===null||Z===void 0?void 0:Z.config};class c6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,Q)=>{this.resolve=Z,this.reject=Q})}wrapCallback(Z){return(Q,J)=>{if(Q)this.reject(Q);else this.resolve(J);if(typeof Z==="function")if(this.promise.catch(()=>{}),Z.length===1)Z(Q);else Z(Q,J)}}}function YZ(Z,Q){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let J={alg:"none",type:"JWT"},$=Q||"demo-project",V=Z.iat||0,w=Z.sub||Z.user_id;if(!w)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let q=Object.assign({iss:`https://securetoken.google.com/${$}`,aud:$,iat:V,exp:V+3600,auth_time:V,sub:w,user_id:w,firebase:{sign_in_provider:"custom",identities:{}}},Z),h="";return[i2(JSON.stringify(J)),i2(JSON.stringify(q)),h].join(".")}function KZ(){if(typeof navigator!=="undefined"&&typeof navigator.userAgent==="string")return navigator.userAgent;else return""}function FJ(){var Z;let Q=(Z=D6())===null||Z===void 0?void 0:Z.forceEnvironment;if(Q==="node")return!0;else if(Q==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(J){return!1}}function lZ(){return!FJ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function t6(){try{return typeof indexedDB==="object"}catch(Z){return!1}}function pZ(){return new Promise((Z,Q)=>{try{let J=!0,$="validate-browser-context-for-indexeddb-analytics-module",V=self.indexedDB.open($);V.onsuccess=()=>{if(V.result.close(),!J)self.indexedDB.deleteDatabase($);Z(!0)},V.onupgradeneeded=()=>{J=!1},V.onerror=()=>{var w;Q(((w=V.error)===null||w===void 0?void 0:w.message)||"")}}catch(J){Q(J)}})}var jJ="FirebaseError";class e0 extends Error{constructor(Z,Q,J){super(Q);if(this.code=Z,this.customData=J,this.name=jJ,Object.setPrototypeOf(this,e0.prototype),Error.captureStackTrace)Error.captureStackTrace(this,M8.prototype.create)}}class M8{constructor(Z,Q,J){this.service=Z,this.serviceName=Q,this.errors=J}create(Z,...Q){let J=Q[0]||{},$=`${this.service}/${Z}`,V=this.errors[Z],w=V?RJ(V,J):"Error",q=`${this.serviceName}: ${w} (${$}).`;return new e0($,q,J)}}function RJ(Z,Q){return Z.replace(GJ,(J,$)=>{let V=Q[$];return V!=null?String(V):`<${$}?>`})}var GJ=/\{\$([^}]+)}/g;function u2(Z,Q){if(Z===Q)return!0;let J=Object.keys(Z),$=Object.keys(Q);for(let V of J){if(!$.includes(V))return!1;let w=Z[V],q=Q[V];if(NZ(w)&&NZ(q)){if(!u2(w,q))return!1}else if(w!==q)return!1}for(let V of $)if(!J.includes(V))return!1;return!0}function NZ(Z){return Z!==null&&typeof Z==="object"}function D1(Z){if(Z&&Z._delegate)return Z._delegate;else return Z}class B1{constructor(Z,Q,J){this.name=Z,this.instanceFactory=Q,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}var K1="[DEFAULT]";class TZ{constructor(Z,Q){this.name=Z,this.container=Q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){let Q=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(Q)){let J=new c6;if(this.instancesDeferred.set(Q,J),this.isInitialized(Q)||this.shouldAutoInitialize())try{let $=this.getOrInitializeService({instanceIdentifier:Q});if($)J.resolve($)}catch($){}}return this.instancesDeferred.get(Q).promise}getImmediate(Z){var Q;let J=this.normalizeInstanceIdentifier(Z===null||Z===void 0?void 0:Z.identifier),$=(Q=Z===null||Z===void 0?void 0:Z.optional)!==null&&Q!==void 0?Q:!1;if(this.isInitialized(J)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:J})}catch(V){if($)return null;else throw V}else if($)return null;else throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,!this.shouldAutoInitialize())return;if(OJ(Z))try{this.getOrInitializeService({instanceIdentifier:K1})}catch(Q){}for(let[Q,J]of this.instancesDeferred.entries()){let $=this.normalizeInstanceIdentifier(Q);try{let V=this.getOrInitializeService({instanceIdentifier:$});J.resolve(V)}catch(V){}}}clearInstance(Z=K1){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}async delete(){let Z=Array.from(this.instances.values());await Promise.all([...Z.filter((Q)=>("INTERNAL"in Q)).map((Q)=>Q.INTERNAL.delete()),...Z.filter((Q)=>("_delete"in Q)).map((Q)=>Q._delete())])}isComponentSet(){return this.component!=null}isInitialized(Z=K1){return this.instances.has(Z)}getOptions(Z=K1){return this.instancesOptions.get(Z)||{}}initialize(Z={}){let{options:Q={}}=Z,J=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let $=this.getOrInitializeService({instanceIdentifier:J,options:Q});for(let[V,w]of this.instancesDeferred.entries()){let q=this.normalizeInstanceIdentifier(V);if(J===q)w.resolve($)}return $}onInit(Z,Q){var J;let $=this.normalizeInstanceIdentifier(Q),V=(J=this.onInitCallbacks.get($))!==null&&J!==void 0?J:new Set;V.add(Z),this.onInitCallbacks.set($,V);let w=this.instances.get($);if(w)Z(w,$);return()=>{V.delete(Z)}}invokeOnInitCallbacks(Z,Q){let J=this.onInitCallbacks.get(Q);if(!J)return;for(let $ of J)try{$(Z,Q)}catch(V){}}getOrInitializeService({instanceIdentifier:Z,options:Q={}}){let J=this.instances.get(Z);if(!J&&this.component){if(J=this.component.instanceFactory(this.container,{instanceIdentifier:IJ(Z),options:Q}),this.instances.set(Z,J),this.instancesOptions.set(Z,Q),this.invokeOnInitCallbacks(J,Z),this.component.onInstanceCreated)try{this.component.onInstanceCreated(this.container,Z,J)}catch($){}}return J||null}normalizeInstanceIdentifier(Z=K1){if(this.component)return this.component.multipleInstances?Z:K1;else return Z}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IJ(Z){return Z===K1?void 0:Z}function OJ(Z){return Z.instantiationMode==="EAGER"}class d6{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){let Q=this.getProvider(Z.name);if(Q.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);Q.setComponent(Z)}addOrOverwriteComponent(Z){if(this.getProvider(Z.name).isComponentSet())this.providers.delete(Z.name);this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);let Q=new TZ(Z,this);return this.providers.set(Z,Q),Q}getProviders(){return Array.from(this.providers.values())}}var kJ=[],b;(function(Z){Z[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT"})(b||(b={}));var SJ={debug:b.DEBUG,verbose:b.VERBOSE,info:b.INFO,warn:b.WARN,error:b.ERROR,silent:b.SILENT},LJ=b.INFO,NJ={[b.DEBUG]:"log",[b.VERBOSE]:"log",[b.INFO]:"info",[b.WARN]:"warn",[b.ERROR]:"error"},yJ=(Z,Q,...J)=>{if(Q<Z.logLevel)return;let $=new Date().toISOString(),V=NJ[Q];if(V)console[V](`[${$}]  ${Z.name}:`,...J);else throw new Error(`Attempted to log a message with an invalid logType (value: ${Q})`)};class C2{constructor(Z){this.name=Z,this._logLevel=LJ,this._logHandler=yJ,this._userLogHandler=null,kJ.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in b))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel=typeof Z==="string"?SJ[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if(typeof Z!=="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,b.DEBUG,...Z),this._logHandler(this,b.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,b.VERBOSE,...Z),this._logHandler(this,b.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,b.INFO,...Z),this._logHandler(this,b.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,b.WARN,...Z),this._logHandler(this,b.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,b.ERROR,...Z),this._logHandler(this,b.ERROR,...Z)}}var vJ=(Z,Q)=>Q.some((J)=>Z instanceof J),AZ,_Z;function fJ(){return AZ||(AZ=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HJ(){return _Z||(_Z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var PZ=new WeakMap,o6=new WeakMap,MZ=new WeakMap,E6=new WeakMap,a6=new WeakMap;function YJ(Z){let Q=new Promise((J,$)=>{let V=()=>{Z.removeEventListener("success",w),Z.removeEventListener("error",q)},w=()=>{J(g0(Z.result)),V()},q=()=>{$(Z.error),V()};Z.addEventListener("success",w),Z.addEventListener("error",q)});return Q.then((J)=>{if(J instanceof IDBCursor)PZ.set(J,Z)}).catch(()=>{}),a6.set(Q,Z),Q}function KJ(Z){if(o6.has(Z))return;let Q=new Promise((J,$)=>{let V=()=>{Z.removeEventListener("complete",w),Z.removeEventListener("error",q),Z.removeEventListener("abort",q)},w=()=>{J(),V()},q=()=>{$(Z.error||new DOMException("AbortError","AbortError")),V()};Z.addEventListener("complete",w),Z.addEventListener("error",q),Z.addEventListener("abort",q)});o6.set(Z,Q)}var e6={get(Z,Q,J){if(Z instanceof IDBTransaction){if(Q==="done")return o6.get(Z);if(Q==="objectStoreNames")return Z.objectStoreNames||MZ.get(Z);if(Q==="store")return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return g0(Z[Q])},set(Z,Q,J){return Z[Q]=J,!0},has(Z,Q){if(Z instanceof IDBTransaction&&(Q==="done"||Q==="store"))return!0;return Q in Z}};function iZ(Z){e6=Z(e6)}function lJ(Z){if(Z===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype))return function(Q,...J){let $=Z.call(i8(this),Q,...J);return MZ.set($,Q.sort?Q.sort():[Q]),g0($)};if(HJ().includes(Z))return function(...Q){return Z.apply(i8(this),Q),g0(PZ.get(this))};return function(...Q){return g0(Z.apply(i8(this),Q))}}function pJ(Z){if(typeof Z==="function")return lJ(Z);if(Z instanceof IDBTransaction)KJ(Z);if(vJ(Z,fJ()))return new Proxy(Z,e6);return Z}function g0(Z){if(Z instanceof IDBRequest)return YJ(Z);if(E6.has(Z))return E6.get(Z);let Q=pJ(Z);if(Q!==Z)E6.set(Z,Q),a6.set(Q,Z);return Q}var i8=(Z)=>a6.get(Z);function CZ(Z,Q,{blocked:J,upgrade:$,blocking:V,terminated:w}={}){let q=indexedDB.open(Z,Q),h=g0(q);if($)q.addEventListener("upgradeneeded",(j)=>{$(g0(q.result),j.oldVersion,j.newVersion,g0(q.transaction),j)});if(J)q.addEventListener("blocked",(j)=>J(j.oldVersion,j.newVersion,j));return h.then((j)=>{if(w)j.addEventListener("close",()=>w());if(V)j.addEventListener("versionchange",(R)=>V(R.oldVersion,R.newVersion,R))}).catch(()=>{}),h}var TJ=["get","getKey","getAll","getAllKeys","count"],AJ=["put","add","delete","clear"],Z4=new Map;function uZ(Z,Q){if(!(Z instanceof IDBDatabase&&!(Q in Z)&&typeof Q==="string"))return;if(Z4.get(Q))return Z4.get(Q);let J=Q.replace(/FromIndex$/,""),$=Q!==J,V=AJ.includes(J);if(!(J in($?IDBIndex:IDBObjectStore).prototype)||!(V||TJ.includes(J)))return;let w=async function(q,...h){let j=this.transaction(q,V?"readwrite":"readonly"),R=j.store;if($)R=R.index(h.shift());return(await Promise.all([R[J](...h),V&&j.done]))[0]};return Z4.set(Q,w),w}iZ((Z)=>({...Z,get:(Q,J,$)=>uZ(Q,J)||Z.get(Q,J,$),has:(Q,J)=>!!uZ(Q,J)||Z.has(Q,J)}));class DZ{constructor(Z){this.container=Z}getPlatformInfoString(){return this.container.getProviders().map((Q)=>{if(_J(Q)){let J=Q.getImmediate();return`${J.library}/${J.version}`}else return null}).filter((Q)=>Q).join(" ")}}function _J(Z){let Q=Z.getComponent();return(Q===null||Q===void 0?void 0:Q.type)==="VERSION"}var J4="@firebase/app",rZ="0.10.9",a0=new C2("@firebase/app"),PJ="@firebase/app-compat",MJ="@firebase/analytics-compat",iJ="@firebase/analytics",uJ="@firebase/app-check-compat",CJ="@firebase/app-check",rJ="@firebase/auth",mJ="@firebase/auth-compat",nJ="@firebase/database",gJ="@firebase/database-compat",sJ="@firebase/functions",DJ="@firebase/functions-compat",bJ="@firebase/installations",cJ="@firebase/installations-compat",tJ="@firebase/messaging",dJ="@firebase/messaging-compat",EJ="@firebase/performance",oJ="@firebase/performance-compat",eJ="@firebase/remote-config",aJ="@firebase/remote-config-compat",ZX="@firebase/storage",QX="@firebase/storage-compat",JX="@firebase/firestore",XX="@firebase/vertexai-preview",$X="@firebase/firestore-compat",VX="firebase",zX="10.13.0",X4="[DEFAULT]",UX={[J4]:"fire-core",[PJ]:"fire-core-compat",[iJ]:"fire-analytics",[MJ]:"fire-analytics-compat",[CJ]:"fire-app-check",[uJ]:"fire-app-check-compat",[rJ]:"fire-auth",[mJ]:"fire-auth-compat",[nJ]:"fire-rtdb",[gJ]:"fire-rtdb-compat",[sJ]:"fire-fn",[DJ]:"fire-fn-compat",[bJ]:"fire-iid",[cJ]:"fire-iid-compat",[tJ]:"fire-fcm",[dJ]:"fire-fcm-compat",[EJ]:"fire-perf",[oJ]:"fire-perf-compat",[eJ]:"fire-rc",[aJ]:"fire-rc-compat",[ZX]:"fire-gcs",[QX]:"fire-gcs-compat",[JX]:"fire-fst",[$X]:"fire-fst-compat",[XX]:"fire-vertex","fire-js":"fire-js",[VX]:"fire-js-all"},u8=new Map,wX=new Map,$4=new Map;function mZ(Z,Q){try{Z.container.addComponent(Q)}catch(J){a0.debug(`Component ${Q.name} failed to register with FirebaseApp ${Z.name}`,J)}}function r2(Z){let Q=Z.name;if($4.has(Q))return a0.debug(`There were multiple attempts to register component ${Q}.`),!1;$4.set(Q,Z);for(let J of u8.values())mZ(J,Z);for(let J of wX.values())mZ(J,Z);return!0}function bZ(Z,Q){let J=Z.container.getProvider("heartbeat").getImmediate({optional:!0});if(J)J.triggerHeartbeat();return Z.container.getProvider(Q)}var WX={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}'",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["server-app-deleted"]:"Firebase Server App has been deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",["finalization-registry-not-supported"]:"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",["invalid-server-app-environment"]:"FirebaseServerApp is not for use in browser environments."},q1=new M8("app","Firebase",WX);class cZ{constructor(Z,Q,J){this._isDeleted=!1,this._options=Object.assign({},Z),this._config=Object.assign({},Q),this._name=Q.name,this._automaticDataCollectionEnabled=Q.automaticDataCollectionEnabled,this._container=J,this.container.addComponent(new B1("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Z){this.checkDestroyed(),this._automaticDataCollectionEnabled=Z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Z){this._isDeleted=Z}checkDestroyed(){if(this.isDeleted)throw q1.create("app-deleted",{appName:this._name})}}var tZ=zX;function V4(Z,Q={}){let J=Z;if(typeof Q!=="object")Q={name:Q};let $=Object.assign({name:X4,automaticDataCollectionEnabled:!1},Q),V=$.name;if(typeof V!=="string"||!V)throw q1.create("bad-app-name",{appName:String(V)});if(J||(J=b6()),!J)throw q1.create("no-options");let w=u8.get(V);if(w)if(u2(J,w.options)&&u2($,w.config))return w;else throw q1.create("duplicate-app",{appName:V});let q=new d6(V);for(let j of $4.values())q.addComponent(j);let h=new cZ(J,$,q);return u8.set(V,h),h}function dZ(Z=X4){let Q=u8.get(Z);if(!Q&&Z===X4&&b6())return V4();if(!Q)throw q1.create("no-app",{appName:Z});return Q}function h1(Z,Q,J){var $;let V=($=UX[Z])!==null&&$!==void 0?$:Z;if(J)V+=`-${J}`;let w=V.match(/\s|\//),q=Q.match(/\s|\//);if(w||q){let h=[`Unable to register library "${V}" with version "${Q}":`];if(w)h.push(`library name "${V}" contains illegal characters (whitespace or "/")`);if(w&&q)h.push("and");if(q)h.push(`version name "${Q}" contains illegal characters (whitespace or "/")`);a0.warn(h.join(" "));return}r2(new B1(`${V}-version`,()=>({library:V,version:Q}),"VERSION"))}var xX="firebase-heartbeat-database",BX=1,m2="firebase-heartbeat-store",Q4=null;function EZ(){if(!Q4)Q4=CZ(xX,BX,{upgrade:(Z,Q)=>{switch(Q){case 0:try{Z.createObjectStore(m2)}catch(J){console.warn(J)}}}}).catch((Z)=>{throw q1.create("idb-open",{originalErrorMessage:Z.message})});return Q4}async function qX(Z){try{let J=(await EZ()).transaction(m2),$=await J.objectStore(m2).get(oZ(Z));return await J.done,$}catch(Q){if(Q instanceof e0)a0.warn(Q.message);else{let J=q1.create("idb-get",{originalErrorMessage:Q===null||Q===void 0?void 0:Q.message});a0.warn(J.message)}}}async function nZ(Z,Q){try{let $=(await EZ()).transaction(m2,"readwrite");await $.objectStore(m2).put(Q,oZ(Z)),await $.done}catch(J){if(J instanceof e0)a0.warn(J.message);else{let $=q1.create("idb-set",{originalErrorMessage:J===null||J===void 0?void 0:J.message});a0.warn($.message)}}}function oZ(Z){return`${Z.name}!${Z.options.appId}`}var hX=1024,FX=2592000000;class eZ{constructor(Z){this.container=Z,this._heartbeatsCache=null;let Q=this.container.getProvider("app").getImmediate();this._storage=new aZ(Q),this._heartbeatsCachePromise=this._storage.read().then((J)=>{return this._heartbeatsCache=J,J})}async triggerHeartbeat(){var Z,Q,J;try{let V=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),w=gZ();if(console.log("heartbeats",(Z=this._heartbeatsCache)===null||Z===void 0?void 0:Z.heartbeats),((Q=this._heartbeatsCache)===null||Q===void 0?void 0:Q.heartbeats)==null){if(this._heartbeatsCache=await this._heartbeatsCachePromise,((J=this._heartbeatsCache)===null||J===void 0?void 0:J.heartbeats)==null)return}if(this._heartbeatsCache.lastSentHeartbeatDate===w||this._heartbeatsCache.heartbeats.some((q)=>q.date===w))return;else this._heartbeatsCache.heartbeats.push({date:w,agent:V});return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((q)=>{let h=new Date(q.date).valueOf();return Date.now()-h<=FX}),this._storage.overwrite(this._heartbeatsCache)}catch($){a0.warn($)}}async getHeartbeatsHeader(){var Z;try{if(this._heartbeatsCache===null)await this._heartbeatsCachePromise;if(((Z=this._heartbeatsCache)===null||Z===void 0?void 0:Z.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let Q=gZ(),{heartbeatsToSend:J,unsentEntries:$}=jX(this._heartbeatsCache.heartbeats),V=i2(JSON.stringify({version:2,heartbeats:J}));if(this._heartbeatsCache.lastSentHeartbeatDate=Q,$.length>0)this._heartbeatsCache.heartbeats=$,await this._storage.overwrite(this._heartbeatsCache);else this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);return V}catch(Q){return a0.warn(Q),""}}}function gZ(){return new Date().toISOString().substring(0,10)}function jX(Z,Q=hX){let J=[],$=Z.slice();for(let V of Z){let w=J.find((q)=>q.agent===V.agent);if(!w){if(J.push({agent:V.agent,dates:[V.date]}),sZ(J)>Q){J.pop();break}}else if(w.dates.push(V.date),sZ(J)>Q){w.dates.pop();break}$=$.slice(1)}return{heartbeatsToSend:J,unsentEntries:$}}class aZ{constructor(Z){this.app=Z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){if(!t6())return!1;else return pZ().then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};else{let Q=await qX(this.app);if(Q===null||Q===void 0?void 0:Q.heartbeats)return Q;else return{heartbeats:[]}}}async overwrite(Z){var Q;if(!await this._canUseIndexedDBPromise)return;else{let $=await this.read();return nZ(this.app,{lastSentHeartbeatDate:(Q=Z.lastSentHeartbeatDate)!==null&&Q!==void 0?Q:$.lastSentHeartbeatDate,heartbeats:Z.heartbeats})}}async add(Z){var Q;if(!await this._canUseIndexedDBPromise)return;else{let $=await this.read();return nZ(this.app,{lastSentHeartbeatDate:(Q=Z.lastSentHeartbeatDate)!==null&&Q!==void 0?Q:$.lastSentHeartbeatDate,heartbeats:[...$.heartbeats,...Z.heartbeats]})}}}function sZ(Z){return i2(JSON.stringify({version:2,heartbeats:Z})).length}function RX(Z){r2(new B1("platform-logger",(Q)=>new DZ(Q),"PRIVATE")),r2(new B1("heartbeat",(Q)=>new eZ(Q),"PRIVATE")),h1(J4,rZ,Z),h1(J4,rZ,"esm2017"),h1("fire-js","")}RX("");var GX="firebase",IX="10.13.0";h1(GX,IX,"app");var Z7=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{},Q7={},z4,J7;(function(){var Z;function Q(y,G){function O(){}O.prototype=G.prototype,y.D=G.prototype,y.prototype=new O,y.prototype.constructor=y,y.C=function(k,S,v){for(var I=Array(arguments.length-2),r0=2;r0<arguments.length;r0++)I[r0-2]=arguments[r0];return G.prototype[S].apply(k,I)}}function J(){this.blockSize=-1}function $(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}Q($,J),$.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function V(y,G,O){O||(O=0);var k=Array(16);if(typeof G==="string")for(var S=0;16>S;++S)k[S]=G.charCodeAt(O++)|G.charCodeAt(O++)<<8|G.charCodeAt(O++)<<16|G.charCodeAt(O++)<<24;else for(S=0;16>S;++S)k[S]=G[O++]|G[O++]<<8|G[O++]<<16|G[O++]<<24;G=y.g[0],O=y.g[1],S=y.g[2];var v=y.g[3],I=G+(v^O&(S^v))+k[0]+3614090360&4294967295;G=O+(I<<7&4294967295|I>>>25),I=v+(S^G&(O^S))+k[1]+3905402710&4294967295,v=G+(I<<12&4294967295|I>>>20),I=S+(O^v&(G^O))+k[2]+606105819&4294967295,S=v+(I<<17&4294967295|I>>>15),I=O+(G^S&(v^G))+k[3]+3250441966&4294967295,O=S+(I<<22&4294967295|I>>>10),I=G+(v^O&(S^v))+k[4]+4118548399&4294967295,G=O+(I<<7&4294967295|I>>>25),I=v+(S^G&(O^S))+k[5]+1200080426&4294967295,v=G+(I<<12&4294967295|I>>>20),I=S+(O^v&(G^O))+k[6]+2821735955&4294967295,S=v+(I<<17&4294967295|I>>>15),I=O+(G^S&(v^G))+k[7]+4249261313&4294967295,O=S+(I<<22&4294967295|I>>>10),I=G+(v^O&(S^v))+k[8]+1770035416&4294967295,G=O+(I<<7&4294967295|I>>>25),I=v+(S^G&(O^S))+k[9]+2336552879&4294967295,v=G+(I<<12&4294967295|I>>>20),I=S+(O^v&(G^O))+k[10]+4294925233&4294967295,S=v+(I<<17&4294967295|I>>>15),I=O+(G^S&(v^G))+k[11]+2304563134&4294967295,O=S+(I<<22&4294967295|I>>>10),I=G+(v^O&(S^v))+k[12]+1804603682&4294967295,G=O+(I<<7&4294967295|I>>>25),I=v+(S^G&(O^S))+k[13]+4254626195&4294967295,v=G+(I<<12&4294967295|I>>>20),I=S+(O^v&(G^O))+k[14]+2792965006&4294967295,S=v+(I<<17&4294967295|I>>>15),I=O+(G^S&(v^G))+k[15]+1236535329&4294967295,O=S+(I<<22&4294967295|I>>>10),I=G+(S^v&(O^S))+k[1]+4129170786&4294967295,G=O+(I<<5&4294967295|I>>>27),I=v+(O^S&(G^O))+k[6]+3225465664&4294967295,v=G+(I<<9&4294967295|I>>>23),I=S+(G^O&(v^G))+k[11]+643717713&4294967295,S=v+(I<<14&4294967295|I>>>18),I=O+(v^G&(S^v))+k[0]+3921069994&4294967295,O=S+(I<<20&4294967295|I>>>12),I=G+(S^v&(O^S))+k[5]+3593408605&4294967295,G=O+(I<<5&4294967295|I>>>27),I=v+(O^S&(G^O))+k[10]+38016083&4294967295,v=G+(I<<9&4294967295|I>>>23),I=S+(G^O&(v^G))+k[15]+3634488961&4294967295,S=v+(I<<14&4294967295|I>>>18),I=O+(v^G&(S^v))+k[4]+3889429448&4294967295,O=S+(I<<20&4294967295|I>>>12),I=G+(S^v&(O^S))+k[9]+568446438&4294967295,G=O+(I<<5&4294967295|I>>>27),I=v+(O^S&(G^O))+k[14]+3275163606&4294967295,v=G+(I<<9&4294967295|I>>>23),I=S+(G^O&(v^G))+k[3]+4107603335&4294967295,S=v+(I<<14&4294967295|I>>>18),I=O+(v^G&(S^v))+k[8]+1163531501&4294967295,O=S+(I<<20&4294967295|I>>>12),I=G+(S^v&(O^S))+k[13]+2850285829&4294967295,G=O+(I<<5&4294967295|I>>>27),I=v+(O^S&(G^O))+k[2]+4243563512&4294967295,v=G+(I<<9&4294967295|I>>>23),I=S+(G^O&(v^G))+k[7]+1735328473&4294967295,S=v+(I<<14&4294967295|I>>>18),I=O+(v^G&(S^v))+k[12]+2368359562&4294967295,O=S+(I<<20&4294967295|I>>>12),I=G+(O^S^v)+k[5]+4294588738&4294967295,G=O+(I<<4&4294967295|I>>>28),I=v+(G^O^S)+k[8]+2272392833&4294967295,v=G+(I<<11&4294967295|I>>>21),I=S+(v^G^O)+k[11]+1839030562&4294967295,S=v+(I<<16&4294967295|I>>>16),I=O+(S^v^G)+k[14]+4259657740&4294967295,O=S+(I<<23&4294967295|I>>>9),I=G+(O^S^v)+k[1]+2763975236&4294967295,G=O+(I<<4&4294967295|I>>>28),I=v+(G^O^S)+k[4]+1272893353&4294967295,v=G+(I<<11&4294967295|I>>>21),I=S+(v^G^O)+k[7]+4139469664&4294967295,S=v+(I<<16&4294967295|I>>>16),I=O+(S^v^G)+k[10]+3200236656&4294967295,O=S+(I<<23&4294967295|I>>>9),I=G+(O^S^v)+k[13]+681279174&4294967295,G=O+(I<<4&4294967295|I>>>28),I=v+(G^O^S)+k[0]+3936430074&4294967295,v=G+(I<<11&4294967295|I>>>21),I=S+(v^G^O)+k[3]+3572445317&4294967295,S=v+(I<<16&4294967295|I>>>16),I=O+(S^v^G)+k[6]+76029189&4294967295,O=S+(I<<23&4294967295|I>>>9),I=G+(O^S^v)+k[9]+3654602809&4294967295,G=O+(I<<4&4294967295|I>>>28),I=v+(G^O^S)+k[12]+3873151461&4294967295,v=G+(I<<11&4294967295|I>>>21),I=S+(v^G^O)+k[15]+530742520&4294967295,S=v+(I<<16&4294967295|I>>>16),I=O+(S^v^G)+k[2]+3299628645&4294967295,O=S+(I<<23&4294967295|I>>>9),I=G+(S^(O|~v))+k[0]+4096336452&4294967295,G=O+(I<<6&4294967295|I>>>26),I=v+(O^(G|~S))+k[7]+1126891415&4294967295,v=G+(I<<10&4294967295|I>>>22),I=S+(G^(v|~O))+k[14]+2878612391&4294967295,S=v+(I<<15&4294967295|I>>>17),I=O+(v^(S|~G))+k[5]+4237533241&4294967295,O=S+(I<<21&4294967295|I>>>11),I=G+(S^(O|~v))+k[12]+1700485571&4294967295,G=O+(I<<6&4294967295|I>>>26),I=v+(O^(G|~S))+k[3]+2399980690&4294967295,v=G+(I<<10&4294967295|I>>>22),I=S+(G^(v|~O))+k[10]+4293915773&4294967295,S=v+(I<<15&4294967295|I>>>17),I=O+(v^(S|~G))+k[1]+2240044497&4294967295,O=S+(I<<21&4294967295|I>>>11),I=G+(S^(O|~v))+k[8]+1873313359&4294967295,G=O+(I<<6&4294967295|I>>>26),I=v+(O^(G|~S))+k[15]+4264355552&4294967295,v=G+(I<<10&4294967295|I>>>22),I=S+(G^(v|~O))+k[6]+2734768916&4294967295,S=v+(I<<15&4294967295|I>>>17),I=O+(v^(S|~G))+k[13]+1309151649&4294967295,O=S+(I<<21&4294967295|I>>>11),I=G+(S^(O|~v))+k[4]+4149444226&4294967295,G=O+(I<<6&4294967295|I>>>26),I=v+(O^(G|~S))+k[11]+3174756917&4294967295,v=G+(I<<10&4294967295|I>>>22),I=S+(G^(v|~O))+k[2]+718787259&4294967295,S=v+(I<<15&4294967295|I>>>17),I=O+(v^(S|~G))+k[9]+3951481745&4294967295,y.g[0]=y.g[0]+G&4294967295,y.g[1]=y.g[1]+(S+(I<<21&4294967295|I>>>11))&4294967295,y.g[2]=y.g[2]+S&4294967295,y.g[3]=y.g[3]+v&4294967295}$.prototype.u=function(y,G){G===void 0&&(G=y.length);for(var O=G-this.blockSize,k=this.B,S=this.h,v=0;v<G;){if(S==0)for(;v<=O;)V(this,y,v),v+=this.blockSize;if(typeof y==="string"){for(;v<G;)if(k[S++]=y.charCodeAt(v++),S==this.blockSize){V(this,k),S=0;break}}else for(;v<G;)if(k[S++]=y[v++],S==this.blockSize){V(this,k),S=0;break}}this.h=S,this.o+=G},$.prototype.v=function(){var y=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);y[0]=128;for(var G=1;G<y.length-8;++G)y[G]=0;var O=8*this.o;for(G=y.length-8;G<y.length;++G)y[G]=O&255,O/=256;this.u(y),y=Array(16);for(G=O=0;4>G;++G)for(var k=0;32>k;k+=8)y[O++]=this.g[G]>>>k&255;return y};function w(y,G){var O=h;return Object.prototype.hasOwnProperty.call(O,y)?O[y]:O[y]=G(y)}function q(y,G){this.h=G;for(var O=[],k=!0,S=y.length-1;0<=S;S--){var v=y[S]|0;k&&v==G||(O[S]=v,k=!1)}this.g=O}var h={};function j(y){return-128<=y&&128>y?w(y,function(G){return new q([G|0],0>G?-1:0)}):new q([y|0],0>y?-1:0)}function R(y){if(isNaN(y)||!isFinite(y))return Y;if(0>y)return M(R(-y));for(var G=[],O=1,k=0;y>=O;k++)G[k]=y/O|0,O*=4294967296;return new q(G,0)}function f(y,G){if(y.length==0)throw Error("number format error: empty string");if(G=G||10,2>G||36<G)throw Error("radix out of range: "+G);if(y.charAt(0)=="-")return M(f(y.substring(1),G));if(0<=y.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=R(Math.pow(G,8)),k=Y,S=0;S<y.length;S+=8){var v=Math.min(8,y.length-S),I=parseInt(y.substring(S,S+v),G);8>v?(v=R(Math.pow(G,v)),k=k.j(v).add(R(I))):(k=k.j(O),k=k.add(R(I)))}return k}var Y=j(0),K=j(1),P=j(16777216);Z=q.prototype,Z.m=function(){if(_(this))return-M(this).m();for(var y=0,G=1,O=0;O<this.g.length;O++){var k=this.i(O);y+=(0<=k?k:4294967296+k)*G,G*=4294967296}return y},Z.toString=function(y){if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(A(this))return"0";if(_(this))return"-"+M(this).toString(y);for(var G=R(Math.pow(y,6)),O=this,k="";;){var S=q0(O,G).g;O=u(O,S.j(G));var v=((0<O.g.length?O.g[0]:O.h)>>>0).toString(y);if(O=S,A(O))return v+k;for(;6>v.length;)v="0"+v;k=v+k}},Z.i=function(y){return 0>y?0:y<this.g.length?this.g[y]:this.h};function A(y){if(y.h!=0)return!1;for(var G=0;G<y.g.length;G++)if(y.g[G]!=0)return!1;return!0}function _(y){return y.h==-1}Z.l=function(y){return y=u(this,y),_(y)?-1:A(y)?0:1};function M(y){for(var G=y.g.length,O=[],k=0;k<G;k++)O[k]=~y.g[k];return new q(O,~y.h).add(K)}Z.abs=function(){return _(this)?M(this):this},Z.add=function(y){for(var G=Math.max(this.g.length,y.g.length),O=[],k=0,S=0;S<=G;S++){var v=k+(this.i(S)&65535)+(y.i(S)&65535),I=(v>>>16)+(this.i(S)>>>16)+(y.i(S)>>>16);k=I>>>16,v&=65535,I&=65535,O[S]=I<<16|v}return new q(O,O[O.length-1]&-2147483648?-1:0)};function u(y,G){return y.add(M(G))}Z.j=function(y){if(A(this)||A(y))return Y;if(_(this))return _(y)?M(this).j(M(y)):M(M(this).j(y));if(_(y))return M(this.j(M(y)));if(0>this.l(P)&&0>y.l(P))return R(this.m()*y.m());for(var G=this.g.length+y.g.length,O=[],k=0;k<2*G;k++)O[k]=0;for(k=0;k<this.g.length;k++)for(var S=0;S<y.g.length;S++){var v=this.i(k)>>>16,I=this.i(k)&65535,r0=y.i(S)>>>16,V2=y.i(S)&65535;O[2*k+2*S]+=I*V2,n(O,2*k+2*S),O[2*k+2*S+1]+=v*V2,n(O,2*k+2*S+1),O[2*k+2*S+1]+=I*r0,n(O,2*k+2*S+1),O[2*k+2*S+2]+=v*r0,n(O,2*k+2*S+2)}for(k=0;k<G;k++)O[k]=O[2*k+1]<<16|O[2*k];for(k=G;k<2*G;k++)O[k]=0;return new q(O,0)};function n(y,G){for(;(y[G]&65535)!=y[G];)y[G+1]+=y[G]>>>16,y[G]&=65535,G++}function d(y,G){this.g=y,this.h=G}function q0(y,G){if(A(G))throw Error("division by zero");if(A(y))return new d(Y,Y);if(_(y))return G=q0(M(y),G),new d(M(G.g),M(G.h));if(_(G))return G=q0(y,M(G)),new d(M(G.g),G.h);if(30<y.g.length){if(_(y)||_(G))throw Error("slowDivide_ only works with positive integers.");for(var O=K,k=G;0>=k.l(y);)O=p0(O),k=p0(k);var S=K0(O,1),v=K0(k,1);k=K0(k,2);for(O=K0(O,2);!A(k);){var I=v.add(k);0>=I.l(y)&&(S=S.add(O),v=I),k=K0(k,1),O=K0(O,1)}return G=u(y,S.j(G)),new d(S,G)}for(S=Y;0<=y.l(G);){O=Math.max(1,Math.floor(y.m()/G.m())),k=Math.ceil(Math.log(O)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),v=R(O);for(I=v.j(G);_(I)||0<I.l(y);)O-=k,v=R(O),I=v.j(G);A(v)&&(v=K),S=S.add(v),y=u(y,I)}return new d(S,y)}Z.A=function(y){return q0(this,y).h},Z.and=function(y){for(var G=Math.max(this.g.length,y.g.length),O=[],k=0;k<G;k++)O[k]=this.i(k)&y.i(k);return new q(O,this.h&y.h)},Z.or=function(y){for(var G=Math.max(this.g.length,y.g.length),O=[],k=0;k<G;k++)O[k]=this.i(k)|y.i(k);return new q(O,this.h|y.h)},Z.xor=function(y){for(var G=Math.max(this.g.length,y.g.length),O=[],k=0;k<G;k++)O[k]=this.i(k)^y.i(k);return new q(O,this.h^y.h)};function p0(y){for(var G=y.g.length+1,O=[],k=0;k<G;k++)O[k]=y.i(k)<<1|y.i(k-1)>>>31;return new q(O,y.h)}function K0(y,G){var O=G>>5;G%=32;for(var k=y.g.length-O,S=[],v=0;v<k;v++)S[v]=0<G?y.i(v+O)>>>G|y.i(v+O+1)<<32-G:y.i(v+O);return new q(S,y.h)}$.prototype.digest=$.prototype.v,$.prototype.reset=$.prototype.s,$.prototype.update=$.prototype.u,J7=Q7.Md5=$,q.prototype.add=q.prototype.add,q.prototype.multiply=q.prototype.j,q.prototype.modulo=q.prototype.A,q.prototype.compare=q.prototype.l,q.prototype.toNumber=q.prototype.m,q.prototype.toString=q.prototype.toString,q.prototype.getBits=q.prototype.i,q.fromNumber=R,q.fromString=f,z4=Q7.Integer=q}).apply(typeof Z7!=="undefined"?Z7:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});var C8=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{},Z1={},U4,w4,b1,W4,n2,r8,x4,B4,q4;(function(){var Z,Q=typeof Object.defineProperties=="function"?Object.defineProperty:function(X,U,B){if(X==Array.prototype||X==Object.prototype)return X;return X[U]=B.value,X};function J(X){X=[typeof globalThis=="object"&&globalThis,X,typeof window=="object"&&window,typeof self=="object"&&self,typeof C8=="object"&&C8];for(var U=0;U<X.length;++U){var B=X[U];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var $=J(this);function V(X,U){if(U)Z:{var B=$;X=X.split(".");for(var F=0;F<X.length-1;F++){var N=X[F];if(!(N in B))break Z;B=B[N]}X=X[X.length-1],F=B[X],U=U(F),U!=F&&U!=null&&Q(B,X,{configurable:!0,writable:!0,value:U})}}function w(X,U){X instanceof String&&(X+="");var B=0,F=!1,N={next:function(){if(!F&&B<X.length){var H=B++;return{value:U(H,X[H]),done:!1}}return F=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}V("Array.prototype.values",function(X){return X?X:function(){return w(this,function(U,B){return B})}});var q=q||{},h=this||self;function j(X){var U=typeof X;return U=U!="object"?U:X?Array.isArray(X)?"array":U:"null",U=="array"||U=="object"&&typeof X.length=="number"}function R(X){var U=typeof X;return U=="object"&&X!=null||U=="function"}function f(X,U,B){return X.call.apply(X.bind,arguments)}function Y(X,U,B){if(!X)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,F),X.apply(U,N)}}return function(){return X.apply(U,arguments)}}function K(X,U,B){return K=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:Y,K.apply(null,arguments)}function P(X,U){var B=Array.prototype.slice.call(arguments,1);return function(){var F=B.slice();return F.push.apply(F,arguments),X.apply(this,F)}}function A(X,U){function B(){}B.prototype=U.prototype,X.aa=U.prototype,X.prototype=new B,X.prototype.constructor=X,X.Qb=function(F,N,H){for(var T=Array(arguments.length-2),E=2;E<arguments.length;E++)T[E-2]=arguments[E];return U.prototype[N].apply(F,T)}}function _(X){let U=X.length;if(0<U){let B=Array(U);for(let F=0;F<U;F++)B[F]=X[F];return B}return[]}function M(X,U){for(let B=1;B<arguments.length;B++){let F=arguments[B];if(j(F)){let N=X.length||0,H=F.length||0;X.length=N+H;for(let T=0;T<H;T++)X[N+T]=F[T]}else X.push(F)}}class u{constructor(X,U){this.i=X,this.j=U,this.h=0,this.g=null}get(){let X;return 0<this.h?(this.h--,X=this.g,this.g=X.next,X.next=null):X=this.i(),X}}function n(X){return/^[\s\xa0]*$/.test(X)}function d(){var X=h.navigator;return X&&(X=X.userAgent)?X:""}function q0(X){return q0[" "](X),X}q0[" "]=function(){};var p0=d().indexOf("Gecko")!=-1&&!(d().toLowerCase().indexOf("webkit")!=-1&&d().indexOf("Edge")==-1)&&!(d().indexOf("Trident")!=-1||d().indexOf("MSIE")!=-1)&&d().indexOf("Edge")==-1;function K0(X,U,B){for(let F in X)U.call(B,X[F],F,X)}function y(X,U){for(let B in X)U.call(void 0,X[B],B,X)}function G(X){let U={};for(let B in X)U[B]=X[B];return U}let O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(X,U){let B,F;for(let N=1;N<arguments.length;N++){F=arguments[N];for(B in F)X[B]=F[B];for(let H=0;H<O.length;H++)B=O[H],Object.prototype.hasOwnProperty.call(F,B)&&(X[B]=F[B])}}function S(X){var U=1;X=X.split(":");let B=[];for(;0<U&&X.length;)B.push(X.shift()),U--;return X.length&&B.push(X.join(":")),B}function v(X){h.setTimeout(()=>{throw X},0)}function I(){var X=$6;let U=null;return X.g&&(U=X.g,X.g=X.g.next,X.g||(X.h=null),U.next=null),U}class r0{constructor(){this.h=this.g=null}add(X,U){let B=V2.get();B.set(X,U),this.h?this.h.next=B:this.g=B,this.h=B}}var V2=new u(()=>new q9,(X)=>X.reset());class q9{constructor(){this.next=this.g=this.h=null}set(X,U){this.h=X,this.g=U,this.next=null}reset(){this.next=this.g=this.h=null}}let z2,U2=!1,$6=new r0,h9=()=>{let X=h.Promise.resolve(void 0);z2=()=>{X.then(S5)}};var S5=()=>{for(var X;X=I();){try{X.h.call(X.g)}catch(B){v(B)}var U=V2;U.j(X),100>U.h&&(U.h++,X.next=U.g,U.g=X)}U2=!1};function V1(){this.s=this.s,this.C=this.C}V1.prototype.s=!1,V1.prototype.ma=function(){this.s||(this.s=!0,this.N())},V1.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G0(X,U){this.type=X,this.g=this.target=U,this.defaultPrevented=!1}G0.prototype.h=function(){this.defaultPrevented=!0};var L5=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var X=!1,U=Object.defineProperty({},"passive",{get:function(){X=!0}});try{let B=()=>{};h.addEventListener("test",B,U),h.removeEventListener("test",B,U)}catch(B){}return X}();function w2(X,U){if(G0.call(this,X?X.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,X){var B=this.type=X.type,F=X.changedTouches&&X.changedTouches.length?X.changedTouches[0]:null;if(this.target=X.target||X.srcElement,this.g=U,U=X.relatedTarget){if(p0){Z:{try{q0(U.nodeName);var N=!0;break Z}catch(H){}N=!1}N||(U=null)}}else B=="mouseover"?U=X.fromElement:B=="mouseout"&&(U=X.toElement);this.relatedTarget=U,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0),this.button=X.button,this.key=X.key||"",this.ctrlKey=X.ctrlKey,this.altKey=X.altKey,this.shiftKey=X.shiftKey,this.metaKey=X.metaKey,this.pointerId=X.pointerId||0,this.pointerType=typeof X.pointerType==="string"?X.pointerType:N5[X.pointerType]||"",this.state=X.state,this.i=X,X.defaultPrevented&&w2.aa.h.call(this)}}A(w2,G0);var N5={2:"touch",3:"pen",4:"mouse"};w2.prototype.h=function(){w2.aa.h.call(this);var X=this.i;X.preventDefault?X.preventDefault():X.returnValue=!1};var W2="closure_listenable_"+(1e6*Math.random()|0),y5=0;function v5(X,U,B,F,N){this.listener=X,this.proxy=null,this.src=U,this.type=B,this.capture=!!F,this.ha=N,this.key=++y5,this.da=this.fa=!1}function h8(X){X.da=!0,X.listener=null,X.proxy=null,X.src=null,X.ha=null}function F8(X){this.src=X,this.g={},this.h=0}F8.prototype.add=function(X,U,B,F,N){var H=X.toString();X=this.g[H],X||(X=this.g[H]=[],this.h++);var T=z6(X,U,F,N);return-1<T?(U=X[T],B||(U.fa=!1)):(U=new v5(U,this.src,H,!!F,N),U.fa=B,X.push(U)),U};function V6(X,U){var B=U.type;if(B in X.g){var F=X.g[B],N=Array.prototype.indexOf.call(F,U,void 0),H;(H=0<=N)&&Array.prototype.splice.call(F,N,1),H&&(h8(U),X.g[B].length==0&&(delete X.g[B],X.h--))}}function z6(X,U,B,F){for(var N=0;N<X.length;++N){var H=X[N];if(!H.da&&H.listener==U&&H.capture==!!B&&H.ha==F)return N}return-1}var U6="closure_lm_"+(1e6*Math.random()|0),w6={};function F9(X,U,B,F,N){if(F&&F.once)return R9(X,U,B,F,N);if(Array.isArray(U)){for(var H=0;H<U.length;H++)F9(X,U[H],B,F,N);return null}return B=q6(B),X&&X[W2]?X.K(U,B,R(F)?!!F.capture:!!F,N):j9(X,U,B,!1,F,N)}function j9(X,U,B,F,N,H){if(!U)throw Error("Invalid event type");var T=R(N)?!!N.capture:!!N,E=x6(X);if(E||(X[U6]=E=new F8(X)),B=E.add(U,B,F,T,H),B.proxy)return B;if(F=f5(),B.proxy=F,F.src=X,F.listener=B,X.addEventListener)L5||(N=T),N===void 0&&(N=!1),X.addEventListener(U.toString(),F,N);else if(X.attachEvent)X.attachEvent(I9(U.toString()),F);else if(X.addListener&&X.removeListener)X.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return B}function f5(){function X(B){return U.call(X.src,X.listener,B)}let U=H5;return X}function R9(X,U,B,F,N){if(Array.isArray(U)){for(var H=0;H<U.length;H++)R9(X,U[H],B,F,N);return null}return B=q6(B),X&&X[W2]?X.L(U,B,R(F)?!!F.capture:!!F,N):j9(X,U,B,!0,F,N)}function G9(X,U,B,F,N){if(Array.isArray(U))for(var H=0;H<U.length;H++)G9(X,U[H],B,F,N);else(F=R(F)?!!F.capture:!!F,B=q6(B),X&&X[W2])?(X=X.i,U=String(U).toString(),(U in X.g)&&(H=X.g[U],B=z6(H,B,F,N),-1<B&&(h8(H[B]),Array.prototype.splice.call(H,B,1),H.length==0&&(delete X.g[U],X.h--)))):X&&(X=x6(X))&&(U=X.g[U.toString()],X=-1,U&&(X=z6(U,B,F,N)),(B=-1<X?U[X]:null)&&W6(B))}function W6(X){if(typeof X!=="number"&&X&&!X.da){var U=X.src;if(U&&U[W2])V6(U.i,X);else{var{type:B,proxy:F}=X;U.removeEventListener?U.removeEventListener(B,F,X.capture):U.detachEvent?U.detachEvent(I9(B),F):U.addListener&&U.removeListener&&U.removeListener(F),(B=x6(U))?(V6(B,X),B.h==0&&(B.src=null,U[U6]=null)):h8(X)}}}function I9(X){return X in w6?w6[X]:w6[X]="on"+X}function H5(X,U){if(X.da)X=!0;else{U=new w2(U,this);var B=X.listener,F=X.ha||X.src;X.fa&&W6(X),X=B.call(F,U)}return X}function x6(X){return X=X[U6],X instanceof F8?X:null}var B6="__closure_events_fn_"+(1e9*Math.random()>>>0);function q6(X){if(typeof X==="function")return X;return X[B6]||(X[B6]=function(U){return X.handleEvent(U)}),X[B6]}function I0(){V1.call(this),this.i=new F8(this),this.M=this,this.F=null}A(I0,V1),I0.prototype[W2]=!0,I0.prototype.removeEventListener=function(X,U,B,F){G9(this,X,U,B,F)};function v0(X,U){var B,F=X.F;if(F)for(B=[];F;F=F.F)B.push(F);if(X=X.M,F=U.type||U,typeof U==="string")U=new G0(U,X);else if(U instanceof G0)U.target=U.target||X;else{var N=U;U=new G0(F,X),k(U,N)}if(N=!0,B)for(var H=B.length-1;0<=H;H--){var T=U.g=B[H];N=j8(T,F,!0,U)&&N}if(T=U.g=X,N=j8(T,F,!0,U)&&N,N=j8(T,F,!1,U)&&N,B)for(H=0;H<B.length;H++)T=U.g=B[H],N=j8(T,F,!1,U)&&N}I0.prototype.N=function(){if(I0.aa.N.call(this),this.i){var X=this.i,U;for(U in X.g){for(var B=X.g[U],F=0;F<B.length;F++)h8(B[F]);delete X.g[U],X.h--}}this.F=null},I0.prototype.K=function(X,U,B,F){return this.i.add(String(X),U,!1,B,F)},I0.prototype.L=function(X,U,B,F){return this.i.add(String(X),U,!0,B,F)};function j8(X,U,B,F){if(U=X.i.g[String(U)],!U)return!0;U=U.concat();for(var N=!0,H=0;H<U.length;++H){var T=U[H];if(T&&!T.da&&T.capture==B){var E=T.listener,h0=T.ha||T.src;T.fa&&V6(X.i,T),N=E.call(h0,F)!==!1&&N}}return N&&!F.defaultPrevented}function O9(X,U,B){if(typeof X==="function")B&&(X=K(X,B));else if(X&&typeof X.handleEvent=="function")X=K(X.handleEvent,X);else throw Error("Invalid listener argument");return 2147483647<Number(U)?-1:h.setTimeout(X,U||0)}function k9(X){X.g=O9(()=>{X.g=null,X.i&&(X.i=!1,k9(X))},X.l);let U=X.h;X.h=null,X.m.apply(null,U)}class S9 extends V1{constructor(X,U){super();this.m=X,this.l=U,this.h=null,this.i=!1,this.g=null}j(X){this.h=arguments,this.g?this.i=!0:k9(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function x2(X){V1.call(this),this.h=X,this.g={}}A(x2,V1);var L9=[];function N9(X){K0(X.g,function(U,B){this.g.hasOwnProperty(B)&&W6(U)},X),X.g={}}x2.prototype.N=function(){x2.aa.N.call(this),N9(this)},x2.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var h6=h.JSON.stringify,Y5=h.JSON.parse,K5=class{stringify(X){return h.JSON.stringify(X,void 0)}parse(X){return h.JSON.parse(X,void 0)}};function F6(){}F6.prototype.h=null;function y9(X){return X.h||(X.h=X.i())}function v9(){}var B2={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function j6(){G0.call(this,"d")}A(j6,G0);function R6(){G0.call(this,"c")}A(R6,G0);var L1={},f9=null;function R8(){return f9=f9||new I0}L1.La="serverreachability";function H9(X){G0.call(this,L1.La,X)}A(H9,G0);function q2(X){let U=R8();v0(U,new H9(U))}L1.STAT_EVENT="statevent";function Y9(X,U){G0.call(this,L1.STAT_EVENT,X),this.stat=U}A(Y9,G0);function f0(X){let U=R8();v0(U,new Y9(U,X))}L1.Ma="timingevent";function K9(X,U){G0.call(this,L1.Ma,X),this.size=U}A(K9,G0);function h2(X,U){if(typeof X!=="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){X()},U)}function F2(){this.g=!0}F2.prototype.xa=function(){this.g=!1};function l5(X,U,B,F,N,H){X.info(function(){if(X.g)if(H){var T="";for(var E=H.split("&"),h0=0;h0<E.length;h0++){var t=E[h0].split("=");if(1<t.length){var O0=t[0];t=t[1];var k0=O0.split("_");T=2<=k0.length&&k0[1]=="type"?T+(O0+"="+t+"&"):T+(O0+"=redacted&")}}}else T=null;else T=H;return"XMLHTTP REQ ("+F+") [attempt "+N+"]: "+U+`
`+B+`
`+T})}function p5(X,U,B,F,N,H,T){X.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+N+"]: "+U+`
`+B+`
`+H+" "+T})}function i1(X,U,B,F){X.info(function(){return"XMLHTTP TEXT ("+U+"): "+A5(X,B)+(F?" "+F:"")})}function T5(X,U){X.info(function(){return"TIMEOUT: "+U})}F2.prototype.info=function(){};function A5(X,U){if(!X.g)return U;if(!U)return null;try{var B=JSON.parse(U);if(B){for(X=0;X<B.length;X++)if(Array.isArray(B[X])){var F=B[X];if(!(2>F.length)){var N=F[1];if(Array.isArray(N)&&!(1>N.length)){var H=N[0];if(H!="noop"&&H!="stop"&&H!="close")for(var T=1;T<N.length;T++)N[T]=""}}}}return h6(B)}catch(E){return U}}var G8={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},l9={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},G6;function I8(){}A(I8,F6),I8.prototype.g=function(){return new XMLHttpRequest},I8.prototype.i=function(){return{}},G6=new I8;function z1(X,U,B,F){this.j=X,this.i=U,this.l=B,this.R=F||1,this.U=new x2(this),this.I=45000,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new p9}function p9(){this.i=null,this.g="",this.h=!1}var T9={},I6={};function O6(X,U,B){X.L=1,X.v=L8(b0(U)),X.m=B,X.P=!0,A9(X,null)}function A9(X,U){X.F=Date.now(),O8(X),X.A=b0(X.v);var{A:B,R:F}=X;Array.isArray(F)||(F=[String(F)]),c9(B.i,"t",F),X.C=0,B=X.j.J,X.h=new p9,X.g=BZ(X.j,B?U:null,!X.m),0<X.O&&(X.M=new S9(K(X.Y,X,X.g),X.O)),U=X.U,B=X.g,F=X.ca;var N="readystatechange";Array.isArray(N)||(N&&(L9[0]=N.toString()),N=L9);for(var H=0;H<N.length;H++){var T=F9(B,N[H],F||U.handleEvent,!1,U.h||U);if(!T)break;U.g[T.key]=T}U=X.H?G(X.H):{},X.m?(X.u||(X.u="POST"),U["Content-Type"]="application/x-www-form-urlencoded",X.g.ea(X.A,X.u,X.m,U)):(X.u="GET",X.g.ea(X.A,X.u,null,U)),q2(),l5(X.i,X.u,X.A,X.l,X.R,X.m)}z1.prototype.ca=function(X){X=X.target;let U=this.M;U&&c0(X)==3?U.j():this.Y(X)},z1.prototype.Y=function(X){try{if(X==this.g)Z:{let k0=c0(this.g);var U=this.g.Ba();let r1=this.g.Z();if(!(3>k0)&&(k0!=3||this.g&&(this.h.h||this.g.oa()||ZZ(this.g)))){this.J||k0!=4||U==7||(U==8||0>=r1?q2(3):q2(2)),k6(this);var B=this.g.Z();this.X=B;Q:if(_9(this)){var F=ZZ(this.g);X="";var N=F.length,H=c0(this.g)==4;if(!this.h.i){if(typeof TextDecoder==="undefined"){N1(this),j2(this);var T="";break Q}this.h.i=new h.TextDecoder}for(U=0;U<N;U++)this.h.h=!0,X+=this.h.i.decode(F[U],{stream:!(H&&U==N-1)});F.length=0,this.h.g+=X,this.C=0,T=this.h.g}else T=this.g.oa();if(this.o=B==200,p5(this.i,this.u,this.A,this.l,this.R,k0,B),this.o){if(this.T&&!this.K){Q:{if(this.g){var E,h0=this.g;if((E=h0.g?h0.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!n(E)){var t=E;break Q}}t=null}if(B=t)i1(this.i,this.l,B,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,S6(this,B);else{this.o=!1,this.s=3,f0(12),N1(this),j2(this);break Z}}if(this.P){B=!0;let P0;for(;!this.J&&this.C<T.length;)if(P0=_5(this,T),P0==I6){k0==4&&(this.s=4,f0(14),B=!1),i1(this.i,this.l,null,"[Incomplete Response]");break}else if(P0==T9){this.s=4,f0(15),i1(this.i,this.l,T,"[Invalid Chunk]"),B=!1;break}else i1(this.i,this.l,P0,null),S6(this,P0);if(_9(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),k0!=4||T.length!=0||this.h.h||(this.s=1,f0(16),B=!1),this.o=this.o&&B,!B)i1(this.i,this.l,T,"[Invalid Chunked Response]"),N1(this),j2(this);else if(0<T.length&&!this.W){this.W=!0;var O0=this.j;O0.g==this&&O0.ba&&!O0.M&&(O0.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),H6(O0),O0.M=!0,f0(11))}}else i1(this.i,this.l,T,null),S6(this,T);k0==4&&N1(this),this.o&&!this.J&&(k0==4?UZ(this.j,this):(this.o=!1,O8(this)))}else o5(this.g),B==400&&0<T.indexOf("Unknown SID")?(this.s=3,f0(12)):(this.s=0,f0(13)),N1(this),j2(this)}}}catch(k0){}finally{}};function _9(X){return X.g?X.u=="GET"&&X.L!=2&&X.j.Ca:!1}function _5(X,U){var B=X.C,F=U.indexOf(`
`,B);if(F==-1)return I6;if(B=Number(U.substring(B,F)),isNaN(B))return T9;if(F+=1,F+B>U.length)return I6;return U=U.slice(F,F+B),X.C=F+B,U}z1.prototype.cancel=function(){this.J=!0,N1(this)};function O8(X){X.S=Date.now()+X.I,P9(X,X.I)}function P9(X,U){if(X.B!=null)throw Error("WatchDog timer not null");X.B=h2(K(X.ba,X),U)}function k6(X){X.B&&(h.clearTimeout(X.B),X.B=null)}z1.prototype.ba=function(){this.B=null;let X=Date.now();0<=X-this.S?(T5(this.i,this.A),this.L!=2&&(q2(),f0(17)),N1(this),this.s=2,j2(this)):P9(this,this.S-X)};function j2(X){X.j.G==0||X.J||UZ(X.j,X)}function N1(X){k6(X);var U=X.M;U&&typeof U.ma=="function"&&U.ma(),X.M=null,N9(X.U),X.g&&(U=X.g,X.g=null,U.abort(),U.ma())}function S6(X,U){try{var B=X.j;if(B.G!=0&&(B.g==X||L6(B.h,X))){if(!X.K&&L6(B.h,X)&&B.G==3){try{var F=B.Da.g.parse(U)}catch(t){F=null}if(Array.isArray(F)&&F.length==3){var N=F;if(N[0]==0)Z:if(!B.u){if(B.g)if(B.g.F+3000<X.F)H8(B),v8(B);else break Z;f6(B),f0(18)}else B.za=N[1],0<B.za-B.T&&37500>N[2]&&B.F&&B.v==0&&!B.C&&(B.C=h2(K(B.Za,B),6000));if(1>=u9(B.h)&&B.ca){try{B.ca()}catch(t){}B.ca=void 0}}else v1(B,11)}else if((X.K||B.g==X)&&H8(B),!n(U))for(N=B.Da.g.parse(U),U=0;U<N.length;U++){let t=N[U];if(B.T=t[0],t=t[1],B.G==2)if(t[0]=="c"){B.K=t[1],B.ia=t[2];let O0=t[3];O0!=null&&(B.la=O0,B.j.info("VER="+B.la));let k0=t[4];k0!=null&&(B.Aa=k0,B.j.info("SVER="+B.Aa));let r1=t[5];r1!=null&&typeof r1==="number"&&0<r1&&(F=1.5*r1,B.L=F,B.j.info("backChannelRequestTimeoutMs_="+F)),F=B;let P0=X.g;if(P0){let K8=P0.g?P0.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(K8){var H=F.h;H.g||K8.indexOf("spdy")==-1&&K8.indexOf("quic")==-1&&K8.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(N6(H,H.h),H.h=null))}if(F.D){let Y6=P0.g?P0.g.getResponseHeader("X-HTTP-Session-Id"):null;Y6&&(F.ya=Y6,Z0(F.I,F.D,Y6))}}B.G=3,B.l&&B.l.ua(),B.ba&&(B.R=Date.now()-X.F,B.j.info("Handshake RTT: "+B.R+"ms")),F=B;var T=X;if(F.qa=xZ(F,F.J?F.ia:null,F.W),T.K){C9(F.h,T);var E=T,h0=F.L;h0&&(E.I=h0),E.B&&(k6(E),O8(E)),F.g=T}else VZ(F);0<B.i.length&&f8(B)}else t[0]!="stop"&&t[0]!="close"||v1(B,7);else B.G==3&&(t[0]=="stop"||t[0]=="close"?t[0]=="stop"?v1(B,7):v6(B):t[0]!="noop"&&B.l&&B.l.ta(t),B.v=0)}}q2(4)}catch(t){}}var P5=class{constructor(X,U){this.g=X,this.map=U}};function M9(X){this.l=X||10,h.PerformanceNavigationTiming?(X=h.performance.getEntriesByType("navigation"),X=0<X.length&&(X[0].nextHopProtocol=="hq"||X[0].nextHopProtocol=="h2")):X=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=X?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function i9(X){return X.h?!0:X.g?X.g.size>=X.j:!1}function u9(X){return X.h?1:X.g?X.g.size:0}function L6(X,U){return X.h?X.h==U:X.g?X.g.has(U):!1}function N6(X,U){X.g?X.g.add(U):X.h=U}function C9(X,U){X.h&&X.h==U?X.h=null:X.g&&X.g.has(U)&&X.g.delete(U)}M9.prototype.cancel=function(){if(this.i=r9(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let X of this.g.values())X.cancel();this.g.clear()}};function r9(X){if(X.h!=null)return X.i.concat(X.h.D);if(X.g!=null&&X.g.size!==0){let U=X.i;for(let B of X.g.values())U=U.concat(B.D);return U}return _(X.i)}function M5(X){if(X.V&&typeof X.V=="function")return X.V();if(typeof Map!=="undefined"&&X instanceof Map||typeof Set!=="undefined"&&X instanceof Set)return Array.from(X.values());if(typeof X==="string")return X.split("");if(j(X)){for(var U=[],B=X.length,F=0;F<B;F++)U.push(X[F]);return U}U=[],B=0;for(F in X)U[B++]=X[F];return U}function i5(X){if(X.na&&typeof X.na=="function")return X.na();if(!X.V||typeof X.V!="function"){if(typeof Map!=="undefined"&&X instanceof Map)return Array.from(X.keys());if(!(typeof Set!=="undefined"&&X instanceof Set)){if(j(X)||typeof X==="string"){var U=[];X=X.length;for(var B=0;B<X;B++)U.push(B);return U}U=[],B=0;for(let F in X)U[B++]=F;return U}}}function m9(X,U){if(X.forEach&&typeof X.forEach=="function")X.forEach(U,void 0);else if(j(X)||typeof X==="string")Array.prototype.forEach.call(X,U,void 0);else for(var B=i5(X),F=M5(X),N=F.length,H=0;H<N;H++)U.call(void 0,F[H],B&&B[H],X)}var n9=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function u5(X,U){if(X){X=X.split("&");for(var B=0;B<X.length;B++){var F=X[B].indexOf("="),N=null;if(0<=F){var H=X[B].substring(0,F);N=X[B].substring(F+1)}else H=X[B];U(H,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function y1(X){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,X instanceof y1){this.h=X.h,k8(this,X.j),this.o=X.o,this.g=X.g,S8(this,X.s),this.l=X.l;var U=X.i,B=new I2;B.i=U.i,U.g&&(B.g=new Map(U.g),B.h=U.h),g9(this,B),this.m=X.m}else X&&(U=String(X).match(n9))?(this.h=!1,k8(this,U[1]||"",!0),this.o=R2(U[2]||""),this.g=R2(U[3]||"",!0),S8(this,U[4]),this.l=R2(U[5]||"",!0),g9(this,U[6]||"",!0),this.m=R2(U[7]||"")):(this.h=!1,this.i=new I2(null,this.h))}y1.prototype.toString=function(){var X=[],U=this.j;U&&X.push(G2(U,s9,!0),":");var B=this.g;if(B||U=="file")X.push("//"),(U=this.o)&&X.push(G2(U,s9,!0),"@"),X.push(encodeURIComponent(String(B)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.s,B!=null&&X.push(":",String(B));if(B=this.l)this.g&&B.charAt(0)!="/"&&X.push("/"),X.push(G2(B,B.charAt(0)=="/"?m5:r5,!0));return(B=this.i.toString())&&X.push("?",B),(B=this.m)&&X.push("#",G2(B,g5)),X.join("")};function b0(X){return new y1(X)}function k8(X,U,B){X.j=B?R2(U,!0):U,X.j&&(X.j=X.j.replace(/:$/,""))}function S8(X,U){if(U){if(U=Number(U),isNaN(U)||0>U)throw Error("Bad port number "+U);X.s=U}else X.s=null}function g9(X,U,B){U instanceof I2?(X.i=U,s5(X.i,X.h)):(B||(U=G2(U,n5)),X.i=new I2(U,X.h))}function Z0(X,U,B){X.i.set(U,B)}function L8(X){return Z0(X,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),X}function R2(X,U){return X?U?decodeURI(X.replace(/%25/g,"%2525")):decodeURIComponent(X):""}function G2(X,U,B){return typeof X==="string"?(X=encodeURI(X).replace(U,C5),B&&(X=X.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),X):null}function C5(X){return X=X.charCodeAt(0),"%"+(X>>4&15).toString(16)+(X&15).toString(16)}var s9=/[#\/\?@]/g,r5=/[#\?:]/g,m5=/[#\?]/g,n5=/[#\?@]/g,g5=/#/g;function I2(X,U){this.h=this.g=null,this.i=X||null,this.j=!!U}function U1(X){X.g||(X.g=new Map,X.h=0,X.i&&u5(X.i,function(U,B){X.add(decodeURIComponent(U.replace(/\+/g," ")),B)}))}Z=I2.prototype,Z.add=function(X,U){U1(this),this.i=null,X=u1(this,X);var B=this.g.get(X);return B||this.g.set(X,B=[]),B.push(U),this.h+=1,this};function D9(X,U){U1(X),U=u1(X,U),X.g.has(U)&&(X.i=null,X.h-=X.g.get(U).length,X.g.delete(U))}function b9(X,U){return U1(X),U=u1(X,U),X.g.has(U)}Z.forEach=function(X,U){U1(this),this.g.forEach(function(B,F){B.forEach(function(N){X.call(U,N,F,this)},this)},this)},Z.na=function(){U1(this);let X=Array.from(this.g.values()),U=Array.from(this.g.keys()),B=[];for(let F=0;F<U.length;F++){let N=X[F];for(let H=0;H<N.length;H++)B.push(U[F])}return B},Z.V=function(X){U1(this);let U=[];if(typeof X==="string")b9(this,X)&&(U=U.concat(this.g.get(u1(this,X))));else{X=Array.from(this.g.values());for(let B=0;B<X.length;B++)U=U.concat(X[B])}return U},Z.set=function(X,U){return U1(this),this.i=null,X=u1(this,X),b9(this,X)&&(this.h-=this.g.get(X).length),this.g.set(X,[U]),this.h+=1,this},Z.get=function(X,U){if(!X)return U;return X=this.V(X),0<X.length?String(X[0]):U};function c9(X,U,B){D9(X,U),0<B.length&&(X.i=null,X.g.set(u1(X,U),_(B)),X.h+=B.length)}Z.toString=function(){if(this.i)return this.i;if(!this.g)return"";let X=[],U=Array.from(this.g.keys());for(var B=0;B<U.length;B++){var F=U[B];let H=encodeURIComponent(String(F)),T=this.V(F);for(F=0;F<T.length;F++){var N=H;T[F]!==""&&(N+="="+encodeURIComponent(String(T[F]))),X.push(N)}}return this.i=X.join("&")};function u1(X,U){return U=String(U),X.j&&(U=U.toLowerCase()),U}function s5(X,U){U&&!X.j&&(U1(X),X.i=null,X.g.forEach(function(B,F){var N=F.toLowerCase();F!=N&&(D9(this,F),c9(this,N,B))},X)),X.j=U}function D5(X,U){let B=new F2;if(h.Image){let F=new Image;F.onload=P(w1,B,"TestLoadImage: loaded",!0,U,F),F.onerror=P(w1,B,"TestLoadImage: error",!1,U,F),F.onabort=P(w1,B,"TestLoadImage: abort",!1,U,F),F.ontimeout=P(w1,B,"TestLoadImage: timeout",!1,U,F),h.setTimeout(function(){if(F.ontimeout)F.ontimeout()},1e4),F.src=X}else U(!1)}function b5(X,U){let B=new F2,F=new AbortController,N=setTimeout(()=>{F.abort(),w1(B,"TestPingServer: timeout",!1,U)},1e4);fetch(X,{signal:F.signal}).then((H)=>{clearTimeout(N),H.ok?w1(B,"TestPingServer: ok",!0,U):w1(B,"TestPingServer: server error",!1,U)}).catch(()=>{clearTimeout(N),w1(B,"TestPingServer: error",!1,U)})}function w1(X,U,B,F,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),F(B)}catch(H){}}function c5(){this.g=new K5}function t5(X,U,B){let F=B||"";try{m9(X,function(N,H){let T=N;R(N)&&(T=h6(N)),U.push(F+H+"="+encodeURIComponent(T))})}catch(N){throw U.push(F+"type="+encodeURIComponent("_badmap")),N}}function O2(X){this.l=X.Ub||null,this.j=X.eb||!1}A(O2,F6),O2.prototype.g=function(){return new N8(this.l,this.j)},O2.prototype.i=function(X){return function(){return X}}({});function N8(X,U){I0.call(this),this.D=X,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(N8,I0),Z=N8.prototype,Z.open=function(X,U){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=X,this.A=U,this.readyState=1,S2(this)},Z.send=function(X){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let U={headers:this.u,method:this.B,credentials:this.m,cache:void 0};X&&(U.body=X),(this.D||h).fetch(new Request(this.A,U)).then(this.Sa.bind(this),this.ga.bind(this))},Z.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,k2(this)),this.readyState=0},Z.Sa=function(X){if(this.g&&(this.l=X,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=X.headers,this.readyState=2,S2(this)),this.g&&(this.readyState=3,S2(this),this.g)))if(this.responseType==="arraybuffer")X.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream!=="undefined"&&"body"in X){if(this.j=X.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;t9(this)}else X.text().then(this.Ra.bind(this),this.ga.bind(this))};function t9(X){X.j.read().then(X.Pa.bind(X)).catch(X.ga.bind(X))}Z.Pa=function(X){if(this.g){if(this.o&&X.value)this.response.push(X.value);else if(!this.o){var U=X.value?X.value:new Uint8Array(0);if(U=this.v.decode(U,{stream:!X.done}))this.response=this.responseText+=U}X.done?k2(this):S2(this),this.readyState==3&&t9(this)}},Z.Ra=function(X){this.g&&(this.response=this.responseText=X,k2(this))},Z.Qa=function(X){this.g&&(this.response=X,k2(this))},Z.ga=function(){this.g&&k2(this)};function k2(X){X.readyState=4,X.l=null,X.j=null,X.v=null,S2(X)}Z.setRequestHeader=function(X,U){this.u.append(X,U)},Z.getResponseHeader=function(X){return this.h?this.h.get(X.toLowerCase())||"":""},Z.getAllResponseHeaders=function(){if(!this.h)return"";let X=[],U=this.h.entries();for(var B=U.next();!B.done;)B=B.value,X.push(B[0]+": "+B[1]),B=U.next();return X.join(`\r
`)};function S2(X){X.onreadystatechange&&X.onreadystatechange.call(X)}Object.defineProperty(N8.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(X){this.m=X?"include":"same-origin"}});function d9(X){let U="";return K0(X,function(B,F){U+=F,U+=":",U+=B,U+=`\r
`}),U}function y6(X,U,B){Z:{for(F in B){var F=!1;break Z}F=!0}F||(B=d9(B),typeof X==="string"?B!=null&&encodeURIComponent(String(B)):Z0(X,U,B))}function X0(X){I0.call(this),this.headers=new Map,this.o=X||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(X0,I0);var d5=/^https?$/i,E5=["POST","PUT"];Z=X0.prototype,Z.Ha=function(X){this.J=X},Z.ea=function(X,U,B,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+X);U=U?U.toUpperCase():"GET",this.D=X,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():G6.g(),this.v=this.o?y9(this.o):y9(G6),this.g.onreadystatechange=K(this.Ea,this);try{this.B=!0,this.g.open(U,String(X),!0),this.B=!1}catch(H){E9(this,H);return}if(X=B||"",B=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var N in F)B.set(N,F[N]);else if(typeof F.keys==="function"&&typeof F.get==="function")for(let H of F.keys())B.set(H,F.get(H));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(B.keys()).find((H)=>H.toLowerCase()=="content-type"),N=h.FormData&&X instanceof h.FormData,!(0<=Array.prototype.indexOf.call(E5,U,void 0))||F||N||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[H,T]of B)this.g.setRequestHeader(H,T);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{a9(this),this.u=!0,this.g.send(X),this.u=!1}catch(H){E9(this,H)}};function E9(X,U){X.h=!1,X.g&&(X.j=!0,X.g.abort(),X.j=!1),X.l=U,X.m=5,o9(X),y8(X)}function o9(X){X.A||(X.A=!0,v0(X,"complete"),v0(X,"error"))}Z.abort=function(X){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=X||7,v0(this,"complete"),v0(this,"abort"),y8(this))},Z.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),y8(this,!0)),X0.aa.N.call(this)},Z.Ea=function(){this.s||(this.B||this.u||this.j?e9(this):this.bb())},Z.bb=function(){e9(this)};function e9(X){if(X.h&&typeof q!="undefined"&&(!X.v[1]||c0(X)!=4||X.Z()!=2)){if(X.u&&c0(X)==4)O9(X.Ea,0,X);else if(v0(X,"readystatechange"),c0(X)==4){X.h=!1;try{let T=X.Z();Z:switch(T){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break Z;default:U=!1}var B;if(!(B=U)){var F;if(F=T===0){var N=String(X.D).match(n9)[1]||null;!N&&h.self&&h.self.location&&(N=h.self.location.protocol.slice(0,-1)),F=!d5.test(N?N.toLowerCase():"")}B=F}if(B)v0(X,"complete"),v0(X,"success");else{X.m=6;try{var H=2<c0(X)?X.g.statusText:""}catch(E){H=""}X.l=H+" ["+X.Z()+"]",o9(X)}}finally{y8(X)}}}}function y8(X,U){if(X.g){a9(X);let B=X.g,F=X.v[0]?()=>{}:null;X.g=null,X.v=null,U||v0(X,"ready");try{B.onreadystatechange=F}catch(N){}}}function a9(X){X.I&&(h.clearTimeout(X.I),X.I=null)}Z.isActive=function(){return!!this.g};function c0(X){return X.g?X.g.readyState:0}Z.Z=function(){try{return 2<c0(this)?this.g.status:-1}catch(X){return-1}},Z.oa=function(){try{return this.g?this.g.responseText:""}catch(X){return""}},Z.Oa=function(X){if(this.g){var U=this.g.responseText;return X&&U.indexOf(X)==0&&(U=U.substring(X.length)),Y5(U)}};function ZZ(X){try{if(!X.g)return null;if("response"in X.g)return X.g.response;switch(X.H){case"":case"text":return X.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in X.g)return X.g.mozResponseArrayBuffer}return null}catch(U){return null}}function o5(X){let U={};X=(X.g&&2<=c0(X)?X.g.getAllResponseHeaders()||"":"").split(`\r
`);for(let F=0;F<X.length;F++){if(n(X[F]))continue;var B=S(X[F]);let N=B[0];if(B=B[1],typeof B!=="string")continue;B=B.trim();let H=U[N]||[];U[N]=H,H.push(B)}y(U,function(F){return F.join(", ")})}Z.Ba=function(){return this.m},Z.Ka=function(){return typeof this.l==="string"?this.l:String(this.l)};function L2(X,U,B){return B&&B.internalChannelParams?B.internalChannelParams[X]||U:U}function QZ(X){this.Aa=0,this.i=[],this.j=new F2,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=L2("failFast",!1,X),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=L2("baseRetryDelayMs",5000,X),this.cb=L2("retryDelaySeedMs",1e4,X),this.Wa=L2("forwardChannelMaxRetries",2,X),this.wa=L2("forwardChannelRequestTimeoutMs",20000,X),this.pa=X&&X.xmlHttpFactory||void 0,this.Xa=X&&X.Tb||void 0,this.Ca=X&&X.useFetchStreams||!1,this.L=void 0,this.J=X&&X.supportsCrossDomainXhr||!1,this.K="",this.h=new M9(X&&X.concurrentRequestLimit),this.Da=new c5,this.P=X&&X.fastHandshake||!1,this.O=X&&X.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=X&&X.Rb||!1,X&&X.xa&&this.j.xa(),X&&X.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&X&&X.detectBufferingProxy||!1,this.ja=void 0,X&&X.longPollingTimeout&&0<X.longPollingTimeout&&(this.ja=X.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}Z=QZ.prototype,Z.la=8,Z.G=1,Z.connect=function(X,U,B,F){f0(0),this.W=X,this.H=U||{},B&&F!==void 0&&(this.H.OSID=B,this.H.OAID=F),this.F=this.X,this.I=xZ(this,null,this.W),f8(this)};function v6(X){if(JZ(X),X.G==3){var U=X.U++,B=b0(X.I);if(Z0(B,"SID",X.K),Z0(B,"RID",U),Z0(B,"TYPE","terminate"),N2(X,B),U=new z1(X,X.j,U),U.L=2,U.v=L8(b0(B)),B=!1,h.navigator&&h.navigator.sendBeacon)try{B=h.navigator.sendBeacon(U.v.toString(),"")}catch(F){}!B&&h.Image&&(new Image().src=U.v,B=!0),B||(U.g=BZ(U.j,null),U.g.ea(U.v)),U.F=Date.now(),O8(U)}WZ(X)}function v8(X){X.g&&(H6(X),X.g.cancel(),X.g=null)}function JZ(X){v8(X),X.u&&(h.clearTimeout(X.u),X.u=null),H8(X),X.h.cancel(),X.s&&(typeof X.s==="number"&&h.clearTimeout(X.s),X.s=null)}function f8(X){if(!i9(X.h)&&!X.s){X.s=!0;var U=X.Ga;z2||h9(),U2||(z2(),U2=!0),$6.add(U,X),X.B=0}}function e5(X,U){if(u9(X.h)>=X.h.j-(X.s?1:0))return!1;if(X.s)return X.i=U.D.concat(X.i),!0;if(X.G==1||X.G==2||X.B>=(X.Va?0:X.Wa))return!1;return X.s=h2(K(X.Ga,X,U),wZ(X,X.B)),X.B++,!0}Z.Ga=function(X){if(this.s)if(this.s=null,this.G==1){if(!X){this.U=Math.floor(1e5*Math.random()),X=this.U++;let N=new z1(this,this.j,X),H=this.o;if(this.S&&(H?(H=G(H),k(H,this.S)):H=this.S),this.m!==null||this.O||(N.H=H,H=null),this.P)Z:{var U=0;for(var B=0;B<this.i.length;B++){Q:{var F=this.i[B];if("__data__"in F.map&&(F=F.map.__data__,typeof F==="string")){F=F.length;break Q}F=void 0}if(F===void 0)break;if(U+=F,4096<U){U=B;break Z}if(U===4096||B===this.i.length-1){U=B+1;break Z}}U=1000}else U=1000;U=$Z(this,N,U),B=b0(this.I),Z0(B,"RID",X),Z0(B,"CVER",22),this.D&&Z0(B,"X-HTTP-Session-Id",this.D),N2(this,B),H&&(this.O?U="headers="+encodeURIComponent(String(d9(H)))+"&"+U:this.m&&y6(B,this.m,H)),N6(this.h,N),this.Ua&&Z0(B,"TYPE","init"),this.P?(Z0(B,"$req",U),Z0(B,"SID","null"),N.T=!0,O6(N,B,null)):O6(N,B,U),this.G=2}}else this.G==3&&(X?XZ(this,X):this.i.length==0||i9(this.h)||XZ(this))};function XZ(X,U){var B;U?B=U.l:B=X.U++;let F=b0(X.I);Z0(F,"SID",X.K),Z0(F,"RID",B),Z0(F,"AID",X.T),N2(X,F),X.m&&X.o&&y6(F,X.m,X.o),B=new z1(X,X.j,B,X.B+1),X.m===null&&(B.H=X.o),U&&(X.i=U.D.concat(X.i)),U=$Z(X,B,1000),B.I=Math.round(0.5*X.wa)+Math.round(0.5*X.wa*Math.random()),N6(X.h,B),O6(B,F,U)}function N2(X,U){X.H&&K0(X.H,function(B,F){Z0(U,F,B)}),X.l&&m9({},function(B,F){Z0(U,F,B)})}function $Z(X,U,B){B=Math.min(X.i.length,B);var F=X.l?K(X.l.Na,X.l,X):null;Z:{var N=X.i;let H=-1;for(;;){let T=["count="+B];H==-1?0<B?(H=N[0].g,T.push("ofs="+H)):H=0:T.push("ofs="+H);let E=!0;for(let h0=0;h0<B;h0++){let t=N[h0].g,O0=N[h0].map;if(t-=H,0>t)H=Math.max(0,N[h0].g-100),E=!1;else try{t5(O0,T,"req"+t+"_")}catch(k0){F&&F(O0)}}if(E){F=T.join("&");break Z}}}return X=X.i.splice(0,B),U.D=X,F}function VZ(X){if(!X.g&&!X.u){X.Y=1;var U=X.Fa;z2||h9(),U2||(z2(),U2=!0),$6.add(U,X),X.v=0}}function f6(X){if(X.g||X.u||3<=X.v)return!1;return X.Y++,X.u=h2(K(X.Fa,X),wZ(X,X.v)),X.v++,!0}Z.Fa=function(){if(this.u=null,zZ(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var X=2*this.R;this.j.info("BP detection timer enabled: "+X),this.A=h2(K(this.ab,this),X)}},Z.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,f0(10),v8(this),zZ(this))};function H6(X){X.A!=null&&(h.clearTimeout(X.A),X.A=null)}function zZ(X){X.g=new z1(X,X.j,"rpc",X.Y),X.m===null&&(X.g.H=X.o),X.g.O=0;var U=b0(X.qa);Z0(U,"RID","rpc"),Z0(U,"SID",X.K),Z0(U,"AID",X.T),Z0(U,"CI",X.F?"0":"1"),!X.F&&X.ja&&Z0(U,"TO",X.ja),Z0(U,"TYPE","xmlhttp"),N2(X,U),X.m&&X.o&&y6(U,X.m,X.o),X.L&&(X.g.I=X.L);var B=X.g;X=X.ia,B.L=1,B.v=L8(b0(U)),B.m=null,B.P=!0,A9(B,X)}Z.Za=function(){this.C!=null&&(this.C=null,v8(this),f6(this),f0(19))};function H8(X){X.C!=null&&(h.clearTimeout(X.C),X.C=null)}function UZ(X,U){var B=null;if(X.g==U){H8(X),H6(X),X.g=null;var F=2}else if(L6(X.h,U))B=U.D,C9(X.h,U),F=1;else return;if(X.G!=0){if(U.o)if(F==1){B=U.m?U.m.length:0,U=Date.now()-U.F;var N=X.B;F=R8(),v0(F,new K9(F,B)),f8(X)}else VZ(X);else if(N=U.s,N==3||N==0&&0<U.X||!(F==1&&e5(X,U)||F==2&&f6(X)))switch(B&&0<B.length&&(U=X.h,U.i=U.i.concat(B)),N){case 1:v1(X,5);break;case 4:v1(X,10);break;case 3:v1(X,6);break;default:v1(X,2)}}}function wZ(X,U){let B=X.Ta+Math.floor(Math.random()*X.cb);return X.isActive()||(B*=2),B*U}function v1(X,U){if(X.j.info("Error code "+U),U==2){var B=K(X.fb,X),F=X.Xa;let N=!F;F=new y1(F||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||k8(F,"https"),L8(F),N?D5(F.toString(),B):b5(F.toString(),B)}else f0(2);X.G=0,X.l&&X.l.sa(U),WZ(X),JZ(X)}Z.fb=function(X){X?(this.j.info("Successfully pinged google.com"),f0(2)):(this.j.info("Failed to ping google.com"),f0(1))};function WZ(X){if(X.G=0,X.ka=[],X.l){let U=r9(X.h);if(U.length!=0||X.i.length!=0)M(X.ka,U),M(X.ka,X.i),X.h.i.length=0,_(X.i),X.i.length=0;X.l.ra()}}function xZ(X,U,B){var F=B instanceof y1?b0(B):new y1(B);if(F.g!="")U&&(F.g=U+"."+F.g),S8(F,F.s);else{var N=h.location;F=N.protocol,U=U?U+"."+N.hostname:N.hostname,N=+N.port;var H=new y1(null);F&&k8(H,F),U&&(H.g=U),N&&S8(H,N),B&&(H.l=B),F=H}return B=X.D,U=X.ya,B&&U&&Z0(F,B,U),Z0(F,"VER",X.la),N2(X,F),F}function BZ(X,U,B){if(U&&!X.J)throw Error("Can't create secondary domain capable XhrIo object.");return U=X.Ca&&!X.pa?new X0(new O2({eb:B})):new X0(X.pa),U.Ha(X.J),U}Z.isActive=function(){return!!this.l&&this.l.isActive(this)};function qZ(){}Z=qZ.prototype,Z.ua=function(){},Z.ta=function(){},Z.sa=function(){},Z.ra=function(){},Z.isActive=function(){return!0},Z.Na=function(){};function Y8(){}Y8.prototype.g=function(X,U){return new l0(X,U)};function l0(X,U){I0.call(this),this.g=new QZ(U),this.l=X,this.h=U&&U.messageUrlParams||null,X=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(X?X["X-Client-Protocol"]="webchannel":X={"X-Client-Protocol":"webchannel"}),this.g.o=X,X=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(X?X["X-WebChannel-Content-Type"]=U.messageContentType:X={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.va&&(X?X["X-WebChannel-Client-Profile"]=U.va:X={"X-WebChannel-Client-Profile":U.va}),this.g.S=X,(X=U&&U.Sb)&&!n(X)&&(this.g.m=X),this.v=U&&U.supportsCrossDomainXhr||!1,this.u=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!n(U)&&(this.g.D=U,X=this.h,X!==null&&(U in X)&&(X=this.h,(U in X)&&delete X[U])),this.j=new C1(this)}A(l0,I0),l0.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},l0.prototype.close=function(){v6(this.g)},l0.prototype.o=function(X){var U=this.g;if(typeof X==="string"){var B={};B.__data__=X,X=B}else this.u&&(B={},B.__data__=h6(X),X=B);U.i.push(new P5(U.Ya++,X)),U.G==3&&f8(U)},l0.prototype.N=function(){this.g.l=null,delete this.j,v6(this.g),delete this.g,l0.aa.N.call(this)};function hZ(X){j6.call(this),X.__headers__&&(this.headers=X.__headers__,this.statusCode=X.__status__,delete X.__headers__,delete X.__status__);var U=X.__sm__;if(U){Z:{for(let B in U){X=B;break Z}X=void 0}if(this.i=X)X=this.i,U=U!==null&&X in U?U[X]:void 0;this.data=U}else this.data=X}A(hZ,j6);function FZ(){R6.call(this),this.status=1}A(FZ,R6);function C1(X){this.g=X}A(C1,qZ),C1.prototype.ua=function(){v0(this.g,"a")},C1.prototype.ta=function(X){v0(this.g,new hZ(X))},C1.prototype.sa=function(X){v0(this.g,new FZ)},C1.prototype.ra=function(){v0(this.g,"b")},Y8.prototype.createWebChannel=Y8.prototype.g,l0.prototype.send=l0.prototype.o,l0.prototype.open=l0.prototype.m,l0.prototype.close=l0.prototype.close,q4=Z1.createWebChannelTransport=function(){return new Y8},B4=Z1.getStatEventTarget=function(){return R8()},x4=Z1.Event=L1,r8=Z1.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},G8.NO_ERROR=0,G8.TIMEOUT=8,G8.HTTP_ERROR=6,n2=Z1.ErrorCode=G8,l9.COMPLETE="complete",W4=Z1.EventType=l9,v9.EventType=B2,B2.OPEN="a",B2.CLOSE="b",B2.ERROR="c",B2.MESSAGE="d",I0.prototype.listen=I0.prototype.K,b1=Z1.WebChannel=v9,w4=Z1.FetchXmlHttpFactory=O2,X0.prototype.listenOnce=X0.prototype.L,X0.prototype.getLastError=X0.prototype.Ka,X0.prototype.getLastErrorCode=X0.prototype.Ba,X0.prototype.getStatus=X0.prototype.Z,X0.prototype.getResponseJson=X0.prototype.Oa,X0.prototype.getResponseText=X0.prototype.oa,X0.prototype.send=X0.prototype.ea,X0.prototype.setWithCredentials=X0.prototype.Ha,U4=Z1.XhrIo=X0}).apply(typeof C8!=="undefined"?C8:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});var X7="@firebase/firestore";class F0{constructor(Z){this.uid=Z}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(Z){return Z.uid===this.uid}}F0.UNAUTHENTICATED=new F0(null),F0.GOOGLE_CREDENTIALS=new F0("google-credentials-uid"),F0.FIRST_PARTY=new F0("first-party-uid"),F0.MOCK_USER=new F0("mock-user");var X2="10.13.0",T1=new C2("@firebase/firestore");function g2(){return T1.logLevel}function i(Z,...Q){if(T1.logLevel<=b.DEBUG){let J=Q.map(K4);T1.debug(`Firestore (${X2}): ${Z}`,...J)}}function A1(Z,...Q){if(T1.logLevel<=b.ERROR){let J=Q.map(K4);T1.error(`Firestore (${X2}): ${Z}`,...J)}}function b8(Z,...Q){if(T1.logLevel<=b.WARN){let J=Q.map(K4);T1.warn(`Firestore (${X2}): ${Z}`,...J)}}function K4(Z){if(typeof Z=="string")return Z;try{return function Q(J){return JSON.stringify(J)}(Z)}catch(Q){return Z}}function s(Z="Unexpected state"){let Q=`FIRESTORE (${X2}) INTERNAL ASSERTION FAILED: `+Z;throw A1(Q),new Error(Q)}function W0(Z,Q){Z||s()}function a(Z,Q){return Z}var p={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends e0{constructor(Z,Q){super(Z,Q),this.code=Z,this.message=Q,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class F1{constructor(){this.promise=new Promise((Z,Q)=>{this.resolve=Z,this.reject=Q})}}class l4{constructor(Z,Q){this.user=Q,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${Z}`)}}class v7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(Z,Q){Z.enqueueRetryable(()=>Q(F0.UNAUTHENTICATED))}shutdown(){}}class f7{constructor(Z){this.token=Z,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(Z,Q){this.changeListener=Q,Z.enqueueRetryable(()=>Q(this.token.user))}shutdown(){this.changeListener=null}}class H7{constructor(Z){this.t=Z,this.currentUser=F0.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(Z,Q){let J=this.i,$=(h)=>this.i!==J?(J=this.i,Q(h)):Promise.resolve(),V=new F1;this.o=()=>{this.i++,this.currentUser=this.u(),V.resolve(),V=new F1,Z.enqueueRetryable(()=>$(this.currentUser))};let w=()=>{let h=V;Z.enqueueRetryable(async()=>{await h.promise,await $(this.currentUser)})},q=(h)=>{i("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.auth.addAuthTokenListener(this.o),w()};this.t.onInit((h)=>q(h)),setTimeout(()=>{if(!this.auth){let h=this.t.getImmediate({optional:!0});h?q(h):(i("FirebaseAuthCredentialsProvider","Auth not yet detected"),V.resolve(),V=new F1)}},0),w()}getToken(){let Z=this.i,Q=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(Q).then((J)=>this.i!==Z?(i("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):J?(W0(typeof J.accessToken=="string"),new l4(J.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let Z=this.auth&&this.auth.getUid();return W0(Z===null||typeof Z=="string"),new F0(Z)}}class Y7{constructor(Z,Q,J){this.l=Z,this.h=Q,this.P=J,this.type="FirstParty",this.user=F0.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let Z=this.T();return Z&&this.I.set("Authorization",Z),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class K7{constructor(Z,Q,J){this.l=Z,this.h=Q,this.P=J}getToken(){return Promise.resolve(new Y7(this.l,this.h,this.P))}start(Z,Q){Z.enqueueRetryable(()=>Q(F0.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class l7{constructor(Z){this.value=Z,this.type="AppCheck",this.headers=new Map,Z&&Z.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p7{constructor(Z){this.A=Z,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(Z,Q){let J=(V)=>{V.error!=null&&i("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${V.error.message}`);let w=V.token!==this.R;return this.R=V.token,i("FirebaseAppCheckTokenProvider",`Received ${w?"new":"existing"} token.`),w?Q(V.token):Promise.resolve()};this.o=(V)=>{Z.enqueueRetryable(()=>J(V))};let $=(V)=>{i("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=V,this.appCheck.addTokenListener(this.o)};this.A.onInit((V)=>$(V)),setTimeout(()=>{if(!this.appCheck){let V=this.A.getImmediate({optional:!0});V?$(V):i("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let Z=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(Z).then((Q)=>Q?(W0(typeof Q.token=="string"),this.R=Q.token,new l7(Q.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function OX(Z){let Q=typeof self!="undefined"&&(self.crypto||self.msCrypto),J=new Uint8Array(Z);if(Q&&typeof Q.getRandomValues=="function")Q.getRandomValues(J);else for(let $=0;$<Z;$++)J[$]=Math.floor(256*Math.random());return J}class p4{static newId(){let Q=Math.floor(4.129032258064516)*62,J="";for(;J.length<20;){let $=OX(40);for(let V=0;V<$.length;++V)J.length<20&&$[V]<Q&&(J+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt($[V]%62))}return J}}function o(Z,Q){return Z<Q?-1:Z>Q?1:0}function d1(Z,Q,J){return Z.length===Q.length&&Z.every(($,V)=>J($,Q[V]))}class B0{constructor(Z,Q){if(this.seconds=Z,this.nanoseconds=Q,Q<0)throw new C(p.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+Q);if(Q>=1e9)throw new C(p.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+Q);if(Z<-62135596800)throw new C(p.INVALID_ARGUMENT,"Timestamp seconds out of range: "+Z);if(Z>=253402300800)throw new C(p.INVALID_ARGUMENT,"Timestamp seconds out of range: "+Z)}static now(){return B0.fromMillis(Date.now())}static fromDate(Z){return B0.fromMillis(Z.getTime())}static fromMillis(Z){let Q=Math.floor(Z/1000),J=Math.floor(1e6*(Z-1000*Q));return new B0(Q,J)}toDate(){return new Date(this.toMillis())}toMillis(){return 1000*this.seconds+this.nanoseconds/1e6}_compareTo(Z){return this.seconds===Z.seconds?o(this.nanoseconds,Z.nanoseconds):o(this.seconds,Z.seconds)}isEqual(Z){return Z.seconds===this.seconds&&Z.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let Z=this.seconds- -62135596800;return String(Z).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class J0{constructor(Z){this.timestamp=Z}static fromTimestamp(Z){return new J0(Z)}static min(){return new J0(new B0(0,0))}static max(){return new J0(new B0(253402300799,999999999))}compareTo(Z){return this.timestamp._compareTo(Z.timestamp)}isEqual(Z){return this.timestamp.isEqual(Z.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1000}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class E2{constructor(Z,Q,J){Q===void 0?Q=0:Q>Z.length&&s(),J===void 0?J=Z.length-Q:J>Z.length-Q&&s(),this.segments=Z,this.offset=Q,this.len=J}get length(){return this.len}isEqual(Z){return E2.comparator(this,Z)===0}child(Z){let Q=this.segments.slice(this.offset,this.limit());return Z instanceof E2?Z.forEach((J)=>{Q.push(J)}):Q.push(Z),this.construct(Q)}limit(){return this.offset+this.length}popFirst(Z){return Z=Z===void 0?1:Z,this.construct(this.segments,this.offset+Z,this.length-Z)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(Z){return this.segments[this.offset+Z]}isEmpty(){return this.length===0}isPrefixOf(Z){if(Z.length<this.length)return!1;for(let Q=0;Q<this.length;Q++)if(this.get(Q)!==Z.get(Q))return!1;return!0}isImmediateParentOf(Z){if(this.length+1!==Z.length)return!1;for(let Q=0;Q<this.length;Q++)if(this.get(Q)!==Z.get(Q))return!1;return!0}forEach(Z){for(let Q=this.offset,J=this.limit();Q<J;Q++)Z(this.segments[Q])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(Z,Q){let J=Math.min(Z.length,Q.length);for(let $=0;$<J;$++){let V=Z.get($),w=Q.get($);if(V<w)return-1;if(V>w)return 1}return Z.length<Q.length?-1:Z.length>Q.length?1:0}}class V0 extends E2{construct(Z,Q,J){return new V0(Z,Q,J)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...Z){let Q=[];for(let J of Z){if(J.indexOf("//")>=0)throw new C(p.INVALID_ARGUMENT,`Invalid segment (${J}). Paths must not contain // in them.`);Q.push(...J.split("/").filter(($)=>$.length>0))}return new V0(Q)}static emptyPath(){return new V0([])}}var kX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class R0 extends E2{construct(Z,Q,J){return new R0(Z,Q,J)}static isValidIdentifier(Z){return kX.test(Z)}canonicalString(){return this.toArray().map((Z)=>(Z=Z.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),R0.isValidIdentifier(Z)||(Z="`"+Z+"`"),Z)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new R0(["__name__"])}static fromServerFormat(Z){let Q=[],J="",$=0,V=()=>{if(J.length===0)throw new C(p.INVALID_ARGUMENT,`Invalid field path (${Z}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);Q.push(J),J=""},w=!1;for(;$<Z.length;){let q=Z[$];if(q==="\\"){if($+1===Z.length)throw new C(p.INVALID_ARGUMENT,"Path has trailing escape character: "+Z);let h=Z[$+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new C(p.INVALID_ARGUMENT,"Path has invalid escape sequence: "+Z);J+=h,$+=2}else q==="`"?(w=!w,$++):q!=="."||w?(J+=q,$++):(V(),$++)}if(V(),w)throw new C(p.INVALID_ARGUMENT,"Unterminated ` in path: "+Z);return new R0(Q)}static emptyPath(){return new R0([])}}class m{constructor(Z){this.path=Z}static fromPath(Z){return new m(V0.fromString(Z))}static fromName(Z){return new m(V0.fromString(Z).popFirst(5))}static empty(){return new m(V0.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(Z){return this.path.length>=2&&this.path.get(this.path.length-2)===Z}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(Z){return Z!==null&&V0.comparator(this.path,Z.path)===0}toString(){return this.path.toString()}static comparator(Z,Q){return V0.comparator(Z.path,Q.path)}static isDocumentKey(Z){return Z.length%2==0}static fromSegments(Z){return new m(new V0(Z.slice()))}}class T7{constructor(Z,Q,J,$){this.indexId=Z,this.collectionGroup=Q,this.fields=J,this.indexState=$}}T7.UNKNOWN_ID=-1;function SX(Z,Q){let J=Z.toTimestamp().seconds,$=Z.toTimestamp().nanoseconds+1,V=J0.fromTimestamp($===1e9?new B0(J+1,0):new B0(J,$));return new R1(V,m.empty(),Q)}function LX(Z){return new R1(Z.readTime,Z.key,-1)}class R1{constructor(Z,Q,J){this.readTime=Z,this.documentKey=Q,this.largestBatchId=J}static min(){return new R1(J0.min(),m.empty(),-1)}static max(){return new R1(J0.max(),m.empty(),-1)}}function NX(Z,Q){let J=Z.readTime.compareTo(Q.readTime);return J!==0?J:(J=m.comparator(Z.documentKey,Q.documentKey),J!==0?J:o(Z.largestBatchId,Q.largestBatchId))}var yX="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class A7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(Z){this.onCommittedListeners.push(Z)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((Z)=>Z())}}async function _7(Z){if(Z.code!==p.FAILED_PRECONDITION||Z.message!==yX)throw Z;i("LocalStore","Unexpectedly lost primary lease")}class l{constructor(Z){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,Z((Q)=>{this.isDone=!0,this.result=Q,this.nextCallback&&this.nextCallback(Q)},(Q)=>{this.isDone=!0,this.error=Q,this.catchCallback&&this.catchCallback(Q)})}catch(Z){return this.next(void 0,Z)}next(Z,Q){return this.callbackAttached&&s(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(Q,this.error):this.wrapSuccess(Z,this.result):new l((J,$)=>{this.nextCallback=(V)=>{this.wrapSuccess(Z,V).next(J,$)},this.catchCallback=(V)=>{this.wrapFailure(Q,V).next(J,$)}})}toPromise(){return new Promise((Z,Q)=>{this.next(Z,Q)})}wrapUserFunction(Z){try{let Q=Z();return Q instanceof l?Q:l.resolve(Q)}catch(Q){return l.reject(Q)}}wrapSuccess(Z,Q){return Z?this.wrapUserFunction(()=>Z(Q)):l.resolve(Q)}wrapFailure(Z,Q){return Z?this.wrapUserFunction(()=>Z(Q)):l.reject(Q)}static resolve(Z){return new l((Q,J)=>{Q(Z)})}static reject(Z){return new l((Q,J)=>{J(Z)})}static waitFor(Z){return new l((Q,J)=>{let $=0,V=0,w=!1;Z.forEach((q)=>{++$,q.next(()=>{++V,w&&V===$&&Q()},(h)=>J(h))}),w=!0,V===$&&Q()})}static or(Z){let Q=l.resolve(!1);for(let J of Z)Q=Q.next(($)=>$?l.resolve($):J());return Q}static forEach(Z,Q){let J=[];return Z.forEach(($,V)=>{J.push(Q.call(this,$,V))}),this.waitFor(J)}static mapArray(Z,Q){return new l((J,$)=>{let V=Z.length,w=new Array(V),q=0;for(let h=0;h<V;h++){let j=h;Q(Z[j]).next((R)=>{w[j]=R,++q,q===V&&J(w)},(R)=>$(R))}})}static doWhile(Z,Q){return new l((J,$)=>{let V=()=>{Z()===!0?Q().next(()=>{V()},$):J()};V()})}}function vX(Z){let Q=Z.match(/Android ([\d.]+)/i),J=Q?Q[1].split(".").slice(0,2).join("."):"-1";return Number(J)}function o8(Z){return Z.name==="IndexedDbTransactionError"}class T4{constructor(Z,Q){this.previousValue=Z,Q&&(Q.sequenceNumberHandler=(J)=>this.ie(J),this.se=(J)=>Q.writeSequenceNumber(J))}ie(Z){return this.previousValue=Math.max(Z,this.previousValue),this.previousValue}next(){let Z=++this.previousValue;return this.se&&this.se(Z),Z}}T4.oe=-1;function A4(Z){return Z==null}function o2(Z){return Z===0&&1/Z==-1/0}function fX(Z){return typeof Z=="number"&&Number.isInteger(Z)&&!o2(Z)&&Z<=Number.MAX_SAFE_INTEGER&&Z>=Number.MIN_SAFE_INTEGER}var HX=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ww=[...HX,"documentOverlays"],YX=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],KX=YX,lX=[...KX,"indexConfiguration","indexState","indexEntries"];var Ww=[...lX,"globals"];function $7(Z){let Q=0;for(let J in Z)Object.prototype.hasOwnProperty.call(Z,J)&&Q++;return Q}function $8(Z,Q){for(let J in Z)Object.prototype.hasOwnProperty.call(Z,J)&&Q(J,Z[J])}function P7(Z){for(let Q in Z)if(Object.prototype.hasOwnProperty.call(Z,Q))return!1;return!0}class Y0{constructor(Z,Q){this.comparator=Z,this.root=Q||j0.EMPTY}insert(Z,Q){return new Y0(this.comparator,this.root.insert(Z,Q,this.comparator).copy(null,null,j0.BLACK,null,null))}remove(Z){return new Y0(this.comparator,this.root.remove(Z,this.comparator).copy(null,null,j0.BLACK,null,null))}get(Z){let Q=this.root;for(;!Q.isEmpty();){let J=this.comparator(Z,Q.key);if(J===0)return Q.value;J<0?Q=Q.left:J>0&&(Q=Q.right)}return null}indexOf(Z){let Q=0,J=this.root;for(;!J.isEmpty();){let $=this.comparator(Z,J.key);if($===0)return Q+J.left.size;$<0?J=J.left:(Q+=J.left.size+1,J=J.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(Z){return this.root.inorderTraversal(Z)}forEach(Z){this.inorderTraversal((Q,J)=>(Z(Q,J),!1))}toString(){let Z=[];return this.inorderTraversal((Q,J)=>(Z.push(`${Q}:${J}`),!1)),`{${Z.join(", ")}}`}reverseTraversal(Z){return this.root.reverseTraversal(Z)}getIterator(){return new D2(this.root,null,this.comparator,!1)}getIteratorFrom(Z){return new D2(this.root,Z,this.comparator,!1)}getReverseIterator(){return new D2(this.root,null,this.comparator,!0)}getReverseIteratorFrom(Z){return new D2(this.root,Z,this.comparator,!0)}}class D2{constructor(Z,Q,J,$){this.isReverse=$,this.nodeStack=[];let V=1;for(;!Z.isEmpty();)if(V=Q?J(Z.key,Q):1,Q&&$&&(V*=-1),V<0)Z=this.isReverse?Z.left:Z.right;else{if(V===0){this.nodeStack.push(Z);break}this.nodeStack.push(Z),Z=this.isReverse?Z.right:Z.left}}getNext(){let Z=this.nodeStack.pop(),Q={key:Z.key,value:Z.value};if(this.isReverse)for(Z=Z.left;!Z.isEmpty();)this.nodeStack.push(Z),Z=Z.right;else for(Z=Z.right;!Z.isEmpty();)this.nodeStack.push(Z),Z=Z.left;return Q}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let Z=this.nodeStack[this.nodeStack.length-1];return{key:Z.key,value:Z.value}}}class j0{constructor(Z,Q,J,$,V){this.key=Z,this.value=Q,this.color=J!=null?J:j0.RED,this.left=$!=null?$:j0.EMPTY,this.right=V!=null?V:j0.EMPTY,this.size=this.left.size+1+this.right.size}copy(Z,Q,J,$,V){return new j0(Z!=null?Z:this.key,Q!=null?Q:this.value,J!=null?J:this.color,$!=null?$:this.left,V!=null?V:this.right)}isEmpty(){return!1}inorderTraversal(Z){return this.left.inorderTraversal(Z)||Z(this.key,this.value)||this.right.inorderTraversal(Z)}reverseTraversal(Z){return this.right.reverseTraversal(Z)||Z(this.key,this.value)||this.left.reverseTraversal(Z)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(Z,Q,J){let $=this,V=J(Z,$.key);return $=V<0?$.copy(null,null,null,$.left.insert(Z,Q,J),null):V===0?$.copy(null,Q,null,null,null):$.copy(null,null,null,null,$.right.insert(Z,Q,J)),$.fixUp()}removeMin(){if(this.left.isEmpty())return j0.EMPTY;let Z=this;return Z.left.isRed()||Z.left.left.isRed()||(Z=Z.moveRedLeft()),Z=Z.copy(null,null,null,Z.left.removeMin(),null),Z.fixUp()}remove(Z,Q){let J,$=this;if(Q(Z,$.key)<0)$.left.isEmpty()||$.left.isRed()||$.left.left.isRed()||($=$.moveRedLeft()),$=$.copy(null,null,null,$.left.remove(Z,Q),null);else{if($.left.isRed()&&($=$.rotateRight()),$.right.isEmpty()||$.right.isRed()||$.right.left.isRed()||($=$.moveRedRight()),Q(Z,$.key)===0){if($.right.isEmpty())return j0.EMPTY;J=$.right.min(),$=$.copy(J.key,J.value,null,null,$.right.removeMin())}$=$.copy(null,null,null,null,$.right.remove(Z,Q))}return $.fixUp()}isRed(){return this.color}fixUp(){let Z=this;return Z.right.isRed()&&!Z.left.isRed()&&(Z=Z.rotateLeft()),Z.left.isRed()&&Z.left.left.isRed()&&(Z=Z.rotateRight()),Z.left.isRed()&&Z.right.isRed()&&(Z=Z.colorFlip()),Z}moveRedLeft(){let Z=this.colorFlip();return Z.right.left.isRed()&&(Z=Z.copy(null,null,null,null,Z.right.rotateRight()),Z=Z.rotateLeft(),Z=Z.colorFlip()),Z}moveRedRight(){let Z=this.colorFlip();return Z.left.left.isRed()&&(Z=Z.rotateRight(),Z=Z.colorFlip()),Z}rotateLeft(){let Z=this.copy(null,null,j0.RED,null,this.right.left);return this.right.copy(null,null,this.color,Z,null)}rotateRight(){let Z=this.copy(null,null,j0.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,Z)}colorFlip(){let Z=this.left.copy(null,null,!this.left.color,null,null),Q=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,Z,Q)}checkMaxDepth(){let Z=this.check();return Math.pow(2,Z)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw s();if(this.right.isRed())throw s();let Z=this.left.check();if(Z!==this.right.check())throw s();return Z+(this.isRed()?0:1)}}j0.EMPTY=null,j0.RED=!0,j0.BLACK=!1;j0.EMPTY=new class Z{constructor(){this.size=0}get key(){throw s()}get value(){throw s()}get color(){throw s()}get left(){throw s()}get right(){throw s()}copy(Q,J,$,V,w){return this}insert(Q,J,$){return new j0(Q,J)}remove(Q,J){return this}isEmpty(){return!0}inorderTraversal(Q){return!1}reverseTraversal(Q){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class y0{constructor(Z){this.comparator=Z,this.data=new Y0(this.comparator)}has(Z){return this.data.get(Z)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(Z){return this.data.indexOf(Z)}forEach(Z){this.data.inorderTraversal((Q,J)=>(Z(Q),!1))}forEachInRange(Z,Q){let J=this.data.getIteratorFrom(Z[0]);for(;J.hasNext();){let $=J.getNext();if(this.comparator($.key,Z[1])>=0)return;Q($.key)}}forEachWhile(Z,Q){let J;for(J=Q!==void 0?this.data.getIteratorFrom(Q):this.data.getIterator();J.hasNext();)if(!Z(J.getNext().key))return}firstAfterOrEqual(Z){let Q=this.data.getIteratorFrom(Z);return Q.hasNext()?Q.getNext().key:null}getIterator(){return new R4(this.data.getIterator())}getIteratorFrom(Z){return new R4(this.data.getIteratorFrom(Z))}add(Z){return this.copy(this.data.remove(Z).insert(Z,!0))}delete(Z){return this.has(Z)?this.copy(this.data.remove(Z)):this}isEmpty(){return this.data.isEmpty()}unionWith(Z){let Q=this;return Q.size<Z.size&&(Q=Z,Z=this),Z.forEach((J)=>{Q=Q.add(J)}),Q}isEqual(Z){if(!(Z instanceof y0))return!1;if(this.size!==Z.size)return!1;let Q=this.data.getIterator(),J=Z.data.getIterator();for(;Q.hasNext();){let $=Q.getNext().key,V=J.getNext().key;if(this.comparator($,V)!==0)return!1}return!0}toArray(){let Z=[];return this.forEach((Q)=>{Z.push(Q)}),Z}toString(){let Z=[];return this.forEach((Q)=>Z.push(Q)),"SortedSet("+Z.toString()+")"}copy(Z){let Q=new y0(this.comparator);return Q.data=Z,Q}}class R4{constructor(Z){this.iter=Z}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class C0{constructor(Z){this.fields=Z,Z.sort(R0.comparator)}static empty(){return new C0([])}unionWith(Z){let Q=new y0(R0.comparator);for(let J of this.fields)Q=Q.add(J);for(let J of Z)Q=Q.add(J);return new C0(Q.toArray())}covers(Z){for(let Q of this.fields)if(Q.isPrefixOf(Z))return!0;return!1}isEqual(Z){return d1(this.fields,Z.fields,(Q,J)=>Q.isEqual(J))}}class M7 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class s0{constructor(Z){this.binaryString=Z}static fromBase64String(Z){let Q=function J($){try{return atob($)}catch(V){throw typeof DOMException!="undefined"&&V instanceof DOMException?new M7("Invalid base64 string: "+V):V}}(Z);return new s0(Q)}static fromUint8Array(Z){let Q=function J($){let V="";for(let w=0;w<$.length;++w)V+=String.fromCharCode($[w]);return V}(Z);return new s0(Q)}[Symbol.iterator](){let Z=0;return{next:()=>Z<this.binaryString.length?{value:this.binaryString.charCodeAt(Z++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function Z(Q){return btoa(Q)}(this.binaryString)}toUint8Array(){return function Z(Q){let J=new Uint8Array(Q.length);for(let $=0;$<Q.length;$++)J[$]=Q.charCodeAt($);return J}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(Z){return o(this.binaryString,Z.binaryString)}isEqual(Z){return this.binaryString===Z.binaryString}}s0.EMPTY_BYTE_STRING=new s0("");var pX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function G1(Z){if(W0(!!Z),typeof Z=="string"){let Q=0,J=pX.exec(Z);if(W0(!!J),J[1]){let V=J[1];V=(V+"000000000").substr(0,9),Q=Number(V)}let $=new Date(Z);return{seconds:Math.floor($.getTime()/1000),nanos:Q}}return{seconds:U0(Z.seconds),nanos:U0(Z.nanos)}}function U0(Z){return typeof Z=="number"?Z:typeof Z=="string"?Number(Z):0}function E1(Z){return typeof Z=="string"?s0.fromBase64String(Z):s0.fromUint8Array(Z)}function _4(Z){var Q,J;return((J=(((Q=Z==null?void 0:Z.mapValue)===null||Q===void 0?void 0:Q.fields)||{}).__type__)===null||J===void 0?void 0:J.stringValue)==="server_timestamp"}function i7(Z){let Q=Z.mapValue.fields.__previous_value__;return _4(Q)?i7(Q):Q}function c8(Z){let Q=G1(Z.mapValue.fields.__local_write_time__.timestampValue);return new B0(Q.seconds,Q.nanos)}class u7{constructor(Z,Q,J,$,V,w,q,h,j){this.databaseId=Z,this.appId=Q,this.persistenceKey=J,this.host=$,this.ssl=V,this.forceLongPolling=w,this.autoDetectLongPolling=q,this.longPollingOptions=h,this.useFetchStreams=j}}class t8{constructor(Z,Q){this.projectId=Z,this.database=Q||"(default)"}static empty(){return new t8("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(Z){return Z instanceof t8&&Z.projectId===this.projectId&&Z.database===this.database}}var m8={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function o1(Z){return"nullValue"in Z?0:("booleanValue"in Z)?1:("integerValue"in Z)||("doubleValue"in Z)?2:("timestampValue"in Z)?3:("stringValue"in Z)?5:("bytesValue"in Z)?6:("referenceValue"in Z)?7:("geoPointValue"in Z)?8:("arrayValue"in Z)?9:("mapValue"in Z)?_4(Z)?4:r7(Z)?9007199254740991:C7(Z)?10:11:s()}function D0(Z,Q){if(Z===Q)return!0;let J=o1(Z);if(J!==o1(Q))return!1;switch(J){case 0:case 9007199254740991:return!0;case 1:return Z.booleanValue===Q.booleanValue;case 4:return c8(Z).isEqual(c8(Q));case 3:return function $(V,w){if(typeof V.timestampValue=="string"&&typeof w.timestampValue=="string"&&V.timestampValue.length===w.timestampValue.length)return V.timestampValue===w.timestampValue;let q=G1(V.timestampValue),h=G1(w.timestampValue);return q.seconds===h.seconds&&q.nanos===h.nanos}(Z,Q);case 5:return Z.stringValue===Q.stringValue;case 6:return function $(V,w){return E1(V.bytesValue).isEqual(E1(w.bytesValue))}(Z,Q);case 7:return Z.referenceValue===Q.referenceValue;case 8:return function $(V,w){return U0(V.geoPointValue.latitude)===U0(w.geoPointValue.latitude)&&U0(V.geoPointValue.longitude)===U0(w.geoPointValue.longitude)}(Z,Q);case 2:return function $(V,w){if("integerValue"in V&&"integerValue"in w)return U0(V.integerValue)===U0(w.integerValue);if("doubleValue"in V&&"doubleValue"in w){let q=U0(V.doubleValue),h=U0(w.doubleValue);return q===h?o2(q)===o2(h):isNaN(q)&&isNaN(h)}return!1}(Z,Q);case 9:return d1(Z.arrayValue.values||[],Q.arrayValue.values||[],D0);case 10:case 11:return function $(V,w){let q=V.mapValue.fields||{},h=w.mapValue.fields||{};if($7(q)!==$7(h))return!1;for(let j in q)if(q.hasOwnProperty(j)&&(h[j]===void 0||!D0(q[j],h[j])))return!1;return!0}(Z,Q);default:return s()}}function e2(Z,Q){return(Z.values||[]).find((J)=>D0(J,Q))!==void 0}function e1(Z,Q){if(Z===Q)return 0;let J=o1(Z),$=o1(Q);if(J!==$)return o(J,$);switch(J){case 0:case 9007199254740991:return 0;case 1:return o(Z.booleanValue,Q.booleanValue);case 2:return function V(w,q){let h=U0(w.integerValue||w.doubleValue),j=U0(q.integerValue||q.doubleValue);return h<j?-1:h>j?1:h===j?0:isNaN(h)?isNaN(j)?0:-1:1}(Z,Q);case 3:return V7(Z.timestampValue,Q.timestampValue);case 4:return V7(c8(Z),c8(Q));case 5:return o(Z.stringValue,Q.stringValue);case 6:return function V(w,q){let h=E1(w),j=E1(q);return h.compareTo(j)}(Z.bytesValue,Q.bytesValue);case 7:return function V(w,q){let h=w.split("/"),j=q.split("/");for(let R=0;R<h.length&&R<j.length;R++){let f=o(h[R],j[R]);if(f!==0)return f}return o(h.length,j.length)}(Z.referenceValue,Q.referenceValue);case 8:return function V(w,q){let h=o(U0(w.latitude),U0(q.latitude));if(h!==0)return h;return o(U0(w.longitude),U0(q.longitude))}(Z.geoPointValue,Q.geoPointValue);case 9:return z7(Z.arrayValue,Q.arrayValue);case 10:return function V(w,q){var h,j,R,f;let Y=w.fields||{},K=q.fields||{},P=(h=Y.value)===null||h===void 0?void 0:h.arrayValue,A=(j=K.value)===null||j===void 0?void 0:j.arrayValue,_=o(((R=P==null?void 0:P.values)===null||R===void 0?void 0:R.length)||0,((f=A==null?void 0:A.values)===null||f===void 0?void 0:f.length)||0);if(_!==0)return _;return z7(P,A)}(Z.mapValue,Q.mapValue);case 11:return function V(w,q){if(w===m8.mapValue&&q===m8.mapValue)return 0;if(w===m8.mapValue)return 1;if(q===m8.mapValue)return-1;let h=w.fields||{},j=Object.keys(h),R=q.fields||{},f=Object.keys(R);j.sort(),f.sort();for(let Y=0;Y<j.length&&Y<f.length;++Y){let K=o(j[Y],f[Y]);if(K!==0)return K;let P=e1(h[j[Y]],R[f[Y]]);if(P!==0)return P}return o(j.length,f.length)}(Z.mapValue,Q.mapValue);default:throw s()}}function V7(Z,Q){if(typeof Z=="string"&&typeof Q=="string"&&Z.length===Q.length)return o(Z,Q);let J=G1(Z),$=G1(Q),V=o(J.seconds,$.seconds);return V!==0?V:o(J.nanos,$.nanos)}function z7(Z,Q){let J=Z.values||[],$=Q.values||[];for(let V=0;V<J.length&&V<$.length;++V){let w=e1(J[V],$[V]);if(w)return w}return o(J.length,$.length)}function a1(Z){return G4(Z)}function G4(Z){return"nullValue"in Z?"null":("booleanValue"in Z)?""+Z.booleanValue:("integerValue"in Z)?""+Z.integerValue:("doubleValue"in Z)?""+Z.doubleValue:("timestampValue"in Z)?function Q(J){let $=G1(J);return`time(${$.seconds},${$.nanos})`}(Z.timestampValue):("stringValue"in Z)?Z.stringValue:("bytesValue"in Z)?function Q(J){return E1(J).toBase64()}(Z.bytesValue):("referenceValue"in Z)?function Q(J){return m.fromName(J).toString()}(Z.referenceValue):("geoPointValue"in Z)?function Q(J){return`geo(${J.latitude},${J.longitude})`}(Z.geoPointValue):("arrayValue"in Z)?function Q(J){let $="[",V=!0;for(let w of J.values||[])V?V=!1:$+=",",$+=G4(w);return $+"]"}(Z.arrayValue):("mapValue"in Z)?function Q(J){let $=Object.keys(J.fields||{}).sort(),V="{",w=!0;for(let q of $)w?w=!1:V+=",",V+=`${q}:${G4(J.fields[q])}`;return V+"}"}(Z.mapValue):s()}function I4(Z){return!!Z&&"integerValue"in Z}function P4(Z){return!!Z&&"arrayValue"in Z}function s8(Z){return!!Z&&"mapValue"in Z}function C7(Z){var Q,J;return((J=(((Q=Z==null?void 0:Z.mapValue)===null||Q===void 0?void 0:Q.fields)||{}).__type__)===null||J===void 0?void 0:J.stringValue)==="__vector__"}function b2(Z){if(Z.geoPointValue)return{geoPointValue:Object.assign({},Z.geoPointValue)};if(Z.timestampValue&&typeof Z.timestampValue=="object")return{timestampValue:Object.assign({},Z.timestampValue)};if(Z.mapValue){let Q={mapValue:{fields:{}}};return $8(Z.mapValue.fields,(J,$)=>Q.mapValue.fields[J]=b2($)),Q}if(Z.arrayValue){let Q={arrayValue:{values:[]}};for(let J=0;J<(Z.arrayValue.values||[]).length;++J)Q.arrayValue.values[J]=b2(Z.arrayValue.values[J]);return Q}return Object.assign({},Z)}function r7(Z){return(((Z.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class u0{constructor(Z){this.value=Z}static empty(){return new u0({mapValue:{}})}field(Z){if(Z.isEmpty())return this.value;{let Q=this.value;for(let J=0;J<Z.length-1;++J)if(Q=(Q.mapValue.fields||{})[Z.get(J)],!s8(Q))return null;return Q=(Q.mapValue.fields||{})[Z.lastSegment()],Q||null}}set(Z,Q){this.getFieldsMap(Z.popLast())[Z.lastSegment()]=b2(Q)}setAll(Z){let Q=R0.emptyPath(),J={},$=[];Z.forEach((w,q)=>{if(!Q.isImmediateParentOf(q)){let h=this.getFieldsMap(Q);this.applyChanges(h,J,$),J={},$=[],Q=q.popLast()}w?J[q.lastSegment()]=b2(w):$.push(q.lastSegment())});let V=this.getFieldsMap(Q);this.applyChanges(V,J,$)}delete(Z){let Q=this.field(Z.popLast());s8(Q)&&Q.mapValue.fields&&delete Q.mapValue.fields[Z.lastSegment()]}isEqual(Z){return D0(this.value,Z.value)}getFieldsMap(Z){let Q=this.value;Q.mapValue.fields||(Q.mapValue={fields:{}});for(let J=0;J<Z.length;++J){let $=Q.mapValue.fields[Z.get(J)];s8($)&&$.mapValue.fields||($={mapValue:{fields:{}}},Q.mapValue.fields[Z.get(J)]=$),Q=$}return Q.mapValue.fields}applyChanges(Z,Q,J){$8(Q,($,V)=>Z[$]=V);for(let $ of J)delete Z[$]}clone(){return new u0(b2(this.value))}}function m7(Z){let Q=[];return $8(Z.fields,(J,$)=>{let V=new R0([J]);if(s8($)){let w=m7($.mapValue).fields;if(w.length===0)Q.push(V);else for(let q of w)Q.push(V.child(q))}else Q.push(V)}),new C0(Q)}class i0{constructor(Z,Q,J,$,V,w,q){this.key=Z,this.documentType=Q,this.version=J,this.readTime=$,this.createTime=V,this.data=w,this.documentState=q}static newInvalidDocument(Z){return new i0(Z,0,J0.min(),J0.min(),J0.min(),u0.empty(),0)}static newFoundDocument(Z,Q,J,$){return new i0(Z,1,Q,J0.min(),J,$,0)}static newNoDocument(Z,Q){return new i0(Z,2,Q,J0.min(),J0.min(),u0.empty(),0)}static newUnknownDocument(Z,Q){return new i0(Z,3,Q,J0.min(),J0.min(),u0.empty(),2)}convertToFoundDocument(Z,Q){return!this.createTime.isEqual(J0.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=Z),this.version=Z,this.documentType=1,this.data=Q,this.documentState=0,this}convertToNoDocument(Z){return this.version=Z,this.documentType=2,this.data=u0.empty(),this.documentState=0,this}convertToUnknownDocument(Z){return this.version=Z,this.documentType=3,this.data=u0.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J0.min(),this}setReadTime(Z){return this.readTime=Z,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(Z){return Z instanceof i0&&this.key.isEqual(Z.key)&&this.version.isEqual(Z.version)&&this.documentType===Z.documentType&&this.documentState===Z.documentState&&this.data.isEqual(Z.data)}mutableCopy(){return new i0(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class a2{constructor(Z,Q){this.position=Z,this.inclusive=Q}}function U7(Z,Q,J){let $=0;for(let V=0;V<Z.position.length;V++){let w=Q[V],q=Z.position[V];if(w.field.isKeyField())$=m.comparator(m.fromName(q.referenceValue),J.key);else $=e1(q,J.data.field(w.field));if(w.dir==="desc"&&($*=-1),$!==0)break}return $}function w7(Z,Q){if(Z===null)return Q===null;if(Q===null)return!1;if(Z.inclusive!==Q.inclusive||Z.position.length!==Q.position.length)return!1;for(let J=0;J<Z.position.length;J++)if(!D0(Z.position[J],Q.position[J]))return!1;return!0}class Z8{constructor(Z,Q="asc"){this.field=Z,this.dir=Q}}function TX(Z,Q){return Z.dir===Q.dir&&Z.field.isEqual(Q.field)}class M4{}class x0 extends M4{constructor(Z,Q,J){super(),this.field=Z,this.op=Q,this.value=J}static create(Z,Q,J){return Z.isKeyField()?Q==="in"||Q==="not-in"?this.createKeyFieldInFilter(Z,Q,J):new b7(Z,Q,J):Q==="array-contains"?new E7(Z,J):Q==="in"?new o7(Z,J):Q==="not-in"?new e7(Z,J):Q==="array-contains-any"?new a7(Z,J):new x0(Z,Q,J)}static createKeyFieldInFilter(Z,Q,J){return Q==="in"?new c7(Z,J):new t7(Z,J)}matches(Z){let Q=Z.data.field(this.field);return this.op==="!="?Q!==null&&this.matchesComparison(e1(Q,this.value)):Q!==null&&o1(this.value)===o1(Q)&&this.matchesComparison(e1(Q,this.value))}matchesComparison(Z){switch(this.op){case"<":return Z<0;case"<=":return Z<=0;case"==":return Z===0;case"!=":return Z!==0;case">":return Z>0;case">=":return Z>=0;default:return s()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class I1 extends M4{constructor(Z,Q){super(),this.filters=Z,this.op=Q,this.ae=null}static create(Z,Q){return new I1(Z,Q)}matches(Z){return n7(this)?this.filters.find((Q)=>!Q.matches(Z))===void 0:this.filters.find((Q)=>Q.matches(Z))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((Z,Q)=>Z.concat(Q.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function n7(Z){return Z.op==="and"}function g7(Z){return AX(Z)&&n7(Z)}function AX(Z){for(let Q of Z.filters)if(Q instanceof I1)return!1;return!0}function O4(Z){if(Z instanceof x0)return Z.field.canonicalString()+Z.op.toString()+a1(Z.value);if(g7(Z))return Z.filters.map((Q)=>O4(Q)).join(",");{let Q=Z.filters.map((J)=>O4(J)).join(",");return`${Z.op}(${Q})`}}function s7(Z,Q){return Z instanceof x0?function J($,V){return V instanceof x0&&$.op===V.op&&$.field.isEqual(V.field)&&D0($.value,V.value)}(Z,Q):Z instanceof I1?function J($,V){if(V instanceof I1&&$.op===V.op&&$.filters.length===V.filters.length)return $.filters.reduce((w,q,h)=>w&&s7(q,V.filters[h]),!0);return!1}(Z,Q):void s()}function D7(Z){return Z instanceof x0?function Q(J){return`${J.field.canonicalString()} ${J.op} ${a1(J.value)}`}(Z):Z instanceof I1?function Q(J){return J.op.toString()+" {"+J.getFilters().map(D7).join(" ,")+"}"}(Z):"Filter"}class b7 extends x0{constructor(Z,Q,J){super(Z,Q,J),this.key=m.fromName(J.referenceValue)}matches(Z){let Q=m.comparator(Z.key,this.key);return this.matchesComparison(Q)}}class c7 extends x0{constructor(Z,Q){super(Z,"in",Q),this.keys=d7("in",Q)}matches(Z){return this.keys.some((Q)=>Q.isEqual(Z.key))}}class t7 extends x0{constructor(Z,Q){super(Z,"not-in",Q),this.keys=d7("not-in",Q)}matches(Z){return!this.keys.some((Q)=>Q.isEqual(Z.key))}}function d7(Z,Q){var J;return(((J=Q.arrayValue)===null||J===void 0?void 0:J.values)||[]).map(($)=>m.fromName($.referenceValue))}class E7 extends x0{constructor(Z,Q){super(Z,"array-contains",Q)}matches(Z){let Q=Z.data.field(this.field);return P4(Q)&&e2(Q.arrayValue,this.value)}}class o7 extends x0{constructor(Z,Q){super(Z,"in",Q)}matches(Z){let Q=Z.data.field(this.field);return Q!==null&&e2(this.value.arrayValue,Q)}}class e7 extends x0{constructor(Z,Q){super(Z,"not-in",Q)}matches(Z){if(e2(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let Q=Z.data.field(this.field);return Q!==null&&!e2(this.value.arrayValue,Q)}}class a7 extends x0{constructor(Z,Q){super(Z,"array-contains-any",Q)}matches(Z){let Q=Z.data.field(this.field);return!(!P4(Q)||!Q.arrayValue.values)&&Q.arrayValue.values.some((J)=>e2(this.value.arrayValue,J))}}class ZQ{constructor(Z,Q=null,J=[],$=[],V=null,w=null,q=null){this.path=Z,this.collectionGroup=Q,this.orderBy=J,this.filters=$,this.limit=V,this.startAt=w,this.endAt=q,this.ue=null}}function W7(Z,Q=null,J=[],$=[],V=null,w=null,q=null){return new ZQ(Z,Q,J,$,V,w,q)}function i4(Z){let Q=a(Z);if(Q.ue===null){let J=Q.path.canonicalString();Q.collectionGroup!==null&&(J+="|cg:"+Q.collectionGroup),J+="|f:",J+=Q.filters.map(($)=>O4($)).join(","),J+="|ob:",J+=Q.orderBy.map(($)=>function V(w){return w.field.canonicalString()+w.dir}($)).join(","),A4(Q.limit)||(J+="|l:",J+=Q.limit),Q.startAt&&(J+="|lb:",J+=Q.startAt.inclusive?"b:":"a:",J+=Q.startAt.position.map(($)=>a1($)).join(",")),Q.endAt&&(J+="|ub:",J+=Q.endAt.inclusive?"a:":"b:",J+=Q.endAt.position.map(($)=>a1($)).join(",")),Q.ue=J}return Q.ue}function u4(Z,Q){if(Z.limit!==Q.limit)return!1;if(Z.orderBy.length!==Q.orderBy.length)return!1;for(let J=0;J<Z.orderBy.length;J++)if(!TX(Z.orderBy[J],Q.orderBy[J]))return!1;if(Z.filters.length!==Q.filters.length)return!1;for(let J=0;J<Z.filters.length;J++)if(!s7(Z.filters[J],Q.filters[J]))return!1;return Z.collectionGroup===Q.collectionGroup&&(!!Z.path.isEqual(Q.path)&&(!!w7(Z.startAt,Q.startAt)&&w7(Z.endAt,Q.endAt)))}class V8{constructor(Z,Q=null,J=[],$=[],V=null,w="F",q=null,h=null){this.path=Z,this.collectionGroup=Q,this.explicitOrderBy=J,this.filters=$,this.limit=V,this.limitType=w,this.startAt=q,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function _X(Z,Q,J,$,V,w,q,h){return new V8(Z,Q,J,$,V,w,q,h)}function PX(Z){return new V8(Z)}function x7(Z){return Z.filters.length===0&&Z.limit===null&&Z.startAt==null&&Z.endAt==null&&(Z.explicitOrderBy.length===0||Z.explicitOrderBy.length===1&&Z.explicitOrderBy[0].field.isKeyField())}function MX(Z){return Z.collectionGroup!==null}function c2(Z){let Q=a(Z);if(Q.ce===null){Q.ce=[];let J=new Set;for(let w of Q.explicitOrderBy)Q.ce.push(w),J.add(w.field.canonicalString());let $=Q.explicitOrderBy.length>0?Q.explicitOrderBy[Q.explicitOrderBy.length-1].dir:"asc";(function w(q){let h=new y0(R0.comparator);return q.filters.forEach((j)=>{j.getFlattenedFilters().forEach((R)=>{R.isInequality()&&(h=h.add(R.field))})}),h})(Q).forEach((w)=>{J.has(w.canonicalString())||w.isKeyField()||Q.ce.push(new Z8(w,$))}),J.has(R0.keyField().canonicalString())||Q.ce.push(new Z8(R0.keyField(),$))}return Q.ce}function p1(Z){let Q=a(Z);return Q.le||(Q.le=iX(Q,c2(Z))),Q.le}function iX(Z,Q){if(Z.limitType==="F")return W7(Z.path,Z.collectionGroup,Q,Z.filters,Z.limit,Z.startAt,Z.endAt);{Q=Q.map((V)=>{let w=V.dir==="desc"?"asc":"desc";return new Z8(V.field,w)});let J=Z.endAt?new a2(Z.endAt.position,Z.endAt.inclusive):null,$=Z.startAt?new a2(Z.startAt.position,Z.startAt.inclusive):null;return W7(Z.path,Z.collectionGroup,Q,Z.filters,Z.limit,J,$)}}function k4(Z,Q,J){return new V8(Z.path,Z.collectionGroup,Z.explicitOrderBy.slice(),Z.filters.slice(),Q,J,Z.startAt,Z.endAt)}function QQ(Z,Q){return u4(p1(Z),p1(Q))&&Z.limitType===Q.limitType}function JQ(Z){return`${i4(p1(Z))}|lt:${Z.limitType}`}function s2(Z){return`Query(target=${function Q(J){let $=J.path.canonicalString();return J.collectionGroup!==null&&($+=" collectionGroup="+J.collectionGroup),J.filters.length>0&&($+=`, filters: [${J.filters.map((V)=>D7(V)).join(", ")}]`),A4(J.limit)||($+=", limit: "+J.limit),J.orderBy.length>0&&($+=`, orderBy: [${J.orderBy.map((V)=>function w(q){return`${q.field.canonicalString()} (${q.dir})`}(V)).join(", ")}]`),J.startAt&&($+=", startAt: ",$+=J.startAt.inclusive?"b:":"a:",$+=J.startAt.position.map((V)=>a1(V)).join(",")),J.endAt&&($+=", endAt: ",$+=J.endAt.inclusive?"a:":"b:",$+=J.endAt.position.map((V)=>a1(V)).join(",")),`Target(${$})`}(p1(Z))}; limitType=${Z.limitType})`}function C4(Z,Q){return Q.isFoundDocument()&&function J($,V){let w=V.key.path;return $.collectionGroup!==null?V.key.hasCollectionId($.collectionGroup)&&$.path.isPrefixOf(w):m.isDocumentKey($.path)?$.path.isEqual(w):$.path.isImmediateParentOf(w)}(Z,Q)&&function J($,V){for(let w of c2($))if(!w.field.isKeyField()&&V.data.field(w.field)===null)return!1;return!0}(Z,Q)&&function J($,V){for(let w of $.filters)if(!w.matches(V))return!1;return!0}(Z,Q)&&function J($,V){if($.startAt&&!function w(q,h,j){let R=U7(q,h,j);return q.inclusive?R<=0:R<0}($.startAt,c2($),V))return!1;if($.endAt&&!function w(q,h,j){let R=U7(q,h,j);return q.inclusive?R>=0:R>0}($.endAt,c2($),V))return!1;return!0}(Z,Q)}function uX(Z){return(Q,J)=>{let $=!1;for(let V of c2(Z)){let w=CX(V,Q,J);if(w!==0)return w;$=$||V.field.isKeyField()}return 0}}function CX(Z,Q,J){let $=Z.field.isKeyField()?m.comparator(Q.key,J.key):function V(w,q,h){let j=q.data.field(w),R=h.data.field(w);return j!==null&&R!==null?e1(j,R):s()}(Z.field,Q,J);switch(Z.dir){case"asc":return $;case"desc":return-1*$;default:return s()}}class _1{constructor(Z,Q){this.mapKeyFn=Z,this.equalsFn=Q,this.inner={},this.innerSize=0}get(Z){let Q=this.mapKeyFn(Z),J=this.inner[Q];if(J!==void 0){for(let[$,V]of J)if(this.equalsFn($,Z))return V}}has(Z){return this.get(Z)!==void 0}set(Z,Q){let J=this.mapKeyFn(Z),$=this.inner[J];if($===void 0)return this.inner[J]=[[Z,Q]],void this.innerSize++;for(let V=0;V<$.length;V++)if(this.equalsFn($[V][0],Z))return void($[V]=[Z,Q]);$.push([Z,Q]),this.innerSize++}delete(Z){let Q=this.mapKeyFn(Z),J=this.inner[Q];if(J===void 0)return!1;for(let $=0;$<J.length;$++)if(this.equalsFn(J[$][0],Z))return J.length===1?delete this.inner[Q]:J.splice($,1),this.innerSize--,!0;return!1}forEach(Z){$8(this.inner,(Q,J)=>{for(let[$,V]of J)Z($,V)})}isEmpty(){return P7(this.inner)}size(){return this.innerSize}}var rX=new Y0(m.comparator);function d8(){return rX}var XQ=new Y0(m.comparator);function n8(...Z){let Q=XQ;for(let J of Z)Q=Q.insert(J.key,J);return Q}function $Q(Z){let Q=XQ;return Z.forEach((J,$)=>Q=Q.insert(J,$.overlayedDocument)),Q}function l1(){return t2()}function VQ(){return t2()}function t2(){return new _1((Z)=>Z.toString(),(Z,Q)=>Z.isEqual(Q))}var mX=new Y0(m.comparator),nX=new y0(m.comparator);function N0(...Z){let Q=nX;for(let J of Z)Q=Q.add(J);return Q}var gX=new y0(o);function sX(){return gX}function r4(Z,Q){if(Z.useProto3Json){if(isNaN(Q))return{doubleValue:"NaN"};if(Q===1/0)return{doubleValue:"Infinity"};if(Q===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:o2(Q)?"-0":Q}}function zQ(Z){return{integerValue:""+Z}}function DX(Z,Q){return fX(Q)?zQ(Q):r4(Z,Q)}class z8{constructor(){this._=void 0}}function bX(Z,Q,J){return Z instanceof Q8?function $(V,w){let q={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:V.seconds,nanos:V.nanoseconds}}}};return w&&_4(w)&&(w=i7(w)),w&&(q.fields.__previous_value__=w),{mapValue:q}}(J,Q):Z instanceof Z2?wQ(Z,Q):Z instanceof Q2?WQ(Z,Q):function $(V,w){let q=UQ(V,w),h=B7(q)+B7(V.Pe);return I4(q)&&I4(V.Pe)?zQ(h):r4(V.serializer,h)}(Z,Q)}function cX(Z,Q,J){return Z instanceof Z2?wQ(Z,Q):Z instanceof Q2?WQ(Z,Q):J}function UQ(Z,Q){return Z instanceof J8?function J($){return I4($)||function V(w){return!!w&&"doubleValue"in w}($)}(Q)?Q:{integerValue:0}:null}class Q8 extends z8{}class Z2 extends z8{constructor(Z){super(),this.elements=Z}}function wQ(Z,Q){let J=xQ(Q);for(let $ of Z.elements)J.some((V)=>D0(V,$))||J.push($);return{arrayValue:{values:J}}}class Q2 extends z8{constructor(Z){super(),this.elements=Z}}function WQ(Z,Q){let J=xQ(Q);for(let $ of Z.elements)J=J.filter((V)=>!D0(V,$));return{arrayValue:{values:J}}}class J8 extends z8{constructor(Z,Q){super(),this.serializer=Z,this.Pe=Q}}function B7(Z){return U0(Z.integerValue||Z.doubleValue)}function xQ(Z){return P4(Z)&&Z.arrayValue.values?Z.arrayValue.values.slice():[]}function tX(Z,Q){return Z.field.isEqual(Q.field)&&function J($,V){return $ instanceof Z2&&V instanceof Z2||$ instanceof Q2&&V instanceof Q2?d1($.elements,V.elements,D0):$ instanceof J8&&V instanceof J8?D0($.Pe,V.Pe):$ instanceof Q8&&V instanceof Q8}(Z.transform,Q.transform)}class BQ{constructor(Z,Q){this.version=Z,this.transformResults=Q}}class Q1{constructor(Z,Q){this.updateTime=Z,this.exists=Q}static none(){return new Q1}static exists(Z){return new Q1(void 0,Z)}static updateTime(Z){return new Q1(Z)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(Z){return this.exists===Z.exists&&(this.updateTime?!!Z.updateTime&&this.updateTime.isEqual(Z.updateTime):!Z.updateTime)}}function D8(Z,Q){return Z.updateTime!==void 0?Q.isFoundDocument()&&Q.version.isEqual(Z.updateTime):Z.exists===void 0||Z.exists===Q.isFoundDocument()}class U8{}function qQ(Z,Q){if(!Z.hasLocalMutations||Q&&Q.fields.length===0)return null;if(Q===null)return Z.isNoDocument()?new m4(Z.key,Q1.none()):new $2(Z.key,Z.data,Q1.none());{let J=Z.data,$=u0.empty(),V=new y0(R0.comparator);for(let w of Q.fields)if(!V.has(w)){let q=J.field(w);q===null&&w.length>1&&(w=w.popLast(),q=J.field(w)),q===null?$.delete(w):$.set(w,q),V=V.add(w)}return new k1(Z.key,$,new C0(V.toArray()),Q1.none())}}function dX(Z,Q,J){Z instanceof $2?function $(V,w,q){let h=V.value.clone(),j=h7(V.fieldTransforms,w,q.transformResults);h.setAll(j),w.convertToFoundDocument(q.version,h).setHasCommittedMutations()}(Z,Q,J):Z instanceof k1?function $(V,w,q){if(!D8(V.precondition,w))return void w.convertToUnknownDocument(q.version);let h=h7(V.fieldTransforms,w,q.transformResults),j=w.data;j.setAll(hQ(V)),j.setAll(h),w.convertToFoundDocument(q.version,j).setHasCommittedMutations()}(Z,Q,J):function $(V,w,q){w.convertToNoDocument(q.version).setHasCommittedMutations()}(0,Q,J)}function d2(Z,Q,J,$){return Z instanceof $2?function V(w,q,h,j){if(!D8(w.precondition,q))return h;let R=w.value.clone(),f=F7(w.fieldTransforms,j,q);return R.setAll(f),q.convertToFoundDocument(q.version,R).setHasLocalMutations(),null}(Z,Q,J,$):Z instanceof k1?function V(w,q,h,j){if(!D8(w.precondition,q))return h;let R=F7(w.fieldTransforms,j,q),f=q.data;if(f.setAll(hQ(w)),f.setAll(R),q.convertToFoundDocument(q.version,f).setHasLocalMutations(),h===null)return null;return h.unionWith(w.fieldMask.fields).unionWith(w.fieldTransforms.map((Y)=>Y.field))}(Z,Q,J,$):function V(w,q,h){if(D8(w.precondition,q))return q.convertToNoDocument(q.version).setHasLocalMutations(),null;return h}(Z,Q,J)}function EX(Z,Q){let J=null;for(let $ of Z.fieldTransforms){let V=Q.data.field($.field),w=UQ($.transform,V||null);w!=null&&(J===null&&(J=u0.empty()),J.set($.field,w))}return J||null}function q7(Z,Q){return Z.type===Q.type&&(!!Z.key.isEqual(Q.key)&&(!!Z.precondition.isEqual(Q.precondition)&&(!!function J($,V){return $===void 0&&V===void 0||!(!$||!V)&&d1($,V,(w,q)=>tX(w,q))}(Z.fieldTransforms,Q.fieldTransforms)&&(Z.type===0?Z.value.isEqual(Q.value):Z.type!==1||Z.data.isEqual(Q.data)&&Z.fieldMask.isEqual(Q.fieldMask)))))}class $2 extends U8{constructor(Z,Q,J,$=[]){super(),this.key=Z,this.value=Q,this.precondition=J,this.fieldTransforms=$,this.type=0}getFieldMask(){return null}}class k1 extends U8{constructor(Z,Q,J,$,V=[]){super(),this.key=Z,this.data=Q,this.fieldMask=J,this.precondition=$,this.fieldTransforms=V,this.type=1}getFieldMask(){return this.fieldMask}}function hQ(Z){let Q=new Map;return Z.fieldMask.fields.forEach((J)=>{if(!J.isEmpty()){let $=Z.data.field(J);Q.set(J,$)}}),Q}function h7(Z,Q,J){let $=new Map;W0(Z.length===J.length);for(let V=0;V<J.length;V++){let w=Z[V],q=w.transform,h=Q.data.field(w.field);$.set(w.field,cX(q,h,J[V]))}return $}function F7(Z,Q,J){let $=new Map;for(let V of Z){let w=V.transform,q=J.data.field(V.field);$.set(V.field,bX(w,q,Q))}return $}class m4 extends U8{constructor(Z,Q){super(),this.key=Z,this.precondition=Q,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FQ extends U8{constructor(Z,Q){super(),this.key=Z,this.precondition=Q,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jQ{constructor(Z,Q,J,$){this.batchId=Z,this.localWriteTime=Q,this.baseMutations=J,this.mutations=$}applyToRemoteDocument(Z,Q){let J=Q.mutationResults;for(let $=0;$<this.mutations.length;$++){let V=this.mutations[$];if(V.key.isEqual(Z.key))dX(V,Z,J[$])}}applyToLocalView(Z,Q){for(let J of this.baseMutations)J.key.isEqual(Z.key)&&(Q=d2(J,Z,Q,this.localWriteTime));for(let J of this.mutations)J.key.isEqual(Z.key)&&(Q=d2(J,Z,Q,this.localWriteTime));return Q}applyToLocalDocumentSet(Z,Q){let J=VQ();return this.mutations.forEach(($)=>{let V=Z.get($.key),w=V.overlayedDocument,q=this.applyToLocalView(w,V.mutatedFields);q=Q.has($.key)?null:q;let h=qQ(w,q);h!==null&&J.set($.key,h),w.isValidDocument()||w.convertToNoDocument(J0.min())}),J}keys(){return this.mutations.reduce((Z,Q)=>Z.add(Q.key),N0())}isEqual(Z){return this.batchId===Z.batchId&&d1(this.mutations,Z.mutations,(Q,J)=>q7(Q,J))&&d1(this.baseMutations,Z.baseMutations,(Q,J)=>q7(Q,J))}}class n4{constructor(Z,Q,J,$){this.batch=Z,this.commitVersion=Q,this.mutationResults=J,this.docVersions=$}static from(Z,Q,J){W0(Z.mutations.length===J.length);let $=function w(){return mX}(),V=Z.mutations;for(let w=0;w<V.length;w++)$=$.insert(V[w].key,J[w].version);return new n4(Z,Q,J,$)}}class RQ{constructor(Z,Q){this.largestBatchId=Z,this.mutation=Q}getKey(){return this.mutation.key}isEqual(Z){return Z!==null&&this.mutation===Z.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}var z0,c;function oX(Z){switch(Z){default:return s();case p.CANCELLED:case p.UNKNOWN:case p.DEADLINE_EXCEEDED:case p.RESOURCE_EXHAUSTED:case p.INTERNAL:case p.UNAVAILABLE:case p.UNAUTHENTICATED:return!1;case p.INVALID_ARGUMENT:case p.NOT_FOUND:case p.ALREADY_EXISTS:case p.PERMISSION_DENIED:case p.FAILED_PRECONDITION:case p.ABORTED:case p.OUT_OF_RANGE:case p.UNIMPLEMENTED:case p.DATA_LOSS:return!0}}function eX(Z){if(Z===void 0)return A1("GRPC error has no .code"),p.UNKNOWN;switch(Z){case z0.OK:return p.OK;case z0.CANCELLED:return p.CANCELLED;case z0.UNKNOWN:return p.UNKNOWN;case z0.DEADLINE_EXCEEDED:return p.DEADLINE_EXCEEDED;case z0.RESOURCE_EXHAUSTED:return p.RESOURCE_EXHAUSTED;case z0.INTERNAL:return p.INTERNAL;case z0.UNAVAILABLE:return p.UNAVAILABLE;case z0.UNAUTHENTICATED:return p.UNAUTHENTICATED;case z0.INVALID_ARGUMENT:return p.INVALID_ARGUMENT;case z0.NOT_FOUND:return p.NOT_FOUND;case z0.ALREADY_EXISTS:return p.ALREADY_EXISTS;case z0.PERMISSION_DENIED:return p.PERMISSION_DENIED;case z0.FAILED_PRECONDITION:return p.FAILED_PRECONDITION;case z0.ABORTED:return p.ABORTED;case z0.OUT_OF_RANGE:return p.OUT_OF_RANGE;case z0.UNIMPLEMENTED:return p.UNIMPLEMENTED;case z0.DATA_LOSS:return p.DATA_LOSS;default:return s()}}(c=z0||(z0={}))[c.OK=0]="OK",c[c.CANCELLED=1]="CANCELLED",c[c.UNKNOWN=2]="UNKNOWN",c[c.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",c[c.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",c[c.NOT_FOUND=5]="NOT_FOUND",c[c.ALREADY_EXISTS=6]="ALREADY_EXISTS",c[c.PERMISSION_DENIED=7]="PERMISSION_DENIED",c[c.UNAUTHENTICATED=16]="UNAUTHENTICATED",c[c.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",c[c.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",c[c.ABORTED=10]="ABORTED",c[c.OUT_OF_RANGE=11]="OUT_OF_RANGE",c[c.UNIMPLEMENTED=12]="UNIMPLEMENTED",c[c.INTERNAL=13]="INTERNAL",c[c.UNAVAILABLE=14]="UNAVAILABLE",c[c.DATA_LOSS=15]="DATA_LOSS";var xw=new z4([4294967295,4294967295],0);var Bw=(()=>{return{asc:"ASCENDING",desc:"DESCENDING"}})(),qw=(()=>{return{"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}})(),hw=(()=>{return{and:"AND",or:"OR"}})();class GQ{constructor(Z,Q){this.databaseId=Z,this.useProto3Json=Q}}function S4(Z,Q){if(Z.useProto3Json)return`${new Date(1000*Q.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+Q.nanoseconds).slice(-9)}Z`;return{seconds:""+Q.seconds,nanos:Q.nanoseconds}}function aX(Z,Q){return Z.useProto3Json?Q.toBase64():Q.toUint8Array()}function Z$(Z,Q){return S4(Z,Q.toTimestamp())}function t1(Z){return W0(!!Z),J0.fromTimestamp(function Q(J){let $=G1(J);return new B0($.seconds,$.nanos)}(Z))}function IQ(Z,Q){return L4(Z,Q).canonicalString()}function L4(Z,Q){let J=function $(V){return new V0(["projects",V.projectId,"databases",V.database])}(Z).child("documents");return Q===void 0?J:J.child(Q)}function Q$(Z){let Q=V0.fromString(Z);return W0(W$(Q)),Q}function N4(Z,Q){return IQ(Z.databaseId,Q.path)}function J$(Z){let Q=Q$(Z);return Q.length===4?V0.emptyPath():$$(Q)}function X$(Z){return new V0(["projects",Z.databaseId.projectId,"databases",Z.databaseId.database]).canonicalString()}function $$(Z){return W0(Z.length>4&&Z.get(4)==="documents"),Z.popFirst(5)}function j7(Z,Q,J){return{name:N4(Z,Q),fields:J.value.mapValue.fields}}function V$(Z,Q){let J;if(Q instanceof $2)J={update:j7(Z,Q.key,Q.value)};else if(Q instanceof m4)J={delete:N4(Z,Q.key)};else if(Q instanceof k1)J={update:j7(Z,Q.key,Q.data),updateMask:w$(Q.fieldMask)};else{if(!(Q instanceof FQ))return s();J={verify:N4(Z,Q.key)}}return Q.fieldTransforms.length>0&&(J.updateTransforms=Q.fieldTransforms.map(($)=>function V(w,q){let h=q.transform;if(h instanceof Q8)return{fieldPath:q.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Z2)return{fieldPath:q.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Q2)return{fieldPath:q.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof J8)return{fieldPath:q.field.canonicalString(),increment:h.Pe};throw s()}(0,$))),Q.precondition.isNone||(J.currentDocument=function $(V,w){return w.updateTime!==void 0?{updateTime:Z$(V,w.updateTime)}:w.exists!==void 0?{exists:w.exists}:s()}(Z,Q.precondition)),J}function z$(Z,Q){return Z&&Z.length>0?(W0(Q!==void 0),Z.map((J)=>function $(V,w){let q=V.updateTime?t1(V.updateTime):t1(w);return q.isEqual(J0.min())&&(q=t1(w)),new BQ(q,V.transformResults||[])}(J,Q))):[]}function U$(Z){let Q=J$(Z.parent),J=Z.structuredQuery,$=J.from?J.from.length:0,V=null;if($>0){W0($===1);let f=J.from[0];f.allDescendants?V=f.collectionId:Q=Q.child(f.collectionId)}let w=[];J.where&&(w=function f(Y){let K=OQ(Y);if(K instanceof I1&&g7(K))return K.getFilters();return[K]}(J.where));let q=[];J.orderBy&&(q=function f(Y){return Y.map((K)=>function P(A){return new Z8(c1(A.field),function _(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(K))}(J.orderBy));let h=null;J.limit&&(h=function f(Y){let K;return K=typeof Y=="object"?Y.value:Y,A4(K)?null:K}(J.limit));let j=null;J.startAt&&(j=function f(Y){let K=!!Y.before,P=Y.values||[];return new a2(P,K)}(J.startAt));let R=null;return J.endAt&&(R=function f(Y){let K=!Y.before,P=Y.values||[];return new a2(P,K)}(J.endAt)),_X(Q,V,q,w,h,"F",j,R)}function OQ(Z){return Z.unaryFilter!==void 0?function Q(J){switch(J.unaryFilter.op){case"IS_NAN":let $=c1(J.unaryFilter.field);return x0.create($,"==",{doubleValue:NaN});case"IS_NULL":let V=c1(J.unaryFilter.field);return x0.create(V,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let w=c1(J.unaryFilter.field);return x0.create(w,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let q=c1(J.unaryFilter.field);return x0.create(q,"!=",{nullValue:"NULL_VALUE"});default:return s()}}(Z):Z.fieldFilter!==void 0?function Q(J){return x0.create(c1(J.fieldFilter.field),function $(V){switch(V){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return s()}}(J.fieldFilter.op),J.fieldFilter.value)}(Z):Z.compositeFilter!==void 0?function Q(J){return I1.create(J.compositeFilter.filters.map(($)=>OQ($)),function $(V){switch(V){case"AND":return"and";case"OR":return"or";default:return s()}}(J.compositeFilter.op))}(Z):s()}function c1(Z){return R0.fromServerFormat(Z.fieldPath)}function w$(Z){let Q=[];return Z.fields.forEach((J)=>Q.push(J.canonicalString())),{fieldPaths:Q}}function W$(Z){return Z.length>=4&&Z.get(0)==="projects"&&Z.get(2)==="databases"}class kQ{constructor(Z){this.ct=Z}}function x$(Z){let Q=U$({parent:Z.parent,structuredQuery:Z.structuredQuery});return Z.limitType==="LAST"?k4(Q,Q.limit,"L"):Q}class y4{constructor(){}It(Z,Q){this.Tt(Z,Q),Q.Et()}Tt(Z,Q){if("nullValue"in Z)this.dt(Q,5);else if("booleanValue"in Z)this.dt(Q,10),Q.At(Z.booleanValue?1:0);else if("integerValue"in Z)this.dt(Q,15),Q.At(U0(Z.integerValue));else if("doubleValue"in Z){let J=U0(Z.doubleValue);isNaN(J)?this.dt(Q,13):(this.dt(Q,15),o2(J)?Q.At(0):Q.At(J))}else if("timestampValue"in Z){let J=Z.timestampValue;this.dt(Q,20),typeof J=="string"&&(J=G1(J)),Q.Rt(`${J.seconds||""}`),Q.At(J.nanos||0)}else if("stringValue"in Z)this.Vt(Z.stringValue,Q),this.ft(Q);else if("bytesValue"in Z)this.dt(Q,30),Q.gt(E1(Z.bytesValue)),this.ft(Q);else if("referenceValue"in Z)this.yt(Z.referenceValue,Q);else if("geoPointValue"in Z){let J=Z.geoPointValue;this.dt(Q,45),Q.At(J.latitude||0),Q.At(J.longitude||0)}else"mapValue"in Z?r7(Z)?this.dt(Q,Number.MAX_SAFE_INTEGER):C7(Z)?this.wt(Z.mapValue,Q):(this.St(Z.mapValue,Q),this.ft(Q)):("arrayValue"in Z)?(this.bt(Z.arrayValue,Q),this.ft(Q)):s()}Vt(Z,Q){this.dt(Q,25),this.Dt(Z,Q)}Dt(Z,Q){Q.Rt(Z)}St(Z,Q){let J=Z.fields||{};this.dt(Q,55);for(let $ of Object.keys(J))this.Vt($,Q),this.Tt(J[$],Q)}wt(Z,Q){var J,$;let V=Z.fields||{};this.dt(Q,53);let w="value",q=(($=(J=V[w].arrayValue)===null||J===void 0?void 0:J.values)===null||$===void 0?void 0:$.length)||0;this.dt(Q,15),Q.At(U0(q)),this.Vt(w,Q),this.Tt(V[w],Q)}bt(Z,Q){let J=Z.values||[];this.dt(Q,50);for(let $ of J)this.Tt($,Q)}yt(Z,Q){this.dt(Q,37),m.fromName(Z).path.forEach((J)=>{this.dt(Q,60),this.Dt(J,Q)})}dt(Z,Q){Z.At(Q)}ft(Z){Z.At(2)}}y4.vt=new y4;class SQ{constructor(){this.un=new LQ}addToCollectionParentIndex(Z,Q){return this.un.add(Q),l.resolve()}getCollectionParents(Z,Q){return l.resolve(this.un.getEntries(Q))}addFieldIndex(Z,Q){return l.resolve()}deleteFieldIndex(Z,Q){return l.resolve()}deleteAllFieldIndexes(Z){return l.resolve()}createTargetIndexes(Z,Q){return l.resolve()}getDocumentsMatchingTarget(Z,Q){return l.resolve(null)}getIndexType(Z,Q){return l.resolve(0)}getFieldIndexes(Z,Q){return l.resolve([])}getNextCollectionGroupToUpdate(Z){return l.resolve(null)}getMinOffset(Z,Q){return l.resolve(R1.min())}getMinOffsetFromCollectionGroup(Z,Q){return l.resolve(R1.min())}updateCollectionGroup(Z,Q,J){return l.resolve()}updateIndexEntries(Z,Q){return l.resolve()}}class LQ{constructor(){this.index={}}add(Z){let Q=Z.lastSegment(),J=Z.popLast(),$=this.index[Q]||new y0(V0.comparator),V=!$.has(J);return this.index[Q]=$.add(J),V}has(Z){let Q=Z.lastSegment(),J=Z.popLast(),$=this.index[Q];return $&&$.has(J)}getEntries(Z){return(this.index[Z]||new y0(V0.comparator)).toArray()}}var Fw=new Uint8Array(0);class _0{constructor(Z,Q,J){this.cacheSizeCollectionThreshold=Z,this.percentileToCollect=Q,this.maximumSequenceNumbersToCollect=J}static withCacheSize(Z){return new _0(Z,_0.DEFAULT_COLLECTION_PERCENTILE,_0.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}_0.DEFAULT_COLLECTION_PERCENTILE=10,_0.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1000,_0.DEFAULT=new _0(41943040,_0.DEFAULT_COLLECTION_PERCENTILE,_0.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_0.DISABLED=new _0(-1,0,0);class J2{constructor(Z){this.Ln=Z}next(){return this.Ln+=2,this.Ln}static Bn(){return new J2(0)}static kn(){return new J2(-1)}}class NQ{constructor(){this.changes=new _1((Z)=>Z.toString(),(Z,Q)=>Z.isEqual(Q)),this.changesApplied=!1}addEntry(Z){this.assertNotApplied(),this.changes.set(Z.key,Z)}removeEntry(Z,Q){this.assertNotApplied(),this.changes.set(Z,i0.newInvalidDocument(Z).setReadTime(Q))}getEntry(Z,Q){this.assertNotApplied();let J=this.changes.get(Q);return J!==void 0?l.resolve(J):this.getFromCache(Z,Q)}getEntries(Z,Q){return this.getAllFromCache(Z,Q)}apply(Z){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(Z)}assertNotApplied(){}}class yQ{constructor(Z,Q){this.overlayedDocument=Z,this.mutatedFields=Q}}class vQ{constructor(Z,Q,J,$){this.remoteDocumentCache=Z,this.mutationQueue=Q,this.documentOverlayCache=J,this.indexManager=$}getDocument(Z,Q){let J=null;return this.documentOverlayCache.getOverlay(Z,Q).next(($)=>(J=$,this.remoteDocumentCache.getEntry(Z,Q))).next(($)=>(J!==null&&d2(J.mutation,$,C0.empty(),B0.now()),$))}getDocuments(Z,Q){return this.remoteDocumentCache.getEntries(Z,Q).next((J)=>this.getLocalViewOfDocuments(Z,J,N0()).next(()=>J))}getLocalViewOfDocuments(Z,Q,J=N0()){let $=l1();return this.populateOverlays(Z,$,Q).next(()=>this.computeViews(Z,Q,$,J).next((V)=>{let w=n8();return V.forEach((q,h)=>{w=w.insert(q,h.overlayedDocument)}),w}))}getOverlayedDocuments(Z,Q){let J=l1();return this.populateOverlays(Z,J,Q).next(()=>this.computeViews(Z,Q,J,N0()))}populateOverlays(Z,Q,J){let $=[];return J.forEach((V)=>{Q.has(V)||$.push(V)}),this.documentOverlayCache.getOverlays(Z,$).next((V)=>{V.forEach((w,q)=>{Q.set(w,q)})})}computeViews(Z,Q,J,$){let V=d8(),w=t2(),q=function h(){return t2()}();return Q.forEach((h,j)=>{let R=J.get(j.key);$.has(j.key)&&(R===void 0||R.mutation instanceof k1)?V=V.insert(j.key,j):R!==void 0?(w.set(j.key,R.mutation.getFieldMask()),d2(R.mutation,j,R.mutation.getFieldMask(),B0.now())):w.set(j.key,C0.empty())}),this.recalculateAndSaveOverlays(Z,V).next((h)=>(h.forEach((j,R)=>w.set(j,R)),Q.forEach((j,R)=>{var f;return q.set(j,new yQ(R,(f=w.get(j))!==null&&f!==void 0?f:null))}),q))}recalculateAndSaveOverlays(Z,Q){let J=t2(),$=new Y0((w,q)=>w-q),V=N0();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(Z,Q).next((w)=>{for(let q of w)q.keys().forEach((h)=>{let j=Q.get(h);if(j===null)return;let R=J.get(h)||C0.empty();R=q.applyToLocalView(j,R),J.set(h,R);let f=($.get(q.batchId)||N0()).add(h);$=$.insert(q.batchId,f)})}).next(()=>{let w=[],q=$.getReverseIterator();for(;q.hasNext();){let h=q.getNext(),j=h.key,R=h.value,f=VQ();R.forEach((Y)=>{if(!V.has(Y)){let K=qQ(Q.get(Y),J.get(Y));K!==null&&f.set(Y,K),V=V.add(Y)}}),w.push(this.documentOverlayCache.saveOverlays(Z,j,f))}return l.waitFor(w)}).next(()=>J)}recalculateAndSaveOverlaysForDocumentKeys(Z,Q){return this.remoteDocumentCache.getEntries(Z,Q).next((J)=>this.recalculateAndSaveOverlays(Z,J))}getDocumentsMatchingQuery(Z,Q,J,$){return function V(w){return m.isDocumentKey(w.path)&&w.collectionGroup===null&&w.filters.length===0}(Q)?this.getDocumentsMatchingDocumentQuery(Z,Q.path):MX(Q)?this.getDocumentsMatchingCollectionGroupQuery(Z,Q,J,$):this.getDocumentsMatchingCollectionQuery(Z,Q,J,$)}getNextDocuments(Z,Q,J,$){return this.remoteDocumentCache.getAllFromCollectionGroup(Z,Q,J,$).next((V)=>{let w=$-V.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(Z,Q,J.largestBatchId,$-V.size):l.resolve(l1()),q=-1,h=V;return w.next((j)=>l.forEach(j,(R,f)=>(q<f.largestBatchId&&(q=f.largestBatchId),V.get(R)?l.resolve():this.remoteDocumentCache.getEntry(Z,R).next((Y)=>{h=h.insert(R,Y)}))).next(()=>this.populateOverlays(Z,j,V)).next(()=>this.computeViews(Z,h,j,N0())).next((R)=>({batchId:q,changes:$Q(R)})))})}getDocumentsMatchingDocumentQuery(Z,Q){return this.getDocument(Z,new m(Q)).next((J)=>{let $=n8();return J.isFoundDocument()&&($=$.insert(J.key,J)),$})}getDocumentsMatchingCollectionGroupQuery(Z,Q,J,$){let V=Q.collectionGroup,w=n8();return this.indexManager.getCollectionParents(Z,V).next((q)=>l.forEach(q,(h)=>{let j=function R(f,Y){return new V8(Y,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(Q,h.child(V));return this.getDocumentsMatchingCollectionQuery(Z,j,J,$).next((R)=>{R.forEach((f,Y)=>{w=w.insert(f,Y)})})}).next(()=>w))}getDocumentsMatchingCollectionQuery(Z,Q,J,$){let V;return this.documentOverlayCache.getOverlaysForCollection(Z,Q.path,J.largestBatchId).next((w)=>(V=w,this.remoteDocumentCache.getDocumentsMatchingQuery(Z,Q,J,V,$))).next((w)=>{V.forEach((h,j)=>{let R=j.getKey();w.get(R)===null&&(w=w.insert(R,i0.newInvalidDocument(R)))});let q=n8();return w.forEach((h,j)=>{let R=V.get(h);R!==void 0&&d2(R.mutation,j,C0.empty(),B0.now()),C4(Q,j)&&(q=q.insert(h,j))}),q})}}class fQ{constructor(Z){this.serializer=Z,this.hr=new Map,this.Pr=new Map}getBundleMetadata(Z,Q){return l.resolve(this.hr.get(Q))}saveBundleMetadata(Z,Q){return this.hr.set(Q.id,function J($){return{id:$.id,version:$.version,createTime:t1($.createTime)}}(Q)),l.resolve()}getNamedQuery(Z,Q){return l.resolve(this.Pr.get(Q))}saveNamedQuery(Z,Q){return this.Pr.set(Q.name,function J($){return{name:$.name,query:x$($.bundledQuery),readTime:t1($.readTime)}}(Q)),l.resolve()}}class HQ{constructor(){this.overlays=new Y0(m.comparator),this.Ir=new Map}getOverlay(Z,Q){return l.resolve(this.overlays.get(Q))}getOverlays(Z,Q){let J=l1();return l.forEach(Q,($)=>this.getOverlay(Z,$).next((V)=>{V!==null&&J.set($,V)})).next(()=>J)}saveOverlays(Z,Q,J){return J.forEach(($,V)=>{this.ht(Z,Q,V)}),l.resolve()}removeOverlaysForBatchId(Z,Q,J){let $=this.Ir.get(J);return $!==void 0&&($.forEach((V)=>this.overlays=this.overlays.remove(V)),this.Ir.delete(J)),l.resolve()}getOverlaysForCollection(Z,Q,J){let $=l1(),V=Q.length+1,w=new m(Q.child("")),q=this.overlays.getIteratorFrom(w);for(;q.hasNext();){let h=q.getNext().value,j=h.getKey();if(!Q.isPrefixOf(j.path))break;j.path.length===V&&(h.largestBatchId>J&&$.set(h.getKey(),h))}return l.resolve($)}getOverlaysForCollectionGroup(Z,Q,J,$){let V=new Y0((j,R)=>j-R),w=this.overlays.getIterator();for(;w.hasNext();){let j=w.getNext().value;if(j.getKey().getCollectionGroup()===Q&&j.largestBatchId>J){let R=V.get(j.largestBatchId);R===null&&(R=l1(),V=V.insert(j.largestBatchId,R)),R.set(j.getKey(),j)}}let q=l1(),h=V.getIterator();for(;h.hasNext();)if(h.getNext().value.forEach((j,R)=>q.set(j,R)),q.size()>=$)break;return l.resolve(q)}ht(Z,Q,J){let $=this.overlays.get(J.key);if($!==null){let w=this.Ir.get($.largestBatchId).delete(J.key);this.Ir.set($.largestBatchId,w)}this.overlays=this.overlays.insert(J.key,new RQ(Q,J));let V=this.Ir.get(Q);V===void 0&&(V=N0(),this.Ir.set(Q,V)),this.Ir.set(Q,V.add(J.key))}}class YQ{constructor(){this.sessionToken=s0.EMPTY_BYTE_STRING}getSessionToken(Z){return l.resolve(this.sessionToken)}setSessionToken(Z,Q){return this.sessionToken=Q,l.resolve()}}class e8{constructor(){this.Tr=new y0(w0.Er),this.dr=new y0(w0.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(Z,Q){let J=new w0(Z,Q);this.Tr=this.Tr.add(J),this.dr=this.dr.add(J)}Rr(Z,Q){Z.forEach((J)=>this.addReference(J,Q))}removeReference(Z,Q){this.Vr(new w0(Z,Q))}mr(Z,Q){Z.forEach((J)=>this.removeReference(J,Q))}gr(Z){let Q=new m(new V0([])),J=new w0(Q,Z),$=new w0(Q,Z+1),V=[];return this.dr.forEachInRange([J,$],(w)=>{this.Vr(w),V.push(w.key)}),V}pr(){this.Tr.forEach((Z)=>this.Vr(Z))}Vr(Z){this.Tr=this.Tr.delete(Z),this.dr=this.dr.delete(Z)}yr(Z){let Q=new m(new V0([])),J=new w0(Q,Z),$=new w0(Q,Z+1),V=N0();return this.dr.forEachInRange([J,$],(w)=>{V=V.add(w.key)}),V}containsKey(Z){let Q=new w0(Z,0),J=this.Tr.firstAfterOrEqual(Q);return J!==null&&Z.isEqual(J.key)}}class w0{constructor(Z,Q){this.key=Z,this.wr=Q}static Er(Z,Q){return m.comparator(Z.key,Q.key)||o(Z.wr,Q.wr)}static Ar(Z,Q){return o(Z.wr,Q.wr)||m.comparator(Z.key,Q.key)}}class KQ{constructor(Z,Q){this.indexManager=Z,this.referenceDelegate=Q,this.mutationQueue=[],this.Sr=1,this.br=new y0(w0.Er)}checkEmpty(Z){return l.resolve(this.mutationQueue.length===0)}addMutationBatch(Z,Q,J,$){let V=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let w=new jQ(V,Q,J,$);this.mutationQueue.push(w);for(let q of $)this.br=this.br.add(new w0(q.key,V)),this.indexManager.addToCollectionParentIndex(Z,q.key.path.popLast());return l.resolve(w)}lookupMutationBatch(Z,Q){return l.resolve(this.Dr(Q))}getNextMutationBatchAfterBatchId(Z,Q){let J=Q+1,$=this.vr(J),V=$<0?0:$;return l.resolve(this.mutationQueue.length>V?this.mutationQueue[V]:null)}getHighestUnacknowledgedBatchId(){return l.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(Z){return l.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(Z,Q){let J=new w0(Q,0),$=new w0(Q,Number.POSITIVE_INFINITY),V=[];return this.br.forEachInRange([J,$],(w)=>{let q=this.Dr(w.wr);V.push(q)}),l.resolve(V)}getAllMutationBatchesAffectingDocumentKeys(Z,Q){let J=new y0(o);return Q.forEach(($)=>{let V=new w0($,0),w=new w0($,Number.POSITIVE_INFINITY);this.br.forEachInRange([V,w],(q)=>{J=J.add(q.wr)})}),l.resolve(this.Cr(J))}getAllMutationBatchesAffectingQuery(Z,Q){let J=Q.path,$=J.length+1,V=J;m.isDocumentKey(V)||(V=V.child(""));let w=new w0(new m(V),0),q=new y0(o);return this.br.forEachWhile((h)=>{let j=h.key.path;return!!J.isPrefixOf(j)&&(j.length===$&&(q=q.add(h.wr)),!0)},w),l.resolve(this.Cr(q))}Cr(Z){let Q=[];return Z.forEach((J)=>{let $=this.Dr(J);$!==null&&Q.push($)}),Q}removeMutationBatch(Z,Q){W0(this.Fr(Q.batchId,"removed")===0),this.mutationQueue.shift();let J=this.br;return l.forEach(Q.mutations,($)=>{let V=new w0($.key,Q.batchId);return J=J.delete(V),this.referenceDelegate.markPotentiallyOrphaned(Z,$.key)}).next(()=>{this.br=J})}On(Z){}containsKey(Z,Q){let J=new w0(Q,0),$=this.br.firstAfterOrEqual(J);return l.resolve(Q.isEqual($&&$.key))}performConsistencyCheck(Z){return this.mutationQueue.length,l.resolve()}Fr(Z,Q){return this.vr(Z)}vr(Z){if(this.mutationQueue.length===0)return 0;return Z-this.mutationQueue[0].batchId}Dr(Z){let Q=this.vr(Z);if(Q<0||Q>=this.mutationQueue.length)return null;return this.mutationQueue[Q]}}class lQ{constructor(Z){this.Mr=Z,this.docs=function Q(){return new Y0(m.comparator)}(),this.size=0}setIndexManager(Z){this.indexManager=Z}addEntry(Z,Q){let J=Q.key,$=this.docs.get(J),V=$?$.size:0,w=this.Mr(Q);return this.docs=this.docs.insert(J,{document:Q.mutableCopy(),size:w}),this.size+=w-V,this.indexManager.addToCollectionParentIndex(Z,J.path.popLast())}removeEntry(Z){let Q=this.docs.get(Z);Q&&(this.docs=this.docs.remove(Z),this.size-=Q.size)}getEntry(Z,Q){let J=this.docs.get(Q);return l.resolve(J?J.document.mutableCopy():i0.newInvalidDocument(Q))}getEntries(Z,Q){let J=d8();return Q.forEach(($)=>{let V=this.docs.get($);J=J.insert($,V?V.document.mutableCopy():i0.newInvalidDocument($))}),l.resolve(J)}getDocumentsMatchingQuery(Z,Q,J,$){let V=d8(),w=Q.path,q=new m(w.child("")),h=this.docs.getIteratorFrom(q);for(;h.hasNext();){let{key:j,value:{document:R}}=h.getNext();if(!w.isPrefixOf(j.path))break;j.path.length>w.length+1||(NX(LX(R),J)<=0||($.has(R.key)||C4(Q,R))&&(V=V.insert(R.key,R.mutableCopy())))}return l.resolve(V)}getAllFromCollectionGroup(Z,Q,J,$){s()}Or(Z,Q){return l.forEach(this.docs,(J)=>Q(J))}newChangeBuffer(Z){return new pQ(this)}getSize(Z){return l.resolve(this.size)}}class pQ extends NQ{constructor(Z){super(),this.cr=Z}applyChanges(Z){let Q=[];return this.changes.forEach((J,$)=>{$.isValidDocument()?Q.push(this.cr.addEntry(Z,$)):this.cr.removeEntry(J)}),l.waitFor(Q)}getFromCache(Z,Q){return this.cr.getEntry(Z,Q)}getAllFromCache(Z,Q){return this.cr.getEntries(Z,Q)}}class TQ{constructor(Z){this.persistence=Z,this.Nr=new _1((Q)=>i4(Q),u4),this.lastRemoteSnapshotVersion=J0.min(),this.highestTargetId=0,this.Lr=0,this.Br=new e8,this.targetCount=0,this.kr=J2.Bn()}forEachTarget(Z,Q){return this.Nr.forEach((J,$)=>Q($)),l.resolve()}getLastRemoteSnapshotVersion(Z){return l.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(Z){return l.resolve(this.Lr)}allocateTargetId(Z){return this.highestTargetId=this.kr.next(),l.resolve(this.highestTargetId)}setTargetsMetadata(Z,Q,J){return J&&(this.lastRemoteSnapshotVersion=J),Q>this.Lr&&(this.Lr=Q),l.resolve()}Kn(Z){this.Nr.set(Z.target,Z);let Q=Z.targetId;Q>this.highestTargetId&&(this.kr=new J2(Q),this.highestTargetId=Q),Z.sequenceNumber>this.Lr&&(this.Lr=Z.sequenceNumber)}addTargetData(Z,Q){return this.Kn(Q),this.targetCount+=1,l.resolve()}updateTargetData(Z,Q){return this.Kn(Q),l.resolve()}removeTargetData(Z,Q){return this.Nr.delete(Q.target),this.Br.gr(Q.targetId),this.targetCount-=1,l.resolve()}removeTargets(Z,Q,J){let $=0,V=[];return this.Nr.forEach((w,q)=>{q.sequenceNumber<=Q&&J.get(q.targetId)===null&&(this.Nr.delete(w),V.push(this.removeMatchingKeysForTargetId(Z,q.targetId)),$++)}),l.waitFor(V).next(()=>$)}getTargetCount(Z){return l.resolve(this.targetCount)}getTargetData(Z,Q){let J=this.Nr.get(Q)||null;return l.resolve(J)}addMatchingKeys(Z,Q,J){return this.Br.Rr(Q,J),l.resolve()}removeMatchingKeys(Z,Q,J){this.Br.mr(Q,J);let $=this.persistence.referenceDelegate,V=[];return $&&Q.forEach((w)=>{V.push($.markPotentiallyOrphaned(Z,w))}),l.waitFor(V)}removeMatchingKeysForTargetId(Z,Q){return this.Br.gr(Q),l.resolve()}getMatchingKeysForTargetId(Z,Q){let J=this.Br.yr(Q);return l.resolve(J)}containsKey(Z,Q){return l.resolve(this.Br.containsKey(Q))}}class AQ{constructor(Z,Q){this.qr={},this.overlays={},this.Qr=new T4(0),this.Kr=!1,this.Kr=!0,this.$r=new YQ,this.referenceDelegate=Z(this),this.Ur=new TQ(this),this.indexManager=new SQ,this.remoteDocumentCache=function J($){return new lQ($)}((J)=>this.referenceDelegate.Wr(J)),this.serializer=new kQ(Q),this.Gr=new fQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(Z){return this.indexManager}getDocumentOverlayCache(Z){let Q=this.overlays[Z.toKey()];return Q||(Q=new HQ,this.overlays[Z.toKey()]=Q),Q}getMutationQueue(Z,Q){let J=this.qr[Z.toKey()];return J||(J=new KQ(Q,this.referenceDelegate),this.qr[Z.toKey()]=J),J}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(Z,Q,J){i("MemoryPersistence","Starting transaction:",Z);let $=new _Q(this.Qr.next());return this.referenceDelegate.zr(),J($).next((V)=>this.referenceDelegate.jr($).next(()=>V)).toPromise().then((V)=>($.raiseOnCommittedEvent(),V))}Hr(Z,Q){return l.or(Object.values(this.qr).map((J)=>()=>J.containsKey(Z,Q)))}}class _Q extends A7{constructor(Z){super(),this.currentSequenceNumber=Z}}class g4{constructor(Z){this.persistence=Z,this.Jr=new e8,this.Yr=null}static Zr(Z){return new g4(Z)}get Xr(){if(this.Yr)return this.Yr;throw s()}addReference(Z,Q,J){return this.Jr.addReference(J,Q),this.Xr.delete(J.toString()),l.resolve()}removeReference(Z,Q,J){return this.Jr.removeReference(J,Q),this.Xr.add(J.toString()),l.resolve()}markPotentiallyOrphaned(Z,Q){return this.Xr.add(Q.toString()),l.resolve()}removeTarget(Z,Q){this.Jr.gr(Q.targetId).forEach(($)=>this.Xr.add($.toString()));let J=this.persistence.getTargetCache();return J.getMatchingKeysForTargetId(Z,Q.targetId).next(($)=>{$.forEach((V)=>this.Xr.add(V.toString()))}).next(()=>J.removeTargetData(Z,Q))}zr(){this.Yr=new Set}jr(Z){let Q=this.persistence.getRemoteDocumentCache().newChangeBuffer();return l.forEach(this.Xr,(J)=>{let $=m.fromPath(J);return this.ei(Z,$).next((V)=>{V||Q.removeEntry($,J0.min())})}).next(()=>(this.Yr=null,Q.apply(Z)))}updateLimboDocument(Z,Q){return this.ei(Z,Q).next((J)=>{J?this.Xr.delete(Q.toString()):this.Xr.add(Q.toString())})}Wr(Z){return 0}ei(Z,Q){return l.or([()=>l.resolve(this.Jr.containsKey(Q)),()=>this.persistence.getTargetCache().containsKey(Z,Q),()=>this.persistence.Hr(Z,Q)])}}class s4{constructor(Z,Q,J,$){this.targetId=Z,this.fromCache=Q,this.$i=J,this.Ui=$}static Wi(Z,Q){let J=N0(),$=N0();for(let V of Q.docChanges)switch(V.type){case 0:J=J.add(V.doc.key);break;case 1:$=$.add(V.doc.key)}return new s4(Z,Q.fromCache,J,$)}}class PQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(Z){this._documentReadCount+=Z}}class MQ{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function Z(){return lZ()?8:vX(KZ())>0?6:4}()}initialize(Z,Q){this.Ji=Z,this.indexManager=Q,this.Gi=!0}getDocumentsMatchingQuery(Z,Q,J,$){let V={result:null};return this.Yi(Z,Q).next((w)=>{V.result=w}).next(()=>{if(!V.result)return this.Zi(Z,Q,$,J).next((w)=>{V.result=w})}).next(()=>{if(V.result)return;let w=new PQ;return this.Xi(Z,Q,w).next((q)=>{if(V.result=q,this.zi)return this.es(Z,Q,w,q.size)})}).next(()=>V.result)}es(Z,Q,J,$){return J.documentReadCount<this.ji?(g2()<=b.DEBUG&&i("QueryEngine","SDK will not create cache indexes for query:",s2(Q),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),l.resolve()):(g2()<=b.DEBUG&&i("QueryEngine","Query:",s2(Q),"scans",J.documentReadCount,"local documents and returns",$,"documents as results."),J.documentReadCount>this.Hi*$?(g2()<=b.DEBUG&&i("QueryEngine","The SDK decides to create cache indexes for query:",s2(Q),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(Z,p1(Q))):l.resolve())}Yi(Z,Q){if(x7(Q))return l.resolve(null);let J=p1(Q);return this.indexManager.getIndexType(Z,J).next(($)=>$===0?null:(Q.limit!==null&&$===1&&(Q=k4(Q,null,"F"),J=p1(Q)),this.indexManager.getDocumentsMatchingTarget(Z,J).next((V)=>{let w=N0(...V);return this.Ji.getDocuments(Z,w).next((q)=>this.indexManager.getMinOffset(Z,J).next((h)=>{let j=this.ts(Q,q);return this.ns(Q,j,w,h.readTime)?this.Yi(Z,k4(Q,null,"F")):this.rs(Z,j,Q,h)}))})))}Zi(Z,Q,J,$){return x7(Q)||$.isEqual(J0.min())?l.resolve(null):this.Ji.getDocuments(Z,J).next((V)=>{let w=this.ts(Q,V);return this.ns(Q,w,J,$)?l.resolve(null):(g2()<=b.DEBUG&&i("QueryEngine","Re-using previous result from %s to execute query: %s",$.toString(),s2(Q)),this.rs(Z,w,Q,SX($,-1)).next((q)=>q))})}ts(Z,Q){let J=new y0(uX(Z));return Q.forEach(($,V)=>{C4(Z,V)&&(J=J.add(V))}),J}ns(Z,Q,J,$){if(Z.limit===null)return!1;if(J.size!==Q.size)return!0;let V=Z.limitType==="F"?Q.last():Q.first();return!!V&&(V.hasPendingWrites||V.version.compareTo($)>0)}Xi(Z,Q,J){return g2()<=b.DEBUG&&i("QueryEngine","Using full collection scan to execute query:",s2(Q)),this.Ji.getDocumentsMatchingQuery(Z,Q,R1.min(),J)}rs(Z,Q,J,$){return this.Ji.getDocumentsMatchingQuery(Z,J,$).next((V)=>(Q.forEach((w)=>{V=V.insert(w.key,w)}),V))}}class iQ{constructor(Z,Q,J,$){this.persistence=Z,this.ss=Q,this.serializer=$,this.os=new Y0(o),this._s=new _1((V)=>i4(V),u4),this.us=new Map,this.cs=Z.getRemoteDocumentCache(),this.Ur=Z.getTargetCache(),this.Gr=Z.getBundleCache(),this.ls(J)}ls(Z){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(Z),this.indexManager=this.persistence.getIndexManager(Z),this.mutationQueue=this.persistence.getMutationQueue(Z,this.indexManager),this.localDocuments=new vQ(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(Z){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(Q)=>Z.collect(Q,this.os))}}function B$(Z,Q,J,$){return new iQ(Z,Q,J,$)}async function uQ(Z,Q){let J=a(Z);return await J.persistence.runTransaction("Handle user change","readonly",($)=>{let V;return J.mutationQueue.getAllMutationBatches($).next((w)=>(V=w,J.ls(Q),J.mutationQueue.getAllMutationBatches($))).next((w)=>{let q=[],h=[],j=N0();for(let R of V){q.push(R.batchId);for(let f of R.mutations)j=j.add(f.key)}for(let R of w){h.push(R.batchId);for(let f of R.mutations)j=j.add(f.key)}return J.localDocuments.getDocuments($,j).next((R)=>({hs:R,removedBatchIds:q,addedBatchIds:h}))})})}function q$(Z,Q){let J=a(Z);return J.persistence.runTransaction("Acknowledge batch","readwrite-primary",($)=>{let V=Q.batch.keys(),w=J.cs.newChangeBuffer({trackRemovals:!0});return function q(h,j,R,f){let Y=R.batch,K=Y.keys(),P=l.resolve();return K.forEach((A)=>{P=P.next(()=>f.getEntry(j,A)).next((_)=>{let M=R.docVersions.get(A);W0(M!==null),_.version.compareTo(M)<0&&(Y.applyToRemoteDocument(_,R),_.isValidDocument()&&(_.setReadTime(R.commitVersion),f.addEntry(_)))})}),P.next(()=>h.mutationQueue.removeMutationBatch(j,Y))}(J,$,Q,w).next(()=>w.apply($)).next(()=>J.mutationQueue.performConsistencyCheck($)).next(()=>J.documentOverlayCache.removeOverlaysForBatchId($,V,Q.batch.batchId)).next(()=>J.localDocuments.recalculateAndSaveOverlaysForDocumentKeys($,function q(h){let j=N0();for(let R=0;R<h.mutationResults.length;++R)h.mutationResults[R].transformResults.length>0&&(j=j.add(h.batch.mutations[R].key));return j}(Q))).next(()=>J.localDocuments.getDocuments($,V))})}function h$(Z){let Q=a(Z);return Q.persistence.runTransaction("Get last remote snapshot version","readonly",(J)=>Q.Ur.getLastRemoteSnapshotVersion(J))}function F$(Z,Q){let J=a(Z);return J.persistence.runTransaction("Get next mutation batch","readonly",($)=>(Q===void 0&&(Q=-1),J.mutationQueue.getNextMutationBatchAfterBatchId($,Q)))}class v4{constructor(){this.activeTargetIds=sX()}fs(Z){this.activeTargetIds=this.activeTargetIds.add(Z)}gs(Z){this.activeTargetIds=this.activeTargetIds.delete(Z)}Vs(){let Z={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(Z)}}class CQ{constructor(){this.so=new v4,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(Z){}updateMutationState(Z,Q,J){}addLocalQueryTarget(Z){return this.so.fs(Z),this.oo[Z]||"not-current"}updateQueryState(Z,Q,J){this.oo[Z]=Q}removeLocalQueryTarget(Z){this.so.gs(Z)}isLocalQueryTarget(Z){return this.so.activeTargetIds.has(Z)}clearQueryState(Z){delete this.oo[Z]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(Z){return this.so.activeTargetIds.has(Z)}start(){return this.so=new v4,Promise.resolve()}handleUserChange(Z,Q,J){}setOnlineState(Z){}shutdown(){}writeSequenceNumber(Z){}notifyBundleLoaded(Z){}}class rQ{_o(Z){}shutdown(){}}class f4{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(Z){this.ho.push(Z)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){i("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let Z of this.ho)Z(0)}lo(){i("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let Z of this.ho)Z(1)}static D(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}var g8=null;function h4(){return g8===null?g8=function Z(){return 268435456+Math.round(2147483648*Math.random())}():g8++,"0x"+g8.toString(16)}var j$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mQ{constructor(Z){this.Io=Z.Io,this.To=Z.To}Eo(Z){this.Ao=Z}Ro(Z){this.Vo=Z}mo(Z){this.fo=Z}onMessage(Z){this.po=Z}close(){this.To()}send(Z){this.Io(Z)}yo(){this.Ao()}wo(){this.Vo()}So(Z){this.fo(Z)}bo(Z){this.po(Z)}}var L0="WebChannelConnection";class nQ extends class Z{constructor(Q){this.databaseInfo=Q,this.databaseId=Q.databaseId;let J=Q.ssl?"https":"http",$=encodeURIComponent(this.databaseId.projectId),V=encodeURIComponent(this.databaseId.database);this.Do=J+"://"+Q.host,this.vo=`projects/${$}/databases/${V}`,this.Co=this.databaseId.database==="(default)"?`project_id=${$}`:`project_id=${$}&database_id=${V}`}get Fo(){return!1}Mo(Q,J,$,V,w){let q=h4(),h=this.xo(Q,J.toUriEncodedString());i("RestConnection",`Sending RPC '${Q}' ${q}:`,h,$);let j={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(j,V,w),this.No(Q,h,j,$).then((R)=>(i("RestConnection",`Received RPC '${Q}' ${q}: `,R),R),(R)=>{throw b8("RestConnection",`RPC '${Q}' ${q} failed with error: `,R,"url: ",h,"request:",$),R})}Lo(Q,J,$,V,w,q){return this.Mo(Q,J,$,V,w)}Oo(Q,J,$){Q["X-Goog-Api-Client"]=function V(){return"gl-js/ fire/"+X2}(),Q["Content-Type"]="text/plain",this.databaseInfo.appId&&(Q["X-Firebase-GMPID"]=this.databaseInfo.appId),J&&J.headers.forEach((V,w)=>Q[w]=V),$&&$.headers.forEach((V,w)=>Q[w]=V)}xo(Q,J){let $=j$[Q];return`${this.Do}/v1/${J}:${$}`}terminate(){}}{constructor(Z){super(Z),this.forceLongPolling=Z.forceLongPolling,this.autoDetectLongPolling=Z.autoDetectLongPolling,this.useFetchStreams=Z.useFetchStreams,this.longPollingOptions=Z.longPollingOptions}No(Z,Q,J,$){let V=h4();return new Promise((w,q)=>{let h=new U4;h.setWithCredentials(!0),h.listenOnce(W4.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case n2.NO_ERROR:let R=h.getResponseJson();i(L0,`XHR for RPC '${Z}' ${V} received:`,JSON.stringify(R)),w(R);break;case n2.TIMEOUT:i(L0,`RPC '${Z}' ${V} timed out`),q(new C(p.DEADLINE_EXCEEDED,"Request time out"));break;case n2.HTTP_ERROR:let f=h.getStatus();if(i(L0,`RPC '${Z}' ${V} failed with status:`,f,"response text:",h.getResponseText()),f>0){let Y=h.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);let K=Y==null?void 0:Y.error;if(K&&K.status&&K.message){let P=function A(_){let M=_.toLowerCase().replace(/_/g,"-");return Object.values(p).indexOf(M)>=0?M:p.UNKNOWN}(K.status);q(new C(P,K.message))}else q(new C(p.UNKNOWN,"Server responded with status "+h.getStatus()))}else q(new C(p.UNAVAILABLE,"Connection failed."));break;default:s()}}finally{i(L0,`RPC '${Z}' ${V} completed.`)}});let j=JSON.stringify($);i(L0,`RPC '${Z}' ${V} sending request:`,$),h.send(Q,"POST",j,J,15)})}Bo(Z,Q,J){let $=h4(),V=[this.Do,"/","google.firestore.v1.Firestore","/",Z,"/channel"],w=q4(),q=B4(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:600000},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},j=this.longPollingOptions.timeoutSeconds;j!==void 0&&(h.longPollingTimeout=Math.round(1000*j)),this.useFetchStreams&&(h.xmlHttpFactory=new w4({})),this.Oo(h.initMessageHeaders,Q,J),h.encodeInitMessageHeaders=!0;let R=V.join("");i(L0,`Creating RPC '${Z}' stream ${$}: ${R}`,h);let f=w.createWebChannel(R,h),Y=!1,K=!1,P=new mQ({Io:(_)=>{K?i(L0,`Not sending because RPC '${Z}' stream ${$} is closed:`,_):(Y||(i(L0,`Opening RPC '${Z}' stream ${$} transport.`),f.open(),Y=!0),i(L0,`RPC '${Z}' stream ${$} sending:`,_),f.send(_))},To:()=>f.close()}),A=(_,M,u)=>{_.listen(M,(n)=>{try{u(n)}catch(d){setTimeout(()=>{throw d},0)}})};return A(f,b1.EventType.OPEN,()=>{K||(i(L0,`RPC '${Z}' stream ${$} transport opened.`),P.yo())}),A(f,b1.EventType.CLOSE,()=>{K||(K=!0,i(L0,`RPC '${Z}' stream ${$} transport closed`),P.So())}),A(f,b1.EventType.ERROR,(_)=>{K||(K=!0,b8(L0,`RPC '${Z}' stream ${$} transport errored:`,_),P.So(new C(p.UNAVAILABLE,"The operation could not be completed")))}),A(f,b1.EventType.MESSAGE,(_)=>{var M;if(!K){let u=_.data[0];W0(!!u);let n=u,d=n.error||((M=n[0])===null||M===void 0?void 0:M.error);if(d){i(L0,`RPC '${Z}' stream ${$} received error:`,d);let q0=d.status,p0=function y(G){let O=z0[G];if(O!==void 0)return eX(O)}(q0),K0=d.message;p0===void 0&&(p0=p.INTERNAL,K0="Unknown error status: "+q0+" with message "+d.message),K=!0,P.So(new C(p0,K0)),f.close()}else i(L0,`RPC '${Z}' stream ${$} received:`,u),P.bo(u)}}),A(q,x4.STAT_EVENT,(_)=>{_.stat===r8.PROXY?i(L0,`RPC '${Z}' stream ${$} detected buffering proxy`):_.stat===r8.NOPROXY&&i(L0,`RPC '${Z}' stream ${$} detected no buffering proxy`)}),setTimeout(()=>{P.wo()},0),P}}function F4(){return typeof document!="undefined"?document:null}function a8(Z){return new GQ(Z,!0)}class D4{constructor(Z,Q,J=1000,$=1.5,V=60000){this.ui=Z,this.timerId=Q,this.ko=J,this.qo=$,this.Qo=V,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(Z){this.cancel();let Q=Math.floor(this.Ko+this.zo()),J=Math.max(0,Date.now()-this.Uo),$=Math.max(0,Q-J);$>0&&i("ExponentialBackoff",`Backing off for ${$} ms (base delay: ${this.Ko} ms, delay with jitter: ${Q} ms, last attempt: ${J} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,$,()=>(this.Uo=Date.now(),Z())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-0.5)*this.Ko}}class gQ{constructor(Z,Q,J,$,V,w,q,h){this.ui=Z,this.Ho=J,this.Jo=$,this.connection=V,this.authCredentialsProvider=w,this.appCheckCredentialsProvider=q,this.listener=h,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new D4(Z,Q)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,60000,()=>this.__()))}a_(Z){this.u_(),this.stream.send(Z)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(Z,Q){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,Z!==4?this.t_.reset():Q&&Q.code===p.RESOURCE_EXHAUSTED?(A1(Q.toString()),A1("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):Q&&Q.code===p.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=Z,await this.listener.mo(Q)}l_(){}auth(){this.state=1;let Z=this.h_(this.Yo),Q=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([J,$])=>{this.Yo===Q&&this.P_(J,$)},(J)=>{Z(()=>{let $=new C(p.UNKNOWN,"Fetching auth token failed: "+J.message);return this.I_($)})})}P_(Z,Q){let J=this.h_(this.Yo);this.stream=this.T_(Z,Q),this.stream.Eo(()=>{J(()=>this.listener.Eo())}),this.stream.Ro(()=>{J(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(($)=>{J(()=>this.I_($))}),this.stream.onMessage(($)=>{J(()=>++this.e_==1?this.E_($):this.onNext($))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(Z){return i("PersistentStream",`close with error: ${Z}`),this.stream=null,this.close(4,Z)}h_(Z){return(Q)=>{this.ui.enqueueAndForget(()=>this.Yo===Z?Q():(i("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sQ extends gQ{constructor(Z,Q,J,$,V,w){super(Z,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",Q,J,$,w),this.serializer=V}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(Z,Q){return this.connection.Bo("Write",Z,Q)}E_(Z){return W0(!!Z.streamToken),this.lastStreamToken=Z.streamToken,W0(!Z.writeResults||Z.writeResults.length===0),this.listener.f_()}onNext(Z){W0(!!Z.streamToken),this.lastStreamToken=Z.streamToken,this.t_.reset();let Q=z$(Z.writeResults,Z.commitTime),J=t1(Z.commitTime);return this.listener.g_(J,Q)}p_(){let Z={};Z.database=X$(this.serializer),this.a_(Z)}m_(Z){let Q={streamToken:this.lastStreamToken,writes:Z.map((J)=>V$(this.serializer,J))};this.a_(Q)}}class DQ extends class Z{}{constructor(Z,Q,J,$){super(),this.authCredentials=Z,this.appCheckCredentials=Q,this.connection=J,this.serializer=$,this.y_=!1}w_(){if(this.y_)throw new C(p.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(Z,Q,J,$){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([V,w])=>this.connection.Mo(Z,L4(Q,J),$,V,w)).catch((V)=>{throw V.name==="FirebaseError"?(V.code===p.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),V):new C(p.UNKNOWN,V.toString())})}Lo(Z,Q,J,$,V){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([w,q])=>this.connection.Lo(Z,L4(Q,J),$,w,q,V)).catch((w)=>{throw w.name==="FirebaseError"?(w.code===p.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),w):new C(p.UNKNOWN,w.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class bQ{constructor(Z,Q){this.asyncQueue=Z,this.onlineStateHandler=Q,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(Z){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${Z.toString()}`),this.C_("Offline")))}set(Z){this.x_(),this.S_=0,Z==="Online"&&(this.D_=!1),this.C_(Z)}C_(Z){Z!==this.state&&(this.state=Z,this.onlineStateHandler(Z))}F_(Z){let Q=`Could not reach Cloud Firestore backend. ${Z}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(A1(Q),this.D_=!1):i("OnlineStateTracker",Q)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class cQ{constructor(Z,Q,J,$,V){this.localStore=Z,this.datastore=Q,this.asyncQueue=J,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=V,this.k_._o((w)=>{J.enqueueAndForget(async()=>{W8(this)&&(i("RemoteStore","Restarting streams for network reachability change."),await async function q(h){let j=a(h);j.L_.add(4),await w8(j),j.q_.set("Unknown"),j.L_.delete(4),await Z6(j)}(this))})}),this.q_=new bQ(J,$)}}async function Z6(Z){if(W8(Z))for(let Q of Z.B_)await Q(!0)}async function w8(Z){for(let Q of Z.B_)await Q(!1)}function W8(Z){return a(Z).L_.size===0}async function tQ(Z,Q,J){if(!o8(Q))throw Q;Z.L_.add(1),await w8(Z),Z.q_.set("Offline"),J||(J=()=>h$(Z.localStore)),Z.asyncQueue.enqueueRetryable(async()=>{i("RemoteStore","Retrying IndexedDB access"),await J(),Z.L_.delete(1),await Z6(Z)})}function dQ(Z,Q){return Q().catch((J)=>tQ(Z,J,Q))}async function Q6(Z){let Q=a(Z),J=O1(Q),$=Q.O_.length>0?Q.O_[Q.O_.length-1].batchId:-1;for(;R$(Q);)try{let V=await F$(Q.localStore,$);if(V===null){Q.O_.length===0&&J.o_();break}$=V.batchId,G$(Q,V)}catch(V){await tQ(Q,V)}EQ(Q)&&oQ(Q)}function R$(Z){return W8(Z)&&Z.O_.length<10}function G$(Z,Q){Z.O_.push(Q);let J=O1(Z);J.r_()&&J.V_&&J.m_(Q.mutations)}function EQ(Z){return W8(Z)&&!O1(Z).n_()&&Z.O_.length>0}function oQ(Z){O1(Z).start()}async function I$(Z){O1(Z).p_()}async function O$(Z){let Q=O1(Z);for(let J of Z.O_)Q.m_(J.mutations)}async function k$(Z,Q,J){let $=Z.O_.shift(),V=n4.from($,Q,J);await dQ(Z,()=>Z.remoteSyncer.applySuccessfulWrite(V)),await Q6(Z)}async function S$(Z,Q){Q&&O1(Z).V_&&await async function J($,V){if(function w(q){return oX(q)&&q!==p.ABORTED}(V.code)){let w=$.O_.shift();O1($).s_(),await dQ($,()=>$.remoteSyncer.rejectFailedWrite(w.batchId,V)),await Q6($)}}(Z,Q),EQ(Z)&&oQ(Z)}async function R7(Z,Q){let J=a(Z);J.asyncQueue.verifyOperationInProgress(),i("RemoteStore","RemoteStore received new credentials");let $=W8(J);J.L_.add(3),await w8(J),$&&J.q_.set("Unknown"),await J.remoteSyncer.handleCredentialChange(Q),J.L_.delete(3),await Z6(J)}async function L$(Z,Q){let J=a(Z);Q?(J.L_.delete(2),await Z6(J)):Q||(J.L_.add(2),await w8(J),J.q_.set("Unknown"))}function O1(Z){return Z.U_||(Z.U_=function Q(J,$,V){let w=a(J);return w.w_(),new sQ($,w.connection,w.authCredentials,w.appCheckCredentials,w.serializer,V)}(Z.datastore,Z.asyncQueue,{Eo:()=>Promise.resolve(),Ro:I$.bind(null,Z),mo:S$.bind(null,Z),f_:O$.bind(null,Z),g_:k$.bind(null,Z)}),Z.B_.push(async(Q)=>{Q?(Z.U_.s_(),await Q6(Z)):(await Z.U_.stop(),Z.O_.length>0&&(i("RemoteStore",`Stopping write stream with ${Z.O_.length} pending writes`),Z.O_=[]))})),Z.U_}class b4{constructor(Z,Q,J,$,V){this.asyncQueue=Z,this.timerId=Q,this.targetTimeMs=J,this.op=$,this.removalCallback=V,this.deferred=new F1,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((w)=>{})}get promise(){return this.deferred.promise}static createAndSchedule(Z,Q,J,$,V){let w=Date.now()+J,q=new b4(Z,Q,w,$,V);return q.start(J),q}start(Z){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),Z)}skipDelay(){return this.handleDelayElapsed()}cancel(Z){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new C(p.CANCELLED,"Operation cancelled"+(Z?": "+Z:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((Z)=>this.deferred.resolve(Z))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eQ(Z,Q){if(A1("AsyncQueue",`${Q}: ${Z}`),o8(Z))return new C(p.UNAVAILABLE,`${Q}: ${Z}`);throw Z}class aQ{constructor(){this.queries=G7(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function Z(Q,J){let $=a(Q),V=$.queries;$.queries=G7(),V.forEach((w,q)=>{for(let h of q.j_)h.onError(J)})})(this,new C(p.ABORTED,"Firestore shutting down"))}}function G7(){return new _1((Z)=>JQ(Z),QQ)}function N$(Z){Z.Y_.forEach((Q)=>{Q.next()})}var I7,O7;(O7=I7||(I7={})).ea="default",O7.Cache="cache";class Z5{constructor(Z,Q,J,$,V,w){this.localStore=Z,this.remoteStore=Q,this.eventManager=J,this.sharedClientState=$,this.currentUser=V,this.maxConcurrentLimboResolutions=w,this.Ca={},this.Fa=new _1((q)=>JQ(q),QQ),this.Ma=new Map,this.xa=new Set,this.Oa=new Y0(m.comparator),this.Na=new Map,this.La=new e8,this.Ba={},this.ka=new Map,this.qa=J2.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function y$(Z,Q,J){let $=Y$(Z);try{let V=await function w(q,h){let j=a(q),R=B0.now(),f=h.reduce((P,A)=>P.add(A.key),N0()),Y,K;return j.persistence.runTransaction("Locally write mutations","readwrite",(P)=>{let A=d8(),_=N0();return j.cs.getEntries(P,f).next((M)=>{A=M,A.forEach((u,n)=>{n.isValidDocument()||(_=_.add(u))})}).next(()=>j.localDocuments.getOverlayedDocuments(P,A)).next((M)=>{Y=M;let u=[];for(let n of h){let d=EX(n,Y.get(n.key).overlayedDocument);d!=null&&u.push(new k1(n.key,d,m7(d.value.mapValue),Q1.exists(!0)))}return j.mutationQueue.addMutationBatch(P,R,u,h)}).next((M)=>{K=M;let u=M.applyToLocalDocumentSet(Y,_);return j.documentOverlayCache.saveOverlays(P,M.batchId,u)})}).then(()=>({batchId:K.batchId,changes:$Q(Y)}))}($.localStore,Q);$.sharedClientState.addPendingMutation(V.batchId),function w(q,h,j){let R=q.Ba[q.currentUser.toKey()];R||(R=new Y0(o)),R=R.insert(h,j),q.Ba[q.currentUser.toKey()]=R}($,V.batchId,J),await J6($,V.changes),await Q6($.remoteStore)}catch(V){let w=eQ(V,"Failed to persist write");J.reject(w)}}function k7(Z,Q,J){let $=a(Z);if($.isPrimaryClient&&J===0||!$.isPrimaryClient&&J===1){let V=[];$.Fa.forEach((w,q)=>{let h=q.view.Z_(Q);h.snapshot&&V.push(h.snapshot)}),function w(q,h){let j=a(q);j.onlineState=h;let R=!1;j.queries.forEach((f,Y)=>{for(let K of Y.j_)K.Z_(h)&&(R=!0)}),R&&N$(j)}($.eventManager,Q),V.length&&$.Ca.d_(V),$.onlineState=Q,$.isPrimaryClient&&$.sharedClientState.setOnlineState(Q)}}async function v$(Z,Q){let J=a(Z),$=Q.batch.batchId;try{let V=await q$(J.localStore,Q);J5(J,$,null),Q5(J,$),J.sharedClientState.updateMutationState($,"acknowledged"),await J6(J,V)}catch(V){await _7(V)}}async function f$(Z,Q,J){let $=a(Z);try{let V=await function w(q,h){let j=a(q);return j.persistence.runTransaction("Reject batch","readwrite-primary",(R)=>{let f;return j.mutationQueue.lookupMutationBatch(R,h).next((Y)=>(W0(Y!==null),f=Y.keys(),j.mutationQueue.removeMutationBatch(R,Y))).next(()=>j.mutationQueue.performConsistencyCheck(R)).next(()=>j.documentOverlayCache.removeOverlaysForBatchId(R,f,h)).next(()=>j.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(R,f)).next(()=>j.localDocuments.getDocuments(R,f))})}($.localStore,Q);J5($,Q,J),Q5($,Q),$.sharedClientState.updateMutationState(Q,"rejected",J),await J6($,V)}catch(V){await _7(V)}}function Q5(Z,Q){(Z.ka.get(Q)||[]).forEach((J)=>{J.resolve()}),Z.ka.delete(Q)}function J5(Z,Q,J){let $=a(Z),V=$.Ba[$.currentUser.toKey()];if(V){let w=V.get(Q);w&&(J?w.reject(J):w.resolve(),V=V.remove(Q)),$.Ba[$.currentUser.toKey()]=V}}async function J6(Z,Q,J){let $=a(Z),V=[],w=[],q=[];$.Fa.isEmpty()||($.Fa.forEach((h,j)=>{q.push($.Ka(j,Q,J).then((R)=>{var f;if((R||J)&&$.isPrimaryClient){let Y=R?!R.fromCache:(f=J==null?void 0:J.targetChanges.get(j.targetId))===null||f===void 0?void 0:f.current;$.sharedClientState.updateQueryState(j.targetId,Y?"current":"not-current")}if(R){V.push(R);let Y=s4.Wi(j.targetId,R);w.push(Y)}}))}),await Promise.all(q),$.Ca.d_(V),await async function h(j,R){let f=a(j);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(Y)=>l.forEach(R,(K)=>l.forEach(K.$i,(P)=>f.persistence.referenceDelegate.addReference(Y,K.targetId,P)).next(()=>l.forEach(K.Ui,(P)=>f.persistence.referenceDelegate.removeReference(Y,K.targetId,P)))))}catch(Y){if(!o8(Y))throw Y;i("LocalStore","Failed to update sequence numbers: "+Y)}for(let Y of R){let K=Y.targetId;if(!Y.fromCache){let P=f.os.get(K),A=P.snapshotVersion,_=P.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(K,_)}}}($.localStore,w))}async function H$(Z,Q){let J=a(Z);if(!J.currentUser.isEqual(Q)){i("SyncEngine","User change. New user:",Q.toKey());let $=await uQ(J.localStore,Q);J.currentUser=Q,function V(w,q){w.ka.forEach((h)=>{h.forEach((j)=>{j.reject(new C(p.CANCELLED,q))})}),w.ka.clear()}(J,"'waitForPendingWrites' promise is rejected due to a user change."),J.sharedClientState.handleUserChange(Q,$.removedBatchIds,$.addedBatchIds),await J6(J,$.hs)}}function Y$(Z){let Q=a(Z);return Q.remoteStore.remoteSyncer.applySuccessfulWrite=v$.bind(null,Q),Q.remoteStore.remoteSyncer.rejectFailedWrite=f$.bind(null,Q),Q}class H4{constructor(){this.synchronizeTabs=!1}async initialize(Z){this.serializer=a8(Z.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(Z),this.persistence=this.createPersistence(Z),await this.persistence.start(),this.localStore=this.createLocalStore(Z),this.gcScheduler=this.createGarbageCollectionScheduler(Z,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(Z,this.localStore)}createGarbageCollectionScheduler(Z,Q){return null}createIndexBackfillerScheduler(Z,Q){return null}createLocalStore(Z){return B$(this.persistence,new MQ,Z.initialUser,this.serializer)}createPersistence(Z){return new AQ(g4.Zr,this.serializer)}createSharedClientState(Z){return new CQ}async terminate(){var Z,Q;(Z=this.gcScheduler)===null||Z===void 0||Z.stop(),(Q=this.indexBackfillerScheduler)===null||Q===void 0||Q.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class X5{async initialize(Z,Q){this.localStore||(this.localStore=Z.localStore,this.sharedClientState=Z.sharedClientState,this.datastore=this.createDatastore(Q),this.remoteStore=this.createRemoteStore(Q),this.eventManager=this.createEventManager(Q),this.syncEngine=this.createSyncEngine(Q,!Z.synchronizeTabs),this.sharedClientState.onlineStateHandler=(J)=>k7(this.syncEngine,J,1),this.remoteStore.remoteSyncer.handleCredentialChange=H$.bind(null,this.syncEngine),await L$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(Z){return function Q(){return new aQ}()}createDatastore(Z){let Q=a8(Z.databaseInfo.databaseId),J=function $(V){return new nQ(V)}(Z.databaseInfo);return function $(V,w,q,h){return new DQ(V,w,q,h)}(Z.authCredentials,Z.appCheckCredentials,J,Q)}createRemoteStore(Z){return function Q(J,$,V,w,q){return new cQ(J,$,V,w,q)}(this.localStore,this.datastore,Z.asyncQueue,(Q)=>k7(this.syncEngine,Q,0),function Q(){return f4.D()?new f4:new rQ}())}createSyncEngine(Z,Q){return function J($,V,w,q,h,j,R){let f=new Z5($,V,w,q,h,j);return R&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,Z.initialUser,Z.maxConcurrentLimboResolutions,Q)}async terminate(){var Z,Q;await async function J($){let V=a($);i("RemoteStore","RemoteStore shutting down."),V.L_.add(5),await w8(V),V.k_.shutdown(),V.q_.set("Unknown")}(this.remoteStore),(Z=this.datastore)===null||Z===void 0||Z.terminate(),(Q=this.eventManager)===null||Q===void 0||Q.terminate()}}class $5{constructor(Z,Q,J,$){this.authCredentials=Z,this.appCheckCredentials=Q,this.asyncQueue=J,this.databaseInfo=$,this.user=F0.UNAUTHENTICATED,this.clientId=p4.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(J,async(V)=>{i("FirestoreClient","Received user=",V.uid),await this.authCredentialListener(V),this.user=V}),this.appCheckCredentials.start(J,(V)=>(i("FirestoreClient","Received new app check token=",V),this.appCheckCredentialListener(V,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(Z){this.authCredentialListener=Z}setAppCheckTokenChangeListener(Z){this.appCheckCredentialListener=Z}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(p.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let Z=new F1;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),Z.resolve()}catch(Q){let J=eQ(Q,"Failed to shutdown persistence");Z.reject(J)}}),Z.promise}}async function j4(Z,Q){Z.asyncQueue.verifyOperationInProgress(),i("FirestoreClient","Initializing OfflineComponentProvider");let J=Z.configuration;await Q.initialize(J);let $=J.initialUser;Z.setCredentialChangeListener(async(V)=>{$.isEqual(V)||(await uQ(Q.localStore,V),$=V)}),Q.persistence.setDatabaseDeletedListener(()=>Z.terminate()),Z._offlineComponents=Q}async function S7(Z,Q){Z.asyncQueue.verifyOperationInProgress();let J=await l$(Z);i("FirestoreClient","Initializing OnlineComponentProvider"),await Q.initialize(J,Z.configuration),Z.setCredentialChangeListener(($)=>R7(Q.remoteStore,$)),Z.setAppCheckTokenChangeListener(($,V)=>R7(Q.remoteStore,V)),Z._onlineComponents=Q}function K$(Z){return Z.name==="FirebaseError"?Z.code===p.FAILED_PRECONDITION||Z.code===p.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&Z instanceof DOMException)||(Z.code===22||Z.code===20||Z.code===11)}async function l$(Z){if(!Z._offlineComponents)if(Z._uninitializedComponentsProvider){i("FirestoreClient","Using user provided OfflineComponentProvider");try{await j4(Z,Z._uninitializedComponentsProvider._offline)}catch(Q){let J=Q;if(!K$(J))throw J;b8("Error using user provided cache. Falling back to memory cache: "+J),await j4(Z,new H4)}}else i("FirestoreClient","Using default OfflineComponentProvider"),await j4(Z,new H4);return Z._offlineComponents}async function p$(Z){return Z._onlineComponents||(Z._uninitializedComponentsProvider?(i("FirestoreClient","Using user provided OnlineComponentProvider"),await S7(Z,Z._uninitializedComponentsProvider._online)):(i("FirestoreClient","Using default OnlineComponentProvider"),await S7(Z,new X5))),Z._onlineComponents}function T$(Z){return p$(Z).then((Q)=>Q.syncEngine)}function V5(Z){let Q={};return Z.timeoutSeconds!==void 0&&(Q.timeoutSeconds=Z.timeoutSeconds),Q}var L7=new Map;function z5(Z,Q,J){if(!J)throw new C(p.INVALID_ARGUMENT,`Function ${Z}() cannot be called with an empty ${Q}.`)}function A$(Z,Q,J,$){if(Q===!0&&$===!0)throw new C(p.INVALID_ARGUMENT,`${Z} and ${J} cannot be used together.`)}function N7(Z){if(!m.isDocumentKey(Z))throw new C(p.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${Z} has ${Z.length}.`)}function y7(Z){if(m.isDocumentKey(Z))throw new C(p.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${Z} has ${Z.length}.`)}function c4(Z){if(Z===void 0)return"undefined";if(Z===null)return"null";if(typeof Z=="string")return Z.length>20&&(Z=`${Z.substring(0,20)}...`),JSON.stringify(Z);if(typeof Z=="number"||typeof Z=="boolean")return""+Z;if(typeof Z=="object"){if(Z instanceof Array)return"an array";{let Q=function J($){if($.constructor)return $.constructor.name;return null}(Z);return Q?`a custom ${Q} object`:"an object"}}return typeof Z=="function"?"a function":s()}function U5(Z,Q){if("_delegate"in Z&&(Z=Z._delegate),!(Z instanceof Q)){if(Q.name===Z.constructor.name)throw new C(p.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let J=c4(Z);throw new C(p.INVALID_ARGUMENT,`Expected type '${Q.name}', but it was: ${J}`)}}return Z}class Y4{constructor(Z){var Q,J;if(Z.host===void 0){if(Z.ssl!==void 0)throw new C(p.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=Z.host,this.ssl=(Q=Z.ssl)===null||Q===void 0||Q;if(this.credentials=Z.credentials,this.ignoreUndefinedProperties=!!Z.ignoreUndefinedProperties,this.localCache=Z.localCache,Z.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(Z.cacheSizeBytes!==-1&&Z.cacheSizeBytes<1048576)throw new C(p.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=Z.cacheSizeBytes}A$("experimentalForceLongPolling",Z.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",Z.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!Z.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:Z.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!Z.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=V5((J=Z.experimentalLongPollingOptions)!==null&&J!==void 0?J:{}),function $(V){if(V.timeoutSeconds!==void 0){if(isNaN(V.timeoutSeconds))throw new C(p.INVALID_ARGUMENT,`invalid long polling timeout: ${V.timeoutSeconds} (must not be NaN)`);if(V.timeoutSeconds<5)throw new C(p.INVALID_ARGUMENT,`invalid long polling timeout: ${V.timeoutSeconds} (minimum allowed value is 5)`);if(V.timeoutSeconds>30)throw new C(p.INVALID_ARGUMENT,`invalid long polling timeout: ${V.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!Z.useFetchStreams}isEqual(Z){return this.host===Z.host&&this.ssl===Z.ssl&&this.credentials===Z.credentials&&this.cacheSizeBytes===Z.cacheSizeBytes&&this.experimentalForceLongPolling===Z.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===Z.experimentalAutoDetectLongPolling&&function Q(J,$){return J.timeoutSeconds===$.timeoutSeconds}(this.experimentalLongPollingOptions,Z.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===Z.ignoreUndefinedProperties&&this.useFetchStreams===Z.useFetchStreams}}class x8{constructor(Z,Q,J,$){this._authCredentials=Z,this._appCheckCredentials=Q,this._databaseId=J,this._app=$,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y4({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(p.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(Z){if(this._settingsFrozen)throw new C(p.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y4(Z),Z.credentials!==void 0&&(this._authCredentials=function Q(J){if(!J)return new v7;switch(J.type){case"firstParty":return new K7(J.sessionIndex||"0",J.iamToken||null,J.authTokenFactory||null);case"provider":return J.client;default:throw new C(p.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(Z.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function Z(Q){let J=L7.get(Q);J&&(i("ComponentProvider","Removing Datastore"),L7.delete(Q),J.terminate())}(this),Promise.resolve()}}function _$(Z,Q,J,$={}){var V;let w=(Z=U5(Z,x8))._getSettings(),q=`${Q}:${J}`;if(w.host!=="firestore.googleapis.com"&&w.host!==q&&b8("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),Z._setSettings(Object.assign(Object.assign({},w),{host:q,ssl:!1})),$.mockUserToken){let h,j;if(typeof $.mockUserToken=="string")h=$.mockUserToken,j=F0.MOCK_USER;else{h=YZ($.mockUserToken,(V=Z._app)===null||V===void 0?void 0:V.options.projectId);let R=$.mockUserToken.sub||$.mockUserToken.user_id;if(!R)throw new C(p.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");j=new F0(R)}Z._authCredentials=new f7(new l4(h,j))}}class t4{constructor(Z,Q,J){this.converter=Q,this._query=J,this.type="query",this.firestore=Z}withConverter(Z){return new t4(this.firestore,Z,this._query)}}class J1{constructor(Z,Q,J){this.converter=Q,this._key=J,this.type="document",this.firestore=Z}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new j1(this.firestore,this.converter,this._key.path.popLast())}withConverter(Z){return new J1(this.firestore,Z,this._key)}}class j1 extends t4{constructor(Z,Q,J){super(Z,Q,PX(J)),this._path=J,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let Z=this._path.popLast();return Z.isEmpty()?null:new J1(this.firestore,null,new m(Z))}withConverter(Z){return new j1(this.firestore,Z,this._path)}}function d4(Z,Q,...J){if(Z=D1(Z),z5("collection","path",Q),Z instanceof x8){let $=V0.fromString(Q,...J);return y7($),new j1(Z,null,$)}{if(!(Z instanceof J1||Z instanceof j1))throw new C(p.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let $=Z._path.child(V0.fromString(Q,...J));return y7($),new j1(Z.firestore,null,$)}}function P$(Z,Q,...J){if(Z=D1(Z),arguments.length===1&&(Q=p4.newId()),z5("doc","path",Q),Z instanceof x8){let $=V0.fromString(Q,...J);return N7($),new J1(Z,null,new m($))}{if(!(Z instanceof J1||Z instanceof j1))throw new C(p.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let $=Z._path.child(V0.fromString(Q,...J));return N7($),new J1(Z.firestore,Z instanceof j1?Z.converter:null,new m($))}}class w5{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new D4(this,"async_queue_retry"),this.Eu=()=>{let Q=F4();Q&&i("AsyncQueue","Visibility state changed to "+Q.visibilityState),this.t_.jo()};let Z=F4();Z&&typeof Z.addEventListener=="function"&&Z.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(Z){this.enqueue(Z)}enqueueAndForgetEvenWhileRestricted(Z){this.du(),this.Au(Z)}enterRestrictedMode(Z){if(!this.cu){this.cu=!0,this.Iu=Z||!1;let Q=F4();Q&&typeof Q.removeEventListener=="function"&&Q.removeEventListener("visibilitychange",this.Eu)}}enqueue(Z){if(this.du(),this.cu)return new Promise(()=>{});let Q=new F1;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(Z().then(Q.resolve,Q.reject),Q.promise)).then(()=>Q.promise)}enqueueRetryable(Z){this.enqueueAndForget(()=>(this.uu.push(Z),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(Z){if(!o8(Z))throw Z;i("AsyncQueue","Operation failed with retryable error: "+Z)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(Z){let Q=this.au.then(()=>(this.Pu=!0,Z().catch((J)=>{this.hu=J,this.Pu=!1;let $=function V(w){let q=w.message||"";return w.stack&&(q=w.stack.includes(w.message)?w.stack:w.message+`
`+w.stack),q}(J);throw A1("INTERNAL UNHANDLED ERROR: ",$),J}).then((J)=>(this.Pu=!1,J))));return this.au=Q,Q}enqueueAfterDelay(Z,Q,J){this.du(),this.Tu.indexOf(Z)>-1&&(Q=0);let $=b4.createAndSchedule(this,Z,Q,J,(V)=>this.Vu(V));return this.lu.push($),$}du(){this.hu&&s()}verifyOperationInProgress(){}async mu(){let Z;do Z=this.au,await Z;while(Z!==this.au)}fu(Z){for(let Q of this.lu)if(Q.timerId===Z)return!0;return!1}gu(Z){return this.mu().then(()=>{this.lu.sort((Q,J)=>Q.targetTimeMs-J.targetTimeMs);for(let Q of this.lu)if(Q.skipDelay(),Z!=="all"&&Q.timerId===Z)break;return this.mu()})}pu(Z){this.Tu.push(Z)}Vu(Z){let Q=this.lu.indexOf(Z);this.lu.splice(Q,1)}}class E4 extends x8{constructor(Z,Q,J,$){super(Z,Q,J,$),this.type="firestore",this._queue=function V(){return new w5}(),this._persistenceKey=($==null?void 0:$.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||x5(this),this._firestoreClient.terminate()}}function W5(Z,Q){let J=typeof Z=="object"?Z:dZ(),$=typeof Z=="string"?Z:Q||"(default)",V=bZ(J,"firestore").getImmediate({identifier:$});if(!V._initialized){let w=HZ("firestore");w&&_$(V,...w)}return V}function M$(Z){return Z._firestoreClient||x5(Z),Z._firestoreClient.verifyNotTerminated(),Z._firestoreClient}function x5(Z){var Q,J,$;let V=Z._freezeSettings(),w=function q(h,j,R,f){return new u7(h,j,R,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,V5(f.experimentalLongPollingOptions),f.useFetchStreams)}(Z._databaseId,((Q=Z._app)===null||Q===void 0?void 0:Q.options.appId)||"",Z._persistenceKey,V);Z._firestoreClient=new $5(Z._authCredentials,Z._appCheckCredentials,Z._queue,w),((J=V.localCache)===null||J===void 0?void 0:J._offlineComponentProvider)&&(($=V.localCache)===null||$===void 0?void 0:$._onlineComponentProvider)&&(Z._firestoreClient._uninitializedComponentsProvider={_offlineKind:V.localCache.kind,_offline:V.localCache._offlineComponentProvider,_online:V.localCache._onlineComponentProvider})}class X8{constructor(Z){this._byteString=Z}static fromBase64String(Z){try{return new X8(s0.fromBase64String(Z))}catch(Q){throw new C(p.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+Q)}}static fromUint8Array(Z){return new X8(s0.fromUint8Array(Z))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(Z){return this._byteString.isEqual(Z._byteString)}}class o4{constructor(...Z){for(let Q=0;Q<Z.length;++Q)if(Z[Q].length===0)throw new C(p.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new R0(Z)}isEqual(Z){return this._internalPath.isEqual(Z._internalPath)}}class e4{constructor(Z){this._methodName=Z}}class a4{constructor(Z,Q){if(!isFinite(Z)||Z<-90||Z>90)throw new C(p.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+Z);if(!isFinite(Q)||Q<-180||Q>180)throw new C(p.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+Q);this._lat=Z,this._long=Q}get latitude(){return this._lat}get longitude(){return this._long}isEqual(Z){return this._lat===Z._lat&&this._long===Z._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(Z){return o(this._lat,Z._lat)||o(this._long,Z._long)}}class Z9{constructor(Z){this._values=(Z||[]).map((Q)=>Q)}toArray(){return this._values.map((Z)=>Z)}isEqual(Z){return function Q(J,$){if(J.length!==$.length)return!1;for(let V=0;V<J.length;++V)if(J[V]!==$[V])return!1;return!0}(this._values,Z._values)}}var i$=/^__.*__$/;class B5{constructor(Z,Q,J){this.data=Z,this.fieldMask=Q,this.fieldTransforms=J}toMutation(Z,Q){return this.fieldMask!==null?new k1(Z,this.data,this.fieldMask,Q,this.fieldTransforms):new $2(Z,this.data,Q,this.fieldTransforms)}}function q5(Z){switch(Z){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw s()}}class Q9{constructor(Z,Q,J,$,V,w){this.settings=Z,this.databaseId=Q,this.serializer=J,this.ignoreUndefinedProperties=$,V===void 0&&this.yu(),this.fieldTransforms=V||[],this.fieldMask=w||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(Z){return new Q9(Object.assign(Object.assign({},this.settings),Z),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(Z){var Q;let J=(Q=this.path)===null||Q===void 0?void 0:Q.child(Z),$=this.Su({path:J,Du:!1});return $.vu(Z),$}Cu(Z){var Q;let J=(Q=this.path)===null||Q===void 0?void 0:Q.child(Z),$=this.Su({path:J,Du:!1});return $.yu(),$}Fu(Z){return this.Su({path:void 0,Du:!0})}Mu(Z){return E8(Z,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(Z){return this.fieldMask.find((Q)=>Z.isPrefixOf(Q))!==void 0||this.fieldTransforms.find((Q)=>Z.isPrefixOf(Q.field))!==void 0}yu(){if(this.path)for(let Z=0;Z<this.path.length;Z++)this.vu(this.path.get(Z))}vu(Z){if(Z.length===0)throw this.Mu("Document fields must not be empty");if(q5(this.wu)&&i$.test(Z))throw this.Mu('Document fields cannot begin and end with "__"')}}class h5{constructor(Z,Q,J){this.databaseId=Z,this.ignoreUndefinedProperties=Q,this.serializer=J||a8(Z)}Nu(Z,Q,J,$=!1){return new Q9({wu:Z,methodName:Q,Ou:J,path:R0.emptyPath(),Du:!1,xu:$},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function u$(Z){let Q=Z._freezeSettings(),J=a8(Z._databaseId);return new h5(Z._databaseId,!!Q.ignoreUndefinedProperties,J)}function C$(Z,Q,J,$,V,w={}){let q=Z.Nu(w.merge||w.mergeFields?2:0,Q,J,V);G5("Data must be an object, but it was:",q,$);let h=j5($,q),j,R;if(w.merge)j=new C0(q.fieldMask),R=q.fieldTransforms;else if(w.mergeFields){let f=[];for(let Y of w.mergeFields){let K=r$(Q,Y,J);if(!q.contains(K))throw new C(p.INVALID_ARGUMENT,`Field '${K}' is specified in your field mask but missing from your input data.`);g$(f,K)||f.push(K)}j=new C0(f),R=q.fieldTransforms.filter((Y)=>j.covers(Y.field))}else j=null,R=q.fieldTransforms;return new B5(new u0(h),j,R)}function F5(Z,Q){if(R5(Z=D1(Z)))return G5("Unsupported field value:",Q,Z),j5(Z,Q);if(Z instanceof e4)return function J($,V){if(!q5(V.wu))throw V.Mu(`${$._methodName}() can only be used with update() and set()`);if(!V.path)throw V.Mu(`${$._methodName}() is not currently supported inside arrays`);let w=$._toFieldTransform(V);w&&V.fieldTransforms.push(w)}(Z,Q),null;if(Z===void 0&&Q.ignoreUndefinedProperties)return null;if(Q.path&&Q.fieldMask.push(Q.path),Z instanceof Array){if(Q.settings.Du&&Q.wu!==4)throw Q.Mu("Nested arrays are not supported");return function J($,V){let w=[],q=0;for(let h of $){let j=F5(h,V.Fu(q));j==null&&(j={nullValue:"NULL_VALUE"}),w.push(j),q++}return{arrayValue:{values:w}}}(Z,Q)}return function J($,V){if(($=D1($))===null)return{nullValue:"NULL_VALUE"};if(typeof $=="number")return DX(V.serializer,$);if(typeof $=="boolean")return{booleanValue:$};if(typeof $=="string")return{stringValue:$};if($ instanceof Date){let w=B0.fromDate($);return{timestampValue:S4(V.serializer,w)}}if($ instanceof B0){let w=new B0($.seconds,1000*Math.floor($.nanoseconds/1000));return{timestampValue:S4(V.serializer,w)}}if($ instanceof a4)return{geoPointValue:{latitude:$.latitude,longitude:$.longitude}};if($ instanceof X8)return{bytesValue:aX(V.serializer,$._byteString)};if($ instanceof J1){let w=V.databaseId,q=$.firestore._databaseId;if(!q.isEqual(w))throw V.Mu(`Document reference is for database ${q.projectId}/${q.database} but should be for database ${w.projectId}/${w.database}`);return{referenceValue:IQ($.firestore._databaseId||V.databaseId,$._key.path)}}if($ instanceof Z9)return function w(q,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:q.toArray().map((j)=>{if(typeof j!="number")throw h.Mu("VectorValues must only contain numeric values.");return r4(h.serializer,j)})}}}}}}($,V);throw V.Mu(`Unsupported field value: ${c4($)}`)}(Z,Q)}function j5(Z,Q){let J={};return P7(Z)?Q.path&&Q.path.length>0&&Q.fieldMask.push(Q.path):$8(Z,($,V)=>{let w=F5(V,Q.bu($));w!=null&&(J[$]=w)}),{mapValue:{fields:J}}}function R5(Z){return!(typeof Z!="object"||Z===null||Z instanceof Array||Z instanceof Date||Z instanceof B0||Z instanceof a4||Z instanceof X8||Z instanceof J1||Z instanceof e4||Z instanceof Z9)}function G5(Z,Q,J){if(!R5(J)||!function $(V){return typeof V=="object"&&V!==null&&(Object.getPrototypeOf(V)===Object.prototype||Object.getPrototypeOf(V)===null)}(J)){let $=c4(J);throw $==="an object"?Q.Mu(Z+" a custom object"):Q.Mu(Z+" "+$)}}function r$(Z,Q,J){if((Q=D1(Q))instanceof o4)return Q._internalPath;if(typeof Q=="string")return n$(Z,Q);throw E8("Field path arguments must be of type string or ",Z,!1,void 0,J)}var m$=new RegExp("[~\\*/\\[\\]]");function n$(Z,Q,J){if(Q.search(m$)>=0)throw E8(`Invalid field path (${Q}). Paths must not contain '~', '*', '/', '[', or ']'`,Z,!1,void 0,J);try{return new o4(...Q.split("."))._internalPath}catch($){throw E8(`Invalid field path (${Q}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,Z,!1,void 0,J)}}function E8(Z,Q,J,$,V){let w=$&&!$.isEmpty(),q=V!==void 0,h=`Function ${Q}() called with invalid data`;J&&(h+=" (via `toFirestore()`)"),h+=". ";let j="";return(w||q)&&(j+=" (found",w&&(j+=` in field ${$}`),q&&(j+=` in document ${V}`),j+=")"),new C(p.INVALID_ARGUMENT,h+Z+j)}function g$(Z,Q){return Z.some((J)=>J.isEqual(Q))}function s$(Z,Q,J){let $;return $=Z?J&&(J.merge||J.mergeFields)?Z.toFirestore(Q,J):Z.toFirestore(Q):Q,$}function J9(Z,Q){let J=U5(Z.firestore,E4),$=P$(Z),V=s$(Z.converter,Q);return D$(J,[C$(u$(Z.firestore),"addDoc",$._key,V,Z.converter!==null,{}).toMutation($._key,Q1.exists(!1))]).then(()=>$)}function D$(Z,Q){return function J($,V){let w=new F1;return $.asyncQueue.enqueueAndForget(async()=>y$(await T$($),V,w)),w.promise}(M$(Z),Q)}(function Z(Q,J=!0){(function $(V){X2=V})(tZ),r2(new B1("firestore",($,{instanceIdentifier:V,options:w})=>{let q=$.getProvider("app").getImmediate(),h=new E4(new H7($.getProvider("auth-internal")),new p7($.getProvider("app-check-internal")),function j(R,f){if(!Object.prototype.hasOwnProperty.apply(R.options,["projectId"]))throw new C(p.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new t8(R.options.projectId,f)}(q,V),q);return w=Object.assign({useFetchStreams:J},w),h._setSettings(w),h},"PUBLIC").setMultipleInstances(!0)),h1(X7,"4.7.0",Q),h1(X7,"4.7.0","esm2017")})();class X1{static db;static init(){let Z=V4({apiKey:"AIzaSyD6v26BmHUqqngOx7Bu6REP2t5mJNJlhlk",authDomain:"exag-dungeongrams-study.firebaseapp.com",projectId:"exag-dungeongrams-study",storageBucket:"exag-dungeongrams-study.appspot.com",messagingSenderId:"970729390672",appId:"1:970729390672:web:c6231d60bdd477c7dec755",measurementId:"G-VEPF12WK7P"});X1.db=W5(Z)}static submitAttempt(){let Z={diedFrom:r.diedFrom,"stamina-left":r.staminaLeft,time:r.time,won:r.playerWon,order:r.order,playerID:r.playerID,levels:r.levels};if(console.log(Z),r.playerID==="null")console.log("Data not submitted:",Z);else J9(d4(X1.db,`rq2.2_play_${r.director}_${r.version}`),Z)}static submitSurvey(Z){Z.playerID=r.playerID,J9(d4(X1.db,`rq2.2_survey_${r.director}_${r.version}`),Z),console.log("Survey submitted.")}}class X9 extends m1{playerWonIndex=0;playerLostIndex=0;selfIndex=0;mainMenuIndex=0;director;start=0;constructor(){super();this.director=new s6,this.setBB("game over",0),this.setBB("restart",!1)}onEnter(Z){let w=1000,q=0,h=1000,j=0,R=new n1.GridCollisions,f=0,Y=this.director.get(2),P=Y[0].length+4;for(let A=0;A<Y1;++A){let _=[...`--${Y[A]}--`];if(A==0)_[0]="@";else if(A==Y1-1)_[P-1]="O";for(let M=0;M<P;++M){let u=_[M],n=this.addEntity(),d=8+M,q0=7+A;if(w=Math.min(w,d),q=Math.max(q,d),h=Math.min(h,q0),j=Math.max(j,q0),u=="-")continue;this.addComponent(n,new g.Render(u));let p0=new D.Position2d(d,q0);if(this.addComponent(n,p0),R.set(p0,n),u=="O")this.addComponent(n,new g.Portal),this.setBB("portal id",n);else if(u=="@")this.addComponent(n,new g.Player(A0,0)),this.addComponent(n,new g.Movable),this.setBB("player id",n);else if(u=="*")this.addComponent(n,new g.Switch),f+=1;else if(u=="#")this.addComponent(n,new g.Movable),this.addComponent(n,new g.Enemy("Enemy",new D.Position2d(d,q0))),this.addComponent(n,new g.Territory(p0));else if(u=="^")this.addComponent(n,new g.Enemy("Spike",new D.Position2d(d,q0)));else if(u=="/"||u=="\\"||u=="X")this.addComponent(n,new m0);else if(u=="&")this.addComponent(n,new g.Food)}}for(let A=3;A<Z.height/20-1;++A)for(let _=1;_<Z.width/20-1;++_)if(_<w||_>q||A<h||A>j){let M=this.addEntity();this.addComponent(M,new g.Render("X"));let u=new D.Position2d(_,A);if(this.addComponent(M,u),_==w-1||A==h-1||_==q+1||A==j+1)R.set(u,M),this.addComponent(M,new g.Collider)}this.setBB("switch count",f),this.setBB("offset x",8),this.setBB("offset y",7),this.setBB("x mod",20),this.setBB("y mod",20),this.setBB("grid collisions",R),this.setBB("time step",0),this.addSystem(0,new E0.PlayerMovement),this.addSystem(10,new E0.PlayerCollision),this.addSystem(20,new E0.EnemyAI),this.addSystem(90,new E0.PortalSystem),this.addSystem(95,new E0.RenderEnemyTerritory),this.addSystem(100,new E0.RenderSystem),this.addSystem(110,new E0.RenderGameInfo),this.addSystem(900,new E0.UpdatePlayerTurn),r.diedFrom="",r.playerWon=!1,r.levels=this.director.keys,this.start=Date.now()}onExit(Z){let Q=this.getBB("game over"),J=this.getBB("player id"),$=this.getComponents(J).get(H0).furthestColumn;this.director.update(Q===1,$),++r.order,this.clear()}customUpdate(Z){let Q=this.getBB("game over");if(Q===-1||Q===1){let $=(Date.now()-this.start)/1000;return r.time=$,X1.submitAttempt(),Q==1?this.playerWonIndex:this.playerLostIndex}else if(Z.keyDown.has(9))return this.selfIndex;else if(Z.keyDown.has(8))return this.mainMenuIndex;return-1}}class $9 extends T0{sceneIndex=0;timer=0;constructor(){super()}onEnter(Z){this.timer=0}onExit(Z){}update(Z){if(this.timer+=Z.delta,this.timer>2||Z.keyDown.has(12))return this.sceneIndex;else return Z.setFont(40),Z.drawText(360,240,"You lost! :/","red"),-1}}class V9 extends T0{sceneIndex=0;timer=0;constructor(){super()}onEnter(Z){this.timer=0}onExit(Z){}update(Z){if(this.timer+=Z.delta,this.timer>2||Z.keyDown.has(12))return n1.Cookie.set(Z.getBB("level"),"b"),this.sceneIndex;else return Z.setFont(40),Z.drawText(420,240,"You won!","green"),-1}}class z9 extends T0{sceneIndex=0;gameIndex=0;tutorialIndex=0;surveyIndex=0;timer=0;constructor(){super()}onEnter(Z){}onExit(Z){}update(Z){if(Z.keyDown.has(12)){if(Z.keyDown.clear(),W1.get("completed tutorial"))return this.gameIndex;return this.tutorialIndex}else return Z.setFont(40),Z.drawText(360,100,"DungeonGrams"),Z.setFont(20),Z.drawText(385,150,"Press Enter to Start"),Z.drawText(250,200,"& gives you stamina","yellow"),Z.drawText(250,222,"Collect all * to open the portal.","yellow"),Z.drawText(250,244,"Step through the portal O to win!","yellow"),Z.drawText(250,266,"But make sure to avoid the enemies # and traps ^","yellow"),Z.drawText(250,350,"WASD or Arrows to move","green"),Z.drawText(250,375,"Space to do nothing for a turn","green"),Z.drawText(250,400,"R to restart","green"),Z.drawText(250,425,"Q to quit","green"),-1}}class U9 extends m1{gameSceneIndex=0;constructor(){super();this.setBB("x mod",20),this.setBB("y mod",20),this.setBB("turn",0),this.setBB("tutorial over",!1),this.setBB("time step",0);let Z=this.addEntity();this.setBB("player id",Z),this.addComponent(Z,new D.Position2d(25,5)),this.addComponent(Z,new H1),this.addComponent(Z,new H0(A0,0)),this.addComponent(Z,new S0("@"));let Q=this.addEntity();this.addComponent(Q,new D.Position2d(5,20)),this.addComponent(Q,new n0("Press 'A' to move left.")),this.addSystem(0,new A2(Z,Q)),this.addSystem(90,new _2),this.addSystem(100,new p2)}customUpdate(Z){if(this.getBB("tutorial over"))return console.log(this.gameSceneIndex,"done"),this.gameSceneIndex;return-1}onEnter(Z){}onExit(Z){}}class w9 extends T0{constructor(){super()}onEnter(Z){document.getElementById("game").style.display="none",document.getElementById("survey").style.display="block",Z.shutoff()}onExit(Z){}update(Z){return-1}}var P1={Game:X9,PlayerLost:$9,PlayerWon:V9,StartMenu:z9,Tutorial:U9,Survey:w9};var S1=["I liked the look and feel of the game.","The game was not too easy and not too hard to play.","It was easy to know how to perform actions in the game.","The goals of the game were clear to me.","The game gave clear feedback on my progress towards the goals.","I felt free to play the game in my own way.","I wanted to explore how the game evolved.","I was fully focused on the game.","I felt I was good at playing this game.","Playing the game was meaningful to me.","I had a good time playing this game."];function W9(Z){let Q=Z.length-1;for(;Q>0;--Q){let J=Math.floor(Math.random()*(Q+1)),$=Z[Q];Z[Q]=Z[J],Z[J]=$}}X1.init();if(location.hostname==="localhost"||location.hostname==="127.0.0.1"||location.hostname==="")r.playerID="-1";else if(new URLSearchParams(window.location.search).has("id"))r.playerID=crypto.randomUUID();else r.playerID="-1";console.log(`Player ID: ${r.playerID}`);var $1=new l8;$1.displayFPS=!1;var X6=new P1.StartMenu,B8=new P1.Game,I5=new P1.PlayerLost,O5=new P1.PlayerWon,k5=new P1.Tutorial,b$=new P1.Survey,c$=$1.addScene(X6),q8=$1.addScene(B8),t$=$1.addScene(I5),d$=$1.addScene(O5),E$=$1.addScene(k5),o$=$1.addScene(b$);X6.tutorialIndex=E$;X6.gameIndex=q8;X6.surveyIndex=o$;B8.playerLostIndex=t$;B8.playerWonIndex=d$;B8.selfIndex=q8;B8.mainMenuIndex=c$;I5.sceneIndex=q8;O5.sceneIndex=q8;k5.gameSceneIndex=q8;$1.start();W9(S1);W9(S1);var x9=document.getElementById("questionnaire"),M1=0;for(;M1<S1.length;++M1){let Z=S1[M1],Q=Z.split(" ").join("_"),J=`<fieldset id="${Q}">
  <label for="${Q}" required><b>${Z}</b></label>
    <br/>
    <br/>
    <table>
      <tr>
        <td></td>
        <td>-3</td>
        <td>-2</td>
        <td>-1</td>
        <td>&#20;0</td>
        <td>&#20;1</td>
        <td>&#20;2</td>
        <td>&#20;3</td>
        <td></td>
      </tr>
      <tr>
        <td>Strongly disagree</td>
        <td><input type="radio" name="${Q}" value="-3"/></td>
        <td><input type="radio" name="${Q}" value="-2"/></td>
        <td><input type="radio" name="${Q}" value="-1"/></td>
        <td><input type="radio" name="${Q}" value="0"/></td>
        <td><input type="radio" name="${Q}" value="1"/></td>
        <td><input type="radio" name="${Q}" value="2"/></td>
        <td><input type="radio" name="${Q}" value="3"/></td>
        <td>Strongly agree</td>
      </tr>
    </table>
  </fieldset>
  <br/>`;x9.innerHTML+=J}var B9=document.createElement("button");B9.type="submit";B9.innerText="Submit";x9.appendChild(B9);x9.onsubmit=(Z)=>{Z.preventDefault();let Q={};for(M1=0;M1<S1.length;++M1){let J=S1[M1],$=J.split(" ").join("_"),V=document.getElementsByName($),w=!1;for(let q=0;q<7;++q){let h=V[q];if(h.checked){Q[J]=Number(h.value),w=!0;break}}document.getElementById($).style.borderColor=w?"white":"red"}if(Object.keys(Q).length==S1.length)X1.submitSurvey(Q),document.getElementById("survey").style.display="none",document.getElementById("complete").style.display="block";else document.getElementById("errorText").innerText="Please fill in the whole questionnaire. Red boxes indicate missed answers."};document.getElementById("done").onclick=()=>{$1.shutoff(),document.getElementById("game").style.display="none",document.getElementById("survey").style.display="block"};
